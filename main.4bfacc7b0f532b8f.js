(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7423:(yt,U,R)=>{"use strict";R.d(U,{Uw:()=>fe,fo:()=>le});var o=R(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var Y=(()=>{return(ze=Y||(Y={})).Unimplemented="UNIMPLEMENTED",ze.Unavailable="UNAVAILABLE",Y;var ze})();class q extends Error{constructor(Ze,ge,pe){super(Ze),this.message=Ze,this.code=ge,this.data=pe}}const ae=ze=>{var Ze,ge,pe,Se,xe;const Ae=ze.CapacitorCustomPlatform||null,Te=ze.Capacitor||{},Ne=Te.Plugins=Te.Plugins||{},we=ze.CapacitorPlatforms,Ie=(null===(Ze=null==we?void 0:we.currentPlatform)||void 0===Ze?void 0:Ze.getPlatform)||(()=>null!==Ae?Ae.name:(ze=>{var Ze,ge;return null!=ze&&ze.androidBridge?"android":null!==(ge=null===(Ze=null==ze?void 0:ze.webkit)||void 0===Ze?void 0:Ze.messageHandlers)&&void 0!==ge&&ge.bridge?"ios":"web"})(ze)),gt=(null===(ge=null==we?void 0:we.currentPlatform)||void 0===ge?void 0:ge.isNativePlatform)||(()=>"web"!==Ie()),Mt=(null===(pe=null==we?void 0:we.currentPlatform)||void 0===pe?void 0:pe.isPluginAvailable)||(vn=>{const Cn=st.get(vn);return!!(null!=Cn&&Cn.platforms.has(Ie())||En(vn))}),En=(null===(Se=null==we?void 0:we.currentPlatform)||void 0===Se?void 0:Se.getPluginHeader)||(vn=>{var Cn;return null===(Cn=Te.PluginHeaders)||void 0===Cn?void 0:Cn.find(bn=>bn.name===vn)}),st=new Map,$t=(null===(xe=null==we?void 0:we.currentPlatform)||void 0===xe?void 0:xe.registerPlugin)||((vn,Cn={})=>{const bn=st.get(vn);if(bn)return console.warn(`Capacitor plugin "${vn}" already registered. Cannot register plugins twice.`),bn.proxy;const vi=Ie(),yi=En(vn);let Pi;const Ji=function(){var xt=(0,o.Z)(function*(){return!Pi&&vi in Cn?Pi=Pi="function"==typeof Cn[vi]?yield Cn[vi]():Cn[vi]:null!==Ae&&!Pi&&"web"in Cn&&(Pi=Pi="function"==typeof Cn.web?yield Cn.web():Cn.web),Pi});return function(){return xt.apply(this,arguments)}}(),ir=xt=>{let Pt;const nt=(...dn)=>{const en=Ji().then(Lt=>{const at=((xt,Pt)=>{var nt,dn;if(!yi){if(xt)return null===(dn=xt[Pt])||void 0===dn?void 0:dn.bind(xt);throw new q(`"${vn}" plugin is not implemented on ${vi}`,Y.Unimplemented)}{const en=null==yi?void 0:yi.methods.find(Lt=>Pt===Lt.name);if(en)return"promise"===en.rtype?Lt=>Te.nativePromise(vn,Pt.toString(),Lt):(Lt,at)=>Te.nativeCallback(vn,Pt.toString(),Lt,at);if(xt)return null===(nt=xt[Pt])||void 0===nt?void 0:nt.bind(xt)}})(Lt,xt);if(at){const qn=at(...dn);return Pt=null==qn?void 0:qn.remove,qn}throw new q(`"${vn}.${xt}()" is not implemented on ${vi}`,Y.Unimplemented)});return"addListener"===xt&&(en.remove=(0,o.Z)(function*(){return Pt()})),en};return nt.toString=()=>`${xt.toString()}() { [capacitor code] }`,Object.defineProperty(nt,"name",{value:xt,writable:!1,configurable:!1}),nt},Fr=ir("addListener"),Qi=ir("removeListener"),Sn=(xt,Pt)=>{const nt=Fr({eventName:xt},Pt),dn=function(){var Lt=(0,o.Z)(function*(){const at=yield nt;Qi({eventName:xt,callbackId:at},Pt)});return function(){return Lt.apply(this,arguments)}}(),en=new Promise(Lt=>nt.then(()=>Lt({remove:dn})));return en.remove=(0,o.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield dn()}),en},Bn=new Proxy({},{get(xt,Pt){switch(Pt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return yi?Sn:Fr;case"removeListener":return Qi;default:return ir(Pt)}}});return Ne[vn]=Bn,st.set(vn,{name:vn,proxy:Bn,platforms:new Set([...Object.keys(Cn),...yi?[vi]:[]])}),Bn});return Te.convertFileSrc||(Te.convertFileSrc=vn=>vn),Te.getPlatform=Ie,Te.handleError=vn=>ze.console.error(vn),Te.isNativePlatform=gt,Te.isPluginAvailable=Mt,Te.pluginMethodNoop=(vn,Cn,bn)=>Promise.reject(`${bn} does not have an implementation of "${Cn}".`),Te.registerPlugin=$t,Te.Exception=q,Te.DEBUG=!!Te.DEBUG,Te.isLoggingEnabled=!!Te.isLoggingEnabled,Te.platform=Te.getPlatform(),Te.isNative=Te.isNativePlatform(),Te},re=(ze=>ze.Capacitor=ae(ze))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),le=re.registerPlugin;class fe{constructor(Ze){this.listeners={},this.windowListeners={},Ze&&(console.warn(`Capacitor WebPlugin "${Ze.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Ze)}addListener(Ze,ge){var pe=this;this.listeners[Ze]||(this.listeners[Ze]=[]),this.listeners[Ze].push(ge);const xe=this.windowListeners[Ze];xe&&!xe.registered&&this.addWindowListener(xe);const Ae=function(){var Ne=(0,o.Z)(function*(){return pe.removeListener(Ze,ge)});return function(){return Ne.apply(this,arguments)}}(),Te=Promise.resolve({remove:Ae});return Object.defineProperty(Te,"remove",{value:(Ne=(0,o.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Ae()}),function(){return Ne.apply(this,arguments)})}),Te;var Ne}removeAllListeners(){var Ze=this;return(0,o.Z)(function*(){Ze.listeners={};for(const ge in Ze.windowListeners)Ze.removeWindowListener(Ze.windowListeners[ge]);Ze.windowListeners={}})()}notifyListeners(Ze,ge){const pe=this.listeners[Ze];pe&&pe.forEach(Se=>Se(ge))}hasListeners(Ze){return!!this.listeners[Ze].length}registerWindowListener(Ze,ge){this.windowListeners[ge]={registered:!1,windowEventName:Ze,pluginEventName:ge,handler:pe=>{this.notifyListeners(ge,pe)}}}unimplemented(Ze="not implemented"){return new re.Exception(Ze,Y.Unimplemented)}unavailable(Ze="not available"){return new re.Exception(Ze,Y.Unavailable)}removeListener(Ze,ge){var pe=this;return(0,o.Z)(function*(){const Se=pe.listeners[Ze];if(!Se)return;const xe=Se.indexOf(ge);pe.listeners[Ze].splice(xe,1),pe.listeners[Ze].length||pe.removeWindowListener(pe.windowListeners[Ze])})()}addWindowListener(Ze){window.addEventListener(Ze.windowEventName,Ze.handler),Ze.registered=!0}removeWindowListener(Ze){Ze&&(window.removeEventListener(Ze.windowEventName,Ze.handler),Ze.registered=!1)}}const De=ze=>encodeURIComponent(ze).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Be=ze=>ze.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class qe extends fe{getCookies(){return(0,o.Z)(function*(){const Ze=document.cookie,ge={};return Ze.split(";").forEach(pe=>{if(pe.length<=0)return;let[Se,xe]=pe.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");Se=Be(Se).trim(),xe=Be(xe).trim(),ge[Se]=xe}),ge})()}setCookie(Ze){return(0,o.Z)(function*(){try{const ge=De(Ze.key),pe=De(Ze.value),Se=`; expires=${(Ze.expires||"").replace("expires=","")}`,xe=(Ze.path||"/").replace("path=",""),Ae=null!=Ze.url&&Ze.url.length>0?`domain=${Ze.url}`:"";document.cookie=`${ge}=${pe||""}${Se}; path=${xe}; ${Ae};`}catch(ge){return Promise.reject(ge)}})()}deleteCookie(Ze){return(0,o.Z)(function*(){try{document.cookie=`${Ze.key}=; Max-Age=0`}catch(ge){return Promise.reject(ge)}})()}clearCookies(){return(0,o.Z)(function*(){try{const Ze=document.cookie.split(";")||[];for(const ge of Ze)document.cookie=ge.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Ze){return Promise.reject(Ze)}})()}clearAllCookies(){var Ze=this;return(0,o.Z)(function*(){try{yield Ze.clearCookies()}catch(ge){return Promise.reject(ge)}})()}}le("CapacitorCookies",{web:()=>new qe});const mt=function(){var ze=(0,o.Z)(function*(Ze){return new Promise((ge,pe)=>{const Se=new FileReader;Se.onload=()=>{const xe=Se.result;ge(xe.indexOf(",")>=0?xe.split(",")[1]:xe)},Se.onerror=xe=>pe(xe),Se.readAsDataURL(Ze)})});return function(ge){return ze.apply(this,arguments)}}();class Qe extends fe{request(Ze){return(0,o.Z)(function*(){const ge=((ze,Ze={})=>{const ge=Object.assign({method:ze.method||"GET",headers:ze.headers},Ze),Se=((ze={})=>{const Ze=Object.keys(ze);return Object.keys(ze).map(Se=>Se.toLocaleLowerCase()).reduce((Se,xe,Ae)=>(Se[xe]=ze[Ze[Ae]],Se),{})})(ze.headers)["content-type"]||"";if("string"==typeof ze.data)ge.body=ze.data;else if(Se.includes("application/x-www-form-urlencoded")){const xe=new URLSearchParams;for(const[Ae,Te]of Object.entries(ze.data||{}))xe.set(Ae,Te);ge.body=xe.toString()}else if(Se.includes("multipart/form-data")){const xe=new FormData;if(ze.data instanceof FormData)ze.data.forEach((Te,Ne)=>{xe.append(Ne,Te)});else for(const Te of Object.keys(ze.data))xe.append(Te,ze.data[Te]);ge.body=xe;const Ae=new Headers(ge.headers);Ae.delete("content-type"),ge.headers=Ae}else(Se.includes("application/json")||"object"==typeof ze.data)&&(ge.body=JSON.stringify(ze.data));return ge})(Ze,Ze.webFetchExtra),pe=((ze,Ze=!0)=>ze?Object.entries(ze).reduce((pe,Se)=>{const[xe,Ae]=Se;let Te,Ne;return Array.isArray(Ae)?(Ne="",Ae.forEach(we=>{Te=Ze?encodeURIComponent(we):we,Ne+=`${xe}=${Te}&`}),Ne.slice(0,-1)):(Te=Ze?encodeURIComponent(Ae):Ae,Ne=`${xe}=${Te}`),`${pe}&${Ne}`},"").substr(1):null)(Ze.params,Ze.shouldEncodeUrlParams),Se=pe?`${Ze.url}?${pe}`:Ze.url,xe=yield fetch(Se,ge),Ae=xe.headers.get("content-type")||"";let Ne,we,{responseType:Te="text"}=xe.ok?Ze:{};switch(Ae.includes("application/json")&&(Te="json"),Te){case"arraybuffer":case"blob":we=yield xe.blob(),Ne=yield mt(we);break;case"json":Ne=yield xe.json();break;default:Ne=yield xe.text()}const Ve={};return xe.headers.forEach((Ie,Le)=>{Ve[Le]=Ie}),{data:Ne,headers:Ve,status:xe.status,url:xe.url}})()}get(Ze){var ge=this;return(0,o.Z)(function*(){return ge.request(Object.assign(Object.assign({},Ze),{method:"GET"}))})()}post(Ze){var ge=this;return(0,o.Z)(function*(){return ge.request(Object.assign(Object.assign({},Ze),{method:"POST"}))})()}put(Ze){var ge=this;return(0,o.Z)(function*(){return ge.request(Object.assign(Object.assign({},Ze),{method:"PUT"}))})()}patch(Ze){var ge=this;return(0,o.Z)(function*(){return ge.request(Object.assign(Object.assign({},Ze),{method:"PATCH"}))})()}delete(Ze){var ge=this;return(0,o.Z)(function*(){return ge.request(Object.assign(Object.assign({},Ze),{method:"DELETE"}))})()}}le("CapacitorHttp",{web:()=>new Qe})},4556:(yt,U,R)=>{"use strict";R.d(U,{w:()=>Qi,dr:()=>Ti,yp:()=>Zt,YG:()=>gn,Sm:()=>yn,PM:()=>jt,FN:()=>Yn,Zi:()=>ai,tO:()=>ti,Dq:()=>Vi,wI:()=>Nt,W2:()=>dt,IJ:()=>Un,W4:()=>Hn,jY:()=>Ki,Gu:()=>zi,gu:()=>Gi,Xz:()=>Rr,pK:()=>vo,Ie:()=>yr,u8:()=>tr,IK:()=>co,td:()=>to,Q$:()=>Yr,q_:()=>ho,z0:()=>Oi,fG:()=>Ei,zc:()=>di,ki:()=>Qo,X7:()=>We,I_:()=>Rt,nJ:()=>Qt,Wo:()=>rt,jP:()=>Hr,Nd:()=>sn,t9:()=>gr,n0:()=>lr,jI:()=>io,wd:()=>Ue,ho:()=>ot,sr:()=>wt,Pc:()=>N,r4:()=>Xn,IN:()=>Ft,X1:()=>Wt,t4:()=>So,YI:()=>No,QI:()=>xt,j9:()=>Pt});var o=R(8256),y=R(433),K=R(7582),z=R(8421),J=R(9751),X=R(5577),Z=R(1144),Y=R(576),q=R(3268);const ce=["addListener","removeListener"],ae=["addEventListener","removeEventListener"],se=["on","off"];function re(h,I,E,H){if((0,Y.m)(E)&&(H=E,E=void 0),H)return re(h,I,E).pipe((0,q.Z)(H));const[Q,Ye]=function fe(h){return(0,Y.m)(h.addEventListener)&&(0,Y.m)(h.removeEventListener)}(h)?ae.map(Ot=>Bt=>h[Ot](I,Bt,E)):function ke(h){return(0,Y.m)(h.addListener)&&(0,Y.m)(h.removeListener)}(h)?ce.map(le(h,I)):function Ce(h){return(0,Y.m)(h.on)&&(0,Y.m)(h.off)}(h)?se.map(le(h,I)):[];if(!Q&&(0,Z.z)(h))return(0,X.z)(Ot=>re(Ot,I,E))((0,z.Xf)(h));if(!Q)throw new TypeError("Invalid event target");return new J.y(Ot=>{const Bt=(...qt)=>Ot.next(1<qt.length?qt:qt[0]);return Q(Bt),()=>Ye(Bt)})}function le(h,I){return E=>H=>h[E](I,H)}var ve=R(7579),De=R(1135),Be=R(1407),Xe=(R(181),R(6439),R(7838),R(1898),R(5179)),Ke=R(5730),Qe=R(5820),ut=R(1843),Ze=(R(6369),R(3539)),Se=(R(2621),R(4349),R(1308)),Ne=R(9300),we=R(3900),Ve=R(4671),Ie=R(4482),Le=R(5403);function bt(h,I){return h===I}var Mt=R(6895);const En=Xe.i,st=["*"];function Cn(h,I){if(1&h&&(o.TgZ(0,"div",1),o.GkF(1,2),o.qZA()),2&h){const E=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",E.template)}}const vi=h=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(h):"function"==typeof requestAnimationFrame?requestAnimationFrame(h):setTimeout(h),yi=h=>!!h.resolveComponentFactory;let Pi=(()=>{class h{constructor(E,H){this.injector=E,this.el=H,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(E){this.el.nativeElement.value=this.lastValue=null==E?"":E,Ji(this.el)}handleChangeEvent(E,H){E===this.el.nativeElement&&(H!==this.lastValue&&(this.lastValue=H,this.onChange(H)),Ji(this.el))}_handleBlurEvent(E){E===this.el.nativeElement&&(this.onTouched(),Ji(this.el))}registerOnChange(E){this.onChange=E}registerOnTouched(E){this.onTouched=E}setDisabledState(E){this.el.nativeElement.disabled=E}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let E;try{E=this.injector.get(y.a5)}catch(Q){}if(!E)return;E.statusChanges&&(this.statusChanges=E.statusChanges.subscribe(()=>Ji(this.el)));const H=E.control;H&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ye=>{if(typeof H[Ye]<"u"){const Ot=H[Ye].bind(H);H[Ye]=(...Bt)=>{Ot(...Bt),Ji(this.el)}}})}}return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.zs3),o.Y36(o.SBq))},h.\u0275dir=o.lG2({type:h,hostBindings:function(E,H){1&E&&o.NdJ("ionBlur",function(Ye){return H._handleBlurEvent(Ye.target)})}}),h})();const Ji=h=>{vi(()=>{const I=h.nativeElement,E=null!=I.value&&I.value.toString().length>0,H=Or(I);ir(I,H);const Q=I.closest("ion-item");Q&&ir(Q,E?[...H,"item-has-value"]:H)})},Or=h=>{const I=h.classList,E=[];for(let H=0;H<I.length;H++){const Q=I.item(H);null!==Q&&Fr(Q,"ng-")&&E.push(`ion-${Q.substring(3)}`)}return E},ir=(h,I)=>{const E=h.classList;E.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),E.add(...I)},Fr=(h,I)=>h.substring(0,I.length)===I;let Qi=(()=>{class h extends Pi{constructor(E,H){super(E,H)}writeValue(E){this.el.nativeElement.checked=this.lastValue=null!=E&&E,Ji(this.el)}_handleIonChange(E){this.handleChangeEvent(E,E.checked)}}return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.zs3),o.Y36(o.SBq))},h.\u0275dir=o.lG2({type:h,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(E,H){1&E&&o.NdJ("ionChange",function(Ye){return H._handleIonChange(Ye.target)})},features:[o._Bn([{provide:y.JU,useExisting:h,multi:!0}]),o.qOj]}),h})(),xt=(()=>{class h extends Pi{constructor(E,H){super(E,H)}_handleChangeEvent(E){this.handleChangeEvent(E,E.value)}}return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.zs3),o.Y36(o.SBq))},h.\u0275dir=o.lG2({type:h,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(E,H){1&E&&o.NdJ("ionChange",function(Ye){return H._handleChangeEvent(Ye.target)})},features:[o._Bn([{provide:y.JU,useExisting:h,multi:!0}]),o.qOj]}),h})(),Pt=(()=>{class h extends Pi{constructor(E,H){super(E,H)}_handleInputEvent(E){this.handleChangeEvent(E,E.value)}}return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.zs3),o.Y36(o.SBq))},h.\u0275dir=o.lG2({type:h,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(E,H){1&E&&o.NdJ("ionChange",function(Ye){return H._handleInputEvent(Ye.target)})},features:[o._Bn([{provide:y.JU,useExisting:h,multi:!0}]),o.qOj]}),h})();const nt=(h,I)=>{const E=h.prototype;I.forEach(H=>{Object.defineProperty(E,H,{get(){return this.el[H]},set(Q){this.z.runOutsideAngular(()=>this.el[H]=Q)}})})},dn=(h,I)=>{const E=h.prototype;I.forEach(H=>{E[H]=function(){const Q=arguments;return this.z.runOutsideAngular(()=>this.el[H].apply(this.el,Q))}})},en=(h,I,E)=>{E.forEach(H=>h[H]=re(I,H))};function at(h){return function(E){const{defineCustomElementFn:H,inputs:Q,methods:Ye}=h;return void 0!==H&&H(),Q&&nt(E,Q),Ye&&dn(E,Ye),E}}let Ti=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-app"]],ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0})],h),h})(),Zt=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["color","mode"]})],h),h})(),gn=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionFocus","ionBlur"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],h),h})(),yn=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["collapse"]})],h),h})(),jt=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],h),h})(),Yn=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["mode"]})],h),h})(),ai=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],h),h})(),ti=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["color","mode"]})],h),h})(),Vi=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["color","mode"]})],h),h})(),Nt=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],h),h})(),dt=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],h),h})(),Un=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],h),h})(),Hn=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionFocus","ionBlur"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],h),h})(),Ki=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["fixed"]})],h),h})(),zi=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],h),h})(),Gi=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],h),h})(),Rr=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["alt","src"]})],h),h})(),vo=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],h),h})(),yr=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],h),h})(),tr=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],h),h})(),co=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionSwipe"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["side"]})],h),h})(),to=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionDrag"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],h),h})(),Yr=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],h),h})(),ho=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],h),h})(),Oi=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],h),h})(),Ei=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],h),h})(),di=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],h),h})(),We=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["buffer","color","mode","reversed","type","value"]})],h),h})(),Rt=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],h),h})(),Qt=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionRefresh","ionPull","ionStart"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],h),h})(),rt=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],h),h})(),sn=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-row"]],ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0})],h),h})(),gr=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],h),h})(),lr=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["disabled","value"]})],h),h})(),io=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionSplitPaneVisible"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],h),h})(),Ue=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["color","size"]})],h),h})(),ot=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement,en(this,this.el,["ionChange","ionFocus","ionBlur"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],h),h})(),wt=(()=>{let h=class{constructor(E,H,Q){this.z=Q,E.detach(),this.el=H.nativeElement}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:st,decls:1,vars:0,template:function(E,H){1&E&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({defineCustomElementFn:void 0,inputs:["color","mode"]})],h),h})();class Wt{constructor(I={}){this.data=I}get(I){return this.data[I]}}let Gt=(()=>{class h{constructor(E,H){this.zone=E,this.appRef=H}create(E,H,Q,Ye){return new cn(E,H,Q,this.appRef,this.zone,Ye)}}return h.\u0275fac=function(E){return new(E||h)(o.LFG(o.R0b),o.LFG(o.z2F))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})();class cn{constructor(I,E,H,Q,Ye,Ot){this.resolverOrInjector=I,this.injector=E,this.location=H,this.appRef=Q,this.zone=Ye,this.elementReferenceKey=Ot,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(I,E,H,Q){return this.zone.run(()=>new Promise(Ye=>{const Ot=Object.assign({},H);void 0!==this.elementReferenceKey&&(Ot[this.elementReferenceKey]=I),Ye(Fn(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,I,E,Ot,Q))}))}removeViewFromDom(I,E){return this.zone.run(()=>new Promise(H=>{const Q=this.elRefMap.get(E);if(Q){Q.destroy(),this.elRefMap.delete(E);const Ye=this.elEventsMap.get(E);Ye&&(Ye(),this.elEventsMap.delete(E))}H()}))}}const Fn=(h,I,E,H,Q,Ye,Ot,Bt,qt,$n,hi)=>{let Ci;const pi=o.zs3.create({providers:ei($n),parent:E});if(I&&yi(I)){const Jr=I.resolveComponentFactory(qt);Ci=H?H.createComponent(Jr,H.length,pi):Jr.create(pi)}else{if(!H)return null;Ci=H.createComponent(qt,{index:H.indexOf,injector:pi,environmentInjector:I})}const rr=Ci.instance,li=Ci.location.nativeElement;if($n&&Object.assign(rr,$n),hi)for(const Jr of hi)li.classList.add(Jr);const Co=Vn(h,rr,li);return Bt.appendChild(li),H||Q.attachView(Ci.hostView),Ci.changeDetectorRef.reattach(),Ye.set(li,Ci),Ot.set(li,Co),li},Tn=[ut.L,ut.a,ut.b,ut.c,ut.d],Vn=(h,I,E)=>h.run(()=>{const H=Tn.filter(Q=>"function"==typeof I[Q]).map(Q=>{const Ye=Ot=>I[Q](Ot.detail);return E.addEventListener(Q,Ye),()=>E.removeEventListener(Q,Ye)});return()=>H.forEach(Q=>Q())}),wn=new o.OlP("NavParamsToken"),ei=h=>[{provide:wn,useValue:h},{provide:Wt,useFactory:Yi,deps:[wn]}],Yi=h=>new Wt(h),mi=(h,I)=>((h=h.filter(E=>E.stackId!==I.stackId)).push(I),h),sr=(h,I)=>{const E=h.createUrlTree(["."],{relativeTo:I});return h.serializeUrl(E)},wi=(h,I)=>{if(!h)return;const E=br(I);for(let H=0;H<E.length;H++){if(H>=h.length)return E[H];if(E[H]!==h[H])return}},br=h=>h.split("/").map(I=>I.trim()).filter(I=>""!==I),zn=h=>{h&&(h.ref.destroy(),h.unlistenEvents())};class Bi{constructor(I,E,H,Q,Ye,Ot){this.containerEl=E,this.router=H,this.navCtrl=Q,this.zone=Ye,this.location=Ot,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==I?br(I):void 0}createView(I,E){var H;const Q=sr(this.router,E),Ye=null===(H=null==I?void 0:I.location)||void 0===H?void 0:H.nativeElement,Ot=Vn(this.zone,I.instance,Ye);return{id:this.nextId++,stackId:wi(this.tabsPrefix,Q),unlistenEvents:Ot,element:Ye,ref:I,url:Q}}getExistingView(I){const E=sr(this.router,I),H=this.views.find(Q=>Q.url===E);return H&&H.ref.changeDetectorRef.reattach(),H}setActive(I){var E,H;const Q=this.navCtrl.consumeTransition();let{direction:Ye,animation:Ot,animationBuilder:Bt}=Q;const qt=this.activeView,$n=((h,I)=>!I||h.stackId!==I.stackId)(I,qt);$n&&(Ye="back",Ot=void 0);const hi=this.views.slice();let Ci;const pi=this.router;pi.getCurrentNavigation?Ci=pi.getCurrentNavigation():!(null===(E=pi.navigations)||void 0===E)&&E.value&&(Ci=pi.navigations.value),null!==(H=null==Ci?void 0:Ci.extras)&&void 0!==H&&H.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const rr=this.views.includes(I),li=this.insertView(I,Ye);rr||I.ref.changeDetectorRef.detectChanges();const Co=I.animationBuilder;return void 0===Bt&&"back"===Ye&&!$n&&void 0!==Co&&(Bt=Co),qt&&(qt.animationBuilder=Bt),this.zone.runOutsideAngular(()=>this.wait(()=>(qt&&qt.ref.changeDetectorRef.detach(),I.ref.changeDetectorRef.reattach(),this.transition(I,qt,Ot,this.canGoBack(1),!1,Bt).then(()=>Mr(I,li,hi,this.location,this.zone)).then(()=>({enteringView:I,direction:Ye,animation:Ot,tabSwitch:$n})))))}canGoBack(I,E=this.getActiveStackId()){return this.getStack(E).length>I}pop(I,E=this.getActiveStackId()){return this.zone.run(()=>{var H,Q;const Ye=this.getStack(E);if(Ye.length<=I)return Promise.resolve(!1);const Ot=Ye[Ye.length-I-1];let Bt=Ot.url;const qt=Ot.savedData;if(qt){const hi=qt.get("primary");null!==(Q=null===(H=null==hi?void 0:hi.route)||void 0===H?void 0:H._routerState)&&void 0!==Q&&Q.snapshot.url&&(Bt=hi.route._routerState.snapshot.url)}const{animationBuilder:$n}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Bt,Object.assign(Object.assign({},Ot.savedExtras),{animation:$n})).then(()=>!0)})}startBackTransition(){const I=this.activeView;if(I){const E=this.getStack(I.stackId),H=E[E.length-2],Q=H.animationBuilder;return this.wait(()=>this.transition(H,I,"back",this.canGoBack(2),!0,Q))}return Promise.resolve()}endBackTransition(I){I?(this.skipTransition=!0,this.pop(1)):this.activeView&&Gr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(I){const E=this.getStack(I);return E.length>0?E[E.length-1]:void 0}getRootUrl(I){const E=this.getStack(I);return E.length>0?E[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(zn),this.activeView=void 0,this.views=[]}getStack(I){return this.views.filter(E=>E.stackId===I)}insertView(I,E){return this.activeView=I,this.views=((h,I,E)=>"root"===E?mi(h,I):"forward"===E?((h,I)=>(h.indexOf(I)>=0?h=h.filter(H=>H.stackId!==I.stackId||H.id<=I.id):h.push(I),h))(h,I):((h,I)=>h.indexOf(I)>=0?h.filter(H=>H.stackId!==I.stackId||H.id<=I.id):mi(h,I))(h,I))(this.views,I,E),this.views.slice()}transition(I,E,H,Q,Ye,Ot){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(E===I)return Promise.resolve(!1);const Bt=I?I.element:void 0,qt=E?E.element:void 0,$n=this.containerEl;return Bt&&Bt!==qt&&(Bt.classList.add("ion-page"),Bt.classList.add("ion-page-invisible"),Bt.parentElement!==$n&&$n.appendChild(Bt),$n.commit)?$n.commit(Bt,qt,{deepWait:!0,duration:void 0===H?0:void 0,direction:H,showGoBack:Q,progressAnimation:Ye,animationBuilder:Ot}):Promise.resolve(!1)}wait(I){return(0,K.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const E=this.runningTask=I();return E.finally(()=>this.runningTask=void 0),E})}}const Mr=(h,I,E,H,Q)=>"function"==typeof requestAnimationFrame?new Promise(Ye=>{requestAnimationFrame(()=>{Gr(h,I,E,H,Q),Ye()})}):Promise.resolve(),Gr=(h,I,E,H,Q)=>{Q.run(()=>E.filter(Ye=>!I.includes(Ye)).forEach(zn)),I.forEach(Ye=>{const Bt=H.path().split("?")[0].split("#")[0];if(Ye!==h&&Ye.url!==Bt){const qt=Ye.element;qt.setAttribute("aria-hidden","true"),qt.classList.add("ion-page-hidden"),Ye.ref.changeDetectorRef.detach()}})};let vr=(()=>{class h{get(E,H){const Q=lo();return Q?Q.get(E,H):null}getBoolean(E,H){const Q=lo();return!!Q&&Q.getBoolean(E,H)}getNumber(E,H){const Q=lo();return Q?Q.getNumber(E,H):0}}return h.\u0275fac=function(E){return new(E||h)},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const go=new o.OlP("USERCONFIG"),lo=()=>{if(typeof window<"u"){const h=window.Ionic;if(null!=h&&h.config)return h.config}return null};let So=(()=>{class h{constructor(E,H){this.doc=E,this.backButton=new ve.x,this.keyboardDidShow=new ve.x,this.keyboardDidHide=new ve.x,this.pause=new ve.x,this.resume=new ve.x,this.resize=new ve.x,H.run(()=>{var Q;let Ye;this.win=E.defaultView,this.backButton.subscribeWithPriority=function(Ot,Bt){return this.subscribe(qt=>qt.register(Ot,$n=>H.run(()=>Bt($n))))},qr(this.pause,E,"pause"),qr(this.resume,E,"resume"),qr(this.backButton,E,"ionBackButton"),qr(this.resize,this.win,"resize"),qr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),qr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Ot=>{Ye=Ot}),null!==(Q=this.win)&&void 0!==Q&&Q.cordova?E.addEventListener("deviceready",()=>{Ye("cordova")},{once:!0}):Ye("dom")})}is(E){return(0,Xe.a)(this.win,E)}platforms(){return(0,Xe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(E){return eo(this.win.location.href,E)}isLandscape(){return!this.isPortrait()}isPortrait(){var E,H;return null===(H=(E=this.win).matchMedia)||void 0===H?void 0:H.call(E,"(orientation: portrait)").matches}testUserAgent(E){const H=this.win.navigator;return!!(null!=H&&H.userAgent&&H.userAgent.indexOf(E)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return h.\u0275fac=function(E){return new(E||h)(o.LFG(Mt.K0),o.LFG(o.R0b))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const eo=(h,I)=>{I=I.replace(/[[\]\\]/g,"\\$&");const H=new RegExp("[\\?&]"+I+"=([^&#]*)").exec(h);return H?decodeURIComponent(H[1].replace(/\+/g," ")):null},qr=(h,I,E)=>{I&&I.addEventListener(E,H=>{h.next(null!=H?H.detail:void 0)})};let xi=(()=>{class h{constructor(E,H,Q,Ye){this.location=H,this.serializer=Q,this.router=Ye,this.direction=Vr,this.animated=ro,this.guessDirection="forward",this.lastNavId=-1,Ye&&Ye.events.subscribe(Ot=>{if(Ot instanceof Be.OD){const Bt=Ot.restoredState?Ot.restoredState.navigationId:Ot.id;this.guessDirection=Bt<this.lastNavId?"back":"forward",this.guessAnimation=Ot.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Ot.id:Bt}}),E.backButton.subscribeWithPriority(0,Ot=>{this.pop(),Ot()})}navigateForward(E,H={}){return this.setDirection("forward",H.animated,H.animationDirection,H.animation),this.navigate(E,H)}navigateBack(E,H={}){return this.setDirection("back",H.animated,H.animationDirection,H.animation),this.navigate(E,H)}navigateRoot(E,H={}){return this.setDirection("root",H.animated,H.animationDirection,H.animation),this.navigate(E,H)}back(E={animated:!0,animationDirection:"back"}){return this.setDirection("back",E.animated,E.animationDirection,E.animation),this.location.back()}pop(){return(0,K.mG)(this,void 0,void 0,function*(){let E=this.topOutlet;for(;E&&!(yield E.pop());)E=E.parentOutlet})}setDirection(E,H,Q,Ye){this.direction=E,this.animated=yo(E,H,Q),this.animationBuilder=Ye}setTopOutlet(E){this.topOutlet=E}consumeTransition(){let H,E="root";const Q=this.animationBuilder;return"auto"===this.direction?(E=this.guessDirection,H=this.guessAnimation):(H=this.animated,E=this.direction),this.direction=Vr,this.animated=ro,this.animationBuilder=void 0,{direction:E,animation:H,animationBuilder:Q}}navigate(E,H){if(Array.isArray(E))return this.router.navigate(E,H);{const Q=this.serializer.parse(E.toString());return void 0!==H.queryParams&&(Q.queryParams=Object.assign({},H.queryParams)),void 0!==H.fragment&&(Q.fragment=H.fragment),this.router.navigateByUrl(Q,H)}}}return h.\u0275fac=function(E){return new(E||h)(o.LFG(So),o.LFG(Mt.Ye),o.LFG(Be.Hx),o.LFG(Be.F0,8))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const yo=(h,I,E)=>{if(!1!==I){if(void 0!==E)return E;if("forward"===h||"back"===h)return h;if("root"===h&&!0===I)return"forward"}},Vr="auto",ro=void 0;let Hr=(()=>{class h{constructor(E,H,Q,Ye,Ot,Bt,qt,$n,hi,Ci,pi,rr,li){this.parentContexts=E,this.location=H,this.config=Ot,this.navCtrl=Bt,this.componentFactoryResolver=qt,this.parentOutlet=li,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new De.X(null),this.stackEvents=new o.vpe,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.nativeEl=hi.nativeElement,this.name=Q||Be.eC,this.tabsPrefix="true"===Ye?sr(Ci,rr):void 0,this.stackCtrl=new Bi(this.tabsPrefix,this.nativeEl,Ci,Bt,pi,$n),E.onChildOutletCreated(this.name,this)}set animation(E){this.nativeEl.animation=E}set animated(E){this.nativeEl.animated=E}set swipeGesture(E){this._swipeGesture=E,this.nativeEl.swipeHandler=E?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:H=>this.stackCtrl.endBackTransition(H)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const E=this.getContext();null!=E&&E.route&&this.activateWith(E.route,E.resolver||null)}new Promise(E=>(0,Ke.c)(this.nativeEl,E)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(E,H){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const H=this.getContext();this.activatedView.savedData=new Map(H.children.contexts);const Q=this.activatedView.savedData.get("primary");if(Q&&H.route&&(Q.route=Object.assign({},H.route)),this.activatedView.savedExtras={},H.route){const Ye=H.route.snapshot;this.activatedView.savedExtras.queryParams=Ye.queryParams,this.activatedView.savedExtras.fragment=Ye.fragment}}const E=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,H){var Q;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;let Ye,Ot=this.stackCtrl.getExistingView(E);if(Ot){Ye=this.activated=Ot.ref;const Bt=Ot.savedData;Bt&&(this.getContext().children.contexts=Bt),this.updateActivatedRouteProxy(Ye.instance,E)}else{const Bt=E._futureSnapshot;if(null==Bt.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const qt=this.parentContexts.getOrCreateContext(this.name).children,$n=new De.X(null),hi=this.createActivatedRouteProxy($n,E),Ci=new Po(hi,qt,this.location.injector),pi=null!==(Q=Bt.routeConfig.component)&&void 0!==Q?Q:Bt.component;if((H=H||this.componentFactoryResolver)&&yi(H)){const rr=H.resolveComponentFactory(pi);Ye=this.activated=this.location.createComponent(rr,this.location.length,Ci)}else Ye=this.activated=this.location.createComponent(pi,{index:this.location.length,injector:Ci,environmentInjector:null!=H?H:this.environmentInjector});$n.next(Ye.instance),Ot=this.stackCtrl.createView(this.activated,E),this.proxyMap.set(Ye.instance,hi),this.currentActivatedRoute$.next({component:Ye.instance,activatedRoute:E})}this.activatedView=Ot,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Ot).then(Bt=>{this.activateEvents.emit(Ye.instance),this.stackEvents.emit(Bt)})}canGoBack(E=1,H){return this.stackCtrl.canGoBack(E,H)}pop(E=1,H){return this.stackCtrl.pop(E,H)}getLastUrl(E){const H=this.stackCtrl.getLastUrl(E);return H?H.url:void 0}getLastRouteView(E){return this.stackCtrl.getLastUrl(E)}getRootView(E){return this.stackCtrl.getRootUrl(E)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(E,H){const Q=new Be.gz;return Q._futureSnapshot=H._futureSnapshot,Q._routerState=H._routerState,Q.snapshot=H.snapshot,Q.outlet=H.outlet,Q.component=H.component,Q._paramMap=this.proxyObservable(E,"paramMap"),Q._queryParamMap=this.proxyObservable(E,"queryParamMap"),Q.url=this.proxyObservable(E,"url"),Q.params=this.proxyObservable(E,"params"),Q.queryParams=this.proxyObservable(E,"queryParams"),Q.fragment=this.proxyObservable(E,"fragment"),Q.data=this.proxyObservable(E,"data"),Q}proxyObservable(E,H){return E.pipe((0,Ne.h)(Q=>!!Q),(0,we.w)(Q=>this.currentActivatedRoute$.pipe((0,Ne.h)(Ye=>null!==Ye&&Ye.component===Q),(0,we.w)(Ye=>Ye&&Ye.activatedRoute[H]),function gt(h,I=Ve.y){return h=null!=h?h:bt,(0,Ie.e)((E,H)=>{let Q,Ye=!0;E.subscribe((0,Le.x)(H,Ot=>{const Bt=I(Ot);(Ye||!h(Q,Bt))&&(Ye=!1,Q=Bt,H.next(Ot))}))})}())))}updateActivatedRouteProxy(E,H){const Q=this.proxyMap.get(E);if(!Q)throw new Error("Could not find activated route proxy for view");Q._futureSnapshot=H._futureSnapshot,Q._routerState=H._routerState,Q.snapshot=H.snapshot,Q.outlet=H.outlet,Q.component=H.component,this.currentActivatedRoute$.next({component:E,activatedRoute:H})}}return h.\u0275fac=function(E){return new(E||h)(o.Y36(Be.y6),o.Y36(o.s_b),o.$8M("name"),o.$8M("tabs"),o.Y36(vr),o.Y36(xi),o.Y36(o._Vd,8),o.Y36(Mt.Ye),o.Y36(o.SBq),o.Y36(Be.F0),o.Y36(o.R0b),o.Y36(Be.gz),o.Y36(h,12))},h.\u0275dir=o.lG2({type:h,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),h})();class Po{constructor(I,E,H){this.route=I,this.childContexts=E,this.parent=H}get(I,E){return I===Be.gz?this.route:I===Be.y6?this.childContexts:this.parent.get(I,E)}}let No=(()=>{class h{constructor(E,H,Q,Ye,Ot){this.locationStrategy=E,this.navCtrl=H,this.elementRef=Q,this.router=Ye,this.routerLink=Ot,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var E;if(null!==(E=this.routerLink)&&void 0!==E&&E.urlTree){const H=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=H}}onClick(E){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),E.preventDefault()}}return h.\u0275fac=function(E){return new(E||h)(o.Y36(Mt.S$),o.Y36(xi),o.Y36(o.SBq),o.Y36(Be.F0),o.Y36(Be.rH,8))},h.\u0275dir=o.lG2({type:h,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,H){1&E&&o.NdJ("click",function(Ye){return H.onClick(Ye)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[o.TTD]}),h})(),Qo=(()=>{let h=class{constructor(E,H,Q){this.z=Q,this.isCmpOpen=!1,this.el=H.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,E.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,E.detectChanges()}),en(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return h.\u0275fac=function(E){return new(E||h)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},h.\u0275cmp=o.Xpm({type:h,selectors:[["ion-modal"]],contentQueries:function(E,H,Q){if(1&E&&o.Suo(Q,o.Rgc,5),2&E){let Ye;o.iGM(Ye=o.CRH())&&(H.template=Ye.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",swipeToClose:"swipeToClose",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(E,H){1&E&&o.YNc(0,Cn,2,1,"div",0),2&E&&o.Q6J("ngIf",H.isCmpOpen||H.keepContentsMounted)},dependencies:[Mt.O5,Mt.tP],encapsulation:2,changeDetection:0}),h=(0,K.gn)([at({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","swipeToClose","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],h),h})();class Xi{constructor(I){this.ctrl=I}create(I){return this.ctrl.create(I||{})}dismiss(I,E,H){return this.ctrl.dismiss(I,E,H)}getTop(){return this.ctrl.getTop()}}class Et{}let Ft=(()=>{class h extends Xi{constructor(E,H,Q,Ye){super(Ze.m),this.angularDelegate=E,this.resolver=H,this.injector=Q,this.environmentInjector=Ye}create(E){var H;return super.create(Object.assign(Object.assign({},E),{delegate:this.angularDelegate.create(null!==(H=this.resolver)&&void 0!==H?H:this.environmentInjector,this.injector,void 0,"modal")}))}}return h.\u0275fac=function(E){return new(E||h)(o.LFG(Gt),o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(Et,8))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})(),Ht=(()=>{class h extends Xi{constructor(E,H,Q,Ye){super(Ze.c),this.angularDelegate=E,this.resolver=H,this.injector=Q,this.environmentInjector=Ye}create(E){var H;return super.create(Object.assign(Object.assign({},E),{delegate:this.angularDelegate.create(null!==(H=this.resolver)&&void 0!==H?H:this.environmentInjector,this.injector,void 0,"popover")}))}}return h.\u0275fac=function(E){return new(E||h)(o.LFG(Gt),o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(Et,8))},h.\u0275prov=o.Yz7({token:h,factory:h.\u0275fac}),h})();class Xn{shouldDetach(I){return!1}shouldAttach(I){return!1}store(I,E){}retrieve(I){return null}shouldReuseRoute(I,E){if(I.routeConfig!==E.routeConfig)return!1;const H=I.params,Q=E.params,Ye=Object.keys(H),Ot=Object.keys(Q);if(Ye.length!==Ot.length)return!1;for(const Bt of Ye)if(Q[Bt]!==H[Bt])return!1;return!0}}const ye=(h,I,E)=>()=>{if(I.defaultView&&typeof window<"u"){(0,Qe.s)(Object.assign(Object.assign({},h),{_zoneGate:Ye=>E.run(Ye)}));const Q="__zone_symbol__addEventListener"in I.body?"__zone_symbol__addEventListener":"addEventListener";return function un(){var h=[];if(typeof window<"u"){var I=window;(!I.customElements||I.Element&&(!I.Element.prototype.closest||!I.Element.prototype.matches||!I.Element.prototype.remove||!I.Element.prototype.getRootNode))&&h.push(R.e(6748).then(R.t.bind(R,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||I.NodeList&&!I.NodeList.prototype.forEach||!I.fetch||!function(){try{var H=new URL("b","http://a");return H.pathname="c%20d","http://a/c%20d"===H.href&&H.searchParams}catch(Q){return!1}}()||typeof WeakMap>"u")&&h.push(R.e(2214).then(R.t.bind(R,4144,23)))}return Promise.all(h)}().then(()=>((h,I)=>typeof window>"u"?Promise.resolve():(0,Se.p)().then(()=>(En(),(0,Se.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),I))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:vi,jmp:Ye=>E.runOutsideAngular(Ye),ael(Ye,Ot,Bt,qt){Ye[Q](Ot,Bt,qt)},rel(Ye,Ot,Bt,qt){Ye.removeEventListener(Ot,Bt,qt)}}))}};let N=(()=>{class h{static forRoot(E){return{ngModule:h,providers:[{provide:go,useValue:E},{provide:o.ip1,useFactory:ye,multi:!0,deps:[go,Mt.K0,o.R0b]}]}}}return h.\u0275fac=function(E){return new(E||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({providers:[Gt,Ft,Ht],imports:[[Mt.ez]]}),h})()},181:(yt,U,R)=>{"use strict";R.d(U,{c:()=>Ce});var o=R(5730),y=R(2621);let K;const J=fe=>fe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X=fe=>(void 0===K&&(K=void 0===fe.style.animationName&&void 0!==fe.style.webkitAnimationName?"-webkit-":""),K),Z=(fe,ve,De)=>{const Be=ve.startsWith("animation")?X(fe):"";fe.style.setProperty(Be+ve,De)},Y=(fe,ve)=>{const De=ve.startsWith("animation")?X(fe):"";fe.style.removeProperty(De+ve)},ae=[],ke=(fe=[],ve)=>{if(void 0!==ve){const De=Array.isArray(ve)?ve:[ve];return[...fe,...De]}return fe},Ce=fe=>{let ve,De,Be,qe,Oe,mt,ut,Te,Ne,we,Ve,bt,Mt,Me=[],Xe=[],Ke=[],Qe=!1,ze={},Ze=[],ge=[],pe={},Se=0,xe=!1,Ae=!1,Ie=!0,Le=!1,gt=!0,un=!1;const En=fe,tn=[],Ct=[],st=[],nn=[],$t=[],vn=[],Cn=[],bn=[],vi=[],yi=[],Pi="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,Ji="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Pi,ir=()=>yi,xt=(rt,Vt)=>((null!=Vt&&Vt.oneTimeCallback?Ct:tn).push({c:rt,o:Vt}),Mt),nt=()=>{if(Ji)yi.forEach(rt=>{rt.cancel()}),yi.length=0;else{const rt=st.slice();(0,o.r)(()=>{rt.forEach(Vt=>{Y(Vt,"animation-name"),Y(Vt,"animation-duration"),Y(Vt,"animation-timing-function"),Y(Vt,"animation-iteration-count"),Y(Vt,"animation-delay"),Y(Vt,"animation-play-state"),Y(Vt,"animation-fill-mode"),Y(Vt,"animation-direction")})})}},dn=()=>{$t.forEach(rt=>{null!=rt&&rt.parentNode&&rt.parentNode.removeChild(rt)}),$t.length=0},gn=()=>void 0!==Oe?Oe:ut?ut.getFill():"both",yn=()=>void 0!==Ne?Ne:void 0!==mt?mt:ut?ut.getDirection():"normal",jt=()=>xe?"linear":void 0!==Be?Be:ut?ut.getEasing():"linear",Yn=()=>Ae?0:void 0!==we?we:void 0!==De?De:ut?ut.getDuration():0,ai=()=>void 0!==qe?qe:ut?ut.getIterations():1,ti=()=>void 0!==Ve?Ve:void 0!==ve?ve:ut?ut.getDelay():0,Rr=()=>{0!==Se&&(Se--,0===Se&&((()=>{Ei(),bn.forEach(sn=>sn()),vi.forEach(sn=>sn());const rt=Ie?1:0,Vt=Ze,Yt=ge,mn=pe;st.forEach(sn=>{const jn=sn.classList;Vt.forEach(oi=>jn.add(oi)),Yt.forEach(oi=>jn.remove(oi));for(const oi in mn)mn.hasOwnProperty(oi)&&Z(sn,oi,mn[oi])}),tn.forEach(sn=>sn.c(rt,Mt)),Ct.forEach(sn=>sn.c(rt,Mt)),Ct.length=0,gt=!0,Ie&&(Le=!0),Ie=!0})(),ut&&ut.animationFinish()))},Nr=(rt=!0)=>{dn();const Vt=(fe=>(fe.forEach(ve=>{for(const De in ve)if(ve.hasOwnProperty(De)){const Be=ve[De];if("easing"===De)ve["animation-timing-function"]=Be,delete ve[De];else{const qe=J(De);qe!==De&&(ve[qe]=Be,delete ve[De])}}}),fe))(Me);st.forEach(Yt=>{if(Vt.length>0){const mn=((fe=[])=>fe.map(ve=>{const De=ve.offset,Be=[];for(const qe in ve)ve.hasOwnProperty(qe)&&"offset"!==qe&&Be.push(`${qe}: ${ve[qe]};`);return`${100*De}% { ${Be.join(" ")} }`}).join(" "))(Vt);bt=void 0!==fe?fe:(fe=>{let ve=ae.indexOf(fe);return ve<0&&(ve=ae.push(fe)-1),`ion-animation-${ve}`})(mn);const sn=((fe,ve,De)=>{var Be;const qe=(fe=>{const ve=void 0!==fe.getRootNode?fe.getRootNode():fe;return ve.head||ve})(De),Oe=X(De),mt=qe.querySelector("#"+fe);if(mt)return mt;const Me=(null!==(Be=De.ownerDocument)&&void 0!==Be?Be:document).createElement("style");return Me.id=fe,Me.textContent=`@${Oe}keyframes ${fe} { ${ve} } @${Oe}keyframes ${fe}-alt { ${ve} }`,qe.appendChild(Me),Me})(bt,mn,Yt);$t.push(sn),Z(Yt,"animation-duration",`${Yn()}ms`),Z(Yt,"animation-timing-function",jt()),Z(Yt,"animation-delay",`${ti()}ms`),Z(Yt,"animation-fill-mode",gn()),Z(Yt,"animation-direction",yn());const jn=ai()===1/0?"infinite":ai().toString();Z(Yt,"animation-iteration-count",jn),Z(Yt,"animation-play-state","paused"),rt&&Z(Yt,"animation-name",`${sn.id}-alt`),(0,o.r)(()=>{Z(Yt,"animation-name",sn.id||null)})}})},vo=(rt=!0)=>{(()=>{vn.forEach(mn=>mn()),Cn.forEach(mn=>mn());const rt=Xe,Vt=Ke,Yt=ze;st.forEach(mn=>{const sn=mn.classList;rt.forEach(jn=>sn.add(jn)),Vt.forEach(jn=>sn.remove(jn));for(const jn in Yt)Yt.hasOwnProperty(jn)&&Z(mn,jn,Yt[jn])})})(),Me.length>0&&(Ji?(st.forEach(rt=>{const Vt=rt.animate(Me,{id:En,delay:ti(),duration:Yn(),easing:jt(),iterations:ai(),fill:gn(),direction:yn()});Vt.pause(),yi.push(Vt)}),yi.length>0&&(yi[0].onfinish=()=>{Rr()})):Nr(rt)),Qe=!0},yr=rt=>{if(rt=Math.min(Math.max(rt,0),.9999),Ji)yi.forEach(Vt=>{Vt.currentTime=Vt.effect.getComputedTiming().delay+Yn()*rt,Vt.pause()});else{const Vt=`-${Yn()*rt}ms`;st.forEach(Yt=>{Me.length>0&&(Z(Yt,"animation-delay",Vt),Z(Yt,"animation-play-state","paused"))})}},kr=rt=>{yi.forEach(Vt=>{Vt.effect.updateTiming({delay:ti(),duration:Yn(),easing:jt(),iterations:ai(),fill:gn(),direction:yn()})}),void 0!==rt&&yr(rt)},fr=(rt=!0,Vt)=>{(0,o.r)(()=>{st.forEach(Yt=>{Z(Yt,"animation-name",bt||null),Z(Yt,"animation-duration",`${Yn()}ms`),Z(Yt,"animation-timing-function",jt()),Z(Yt,"animation-delay",void 0!==Vt?`-${Vt*Yn()}ms`:`${ti()}ms`),Z(Yt,"animation-fill-mode",gn()||null),Z(Yt,"animation-direction",yn()||null);const mn=ai()===1/0?"infinite":ai().toString();Z(Yt,"animation-iteration-count",mn),rt&&Z(Yt,"animation-name",`${bt}-alt`),(0,o.r)(()=>{Z(Yt,"animation-name",bt||null)})})})},tr=(rt=!1,Vt=!0,Yt)=>(rt&&nn.forEach(mn=>{mn.update(rt,Vt,Yt)}),Ji?kr(Yt):fr(Vt,Yt),Mt),ho=()=>{Qe&&(Ji?yi.forEach(rt=>{rt.pause()}):st.forEach(rt=>{Z(rt,"animation-play-state","paused")}),un=!0)},Oi=()=>{Te=void 0,Rr()},Ei=()=>{Te&&clearTimeout(Te)},We=rt=>new Promise(Vt=>{null!=rt&&rt.sync&&(Ae=!0,xt(()=>Ae=!1,{oneTimeCallback:!0})),Qe||vo(),Le&&(Ji?(yr(0),kr()):fr(),Le=!1),gt&&(Se=nn.length+1,gt=!1),xt(()=>Vt(),{oneTimeCallback:!0}),nn.forEach(Yt=>{Yt.play()}),Ji?(yi.forEach(rt=>{rt.play()}),(0===Me.length||0===st.length)&&Rr()):(()=>{if(Ei(),(0,o.r)(()=>{st.forEach(rt=>{Me.length>0&&Z(rt,"animation-play-state","running")})}),0===Me.length||0===st.length)Rr();else{const rt=ti()||0,Vt=Yn()||0,Yt=ai()||1;isFinite(Yt)&&(Te=setTimeout(Oi,rt+Vt*Yt+100)),((fe,ve)=>{let De;const Be={passive:!0},Oe=mt=>{fe===mt.target&&(De&&De(),Ei(),(0,o.r)(()=>{st.forEach(rt=>{Y(rt,"animation-duration"),Y(rt,"animation-delay"),Y(rt,"animation-play-state")}),(0,o.r)(Rr)}))};fe&&(fe.addEventListener("webkitAnimationEnd",Oe,Be),fe.addEventListener("animationend",Oe,Be),De=()=>{fe.removeEventListener("webkitAnimationEnd",Oe,Be),fe.removeEventListener("animationend",Oe,Be)})})(st[0])}})(),un=!1}),ht=(rt,Vt)=>{const Yt=Me[0];return void 0===Yt||void 0!==Yt.offset&&0!==Yt.offset?Me=[{offset:0,[rt]:Vt},...Me]:Yt[rt]=Vt,Mt};return Mt={parentAnimation:ut,elements:st,childAnimations:nn,id:En,animationFinish:Rr,from:ht,to:(rt,Vt)=>{const Yt=Me[Me.length-1];return void 0===Yt||void 0!==Yt.offset&&1!==Yt.offset?Me=[...Me,{offset:1,[rt]:Vt}]:Yt[rt]=Vt,Mt},fromTo:(rt,Vt,Yt)=>ht(rt,Vt).to(rt,Yt),parent:rt=>(ut=rt,Mt),play:We,pause:()=>(nn.forEach(rt=>{rt.pause()}),ho(),Mt),stop:()=>{nn.forEach(rt=>{rt.stop()}),Qe&&(nt(),Qe=!1),xe=!1,Ae=!1,gt=!0,Ne=void 0,we=void 0,Ve=void 0,Se=0,Le=!1,Ie=!0,un=!1},destroy:rt=>(nn.forEach(Vt=>{Vt.destroy(rt)}),(rt=>{nt(),rt&&dn()})(rt),st.length=0,nn.length=0,Me.length=0,tn.length=0,Ct.length=0,Qe=!1,gt=!0,Mt),keyframes:rt=>{const Vt=Me!==rt;return Me=rt,Vt&&(rt=>{Ji?ir().forEach(Vt=>{if(Vt.effect.setKeyframes)Vt.effect.setKeyframes(rt);else{const Yt=new KeyframeEffect(Vt.effect.target,rt,Vt.effect.getTiming());Vt.effect=Yt}}):Nr()})(Me),Mt},addAnimation:rt=>{if(null!=rt)if(Array.isArray(rt))for(const Vt of rt)Vt.parent(Mt),nn.push(Vt);else rt.parent(Mt),nn.push(rt);return Mt},addElement:rt=>{if(null!=rt)if(1===rt.nodeType)st.push(rt);else if(rt.length>=0)for(let Vt=0;Vt<rt.length;Vt++)st.push(rt[Vt]);else console.error("Invalid addElement value");return Mt},update:tr,fill:rt=>(Oe=rt,tr(!0),Mt),direction:rt=>(mt=rt,tr(!0),Mt),iterations:rt=>(qe=rt,tr(!0),Mt),duration:rt=>(!Ji&&0===rt&&(rt=1),De=rt,tr(!0),Mt),easing:rt=>(Be=rt,tr(!0),Mt),delay:rt=>(ve=rt,tr(!0),Mt),getWebAnimations:ir,getKeyframes:()=>Me,getFill:gn,getDirection:yn,getDelay:ti,getIterations:ai,getEasing:jt,getDuration:Yn,afterAddRead:rt=>(bn.push(rt),Mt),afterAddWrite:rt=>(vi.push(rt),Mt),afterClearStyles:(rt=[])=>{for(const Vt of rt)pe[Vt]="";return Mt},afterStyles:(rt={})=>(pe=rt,Mt),afterRemoveClass:rt=>(ge=ke(ge,rt),Mt),afterAddClass:rt=>(Ze=ke(Ze,rt),Mt),beforeAddRead:rt=>(vn.push(rt),Mt),beforeAddWrite:rt=>(Cn.push(rt),Mt),beforeClearStyles:(rt=[])=>{for(const Vt of rt)ze[Vt]="";return Mt},beforeStyles:(rt={})=>(ze=rt,Mt),beforeRemoveClass:rt=>(Ke=ke(Ke,rt),Mt),beforeAddClass:rt=>(Xe=ke(Xe,rt),Mt),onFinish:xt,isRunning:()=>0!==Se&&!un,progressStart:(rt=!1,Vt)=>(nn.forEach(Yt=>{Yt.progressStart(rt,Vt)}),ho(),xe=rt,Qe||vo(),tr(!1,!0,Vt),Mt),progressStep:rt=>(nn.forEach(Vt=>{Vt.progressStep(rt)}),yr(rt),Mt),progressEnd:(rt,Vt,Yt)=>(xe=!1,nn.forEach(mn=>{mn.progressEnd(rt,Vt,Yt)}),void 0!==Yt&&(we=Yt),Le=!1,Ie=!0,0===rt?(Ne="reverse"===yn()?"normal":"reverse","reverse"===Ne&&(Ie=!1),Ji?(tr(),yr(1-Vt)):(Ve=(1-Vt)*Yn()*-1,tr(!1,!1))):1===rt&&(Ji?(tr(),yr(Vt)):(Ve=Vt*Yn()*-1,tr(!1,!1))),void 0!==rt&&(xt(()=>{we=void 0,Ne=void 0,Ve=void 0},{oneTimeCallback:!0}),ut||We()),Mt)}}},5820:(yt,U,R)=>{"use strict";R.d(U,{E:()=>ce,a:()=>o,s:()=>Y});const o=ae=>{try{if(ae instanceof Z)return ae.value;if(!z()||"string"!=typeof ae||""===ae)return ae;if(ae.includes("onload="))return"";const se=document.createDocumentFragment(),re=document.createElement("div");se.appendChild(re),re.innerHTML=ae,X.forEach(fe=>{const ve=se.querySelectorAll(fe);for(let De=ve.length-1;De>=0;De--){const Be=ve[De];Be.parentNode?Be.parentNode.removeChild(Be):se.removeChild(Be);const qe=K(Be);for(let Oe=0;Oe<qe.length;Oe++)y(qe[Oe])}});const le=K(se);for(let fe=0;fe<le.length;fe++)y(le[fe]);const ke=document.createElement("div");ke.appendChild(se);const Ce=ke.querySelector("div");return null!==Ce?Ce.innerHTML:ke.innerHTML}catch(se){return console.error(se),""}},y=ae=>{if(ae.nodeType&&1!==ae.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ae.attributes instanceof NamedNodeMap))return void ae.remove();for(let re=ae.attributes.length-1;re>=0;re--){const le=ae.attributes.item(re),ke=le.name;if(!J.includes(ke.toLowerCase())){ae.removeAttribute(ke);continue}const Ce=le.value,fe=ae[ke];(null!=Ce&&Ce.toLowerCase().includes("javascript:")||null!=fe&&fe.toLowerCase().includes("javascript:"))&&ae.removeAttribute(ke)}const se=K(ae);for(let re=0;re<se.length;re++)y(se[re])},K=ae=>null!=ae.children?ae.children:ae.childNodes,z=()=>{var ae;const se=window,re=null===(ae=null==se?void 0:se.Ionic)||void 0===ae?void 0:ae.config;return!re||(re.get?re.get("sanitizerEnabled",!0):!0===re.sanitizerEnabled||void 0===re.sanitizerEnabled)},J=["class","id","href","src","name","slot"],X=["script","style","iframe","meta","link","object","embed"];class Z{constructor(se){this.value=se}}const Y=ae=>{const se=window,re=se.Ionic;if(!re||!re.config||"Object"===re.config.constructor.name)return se.Ionic=se.Ionic||{},se.Ionic.config=Object.assign(Object.assign({},se.Ionic.config),ae),se.Ionic.config},ce=!0},4349:(yt,U,R)=>{"use strict";R.d(U,{G:()=>J});class y{constructor(Z,Y,q,ce,ae){this.id=Y,this.name=q,this.disableScroll=ae,this.priority=1e6*ce+Y,this.ctrl=Z}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Z=this.ctrl.capture(this.name,this.id,this.priority);return Z&&this.disableScroll&&this.ctrl.disableScroll(this.id),Z}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class K{constructor(Z,Y,q,ce){this.id=Y,this.disable=q,this.disableScroll=ce,this.ctrl=Z}block(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.disableGesture(Z,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.enableGesture(Z,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const z="backdrop-no-scroll",J=new class o{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Z){var Y;return new y(this,this.newID(),Z.name,null!==(Y=Z.priority)&&void 0!==Y?Y:0,!!Z.disableScroll)}createBlocker(Z={}){return new K(this,this.newID(),Z.disable,!!Z.disableScroll)}start(Z,Y,q){return this.canStart(Z)?(this.requestedStart.set(Y,q),!0):(this.requestedStart.delete(Y),!1)}capture(Z,Y,q){if(!this.start(Z,Y,q))return!1;const ce=this.requestedStart;let ae=-1e4;if(ce.forEach(se=>{ae=Math.max(ae,se)}),ae===q){this.capturedId=Y,ce.clear();const se=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Z}});return document.dispatchEvent(se),!0}return ce.delete(Y),!1}release(Z){this.requestedStart.delete(Z),this.capturedId===Z&&(this.capturedId=void 0)}disableGesture(Z,Y){let q=this.disabledGestures.get(Z);void 0===q&&(q=new Set,this.disabledGestures.set(Z,q)),q.add(Y)}enableGesture(Z,Y){const q=this.disabledGestures.get(Z);void 0!==q&&q.delete(Y)}disableScroll(Z){this.disabledScroll.add(Z),1===this.disabledScroll.size&&document.body.classList.add(z)}enableScroll(Z){this.disabledScroll.delete(Z),0===this.disabledScroll.size&&document.body.classList.remove(z)}canStart(Z){return!(void 0!==this.capturedId||this.isDisabled(Z))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Z){const Y=this.disabledGestures.get(Z);return!!(Y&&Y.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(yt,U,R)=>{"use strict";R.r(U),R.d(U,{MENU_BACK_BUTTON_PRIORITY:()=>J,OVERLAY_BACK_BUTTON_PRIORITY:()=>z,blockHardwareBackButton:()=>y,startHardwareBackButton:()=>K});var o=R(5861);const y=()=>{document.addEventListener("backbutton",()=>{})},K=()=>{const X=document;let Z=!1;X.addEventListener("backbutton",()=>{if(Z)return;let Y=0,q=[];const ce=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(re,le){q.push({priority:re,handler:le,id:Y++})}}});X.dispatchEvent(ce);const ae=function(){var re=(0,o.Z)(function*(le){try{if(null!=le&&le.handler){const ke=le.handler(se);null!=ke&&(yield ke)}}catch(ke){console.error(ke)}});return function(ke){return re.apply(this,arguments)}}(),se=()=>{if(q.length>0){let re={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};q.forEach(le=>{le.priority>=re.priority&&(re=le)}),Z=!0,q=q.filter(le=>le.id!==re.id),ae(re).then(()=>Z=!1)}};se()})},z=100,J=99},5730:(yt,U,R)=>{"use strict";R.d(U,{a:()=>Z,b:()=>Y,c:()=>K,d:()=>le,e:()=>ke,f:()=>re,g:()=>q,h:()=>qe,i:()=>X,j:()=>z,k:()=>se,l:()=>Ce,m:()=>ae,n:()=>fe,o:()=>Be,p:()=>De,q:()=>Oe,r:()=>ce,s:()=>mt,t:()=>o,u:()=>ve});const o=(Me,Xe=0)=>new Promise(Ke=>{y(Me,Xe,Ke)}),y=(Me,Xe=0,Ke)=>{let Qe,ut;const ze={passive:!0},ge=()=>{Qe&&Qe()},pe=Se=>{(void 0===Se||Me===Se.target)&&(ge(),Ke(Se))};return Me&&(Me.addEventListener("webkitTransitionEnd",pe,ze),Me.addEventListener("transitionend",pe,ze),ut=setTimeout(pe,Xe+500),Qe=()=>{ut&&(clearTimeout(ut),ut=void 0),Me.removeEventListener("webkitTransitionEnd",pe,ze),Me.removeEventListener("transitionend",pe,ze)}),ge},K=(Me,Xe)=>{Me.componentOnReady?Me.componentOnReady().then(Ke=>Xe(Ke)):ce(()=>Xe(Me))},z=(Me,Xe=[])=>{const Ke={};return Xe.forEach(Qe=>{Me.hasAttribute(Qe)&&(null!==Me.getAttribute(Qe)&&(Ke[Qe]=Me.getAttribute(Qe)),Me.removeAttribute(Qe))}),Ke},J=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],X=(Me,Xe)=>{let Ke=J;return Xe&&Xe.length>0&&(Ke=Ke.filter(Qe=>!Xe.includes(Qe))),z(Me,Ke)},Z=(Me,Xe,Ke,Qe)=>{var ut;if(typeof window<"u"){const ze=window,Ze=null===(ut=null==ze?void 0:ze.Ionic)||void 0===ut?void 0:ut.config;if(Ze){const ge=Ze.get("_ael");if(ge)return ge(Me,Xe,Ke,Qe);if(Ze._ael)return Ze._ael(Me,Xe,Ke,Qe)}}return Me.addEventListener(Xe,Ke,Qe)},Y=(Me,Xe,Ke,Qe)=>{var ut;if(typeof window<"u"){const ze=window,Ze=null===(ut=null==ze?void 0:ze.Ionic)||void 0===ut?void 0:ut.config;if(Ze){const ge=Ze.get("_rel");if(ge)return ge(Me,Xe,Ke,Qe);if(Ze._rel)return Ze._rel(Me,Xe,Ke,Qe)}}return Me.removeEventListener(Xe,Ke,Qe)},q=(Me,Xe=Me)=>Me.shadowRoot||Xe,ce=Me=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Me):"function"==typeof requestAnimationFrame?requestAnimationFrame(Me):setTimeout(Me),ae=Me=>!!Me.shadowRoot&&!!Me.attachShadow,se=Me=>{const Xe=Me.closest("ion-item");return Xe?Xe.querySelector("ion-label"):null},re=Me=>{if(Me.focus(),Me.classList.contains("ion-focusable")){const Xe=Me.closest("ion-app");Xe&&Xe.setFocus([Me])}},le=(Me,Xe)=>{let Ke;const Qe=Me.getAttribute("aria-labelledby"),ut=Me.id;let ze=null!==Qe&&""!==Qe.trim()?Qe:Xe+"-lbl",Ze=null!==Qe&&""!==Qe.trim()?document.getElementById(Qe):se(Me);return Ze?(null===Qe&&(Ze.id=ze),Ke=Ze.textContent,Ze.setAttribute("aria-hidden","true")):""!==ut.trim()&&(Ze=document.querySelector(`label[for="${ut}"]`),Ze&&(""!==Ze.id?ze=Ze.id:Ze.id=ze=`${ut}-lbl`,Ke=Ze.textContent)),{label:Ze,labelId:ze,labelText:Ke}},ke=(Me,Xe,Ke,Qe,ut)=>{if(Me||ae(Xe)){let ze=Xe.querySelector("input.aux-input");ze||(ze=Xe.ownerDocument.createElement("input"),ze.type="hidden",ze.classList.add("aux-input"),Xe.appendChild(ze)),ze.disabled=ut,ze.name=Ke,ze.value=Qe||""}},Ce=(Me,Xe,Ke)=>Math.max(Me,Math.min(Xe,Ke)),fe=(Me,Xe)=>{if(!Me){const Ke="ASSERT: "+Xe;throw console.error(Ke),new Error(Ke)}},ve=Me=>Me.timeStamp||Date.now(),De=Me=>{if(Me){const Xe=Me.changedTouches;if(Xe&&Xe.length>0){const Ke=Xe[0];return{x:Ke.clientX,y:Ke.clientY}}if(void 0!==Me.pageX)return{x:Me.pageX,y:Me.pageY}}return{x:0,y:0}},Be=Me=>{const Xe="rtl"===document.dir;switch(Me){case"start":return Xe;case"end":return!Xe;default:throw new Error(`"${Me}" is not a valid value for [side]. Use "start" or "end" instead.`)}},qe=(Me,Xe)=>{const Ke=Me._original||Me;return{_original:Me,emit:Oe(Ke.emit.bind(Ke),Xe)}},Oe=(Me,Xe=0)=>{let Ke;return(...Qe)=>{clearTimeout(Ke),Ke=setTimeout(Me,Xe,...Qe)}},mt=(Me,Xe)=>{if(null!=Me||(Me={}),null!=Xe||(Xe={}),Me===Xe)return!0;const Ke=Object.keys(Me);if(Ke.length!==Object.keys(Xe).length)return!1;for(const Qe of Ke)if(!(Qe in Xe)||Me[Qe]!==Xe[Qe])return!1;return!0}},1843:(yt,U,R)=>{"use strict";R.d(U,{L:()=>z,a:()=>J,b:()=>X,c:()=>Z,d:()=>Y,e:()=>Xe,g:()=>ut,l:()=>mt,s:()=>Ke,t:()=>ae});var o=R(5861),y=R(1308),K=R(5730);const z="ionViewWillEnter",J="ionViewDidEnter",X="ionViewWillLeave",Z="ionViewDidLeave",Y="ionViewWillUnload",ae=ze=>new Promise((Ze,ge)=>{(0,y.c)(()=>{se(ze),re(ze).then(pe=>{pe.animation&&pe.animation.destroy(),le(ze),Ze(pe)},pe=>{le(ze),ge(pe)})})}),se=ze=>{const Ze=ze.enteringEl,ge=ze.leavingEl;Qe(Ze,ge,ze.direction),ze.showGoBack?Ze.classList.add("can-go-back"):Ze.classList.remove("can-go-back"),Ke(Ze,!1),Ze.style.setProperty("pointer-events","none"),ge&&(Ke(ge,!1),ge.style.setProperty("pointer-events","none"))},re=function(){var ze=(0,o.Z)(function*(Ze){const ge=yield ke(Ze);return ge&&y.B.isBrowser?Ce(ge,Ze):fe(Ze)});return function(ge){return ze.apply(this,arguments)}}(),le=ze=>{const Ze=ze.enteringEl,ge=ze.leavingEl;Ze.classList.remove("ion-page-invisible"),Ze.style.removeProperty("pointer-events"),void 0!==ge&&(ge.classList.remove("ion-page-invisible"),ge.style.removeProperty("pointer-events"))},ke=function(){var ze=(0,o.Z)(function*(Ze){return Ze.leavingEl&&Ze.animated&&0!==Ze.duration?Ze.animationBuilder?Ze.animationBuilder:"ios"===Ze.mode?(yield Promise.resolve().then(R.bind(R,6439))).iosTransitionAnimation:(yield Promise.resolve().then(R.bind(R,7838))).mdTransitionAnimation:void 0});return function(ge){return ze.apply(this,arguments)}}(),Ce=function(){var ze=(0,o.Z)(function*(Ze,ge){yield ve(ge,!0);const pe=Ze(ge.baseEl,ge);qe(ge.enteringEl,ge.leavingEl);const Se=yield Be(pe,ge);return ge.progressCallback&&ge.progressCallback(void 0),Se&&Oe(ge.enteringEl,ge.leavingEl),{hasCompleted:Se,animation:pe}});return function(ge,pe){return ze.apply(this,arguments)}}(),fe=function(){var ze=(0,o.Z)(function*(Ze){const ge=Ze.enteringEl,pe=Ze.leavingEl;return yield ve(Ze,!1),qe(ge,pe),Oe(ge,pe),{hasCompleted:!0}});return function(ge){return ze.apply(this,arguments)}}(),ve=function(){var ze=(0,o.Z)(function*(Ze,ge){const Se=(void 0!==Ze.deepWait?Ze.deepWait:ge)?[Xe(Ze.enteringEl),Xe(Ze.leavingEl)]:[Me(Ze.enteringEl),Me(Ze.leavingEl)];yield Promise.all(Se),yield De(Ze.viewIsReady,Ze.enteringEl)});return function(ge,pe){return ze.apply(this,arguments)}}(),De=function(){var ze=(0,o.Z)(function*(Ze,ge){Ze&&(yield Ze(ge))});return function(ge,pe){return ze.apply(this,arguments)}}(),Be=(ze,Ze)=>{const ge=Ze.progressCallback,pe=new Promise(Se=>{ze.onFinish(xe=>Se(1===xe))});return ge?(ze.progressStart(!0),ge(ze)):ze.play(),pe},qe=(ze,Ze)=>{mt(Ze,X),mt(ze,z)},Oe=(ze,Ze)=>{mt(ze,J),mt(Ze,Z)},mt=(ze,Ze)=>{if(ze){const ge=new CustomEvent(Ze,{bubbles:!1,cancelable:!1});ze.dispatchEvent(ge)}},Me=ze=>ze?new Promise(Ze=>(0,K.c)(ze,Ze)):Promise.resolve(),Xe=function(){var ze=(0,o.Z)(function*(Ze){const ge=Ze;if(ge){if(null!=ge.componentOnReady){if(null!=(yield ge.componentOnReady()))return}else if(null!=ge.__registerHost)return void(yield new Promise(Se=>(0,K.r)(Se)));yield Promise.all(Array.from(ge.children).map(Xe))}});return function(ge){return ze.apply(this,arguments)}}(),Ke=(ze,Ze)=>{Ze?(ze.setAttribute("aria-hidden","true"),ze.classList.add("ion-page-hidden")):(ze.hidden=!1,ze.removeAttribute("aria-hidden"),ze.classList.remove("ion-page-hidden"))},Qe=(ze,Ze,ge)=>{void 0!==ze&&(ze.style.zIndex="back"===ge?"99":"101"),void 0!==Ze&&(Ze.style.zIndex="100")},ut=ze=>ze.classList.contains("ion-page")?ze:ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ze},6369:(yt,U,R)=>{"use strict";R.d(U,{m:()=>ae});var o=R(5861),y=R(7593),K=R(5730),z=R(5179),J=R(181);const X=se=>(0,J.c)().duration(se?400:300),Z=se=>{let re,le;const ke=se.width+8,Ce=(0,J.c)(),fe=(0,J.c)();se.isEndSide?(re=ke+"px",le="0px"):(re=-ke+"px",le="0px"),Ce.addElement(se.menuInnerEl).fromTo("transform",`translateX(${re})`,`translateX(${le})`);const De="ios"===(0,z.b)(se),Be=De?.2:.25;return fe.addElement(se.backdropEl).fromTo("opacity",.01,Be),X(De).addAnimation([Ce,fe])},Y=se=>{let re,le;const ke=(0,z.b)(se),Ce=se.width;se.isEndSide?(re=-Ce+"px",le=Ce+"px"):(re=Ce+"px",le=-Ce+"px");const fe=(0,J.c)().addElement(se.menuInnerEl).fromTo("transform",`translateX(${le})`,"translateX(0px)"),ve=(0,J.c)().addElement(se.contentEl).fromTo("transform","translateX(0px)",`translateX(${re})`),De=(0,J.c)().addElement(se.backdropEl).fromTo("opacity",.01,.32);return X("ios"===ke).addAnimation([fe,ve,De])},q=se=>{const re=(0,z.b)(se),le=se.width*(se.isEndSide?-1:1)+"px",ke=(0,J.c)().addElement(se.contentEl).fromTo("transform","translateX(0px)",`translateX(${le})`);return X("ios"===re).addAnimation(ke)},ae=(()=>{const se=new Map,re=[],le=function(){var Te=(0,o.Z)(function*(Ne){const we=yield qe(Ne);return!!we&&we.open()});return function(we){return Te.apply(this,arguments)}}(),ke=function(){var Te=(0,o.Z)(function*(Ne){const we=yield void 0!==Ne?qe(Ne):Oe();return void 0!==we&&we.close()});return function(we){return Te.apply(this,arguments)}}(),Ce=function(){var Te=(0,o.Z)(function*(Ne){const we=yield qe(Ne);return!!we&&we.toggle()});return function(we){return Te.apply(this,arguments)}}(),fe=function(){var Te=(0,o.Z)(function*(Ne,we){const Ve=yield qe(we);return Ve&&(Ve.disabled=!Ne),Ve});return function(we,Ve){return Te.apply(this,arguments)}}(),ve=function(){var Te=(0,o.Z)(function*(Ne,we){const Ve=yield qe(we);return Ve&&(Ve.swipeGesture=Ne),Ve});return function(we,Ve){return Te.apply(this,arguments)}}(),De=function(){var Te=(0,o.Z)(function*(Ne){if(null!=Ne){const we=yield qe(Ne);return void 0!==we&&we.isOpen()}return void 0!==(yield Oe())});return function(we){return Te.apply(this,arguments)}}(),Be=function(){var Te=(0,o.Z)(function*(Ne){const we=yield qe(Ne);return!!we&&!we.disabled});return function(we){return Te.apply(this,arguments)}}(),qe=function(){var Te=(0,o.Z)(function*(Ne){return yield Ae(),"start"===Ne||"end"===Ne?xe(Ie=>Ie.side===Ne&&!Ie.disabled)||xe(Ie=>Ie.side===Ne):null!=Ne?xe(Ve=>Ve.menuId===Ne):xe(Ve=>!Ve.disabled)||(re.length>0?re[0].el:void 0)});return function(we){return Te.apply(this,arguments)}}(),Oe=function(){var Te=(0,o.Z)(function*(){return yield Ae(),ge()});return function(){return Te.apply(this,arguments)}}(),mt=function(){var Te=(0,o.Z)(function*(){return yield Ae(),pe()});return function(){return Te.apply(this,arguments)}}(),Me=function(){var Te=(0,o.Z)(function*(){return yield Ae(),Se()});return function(){return Te.apply(this,arguments)}}(),Xe=(Te,Ne)=>{se.set(Te,Ne)},ut=Te=>{const Ne=Te.side;re.filter(we=>we.side===Ne&&we!==Te).forEach(we=>we.disabled=!0)},ze=function(){var Te=(0,o.Z)(function*(Ne,we,Ve){if(Se())return!1;if(we){const Ie=yield Oe();Ie&&Ne.el!==Ie&&(yield Ie.setOpen(!1,!1))}return Ne._setOpen(we,Ve)});return function(we,Ve,Ie){return Te.apply(this,arguments)}}(),ge=()=>xe(Te=>Te._isOpen),pe=()=>re.map(Te=>Te.el),Se=()=>re.some(Te=>Te.isAnimating),xe=Te=>{const Ne=re.find(Te);if(void 0!==Ne)return Ne.el},Ae=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Te=>new Promise(Ne=>(0,K.c)(Te,Ne))));return Xe("reveal",q),Xe("push",Y),Xe("overlay",Z),typeof document<"u"&&document.addEventListener("ionBackButton",Te=>{const Ne=ge();Ne&&Te.detail.register(y.MENU_BACK_BUTTON_PRIORITY,()=>Ne.close())}),{registerAnimation:Xe,get:qe,getMenus:mt,getOpen:Oe,isEnabled:Be,swipeGesture:ve,isAnimating:Me,isOpen:De,enable:fe,toggle:Ce,close:ke,open:le,_getOpenSync:ge,_createAnimation:(Te,Ne)=>{const we=se.get(Te);if(!we)throw new Error("animation not registered");return we(Ne)},_register:Te=>{re.indexOf(Te)<0&&(Te.disabled||ut(Te),re.push(Te))},_unregister:Te=>{const Ne=re.indexOf(Te);Ne>-1&&re.splice(Ne,1)},_setOpen:ze,_setActiveMenu:ut}})()},2621:(yt,U,R)=>{"use strict";R.d(U,{w:()=>o});const o=typeof window<"u"?window:void 0},1898:(yt,U,R)=>{"use strict";R.r(U),R.d(U,{GESTURE_CONTROLLER:()=>o.G,createGesture:()=>q});var o=R(4349);const y=(re,le,ke,Ce)=>{const fe=K(re)?{capture:!!Ce.capture,passive:!!Ce.passive}:!!Ce.capture;let ve,De;return re.__zone_symbol__addEventListener?(ve="__zone_symbol__addEventListener",De="__zone_symbol__removeEventListener"):(ve="addEventListener",De="removeEventListener"),re[ve](le,ke,fe),()=>{re[De](le,ke,fe)}},K=re=>{if(void 0===z)try{const le=Object.defineProperty({},"passive",{get:()=>{z=!0}});re.addEventListener("optsTest",()=>{},le)}catch(le){z=!1}return!!z};let z;const Z=re=>re instanceof Document?re:re.ownerDocument,q=re=>{let le=!1,ke=!1,Ce=!0,fe=!1;const ve=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},re),De=ve.canStart,Be=ve.onWillStart,qe=ve.onStart,Oe=ve.onEnd,mt=ve.notCaptured,Me=ve.onMove,Xe=ve.threshold,Ke=ve.passive,Qe=ve.blurOnStart,ut={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ze=((re,le,ke)=>{const Ce=ke*(Math.PI/180),fe="x"===re,ve=Math.cos(Ce),De=le*le;let Be=0,qe=0,Oe=!1,mt=0;return{start(Me,Xe){Be=Me,qe=Xe,mt=0,Oe=!0},detect(Me,Xe){if(!Oe)return!1;const Ke=Me-Be,Qe=Xe-qe,ut=Ke*Ke+Qe*Qe;if(ut<De)return!1;const ze=Math.sqrt(ut),Ze=(fe?Ke:Qe)/ze;return mt=Ze>ve?1:Ze<-ve?-1:0,Oe=!1,!0},isGesture:()=>0!==mt,getDirection:()=>mt}})(ve.direction,ve.threshold,ve.maxAngle),Ze=o.G.createGesture({name:re.gestureName,priority:re.gesturePriority,disableScroll:re.disableScroll}),Se=()=>{le&&(fe=!1,Me&&Me(ut))},xe=()=>!!Ze.capture()&&(le=!0,Ce=!1,ut.startX=ut.currentX,ut.startY=ut.currentY,ut.startTime=ut.currentTime,Be?Be(ut).then(Te):Te(),!0),Te=()=>{Qe&&(()=>{if(typeof document<"u"){const Le=document.activeElement;null!=Le&&Le.blur&&Le.blur()}})(),qe&&qe(ut),Ce=!0},Ne=()=>{le=!1,ke=!1,fe=!1,Ce=!0,Ze.release()},we=Le=>{const gt=le,bt=Ce;if(Ne(),bt){if(ce(ut,Le),gt)return void(Oe&&Oe(ut));mt&&mt(ut)}},Ve=((re,le,ke,Ce,fe)=>{let ve,De,Be,qe,Oe,mt,Me,Xe=0;const Ke=Ae=>{Xe=Date.now()+2e3,le(Ae)&&(!De&&ke&&(De=y(re,"touchmove",ke,fe)),Be||(Be=y(Ae.target,"touchend",ut,fe)),qe||(qe=y(Ae.target,"touchcancel",ut,fe)))},Qe=Ae=>{Xe>Date.now()||le(Ae)&&(!mt&&ke&&(mt=y(Z(re),"mousemove",ke,fe)),Me||(Me=y(Z(re),"mouseup",ze,fe)))},ut=Ae=>{Ze(),Ce&&Ce(Ae)},ze=Ae=>{ge(),Ce&&Ce(Ae)},Ze=()=>{De&&De(),Be&&Be(),qe&&qe(),De=Be=qe=void 0},ge=()=>{mt&&mt(),Me&&Me(),mt=Me=void 0},pe=()=>{Ze(),ge()},Se=(Ae=!0)=>{Ae?(ve||(ve=y(re,"touchstart",Ke,fe)),Oe||(Oe=y(re,"mousedown",Qe,fe))):(ve&&ve(),Oe&&Oe(),ve=Oe=void 0,pe())};return{enable:Se,stop:pe,destroy:()=>{Se(!1),Ce=ke=le=void 0}}})(ve.el,Le=>{const gt=se(Le);return!(ke||!Ce||(ae(Le,ut),ut.startX=ut.currentX,ut.startY=ut.currentY,ut.startTime=ut.currentTime=gt,ut.velocityX=ut.velocityY=ut.deltaX=ut.deltaY=0,ut.event=Le,De&&!1===De(ut))||(Ze.release(),!Ze.start()))&&(ke=!0,0===Xe?xe():(ze.start(ut.startX,ut.startY),!0))},Le=>{le?!fe&&Ce&&(fe=!0,ce(ut,Le),requestAnimationFrame(Se)):(ce(ut,Le),ze.detect(ut.currentX,ut.currentY)&&(!ze.isGesture()||!xe())&&Ie())},we,{capture:!1,passive:Ke}),Ie=()=>{Ne(),Ve.stop(),mt&&mt(ut)};return{enable(Le=!0){Le||(le&&we(void 0),Ne()),Ve.enable(Le)},destroy(){Ze.destroy(),Ve.destroy()}}},ce=(re,le)=>{if(!le)return;const ke=re.currentX,Ce=re.currentY,fe=re.currentTime;ae(le,re);const ve=re.currentX,De=re.currentY,qe=(re.currentTime=se(le))-fe;if(qe>0&&qe<100){const mt=(De-Ce)/qe;re.velocityX=(ve-ke)/qe*.7+.3*re.velocityX,re.velocityY=.7*mt+.3*re.velocityY}re.deltaX=ve-re.startX,re.deltaY=De-re.startY,re.event=le},ae=(re,le)=>{let ke=0,Ce=0;if(re){const fe=re.changedTouches;if(fe&&fe.length>0){const ve=fe[0];ke=ve.clientX,Ce=ve.clientY}else void 0!==re.pageX&&(ke=re.pageX,Ce=re.pageY)}le.currentX=ke,le.currentY=Ce},se=re=>re.timeStamp||Date.now()},1308:(yt,U,R)=>{"use strict";R.d(U,{B:()=>no,H:()=>st,a:()=>Ie,b:()=>zi,c:()=>Dr,e:()=>Ti,f:()=>Br,g:()=>Le,h:()=>tn,i:()=>Nn,j:()=>yn,k:()=>Gi,p:()=>Ce,r:()=>Eo,s:()=>le});var o=R(5861);let K,z,J,X=!1,Z=!1,Y=!1,q=!1,ce=!1;const ae=typeof window<"u"?window:{},se=ae.document||{head:{}},re={$flags$:0,$resourcesUrl$:"",jmp:We=>We(),raf:We=>requestAnimationFrame(We),ael:(We,tt,ht,Rt)=>We.addEventListener(tt,ht,Rt),rel:(We,tt,ht,Rt)=>We.removeEventListener(tt,ht,Rt),ce:(We,tt)=>new CustomEvent(We,tt)},le=We=>{Object.assign(re,We)},Ce=We=>Promise.resolve(We),fe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(We){}return!1})(),ve=(We,tt,ht,Rt)=>{ht&&ht.map(([Qt,rt,Vt])=>{const Yt=Be(We,Qt),mn=De(tt,Vt),sn=qe(Qt);re.ael(Yt,rt,mn,sn),(tt.$rmListeners$=tt.$rmListeners$||[]).push(()=>re.rel(Yt,rt,mn,sn))})},De=(We,tt)=>ht=>{try{256&We.$flags$?We.$lazyInstance$[tt](ht):(We.$queuedListeners$=We.$queuedListeners$||[]).push([tt,ht])}catch(Rt){kr(Rt)}},Be=(We,tt)=>4&tt?se:8&tt?ae:16&tt?se.body:We,qe=We=>0!=(2&We),Ke="s-id",Qe="sty-id",Ze="http://www.w3.org/1999/xlink",Se=new WeakMap,xe=(We,tt,ht)=>{let Rt=co.get(We);fe&&ht?(Rt=Rt||new CSSStyleSheet,"string"==typeof Rt?Rt=tt:Rt.replaceSync(tt)):Rt=tt,co.set(We,Rt)},Ae=(We,tt,ht,Rt)=>{let Qt=Ne(tt,ht);const rt=co.get(Qt);if(We=11===We.nodeType?We:se,rt)if("string"==typeof rt){let Yt,Vt=Se.get(We=We.head||We);Vt||Se.set(We,Vt=new Set),Vt.has(Qt)||(We.host&&(Yt=We.querySelector(`[${Qe}="${Qt}"]`))?Yt.innerHTML=rt:(Yt=se.createElement("style"),Yt.innerHTML=rt,We.insertBefore(Yt,We.querySelector("link"))),Vt&&Vt.add(Qt))}else We.adoptedStyleSheets.includes(rt)||(We.adoptedStyleSheets=[...We.adoptedStyleSheets,rt]);return Qt},Ne=(We,tt)=>"sc-"+(tt&&32&We.$flags$?We.$tagName$+"-"+tt:We.$tagName$),we=We=>We.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ie=We=>to.push(We),Le=We=>Nr(We).$modeName$,gt={},En=We=>"object"==(We=typeof We)||"function"===We,tn=(We,tt,...ht)=>{let Rt=null,Qt=null,rt=null,Vt=!1,Yt=!1;const mn=[],sn=oi=>{for(let An=0;An<oi.length;An++)Rt=oi[An],Array.isArray(Rt)?sn(Rt):null!=Rt&&"boolean"!=typeof Rt&&((Vt="function"!=typeof We&&!En(Rt))&&(Rt=String(Rt)),Vt&&Yt?mn[mn.length-1].$text$+=Rt:mn.push(Vt?Ct(null,Rt):Rt),Yt=Vt)};if(sn(ht),tt){tt.key&&(Qt=tt.key),tt.name&&(rt=tt.name);{const oi=tt.className||tt.class;oi&&(tt.class="object"!=typeof oi?oi:Object.keys(oi).filter(An=>oi[An]).join(" "))}}if("function"==typeof We)return We(null===tt?{}:tt,mn,$t);const jn=Ct(We,null);return jn.$attrs$=tt,mn.length>0&&(jn.$children$=mn),jn.$key$=Qt,jn.$name$=rt,jn},Ct=(We,tt)=>({$flags$:0,$tag$:We,$text$:tt,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),st={},$t={forEach:(We,tt)=>We.map(vn).forEach(tt),map:(We,tt)=>We.map(vn).map(tt).map(Cn)},vn=We=>({vattrs:We.$attrs$,vchildren:We.$children$,vkey:We.$key$,vname:We.$name$,vtag:We.$tag$,vtext:We.$text$}),Cn=We=>{if("function"==typeof We.vtag){const ht=Object.assign({},We.vattrs);return We.vkey&&(ht.key=We.vkey),We.vname&&(ht.name=We.vname),tn(We.vtag,ht,...We.vchildren||[])}const tt=Ct(We.vtag,We.vtext);return tt.$attrs$=We.vattrs,tt.$children$=We.vchildren,tt.$key$=We.vkey,tt.$name$=We.vname,tt},bn=(We,tt,ht,Rt,Qt,rt)=>{if(ht!==Rt){let Vt=yr(We,tt),Yt=tt.toLowerCase();if("class"===tt){const mn=We.classList,sn=yi(ht),jn=yi(Rt);mn.remove(...sn.filter(oi=>oi&&!jn.includes(oi))),mn.add(...jn.filter(oi=>oi&&!sn.includes(oi)))}else if("style"===tt){for(const mn in ht)(!Rt||null==Rt[mn])&&(mn.includes("-")?We.style.removeProperty(mn):We.style[mn]="");for(const mn in Rt)(!ht||Rt[mn]!==ht[mn])&&(mn.includes("-")?We.style.setProperty(mn,Rt[mn]):We.style[mn]=Rt[mn])}else if("key"!==tt)if("ref"===tt)Rt&&Rt(We);else if(Vt||"o"!==tt[0]||"n"!==tt[1]){const mn=En(Rt);if((Vt||mn&&null!==Rt)&&!Qt)try{if(We.tagName.includes("-"))We[tt]=Rt;else{const jn=null==Rt?"":Rt;"list"===tt?Vt=!1:(null==ht||We[tt]!=jn)&&(We[tt]=jn)}}catch(jn){}let sn=!1;Yt!==(Yt=Yt.replace(/^xlink\:?/,""))&&(tt=Yt,sn=!0),null==Rt||!1===Rt?(!1!==Rt||""===We.getAttribute(tt))&&(sn?We.removeAttributeNS(Ze,tt):We.removeAttribute(tt)):(!Vt||4&rt||Qt)&&!mn&&(Rt=!0===Rt?"":Rt,sn?We.setAttributeNS(Ze,tt,Rt):We.setAttribute(tt,Rt))}else tt="-"===tt[2]?tt.slice(3):yr(ae,Yt)?Yt.slice(2):Yt[2]+tt.slice(3),ht&&re.rel(We,tt,ht,!1),Rt&&re.ael(We,tt,Rt,!1)}},vi=/\s/,yi=We=>We?We.split(vi):[],Pi=(We,tt,ht,Rt)=>{const Qt=11===tt.$elm$.nodeType&&tt.$elm$.host?tt.$elm$.host:tt.$elm$,rt=We&&We.$attrs$||gt,Vt=tt.$attrs$||gt;for(Rt in rt)Rt in Vt||bn(Qt,Rt,rt[Rt],void 0,ht,tt.$flags$);for(Rt in Vt)bn(Qt,Rt,rt[Rt],Vt[Rt],ht,tt.$flags$)},Ji=(We,tt,ht,Rt)=>{const Qt=tt.$children$[ht];let Vt,Yt,mn,rt=0;if(X||(Y=!0,"slot"===Qt.$tag$&&(K&&Rt.classList.add(K+"-s"),Qt.$flags$|=Qt.$children$?2:1)),null!==Qt.$text$)Vt=Qt.$elm$=se.createTextNode(Qt.$text$);else if(1&Qt.$flags$)Vt=Qt.$elm$=se.createTextNode("");else{if(q||(q="svg"===Qt.$tag$),Vt=Qt.$elm$=se.createElementNS(q?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Qt.$flags$?"slot-fb":Qt.$tag$),q&&"foreignObject"===Qt.$tag$&&(q=!1),Pi(null,Qt,q),(We=>null!=We)(K)&&Vt["s-si"]!==K&&Vt.classList.add(Vt["s-si"]=K),Qt.$children$)for(rt=0;rt<Qt.$children$.length;++rt)Yt=Ji(We,Qt,rt,Vt),Yt&&Vt.appendChild(Yt);"svg"===Qt.$tag$?q=!1:"foreignObject"===Vt.tagName&&(q=!0)}return Vt["s-hn"]=J,3&Qt.$flags$&&(Vt["s-sr"]=!0,Vt["s-cr"]=z,Vt["s-sn"]=Qt.$name$||"",mn=We&&We.$children$&&We.$children$[ht],mn&&mn.$tag$===Qt.$tag$&&We.$elm$&&Or(We.$elm$,!1)),Vt},Or=(We,tt)=>{re.$flags$|=1;const ht=We.childNodes;for(let Rt=ht.length-1;Rt>=0;Rt--){const Qt=ht[Rt];Qt["s-hn"]!==J&&Qt["s-ol"]&&(xt(Qt).insertBefore(Qt,Bn(Qt)),Qt["s-ol"].remove(),Qt["s-ol"]=void 0,Y=!0),tt&&Or(Qt,tt)}re.$flags$&=-2},ir=(We,tt,ht,Rt,Qt,rt)=>{let Yt,Vt=We["s-cr"]&&We["s-cr"].parentNode||We;for(Vt.shadowRoot&&Vt.tagName===J&&(Vt=Vt.shadowRoot);Qt<=rt;++Qt)Rt[Qt]&&(Yt=Ji(null,ht,Qt,We),Yt&&(Rt[Qt].$elm$=Yt,Vt.insertBefore(Yt,Bn(tt))))},Fr=(We,tt,ht,Rt,Qt)=>{for(;tt<=ht;++tt)(Rt=We[tt])&&(Qt=Rt.$elm$,at(Rt),Z=!0,Qt["s-ol"]?Qt["s-ol"].remove():Or(Qt,!0),Qt.remove())},Sn=(We,tt)=>We.$tag$===tt.$tag$&&("slot"===We.$tag$?We.$name$===tt.$name$:We.$key$===tt.$key$),Bn=We=>We&&We["s-ol"]||We,xt=We=>(We["s-ol"]?We["s-ol"]:We).parentNode,Pt=(We,tt)=>{const ht=tt.$elm$=We.$elm$,Rt=We.$children$,Qt=tt.$children$,rt=tt.$tag$,Vt=tt.$text$;let Yt;null===Vt?(q="svg"===rt||"foreignObject"!==rt&&q,"slot"===rt||Pi(We,tt,q),null!==Rt&&null!==Qt?((We,tt,ht,Rt)=>{let lr,fo,Qt=0,rt=0,Vt=0,Yt=0,mn=tt.length-1,sn=tt[0],jn=tt[mn],oi=Rt.length-1,An=Rt[0],gr=Rt[oi];for(;Qt<=mn&&rt<=oi;)if(null==sn)sn=tt[++Qt];else if(null==jn)jn=tt[--mn];else if(null==An)An=Rt[++rt];else if(null==gr)gr=Rt[--oi];else if(Sn(sn,An))Pt(sn,An),sn=tt[++Qt],An=Rt[++rt];else if(Sn(jn,gr))Pt(jn,gr),jn=tt[--mn],gr=Rt[--oi];else if(Sn(sn,gr))("slot"===sn.$tag$||"slot"===gr.$tag$)&&Or(sn.$elm$.parentNode,!1),Pt(sn,gr),We.insertBefore(sn.$elm$,jn.$elm$.nextSibling),sn=tt[++Qt],gr=Rt[--oi];else if(Sn(jn,An))("slot"===sn.$tag$||"slot"===gr.$tag$)&&Or(jn.$elm$.parentNode,!1),Pt(jn,An),We.insertBefore(jn.$elm$,sn.$elm$),jn=tt[--mn],An=Rt[++rt];else{for(Vt=-1,Yt=Qt;Yt<=mn;++Yt)if(tt[Yt]&&null!==tt[Yt].$key$&&tt[Yt].$key$===An.$key$){Vt=Yt;break}Vt>=0?(fo=tt[Vt],fo.$tag$!==An.$tag$?lr=Ji(tt&&tt[rt],ht,Vt,We):(Pt(fo,An),tt[Vt]=void 0,lr=fo.$elm$),An=Rt[++rt]):(lr=Ji(tt&&tt[rt],ht,rt,We),An=Rt[++rt]),lr&&xt(sn.$elm$).insertBefore(lr,Bn(sn.$elm$))}Qt>mn?ir(We,null==Rt[oi+1]?null:Rt[oi+1].$elm$,ht,Rt,rt,oi):rt>oi&&Fr(tt,Qt,mn)})(ht,Rt,tt,Qt):null!==Qt?(null!==We.$text$&&(ht.textContent=""),ir(ht,null,tt,Qt,0,Qt.length-1)):null!==Rt&&Fr(Rt,0,Rt.length-1),q&&"svg"===rt&&(q=!1)):(Yt=ht["s-cr"])?Yt.parentNode.textContent=Vt:We.$text$!==Vt&&(ht.data=Vt)},nt=We=>{const tt=We.childNodes;let ht,Rt,Qt,rt,Vt,Yt;for(Rt=0,Qt=tt.length;Rt<Qt;Rt++)if(ht=tt[Rt],1===ht.nodeType){if(ht["s-sr"])for(Vt=ht["s-sn"],ht.hidden=!1,rt=0;rt<Qt;rt++)if(Yt=tt[rt].nodeType,tt[rt]["s-hn"]!==ht["s-hn"]||""!==Vt){if(1===Yt&&Vt===tt[rt].getAttribute("slot")){ht.hidden=!0;break}}else if(1===Yt||3===Yt&&""!==tt[rt].textContent.trim()){ht.hidden=!0;break}nt(ht)}},dn=[],en=We=>{let tt,ht,Rt,Qt,rt,Vt,Yt=0;const mn=We.childNodes,sn=mn.length;for(;Yt<sn;Yt++){if(tt=mn[Yt],tt["s-sr"]&&(ht=tt["s-cr"])&&ht.parentNode)for(Rt=ht.parentNode.childNodes,Qt=tt["s-sn"],Vt=Rt.length-1;Vt>=0;Vt--)ht=Rt[Vt],!ht["s-cn"]&&!ht["s-nr"]&&ht["s-hn"]!==tt["s-hn"]&&(Lt(ht,Qt)?(rt=dn.find(jn=>jn.$nodeToRelocate$===ht),Z=!0,ht["s-sn"]=ht["s-sn"]||Qt,rt?rt.$slotRefNode$=tt:dn.push({$slotRefNode$:tt,$nodeToRelocate$:ht}),ht["s-sr"]&&dn.map(jn=>{Lt(jn.$nodeToRelocate$,ht["s-sn"])&&(rt=dn.find(oi=>oi.$nodeToRelocate$===ht),rt&&!jn.$slotRefNode$&&(jn.$slotRefNode$=rt.$slotRefNode$))})):dn.some(jn=>jn.$nodeToRelocate$===ht)||dn.push({$nodeToRelocate$:ht}));1===tt.nodeType&&en(tt)}},Lt=(We,tt)=>1===We.nodeType?null===We.getAttribute("slot")&&""===tt||We.getAttribute("slot")===tt:We["s-sn"]===tt||""===tt,at=We=>{We.$attrs$&&We.$attrs$.ref&&We.$attrs$.ref(null),We.$children$&&We.$children$.map(at)},Nn=We=>Nr(We).$hostElement$,Ti=(We,tt,ht)=>{const Rt=Nn(We);return{emit:Qt=>Qn(Rt,tt,{bubbles:!!(4&ht),composed:!!(2&ht),cancelable:!!(1&ht),detail:Qt})}},Qn=(We,tt,ht)=>{const Rt=re.ce(tt,ht);return We.dispatchEvent(Rt),Rt},dr=(We,tt)=>{tt&&!We.$onRenderResolve$&&tt["s-p"]&&tt["s-p"].push(new Promise(ht=>We.$onRenderResolve$=ht))},Zi=(We,tt)=>{if(We.$flags$|=16,!(4&We.$flags$))return dr(We,We.$ancestorComponent$),Dr(()=>Zt(We,tt));We.$flags$|=512},Zt=(We,tt)=>{const Rt=We.$lazyInstance$;let Qt;return tt&&(We.$flags$|=256,We.$queuedListeners$&&(We.$queuedListeners$.map(([rt,Vt])=>Yn(Rt,rt,Vt)),We.$queuedListeners$=null),Qt=Yn(Rt,"componentWillLoad")),Qt=ai(Qt,()=>Yn(Rt,"componentWillRender")),ai(Qt,()=>_t(We,Rt,tt))},_t=function(){var We=(0,o.Z)(function*(tt,ht,Rt){const Qt=tt.$hostElement$,Vt=Qt["s-rc"];Rt&&(We=>{const tt=We.$cmpMeta$,ht=We.$hostElement$,Rt=tt.$flags$,rt=Ae(ht.shadowRoot?ht.shadowRoot:ht.getRootNode(),tt,We.$modeName$);10&Rt&&(ht["s-sc"]=rt,ht.classList.add(rt+"-h"),2&Rt&&ht.classList.add(rt+"-s"))})(tt);Ut(tt,ht),Vt&&(Vt.map(mn=>mn()),Qt["s-rc"]=void 0);{const mn=Qt["s-p"],sn=()=>gn(tt);0===mn.length?sn():(Promise.all(mn).then(sn),tt.$flags$|=4,mn.length=0)}});return function(ht,Rt,Qt){return We.apply(this,arguments)}}(),Ut=(We,tt,ht)=>{try{tt=tt.render&&tt.render(),We.$flags$&=-17,We.$flags$|=2,((We,tt)=>{const ht=We.$hostElement$,Rt=We.$cmpMeta$,Qt=We.$vnode$||Ct(null,null),rt=(We=>We&&We.$tag$===st)(tt)?tt:tn(null,null,tt);if(J=ht.tagName,Rt.$attrsToReflect$&&(rt.$attrs$=rt.$attrs$||{},Rt.$attrsToReflect$.map(([Vt,Yt])=>rt.$attrs$[Yt]=ht[Vt])),rt.$tag$=null,rt.$flags$|=4,We.$vnode$=rt,rt.$elm$=Qt.$elm$=ht.shadowRoot||ht,K=ht["s-sc"],z=ht["s-cr"],X=0!=(1&Rt.$flags$),Z=!1,Pt(Qt,rt),re.$flags$|=1,Y){en(rt.$elm$);let Vt,Yt,mn,sn,jn,oi,An=0;for(;An<dn.length;An++)Vt=dn[An],Yt=Vt.$nodeToRelocate$,Yt["s-ol"]||(mn=se.createTextNode(""),mn["s-nr"]=Yt,Yt.parentNode.insertBefore(Yt["s-ol"]=mn,Yt));for(An=0;An<dn.length;An++)if(Vt=dn[An],Yt=Vt.$nodeToRelocate$,Vt.$slotRefNode$){for(sn=Vt.$slotRefNode$.parentNode,jn=Vt.$slotRefNode$.nextSibling,mn=Yt["s-ol"];mn=mn.previousSibling;)if(oi=mn["s-nr"],oi&&oi["s-sn"]===Yt["s-sn"]&&sn===oi.parentNode&&(oi=oi.nextSibling,!oi||!oi["s-nr"])){jn=oi;break}(!jn&&sn!==Yt.parentNode||Yt.nextSibling!==jn)&&Yt!==jn&&(!Yt["s-hn"]&&Yt["s-ol"]&&(Yt["s-hn"]=Yt["s-ol"].parentNode.nodeName),sn.insertBefore(Yt,jn))}else 1===Yt.nodeType&&(Yt.hidden=!0)}Z&&nt(rt.$elm$),re.$flags$&=-2,dn.length=0})(We,tt)}catch(Rt){kr(Rt,We.$hostElement$)}return null},gn=We=>{const ht=We.$hostElement$,Qt=We.$lazyInstance$,rt=We.$ancestorComponent$;Yn(Qt,"componentDidRender"),64&We.$flags$?Yn(Qt,"componentDidUpdate"):(We.$flags$|=64,ti(ht),Yn(Qt,"componentDidLoad"),We.$onReadyResolve$(ht),rt||jt()),We.$onInstanceResolve$(ht),We.$onRenderResolve$&&(We.$onRenderResolve$(),We.$onRenderResolve$=void 0),512&We.$flags$&&di(()=>Zi(We,!1)),We.$flags$&=-517},yn=We=>{{const tt=Nr(We),ht=tt.$hostElement$.isConnected;return ht&&2==(18&tt.$flags$)&&Zi(tt,!1),ht}},jt=We=>{ti(se.documentElement),di(()=>Qn(ae,"appload",{detail:{namespace:"ionic"}}))},Yn=(We,tt,ht)=>{if(We&&We[tt])try{return We[tt](ht)}catch(Rt){kr(Rt)}},ai=(We,tt)=>We&&We.then?We.then(tt):tt(),ti=We=>We.classList.add("hydrated"),er=(We,tt,ht,Rt,Qt,rt,Vt)=>{let Yt,mn,sn,jn;if(1===rt.nodeType){for(Yt=rt.getAttribute("c-id"),Yt&&(mn=Yt.split("."),(mn[0]===Vt||"0"===mn[0])&&(sn={$flags$:0,$hostId$:mn[0],$nodeId$:mn[1],$depth$:mn[2],$index$:mn[3],$tag$:rt.tagName.toLowerCase(),$elm$:rt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},tt.push(sn),rt.removeAttribute("c-id"),We.$children$||(We.$children$=[]),We.$children$[sn.$index$]=sn,We=sn,Rt&&"0"===sn.$depth$&&(Rt[sn.$index$]=sn.$elm$))),jn=rt.childNodes.length-1;jn>=0;jn--)er(We,tt,ht,Rt,Qt,rt.childNodes[jn],Vt);if(rt.shadowRoot)for(jn=rt.shadowRoot.childNodes.length-1;jn>=0;jn--)er(We,tt,ht,Rt,Qt,rt.shadowRoot.childNodes[jn],Vt)}else if(8===rt.nodeType)mn=rt.nodeValue.split("."),(mn[1]===Vt||"0"===mn[1])&&(Yt=mn[0],sn={$flags$:0,$hostId$:mn[1],$nodeId$:mn[2],$depth$:mn[3],$index$:mn[4],$elm$:rt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Yt?(sn.$elm$=rt.nextSibling,sn.$elm$&&3===sn.$elm$.nodeType&&(sn.$text$=sn.$elm$.textContent,tt.push(sn),rt.remove(),We.$children$||(We.$children$=[]),We.$children$[sn.$index$]=sn,Rt&&"0"===sn.$depth$&&(Rt[sn.$index$]=sn.$elm$))):sn.$hostId$===Vt&&("s"===Yt?(sn.$tag$="slot",rt["s-sn"]=mn[5]?sn.$name$=mn[5]:"",rt["s-sr"]=!0,Rt&&(sn.$elm$=se.createElement(sn.$tag$),sn.$name$&&sn.$elm$.setAttribute("name",sn.$name$),rt.parentNode.insertBefore(sn.$elm$,rt),rt.remove(),"0"===sn.$depth$&&(Rt[sn.$index$]=sn.$elm$)),ht.push(sn),We.$children$||(We.$children$=[]),We.$children$[sn.$index$]=sn):"r"===Yt&&(Rt?rt.remove():(Qt["s-cr"]=rt,rt["s-cn"]=!0))));else if(We&&"style"===We.$tag$){const oi=Ct(null,rt.textContent);oi.$elm$=rt,oi.$index$="0",We.$children$=[oi]}},At=(We,tt)=>{if(1===We.nodeType){let ht=0;for(;ht<We.childNodes.length;ht++)At(We.childNodes[ht],tt);if(We.shadowRoot)for(ht=0;ht<We.shadowRoot.childNodes.length;ht++)At(We.shadowRoot.childNodes[ht],tt)}else if(8===We.nodeType){const ht=We.nodeValue.split(".");"o"===ht[0]&&(tt.set(ht[1]+"."+ht[2],We),We.nodeValue="",We["s-en"]=ht[3])}},hn=(We,tt,ht)=>{if(tt.$members$){We.watchers&&(tt.$watchers$=We.watchers);const Rt=Object.entries(tt.$members$),Qt=We.prototype;if(Rt.map(([rt,[Vt]])=>{31&Vt||2&ht&&32&Vt?Object.defineProperty(Qt,rt,{get(){return((We,tt)=>Nr(this).$instanceValues$.get(tt))(0,rt)},set(Yt){((We,tt,ht,Rt)=>{const Qt=Nr(We),rt=Qt.$hostElement$,Vt=Qt.$instanceValues$.get(tt),Yt=Qt.$flags$,mn=Qt.$lazyInstance$;ht=((We,tt)=>null==We||En(We)?We:4&tt?"false"!==We&&(""===We||!!We):2&tt?parseFloat(We):1&tt?String(We):We)(ht,Rt.$members$[tt][0]);const sn=Number.isNaN(Vt)&&Number.isNaN(ht);if((!(8&Yt)||void 0===Vt)&&ht!==Vt&&!sn&&(Qt.$instanceValues$.set(tt,ht),mn)){if(Rt.$watchers$&&128&Yt){const oi=Rt.$watchers$[tt];oi&&oi.map(An=>{try{mn[An](ht,Vt,tt)}catch(gr){kr(gr,rt)}})}2==(18&Yt)&&Zi(Qt,!1)}})(this,rt,Yt,tt)},configurable:!0,enumerable:!0}):1&ht&&64&Vt&&Object.defineProperty(Qt,rt,{value(...Yt){const mn=Nr(this);return mn.$onInstancePromise$.then(()=>mn.$lazyInstance$[rt](...Yt))}})}),1&ht){const rt=new Map;Qt.attributeChangedCallback=function(Vt,Yt,mn){re.jmp(()=>{const sn=rt.get(Vt);if(this.hasOwnProperty(sn))mn=this[sn],delete this[sn];else if(Qt.hasOwnProperty(sn)&&"number"==typeof this[sn]&&this[sn]==mn)return;this[sn]=(null!==mn||"boolean"!=typeof this[sn])&&mn})},We.observedAttributes=Rt.filter(([Vt,Yt])=>15&Yt[0]).map(([Vt,Yt])=>{const mn=Yt[1]||Vt;return rt.set(mn,Vt),512&Yt[0]&&tt.$attrsToReflect$.push([Vt,mn]),mn})}}return We},Un=function(){var We=(0,o.Z)(function*(tt,ht,Rt,Qt,rt){if(!(32&ht.$flags$)){{if(ht.$flags$|=32,(rt=tr(Rt)).then){const sn=()=>{};rt=yield rt,sn()}rt.isProxied||(Rt.$watchers$=rt.watchers,hn(rt,Rt,2),rt.isProxied=!0);const mn=()=>{};ht.$flags$|=8;try{new rt(ht)}catch(sn){kr(sn)}ht.$flags$&=-9,ht.$flags$|=128,mn(),Hn(ht.$lazyInstance$)}if(rt.style){let mn=rt.style;"string"!=typeof mn&&(mn=mn[ht.$modeName$=(We=>to.map(tt=>tt(We)).find(tt=>!!tt))(tt)]);const sn=Ne(Rt,ht.$modeName$);if(!co.has(sn)){const jn=()=>{};xe(sn,mn,!!(1&Rt.$flags$)),jn()}}}const Vt=ht.$ancestorComponent$,Yt=()=>Zi(ht,!0);Vt&&Vt["s-rc"]?Vt["s-rc"].push(Yt):Yt()});return function(ht,Rt,Qt,rt,Vt){return We.apply(this,arguments)}}(),Hn=We=>{Yn(We,"connectedCallback")},Pr=We=>{const tt=We["s-cr"]=se.createComment("");tt["s-cn"]=!0,We.insertBefore(tt,We.firstChild)},zi=(We,tt={})=>{const Rt=[],Qt=tt.exclude||[],rt=ae.customElements,Vt=se.head,Yt=Vt.querySelector("meta[charset]"),mn=se.createElement("style"),sn=[],jn=se.querySelectorAll(`[${Qe}]`);let oi,An=!0,gr=0;for(Object.assign(re,tt),re.$resourcesUrl$=new URL(tt.resourcesUrl||"./",se.baseURI).href,re.$flags$|=2;gr<jn.length;gr++)xe(jn[gr].getAttribute(Qe),we(jn[gr].innerHTML),!0);We.map(lr=>{lr[1].map(fo=>{const Mi={$flags$:fo[0],$tagName$:fo[1],$members$:fo[2],$listeners$:fo[3]};Mi.$members$=fo[2],Mi.$listeners$=fo[3],Mi.$attrsToReflect$=[],Mi.$watchers$={};const Ir=Mi.$tagName$,mr=class extends HTMLElement{constructor(io){super(io),vo(io=this,Mi),1&Mi.$flags$&&io.attachShadow({mode:"open",delegatesFocus:!!(16&Mi.$flags$)})}connectedCallback(){oi&&(clearTimeout(oi),oi=null),An?sn.push(this):re.jmp(()=>(We=>{if(!(1&re.$flags$)){const tt=Nr(We),ht=tt.$cmpMeta$,Rt=()=>{};if(1&tt.$flags$)ve(We,tt,ht.$listeners$),Hn(tt.$lazyInstance$);else{let Qt;if(tt.$flags$|=1,Qt=We.getAttribute(Ke),Qt){if(1&ht.$flags$){const rt=Ae(We.shadowRoot,ht,We.getAttribute("s-mode"));We.classList.remove(rt+"-h",rt+"-s")}((We,tt,ht,Rt)=>{const rt=We.shadowRoot,Vt=[],mn=rt?[]:null,sn=Rt.$vnode$=Ct(tt,null);re.$orgLocNodes$||At(se.body,re.$orgLocNodes$=new Map),We[Ke]=ht,We.removeAttribute(Ke),er(sn,Vt,[],mn,We,We,ht),Vt.map(jn=>{const oi=jn.$hostId$+"."+jn.$nodeId$,An=re.$orgLocNodes$.get(oi),gr=jn.$elm$;An&&""===An["s-en"]&&An.parentNode.insertBefore(gr,An.nextSibling),rt||(gr["s-hn"]=tt,An&&(gr["s-ol"]=An,gr["s-ol"]["s-nr"]=gr)),re.$orgLocNodes$.delete(oi)}),rt&&mn.map(jn=>{jn&&rt.appendChild(jn)})})(We,ht.$tagName$,Qt,tt)}Qt||12&ht.$flags$&&Pr(We);{let rt=We;for(;rt=rt.parentNode||rt.host;)if(1===rt.nodeType&&rt.hasAttribute("s-id")&&rt["s-p"]||rt["s-p"]){dr(tt,tt.$ancestorComponent$=rt);break}}ht.$members$&&Object.entries(ht.$members$).map(([rt,[Vt]])=>{if(31&Vt&&We.hasOwnProperty(rt)){const Yt=We[rt];delete We[rt],We[rt]=Yt}}),di(()=>Un(We,tt,ht))}Rt()}})(this))}disconnectedCallback(){re.jmp(()=>(We=>{if(!(1&re.$flags$)){const tt=Nr(this),ht=tt.$lazyInstance$;tt.$rmListeners$&&(tt.$rmListeners$.map(Rt=>Rt()),tt.$rmListeners$=void 0),Yn(ht,"disconnectedCallback")}})())}componentOnReady(){return Nr(this).$onReadyPromise$}};Mi.$lazyBundleId$=lr[0],!Qt.includes(Ir)&&!rt.get(Ir)&&(Rt.push(Ir),rt.define(Ir,hn(mr,Mi,1)))})}),mn.innerHTML=Rt+"{visibility:hidden}.hydrated{visibility:inherit}",mn.setAttribute("data-styles",""),Vt.insertBefore(mn,Yt?Yt.nextSibling:Vt.firstChild),An=!1,sn.length?sn.map(lr=>lr.connectedCallback()):re.jmp(()=>oi=setTimeout(jt,30))},Gi=We=>{const tt=new URL(We,re.$resourcesUrl$);return tt.origin!==ae.location.origin?tt.href:tt.pathname},Rr=new WeakMap,Nr=We=>Rr.get(We),Eo=(We,tt)=>Rr.set(tt.$lazyInstance$=We,tt),vo=(We,tt)=>{const ht={$flags$:0,$hostElement$:We,$cmpMeta$:tt,$instanceValues$:new Map};return ht.$onInstancePromise$=new Promise(Rt=>ht.$onInstanceResolve$=Rt),ht.$onReadyPromise$=new Promise(Rt=>ht.$onReadyResolve$=Rt),We["s-p"]=[],We["s-rc"]=[],ve(We,ht,tt.$listeners$),Rr.set(We,ht)},yr=(We,tt)=>tt in We,kr=(We,tt)=>(0,console.error)(We,tt),fr=new Map,tr=(We,tt,ht)=>{const Rt=We.$tagName$.replace(/-/g,"_"),Qt=We.$lazyBundleId$,rt=fr.get(Qt);return rt?rt[Rt]:R(863)(`./${Qt}.entry.js`).then(Vt=>(fr.set(Qt,Vt),Vt[Rt]),kr)},co=new Map,to=[],Yr=[],ho=[],nr=(We,tt)=>ht=>{We.push(ht),ce||(ce=!0,tt&&4&re.$flags$?di(Ei):re.raf(Ei))},Oi=We=>{for(let tt=0;tt<We.length;tt++)try{We[tt](performance.now())}catch(ht){kr(ht)}We.length=0},Ei=()=>{Oi(Yr),Oi(ho),(ce=Yr.length>0)&&re.raf(Ei)},di=We=>Ce().then(We),Br=nr(Yr,!1),Dr=nr(ho,!0),no={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(yt,U,R)=>{"use strict";R.d(U,{a:()=>ae,b:()=>Se,c:()=>K,g:()=>ce,i:()=>xe});var o=R(1308);class y{constructor(){this.m=new Map}reset(Te){this.m=new Map(Object.entries(Te))}get(Te,Ne){const we=this.m.get(Te);return void 0!==we?we:Ne}getBoolean(Te,Ne=!1){const we=this.m.get(Te);return void 0===we?Ne:"string"==typeof we?"true"===we:!!we}getNumber(Te,Ne){const we=parseFloat(this.m.get(Te));return isNaN(we)?void 0!==Ne?Ne:NaN:we}set(Te,Ne){this.m.set(Te,Ne)}}const K=new y,Y="ionic:",q="ionic-persist-config",ce=Ae=>se(Ae),ae=(Ae,Te)=>("string"==typeof Ae&&(Te=Ae,Ae=void 0),ce(Ae).includes(Te)),se=(Ae=window)=>{if(typeof Ae>"u")return[];Ae.Ionic=Ae.Ionic||{};let Te=Ae.Ionic.platforms;return null==Te&&(Te=Ae.Ionic.platforms=re(Ae),Te.forEach(Ne=>Ae.document.documentElement.classList.add(`plt-${Ne}`))),Te},re=Ae=>{const Te=K.get("platform");return Object.keys(ge).filter(Ne=>{const we=null==Te?void 0:Te[Ne];return"function"==typeof we?we(Ae):ge[Ne](Ae)})},ke=Ae=>!!(ze(Ae,/iPad/i)||ze(Ae,/Macintosh/i)&&Oe(Ae)),ve=Ae=>ze(Ae,/android|sink/i),Oe=Ae=>Ze(Ae,"(any-pointer:coarse)"),Me=Ae=>Xe(Ae)||Ke(Ae),Xe=Ae=>!!(Ae.cordova||Ae.phonegap||Ae.PhoneGap),Ke=Ae=>{const Te=Ae.Capacitor;return!(null==Te||!Te.isNative)},ze=(Ae,Te)=>Te.test(Ae.navigator.userAgent),Ze=(Ae,Te)=>{var Ne;return null===(Ne=Ae.matchMedia)||void 0===Ne?void 0:Ne.call(Ae,Te).matches},ge={ipad:ke,iphone:Ae=>ze(Ae,/iPhone/i),ios:Ae=>ze(Ae,/iPhone|iPod/i)||ke(Ae),android:ve,phablet:Ae=>{const Te=Ae.innerWidth,Ne=Ae.innerHeight,we=Math.min(Te,Ne),Ve=Math.max(Te,Ne);return we>390&&we<520&&Ve>620&&Ve<800},tablet:Ae=>{const Te=Ae.innerWidth,Ne=Ae.innerHeight,we=Math.min(Te,Ne),Ve=Math.max(Te,Ne);return ke(Ae)||(Ae=>ve(Ae)&&!ze(Ae,/mobile/i))(Ae)||we>460&&we<820&&Ve>780&&Ve<1400},cordova:Xe,capacitor:Ke,electron:Ae=>ze(Ae,/electron/i),pwa:Ae=>{var Te;return!!(null!==(Te=Ae.matchMedia)&&void 0!==Te&&Te.call(Ae,"(display-mode: standalone)").matches||Ae.navigator.standalone)},mobile:Oe,mobileweb:Ae=>Oe(Ae)&&!Me(Ae),desktop:Ae=>!Oe(Ae),hybrid:Me};let pe;const Se=Ae=>Ae&&(0,o.g)(Ae)||pe,xe=(Ae={})=>{if(typeof window>"u")return;const Te=window.document,Ne=window,we=Ne.Ionic=Ne.Ionic||{},Ve={};Ae._ael&&(Ve.ael=Ae._ael),Ae._rel&&(Ve.rel=Ae._rel),Ae._ce&&(Ve.ce=Ae._ce),(0,o.s)(Ve);const Ie=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ae=>{try{const Te=Ae.sessionStorage.getItem(q);return null!==Te?JSON.parse(Te):{}}catch(Te){return{}}})(Ne)),{persistConfig:!1}),we.config),(Ae=>{const Te={};return Ae.location.search.slice(1).split("&").map(Ne=>Ne.split("=")).map(([Ne,we])=>[decodeURIComponent(Ne),decodeURIComponent(we)]).filter(([Ne])=>((Ae,Te)=>Ae.substr(0,Te.length)===Te)(Ne,Y)).map(([Ne,we])=>[Ne.slice(Y.length),we]).forEach(([Ne,we])=>{Te[Ne]=we}),Te})(Ne)),Ae);K.reset(Ie),K.getBoolean("persistConfig")&&((Ae,Te)=>{try{Ae.sessionStorage.setItem(q,JSON.stringify(Te))}catch(Ne){return}})(Ne,Ie),se(Ne),we.config=K,we.mode=pe=K.get("mode",Te.documentElement.getAttribute("mode")||(ae(Ne,"ios")?"ios":"md")),K.set("mode",pe),Te.documentElement.setAttribute("mode",pe),Te.documentElement.classList.add(pe),K.getBoolean("_testing")&&K.set("animated",!1);const Le=bt=>{var Mt;return null===(Mt=bt.tagName)||void 0===Mt?void 0:Mt.startsWith("ION-")},gt=bt=>["ios","md"].includes(bt);(0,o.a)(bt=>{for(;bt;){const Mt=bt.mode||bt.getAttribute("mode");if(Mt){if(gt(Mt))return Mt;Le(bt)&&console.warn('Invalid ionic mode: "'+Mt+'", expected: "ios" or "md"')}bt=bt.parentElement}return pe})}},6439:(yt,U,R)=>{"use strict";R.r(U),R.d(U,{iosTransitionAnimation:()=>re,shadow:()=>Z});var o=R(181),y=R(1843);R(2621),R(1308);const X=le=>document.querySelector(`${le}.ion-cloned-element`),Z=le=>le.shadowRoot||le,Y=le=>{const ke="ION-TABS"===le.tagName?le:le.querySelector("ion-tabs"),Ce="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ke){const fe=ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=fe?fe.querySelector(Ce):null}return le.querySelector(Ce)},q=(le,ke)=>{const Ce="ION-TABS"===le.tagName?le:le.querySelector("ion-tabs");let fe=[];if(null!=Ce){const ve=Ce.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ve&&(fe=ve.querySelectorAll("ion-buttons"))}else fe=le.querySelectorAll("ion-buttons");for(const ve of fe){const De=ve.closest("ion-header"),Be=De&&!De.classList.contains("header-collapse-condense-inactive"),qe=ve.querySelector("ion-back-button"),Oe=ve.classList.contains("buttons-collapse");if(null!==qe&&("start"===ve.slot||""===ve.slot)&&(Oe&&Be&&ke||!Oe))return qe}return null},ae=(le,ke,Ce,fe,ve,De)=>{const Be=ke?`calc(100% - ${De.right+4}px)`:De.left-4+"px",qe=ke?"7px":"-7px",Oe=ke?"-4px":"4px",mt=ke?"-4px":"4px",Me=ke?"right":"left",Xe=ke?"left":"right",ut=Ce?[{offset:0,opacity:1,transform:`translate3d(${Oe}, ${De.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${qe}, ${ve.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${qe}, ${ve.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Oe}, ${De.top-46}px, 0) scale(1)`}],ge=Ce?[{offset:0,opacity:1,transform:`translate3d(${mt}, ${De.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${mt}, ${De.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${mt}, ${De.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${mt}, ${De.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${mt}, ${De.top-46}px, 0) scale(1)`}],pe=(0,o.c)(),Se=(0,o.c)(),xe=X("ion-back-button"),Ae=Z(xe).querySelector(".button-text"),Te=Z(xe).querySelector("ion-icon");xe.text=fe.text,xe.mode=fe.mode,xe.icon=fe.icon,xe.color=fe.color,xe.disabled=fe.disabled,xe.style.setProperty("display","block"),xe.style.setProperty("position","fixed"),Se.addElement(Te),pe.addElement(Ae),pe.beforeStyles({"transform-origin":`${Me} center`}).beforeAddWrite(()=>{fe.style.setProperty("display","none"),xe.style.setProperty(Me,Be)}).afterAddWrite(()=>{fe.style.setProperty("display",""),xe.style.setProperty("display","none"),xe.style.removeProperty(Me)}).keyframes(ut),Se.beforeStyles({"transform-origin":`${Xe} center`}).keyframes(ge),le.addAnimation([pe,Se])},se=(le,ke,Ce,fe,ve,De)=>{const Be=ke?`calc(100% - ${ve.right}px)`:`${ve.left}px`,qe=ke?"-18px":"18px",Oe=ke?"right":"left",Xe=Ce?[{offset:0,opacity:0,transform:`translate3d(${qe}, ${De.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ve.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ve.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${qe}, ${De.top-4}px, 0) scale(0.5)`}],Ke=X("ion-title"),Qe=(0,o.c)();Ke.innerText=fe.innerText,Ke.size=fe.size,Ke.color=fe.color,Qe.addElement(Ke),Qe.beforeStyles({"transform-origin":`${Oe} center`,height:"46px",display:"",position:"relative",[Oe]:Be}).beforeAddWrite(()=>{fe.style.setProperty("display","none")}).afterAddWrite(()=>{fe.style.setProperty("display",""),Ke.style.setProperty("display","none")}).keyframes(Xe),le.addAnimation(Qe)},re=(le,ke)=>{var Ce;try{const fe="cubic-bezier(0.32,0.72,0,1)",ve="opacity",De="transform",Be="0%",Oe="rtl"===le.ownerDocument.dir,mt=Oe?"-99.5%":"99.5%",Me=Oe?"33%":"-33%",Xe=ke.enteringEl,Ke=ke.leavingEl,Qe="back"===ke.direction,ut=Xe.querySelector(":scope > ion-content"),ze=Xe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ze=Xe.querySelectorAll(":scope > ion-header > ion-toolbar"),ge=(0,o.c)(),pe=(0,o.c)();if(ge.addElement(Xe).duration((null!==(Ce=ke.duration)&&void 0!==Ce?Ce:0)||540).easing(ke.easing||fe).fill("both").beforeRemoveClass("ion-page-invisible"),Ke&&null!=le){const Te=(0,o.c)();Te.addElement(le),ge.addAnimation(Te)}if(ut||0!==Ze.length||0!==ze.length?(pe.addElement(ut),pe.addElement(ze)):pe.addElement(Xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ge.addAnimation(pe),Qe?pe.beforeClearStyles([ve]).fromTo("transform",`translateX(${Me})`,`translateX(${Be})`).fromTo(ve,.8,1):pe.beforeClearStyles([ve]).fromTo("transform",`translateX(${mt})`,`translateX(${Be})`),ut){const Te=Z(ut).querySelector(".transition-effect");if(Te){const Ne=Te.querySelector(".transition-cover"),we=Te.querySelector(".transition-shadow"),Ve=(0,o.c)(),Ie=(0,o.c)(),Le=(0,o.c)();Ve.addElement(Te).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ie.addElement(Ne).beforeClearStyles([ve]).fromTo(ve,0,.1),Le.addElement(we).beforeClearStyles([ve]).fromTo(ve,.03,.7),Ve.addAnimation([Ie,Le]),pe.addAnimation([Ve])}}const Se=Xe.querySelector("ion-header.header-collapse-condense"),{forward:xe,backward:Ae}=((le,ke,Ce,fe,ve)=>{const De=q(fe,Ce),Be=Y(ve),qe=Y(fe),Oe=q(ve,Ce),mt=null!==De&&null!==Be&&!Ce,Me=null!==qe&&null!==Oe&&Ce;if(mt){const Xe=Be.getBoundingClientRect(),Ke=De.getBoundingClientRect();se(le,ke,Ce,Be,Xe,Ke),ae(le,ke,Ce,De,Xe,Ke)}else if(Me){const Xe=qe.getBoundingClientRect(),Ke=Oe.getBoundingClientRect();se(le,ke,Ce,qe,Xe,Ke),ae(le,ke,Ce,Oe,Xe,Ke)}return{forward:mt,backward:Me}})(ge,Oe,Qe,Xe,Ke);if(Ze.forEach(Te=>{const Ne=(0,o.c)();Ne.addElement(Te),ge.addAnimation(Ne);const we=(0,o.c)();we.addElement(Te.querySelector("ion-title"));const Ve=(0,o.c)(),Ie=Array.from(Te.querySelectorAll("ion-buttons,[menuToggle]")),Le=Te.closest("ion-header"),gt=null==Le?void 0:Le.classList.contains("header-collapse-condense-inactive");let bt;bt=Ie.filter(Qe?Ct=>{const st=Ct.classList.contains("buttons-collapse");return st&&!gt||!st}:Ct=>!Ct.classList.contains("buttons-collapse")),Ve.addElement(bt);const Mt=(0,o.c)();Mt.addElement(Te.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const un=(0,o.c)();un.addElement(Z(Te).querySelector(".toolbar-background"));const En=(0,o.c)(),tn=Te.querySelector("ion-back-button");if(tn&&En.addElement(tn),Ne.addAnimation([we,Ve,Mt,un,En]),Ve.fromTo(ve,.01,1),Mt.fromTo(ve,.01,1),Qe)gt||we.fromTo("transform",`translateX(${Me})`,`translateX(${Be})`).fromTo(ve,.01,1),Mt.fromTo("transform",`translateX(${Me})`,`translateX(${Be})`),En.fromTo(ve,.01,1);else if(Se||we.fromTo("transform",`translateX(${mt})`,`translateX(${Be})`).fromTo(ve,.01,1),Mt.fromTo("transform",`translateX(${mt})`,`translateX(${Be})`),un.beforeClearStyles([ve,"transform"]),(null==Le?void 0:Le.translucent)?un.fromTo("transform",Oe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):un.fromTo(ve,.01,"var(--opacity)"),xe||En.fromTo(ve,.01,1),tn&&!xe){const st=(0,o.c)();st.addElement(Z(tn).querySelector(".button-text")).fromTo("transform",Oe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ne.addAnimation(st)}}),Ke){const Te=(0,o.c)(),Ne=Ke.querySelector(":scope > ion-content"),we=Ke.querySelectorAll(":scope > ion-header > ion-toolbar"),Ve=Ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ne||0!==we.length||0!==Ve.length?(Te.addElement(Ne),Te.addElement(Ve)):Te.addElement(Ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ge.addAnimation(Te),Qe){Te.beforeClearStyles([ve]).fromTo("transform",`translateX(${Be})`,Oe?"translateX(-100%)":"translateX(100%)");const Ie=(0,y.g)(Ke);ge.afterAddWrite(()=>{"normal"===ge.getDirection()&&Ie.style.setProperty("display","none")})}else Te.fromTo("transform",`translateX(${Be})`,`translateX(${Me})`).fromTo(ve,1,.8);if(Ne){const Ie=Z(Ne).querySelector(".transition-effect");if(Ie){const Le=Ie.querySelector(".transition-cover"),gt=Ie.querySelector(".transition-shadow"),bt=(0,o.c)(),Mt=(0,o.c)(),un=(0,o.c)();bt.addElement(Ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Mt.addElement(Le).beforeClearStyles([ve]).fromTo(ve,.1,0),un.addElement(gt).beforeClearStyles([ve]).fromTo(ve,.7,.03),bt.addAnimation([Mt,un]),Te.addAnimation([bt])}}we.forEach(Ie=>{const Le=(0,o.c)();Le.addElement(Ie);const gt=(0,o.c)();gt.addElement(Ie.querySelector("ion-title"));const bt=(0,o.c)(),Mt=Ie.querySelectorAll("ion-buttons,[menuToggle]"),un=Ie.closest("ion-header"),En=null==un?void 0:un.classList.contains("header-collapse-condense-inactive"),tn=Array.from(Mt).filter(Cn=>{const bn=Cn.classList.contains("buttons-collapse");return bn&&!En||!bn});bt.addElement(tn);const Ct=(0,o.c)(),st=Ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");st.length>0&&Ct.addElement(st);const nn=(0,o.c)();nn.addElement(Z(Ie).querySelector(".toolbar-background"));const $t=(0,o.c)(),vn=Ie.querySelector("ion-back-button");if(vn&&$t.addElement(vn),Le.addAnimation([gt,bt,Ct,$t,nn]),ge.addAnimation(Le),$t.fromTo(ve,.99,0),bt.fromTo(ve,.99,0),Ct.fromTo(ve,.99,0),Qe){if(En||gt.fromTo("transform",`translateX(${Be})`,Oe?"translateX(-100%)":"translateX(100%)").fromTo(ve,.99,0),Ct.fromTo("transform",`translateX(${Be})`,Oe?"translateX(-100%)":"translateX(100%)"),nn.beforeClearStyles([ve,"transform"]),(null==un?void 0:un.translucent)?nn.fromTo("transform","translateX(0px)",Oe?"translateX(-100%)":"translateX(100%)"):nn.fromTo(ve,"var(--opacity)",0),vn&&!Ae){const bn=(0,o.c)();bn.addElement(Z(vn).querySelector(".button-text")).fromTo("transform",`translateX(${Be})`,`translateX(${(Oe?-124:124)+"px"})`),Le.addAnimation(bn)}}else En||gt.fromTo("transform",`translateX(${Be})`,`translateX(${Me})`).fromTo(ve,.99,0).afterClearStyles([De,ve]),Ct.fromTo("transform",`translateX(${Be})`,`translateX(${Me})`).afterClearStyles([De,ve]),$t.afterClearStyles([ve]),gt.afterClearStyles([ve]),bt.afterClearStyles([ve])})}return ge}catch(fe){throw fe}}},7838:(yt,U,R)=>{"use strict";R.r(U),R.d(U,{mdTransitionAnimation:()=>J});var o=R(181),y=R(1843);R(2621),R(1308);const J=(X,Z)=>{var Y,q,ce;const re="back"===Z.direction,ke=Z.leavingEl,Ce=(0,y.g)(Z.enteringEl),fe=Ce.querySelector("ion-toolbar"),ve=(0,o.c)();if(ve.addElement(Ce).fill("both").beforeRemoveClass("ion-page-invisible"),re?ve.duration((null!==(Y=Z.duration)&&void 0!==Y?Y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ve.duration((null!==(q=Z.duration)&&void 0!==q?q:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),fe){const De=(0,o.c)();De.addElement(fe),ve.addAnimation(De)}if(ke&&re){ve.duration((null!==(ce=Z.duration)&&void 0!==ce?ce:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const De=(0,o.c)();De.addElement((0,y.g)(ke)).onFinish(Be=>{1===Be&&De.elements.length>0&&De.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ve.addAnimation(De)}return ve}},3539:(yt,U,R)=>{"use strict";R.d(U,{B:()=>Ne,G:()=>we,a:()=>Y,b:()=>q,c:()=>re,d:()=>Qe,e:()=>ke,f:()=>ze,g:()=>pe,h:()=>X,i:()=>xe,j:()=>ve,k:()=>Xe,m:()=>ae,s:()=>Te});var o=R(5861),y=R(5179),K=R(7593),z=R(5730);let J=0;const X=new WeakMap,Z=Ve=>({create:Ie=>Ce(Ve,Ie),dismiss:(Ie,Le,gt)=>mt(document,Ie,Le,Ve,gt),getTop:()=>(0,o.Z)(function*(){return Xe(document,Ve)})()}),Y=Z("ion-alert"),q=Z("ion-action-sheet"),ae=Z("ion-modal"),re=Z("ion-popover"),ke=Ve=>{typeof document<"u"&&Oe(document);const Ie=J++;Ve.overlayIndex=Ie,Ve.hasAttribute("id")||(Ve.id=`ion-overlay-${Ie}`)},Ce=(Ve,Ie)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ve).then(()=>{const Le=document.createElement(Ve);return Le.classList.add("overlay-hidden"),Object.assign(Le,Object.assign(Object.assign({},Ie),{hasController:!0})),Ze(document).appendChild(Le),new Promise(gt=>(0,z.c)(Le,gt))}):Promise.resolve(),fe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ve=(Ve,Ie)=>{let Le=Ve.querySelector(fe);const gt=null==Le?void 0:Le.shadowRoot;gt&&(Le=gt.querySelector(fe)||Le),Le?(0,z.f)(Le):Ie.focus()},Be=(Ve,Ie)=>{const Le=Array.from(Ve.querySelectorAll(fe));let gt=Le.length>0?Le[Le.length-1]:null;const bt=null==gt?void 0:gt.shadowRoot;bt&&(gt=bt.querySelector(fe)||gt),gt?gt.focus():Ie.focus()},Oe=Ve=>{0===J&&(J=1,Ve.addEventListener("focus",Ie=>{((Ve,Ie)=>{const Le=Xe(Ie,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),gt=Ve.target;Le&&gt&&!Le.classList.contains("ion-disable-focus-trap")&&(Le.shadowRoot?(()=>{if(Le.contains(gt))Le.lastFocus=gt;else{const un=Le.lastFocus;ve(Le,Le),un===Ie.activeElement&&Be(Le,Le),Le.lastFocus=Ie.activeElement}})():(()=>{if(Le===gt)Le.lastFocus=void 0;else{const un=(0,z.g)(Le);if(!un.contains(gt))return;const En=un.querySelector(".ion-overlay-wrapper");if(!En)return;if(En.contains(gt))Le.lastFocus=gt;else{const tn=Le.lastFocus;ve(En,Le),tn===Ie.activeElement&&Be(En,Le),Le.lastFocus=Ie.activeElement}}})())})(Ie,Ve)},!0),Ve.addEventListener("ionBackButton",Ie=>{const Le=Xe(Ve);null!=Le&&Le.backdropDismiss&&Ie.detail.register(K.OVERLAY_BACK_BUTTON_PRIORITY,()=>Le.dismiss(void 0,Ne))}),Ve.addEventListener("keyup",Ie=>{if("Escape"===Ie.key){const Le=Xe(Ve);null!=Le&&Le.backdropDismiss&&Le.dismiss(void 0,Ne)}}))},mt=(Ve,Ie,Le,gt,bt)=>{const Mt=Xe(Ve,gt,bt);return Mt?Mt.dismiss(Ie,Le):Promise.reject("overlay does not exist")},Xe=(Ve,Ie,Le)=>{const gt=((Ve,Ie)=>(void 0===Ie&&(Ie="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ve.querySelectorAll(Ie)).filter(Le=>Le.overlayIndex>0)))(Ve,Ie).filter(bt=>!(Ve=>Ve.classList.contains("overlay-hidden"))(bt));return void 0===Le?gt[gt.length-1]:gt.find(bt=>bt.id===Le)},Ke=(Ve=!1)=>{const Le=Ze(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Le&&(Ve?Le.setAttribute("aria-hidden","true"):Le.removeAttribute("aria-hidden"))},Qe=function(){var Ve=(0,o.Z)(function*(Ie,Le,gt,bt,Mt){var un,En;if(Ie.presented)return;Ke(!0),Ie.presented=!0,Ie.willPresent.emit(),null===(un=Ie.willPresentShorthand)||void 0===un||un.emit();const tn=(0,y.b)(Ie),Ct=Ie.enterAnimation?Ie.enterAnimation:y.c.get(Le,"ios"===tn?gt:bt);(yield ge(Ie,Ct,Ie.el,Mt))&&(Ie.didPresent.emit(),null===(En=Ie.didPresentShorthand)||void 0===En||En.emit()),"ION-TOAST"!==Ie.el.tagName&&ut(Ie.el),Ie.keyboardClose&&(null===document.activeElement||!Ie.el.contains(document.activeElement))&&Ie.el.focus()});return function(Le,gt,bt,Mt,un){return Ve.apply(this,arguments)}}(),ut=function(){var Ve=(0,o.Z)(function*(Ie){let Le=document.activeElement;if(!Le)return;const gt=null==Le?void 0:Le.shadowRoot;gt&&(Le=gt.querySelector(fe)||Le),yield Ie.onDidDismiss(),Le.focus()});return function(Le){return Ve.apply(this,arguments)}}(),ze=function(){var Ve=(0,o.Z)(function*(Ie,Le,gt,bt,Mt,un,En){var tn,Ct;if(!Ie.presented)return!1;Ke(!1),Ie.presented=!1;try{Ie.el.style.setProperty("pointer-events","none"),Ie.willDismiss.emit({data:Le,role:gt}),null===(tn=Ie.willDismissShorthand)||void 0===tn||tn.emit({data:Le,role:gt});const st=(0,y.b)(Ie),nn=Ie.leaveAnimation?Ie.leaveAnimation:y.c.get(bt,"ios"===st?Mt:un);gt!==we&&(yield ge(Ie,nn,Ie.el,En)),Ie.didDismiss.emit({data:Le,role:gt}),null===(Ct=Ie.didDismissShorthand)||void 0===Ct||Ct.emit({data:Le,role:gt}),X.delete(Ie),Ie.el.classList.add("overlay-hidden"),Ie.el.style.removeProperty("pointer-events"),void 0!==Ie.el.lastFocus&&(Ie.el.lastFocus=void 0)}catch(st){console.error(st)}return Ie.el.remove(),!0});return function(Le,gt,bt,Mt,un,En,tn){return Ve.apply(this,arguments)}}(),Ze=Ve=>Ve.querySelector("ion-app")||Ve.body,ge=function(){var Ve=(0,o.Z)(function*(Ie,Le,gt,bt){gt.classList.remove("overlay-hidden");const un=Le(Ie.el,bt);(!Ie.animated||!y.c.getBoolean("animated",!0))&&un.duration(0),Ie.keyboardClose&&un.beforeAddWrite(()=>{const tn=gt.ownerDocument.activeElement;null!=tn&&tn.matches("input,ion-input, ion-textarea")&&tn.blur()});const En=X.get(Ie)||[];return X.set(Ie,[...En,un]),yield un.play(),!0});return function(Le,gt,bt,Mt){return Ve.apply(this,arguments)}}(),pe=(Ve,Ie)=>{let Le;const gt=new Promise(bt=>Le=bt);return Se(Ve,Ie,bt=>{Le(bt.detail)}),gt},Se=(Ve,Ie,Le)=>{const gt=bt=>{(0,z.b)(Ve,Ie,gt),Le(bt)};(0,z.a)(Ve,Ie,gt)},xe=Ve=>"cancel"===Ve||Ve===Ne,Ae=Ve=>Ve(),Te=(Ve,Ie)=>{if("function"==typeof Ve)return y.c.get("_zoneGate",Ae)(()=>{try{return Ve(Ie)}catch(gt){throw gt}})},Ne="backdrop",we="gesture"},2324:(yt,U,R)=>{"use strict";R.d(U,{x:()=>X});var o=R(5861),y=R(4718);class z{constructor(){this.radars=[],this.rains=[],this.gauges=[],this.events=[],this.infos={}}static getEmptyNode(){return new z}static getDemoNode(){const Y=new z;return new y.Link("rain","https://demo/api/rains/2"),Y}}class X{constructor(Y){this.storage=Y,this.node=z.getEmptyNode(),this.fidjMetaResult={data:new z}}storeData(Y,q){var ce=this;return(0,o.Z)(function*(){ce.node=JSON.parse(JSON.stringify(q)),ce.fidjMetaResult.data=ce.node,ce.isDemoMode?ce.storage.set("fidjMetaResult",JSON.stringify(ce.fidjMetaResult)):yield Y.put(ce.fidjMetaResult)})()}getRefreshedNodeCopy(Y){var q=this;return(0,o.Z)(function*(){if(q.isDemoMode){const se=q.storage.get("fidjMetaResult");return se&&(q.fidjMetaResult=JSON.parse(se),q.node=q.fidjMetaResult.data),JSON.parse(JSON.stringify(q.node))}yield Y.sync(()=>{q.node=z.getDemoNode(),q.storeData(Y,q.node)});const ae=yield Y.findAll();return ae&&ae.length>0&&ae[0].data&&(q.fidjMetaResult=ae[0],q.node=q.fidjMetaResult.data),JSON.parse(JSON.stringify(q.node))})()}setDemoMode(Y){this.isDemoMode=Y}}},8525:(yt,U,R)=>{"use strict";R.d(U,{jC:()=>ce.jC,H3:()=>se.H,zL:()=>ke,mO:()=>ce.mO,Ec:()=>ce.Ec,m8:()=>mt,Ke:()=>Be.K}),R(3432),R(2529);var K=R(3471);R(6324),R(3060);var ce=R(585),se=(R(2324),R(6568)),re=R(5861),le=R(8256);let ke=(()=>{var Me;class Xe{constructor(Qe){this.profileService=Qe}static getGeoValuesFromRainMeasures(Qe,ut){return this.computeValues(Qe.getPolars(),ut)}static getGeoValuesFromRadarMeasures(Qe,ut){return this.computeValues(Qe.getPolars(),ut)}static computeValues(Qe,ut){const ze=[];return Qe.forEach(Ze=>{const ge=Ze.azimuth;let pe=0;Ze.polarEdges.forEach(xe=>{const Ae=new K.PolarMapValue(xe,ge,pe);ze.push(Ae),pe+=Ze.distance})}),ze}getTimeline(Qe){var ut=this;return(0,re.Z)(function*(){const ze=[],Ze=Qe.getLinks(),ge=Qe.getId();for(const pe of Ze){const Se=pe.href.indexOf("measures/");if(Se>=0){const Ae=pe.href.substring(Se+9);if(Ae){const Te=Ae.indexOf("/"),Ne=Ae.substring(0,Te),we=Ae.substring(Te+1),Ve=new Date(Ne),Ie=ze.filter(Le=>Le.date.getTime()===Ve.getTime());Ie.length?Ie[0].radarMeasureIds.push(we):ze.push(new ce._Z(Ve,[we]))}}}for(const pe of Ze){const Se=pe.href.indexOf("computations/");if(Se>=0){const Ae=pe.href.substring(Se+13);if(Ae){const Te=Ae.split("/"),Ne=new Date(Te[0]),we=Te[1],Ve=Te[2],Ie=ze.filter(Le=>Le.date.getTime()===Ne.getTime());for(const Le of Ie)Le.rainComputationId=Ve,Le.rainComputationVersion=we,Le.rainComputationQualities=yield ut.getBuilds(ge,Ve)}}}return ze})()}getBuilds(Qe,ut){var ze=this;return(0,re.Z)(function*(){return yield ze.profileService.getRainCompares(Qe,ut)})()}}return(Me=Xe).\u0275fac=function(Qe){return new(Qe||Me)(le.LFG(se.H))},Me.\u0275prov=le.Yz7({token:Me,factory:Me.\u0275fac}),Xe})();R(3363);var fe=R(7227),ve=R(6895),De=R(433),Be=R(6945);let qe=(()=>{var Me;class Xe{constructor(){this._cache={}}getValue(Qe,ut){var ze=this;return(0,re.Z)(function*(){return ze._cache.hasOwnProperty(Qe)?console.log("cache done: ",Qe):(console.log("cache not done: ",Qe),ze.putValue(Qe,yield ut())),ze._cache[Qe]})()}putValue(Qe,ut){this._cache[Qe]=ut;const ze=Object.getOwnPropertyNames(this._cache).length;ze>30&&console.warn("cache size exceed ? do a restart ?",ze)}}return(Me=Xe).\u0275fac=function(Qe){return new(Qe||Me)},Me.\u0275prov=le.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Xe})();var Oe=R(4556);let mt=(()=>{var Me;class Xe{constructor(Qe){Qe&&console.log("SharedModule is already loaded. Import it in the AppModule only")}}return(Me=Xe).\u0275fac=function(Qe){return new(Qe||Me)(le.LFG(Me,12))},Me.\u0275mod=le.oAB({type:Me}),Me.\u0275inj=le.cJS({providers:[Be.K,ke,se.H,qe,Oe.I_,fe.Qb,fe.N9],imports:[ve.ez,De.u5,Oe.Pc,ve.ez]}),Xe})()},6568:(yt,U,R)=>{"use strict";R.d(U,{H:()=>se});var o=R(5861),y=R(1135),K=R(4718),J=R(2324),X=R(6275),Z=R(585),Y=R(8256),q=R(6945),ce=R(5860),ae=R(529);let se=(()=>{var re;class le{constructor(Ce,fe,ve){this.storage=Ce,this.fidjAngularService=fe,this.http=ve,console.log("ProfileService: New####"),this.email=this.storage.get("email")||null,this.asTeamId=this.storage.get("asTeamId")||null,this.readyForSync=new y.X(!1),this.roles=[],this.fidjStorage=new J.x(Ce),this.isDemoMode=!1}get isDemoMode(){return this.isDemo}set isDemoMode(Ce){this.isDemo=Ce||!0,this.fidjStorage.setDemoMode(this.isDemo)}get defaultUrlForAPI(){return this.storage.get("UrlForAPI")}set defaultUrlForAPI(Ce){this.storage.set("UrlForAPI",Ce)}refreshProfile(){var Ce=this;return(0,o.Z)(function*(){return Ce.nodeData=yield Ce.fidjStorage.getRefreshedNodeCopy(Ce.fidjAngularService),Ce.setRoles(yield Ce.fidjAngularService.getRoles()),Ce.nodeData})()}getEmail(){return this.email}setEmail(Ce){this.email=Ce,this.storage.set("email",this.email)}logout(){this.storage.remove("email")}isLoggedIn(){return this.fidjAngularService.isLoggedIn()}storeAll(){var Ce=this;return(0,o.Z)(function*(){return Ce.fidjStorage.storeData(Ce.fidjAngularService,Ce.nodeData)})()}createNotification(Ce,fe){var ve=this;return(0,o.Z)(function*(){try{const De=yield ve.fidjAngularService.sendOnEndpoint({key:"notifications",verb:"POST",defaultKeyUrl:ve.defaultUrlForAPI+"/notifications",data:{rain:Ce,message:fe}});return new K.EventNode(De)}catch(De){console.error("createNotification error:",De)}return null})()}getNotifications(Ce){var fe=this;return(0,o.Z)(function*(){try{const ve="?rain="+Ce;return(yield fe.fidjAngularService.sendOnEndpoint({key:"notifications",verb:"GET",relativePath:ve,defaultKeyUrl:fe.defaultUrlForAPI+"/notifications"})).notifications.map(Be=>new K.EventNode(Be))}catch(ve){console.error("createNotification error:",ve)}return null})()}getAllNotifications(){var Ce=this;return(0,o.Z)(function*(){try{return(yield Ce.fidjAngularService.sendOnEndpoint({key:"notifications",verb:"GET",defaultKeyUrl:Ce.defaultUrlForAPI+"/notifications"})).notifications.map(ve=>new K.EventNode(ve))}catch(fe){console.error("createNotification error:",fe)}return[]})()}getTeams(){var Ce=this;return(0,o.Z)(function*(){const fe=[];try{const ve=yield Ce.fidjAngularService.sendOnEndpoint({key:"teams_all",verb:"GET",defaultKeyUrl:Ce.defaultUrlForAPI+"/teams_all"});for(const De of ve.teams)fe.push(new K.TeamNode(De))}catch(ve){console.error("getTeams error:",ve)}return fe})()}getTeam(Ce){var fe=this;return(0,o.Z)(function*(){try{const ve=yield fe.fidjAngularService.sendOnEndpoint({key:"teams",verb:"GET",relativePath:Ce,defaultKeyUrl:fe.defaultUrlForAPI+"/teams"});return new K.TeamNode(ve)}catch(ve){console.error("getRadars error:",ve)}return null})()}getRadars(Ce){var fe=this;return(0,o.Z)(function*(){const ve=[],De=fe.defaultUrlForAPI+"/radars?teamId="+Ce;try{const Be=yield fe.fidjAngularService.sendOnEndpoint({key:"radars",verb:"GET",defaultKeyUrl:De});for(const qe of Be.radars){const Oe=new K.RadarNode(qe);ve.push(Oe)}}catch(Be){console.error("getRadars error:",Be)}return ve})()}getRadar(Ce){var fe=this;return(0,o.Z)(function*(){try{const ve=yield fe.fidjAngularService.sendOnEndpoint({key:"radars",verb:"GET",relativePath:Ce,defaultKeyUrl:fe.defaultUrlForAPI+"/radars"});return new K.RadarNode(ve)}catch(ve){console.error("getRadars error:",ve)}return null})()}putRadar(Ce,fe){var ve=this;return(0,o.Z)(function*(){const De={name:Ce.name};fe&&(De.configurationAsJSON=fe);try{const Be=yield ve.fidjAngularService.sendOnEndpoint({key:"radars",relativePath:Ce.id,verb:"PUT",data:De,defaultKeyUrl:ve.defaultUrlForAPI+"/radars/"});return new K.RadarNode(Be)}catch(Be){console.error("removeRadar error:",Be)}})()}getLonelyRadars(Ce){var fe=this;return(0,o.Z)(function*(){try{const ve=yield fe.fidjAngularService.sendOnEndpoint({key:"radars",verb:"GET",defaultKeyUrl:fe.defaultUrlForAPI+"/radars"}),De=[];return ve.radars.forEach(qe=>{let Oe=!1;Ce.forEach(mt=>{mt.getLinkId("radar",0)===qe.id&&(Oe=!0)}),Oe||De.push(qe)}),De}catch(ve){console.error("getLonelyRadars error:",ve)}return[]})()}getRainTimeframe(Ce,fe,ve){var De=this;return(0,o.Z)(function*(){try{let Be=Ce+"?format=timeframe";fe&&(Be+="&begin="+fe.toISOString()),ve&&(Be+="&end="+ve.toISOString());const qe=yield De.fidjAngularService.sendOnEndpoint({key:"rains",verb:"GET",relativePath:Be,defaultKeyUrl:De.defaultUrlForAPI+"/rains"}),Oe=new K.RainNode(qe.timeframe);return Oe.name+=".radar.timeframe",Oe}catch(Be){console.error("getRadarTimeframe error:",Be)}return null})()}getRains(Ce){var fe=this;return(0,o.Z)(function*(){const ve=[],De=fe.defaultUrlForAPI+"/rains?teamId="+Ce;try{const Be=yield fe.fidjAngularService.sendOnEndpoint({key:"rains",verb:"GET",defaultKeyUrl:De});for(const qe of Be.rains)ve.push(new K.RainNode(qe))}catch(Be){console.error("getRains error:",Be)}return ve})()}getRain(Ce){var fe=this;return(0,o.Z)(function*(){try{const ve=yield fe.fidjAngularService.sendOnEndpoint({key:"rains",relativePath:Ce,verb:"GET",defaultKeyUrl:fe.defaultUrlForAPI+"/rains/"});return new K.RainNode(ve)}catch(ve){console.error("getRains error:",ve)}return null})()}getCounts(Ce,fe,ve,De){var Be=this;return(0,o.Z)(function*(){try{let qe="";fe&&ve&&(qe="?periodBegin="+fe.toISOString()+"&periodEnd="+ve.toISOString()),De&&(qe+="&withQualities="+De);const mt=(yield Be.fidjAngularService.sendOnEndpoint({key:"rains",relativePath:Ce+"/counts"+qe,verb:"GET",defaultKeyUrl:Be.defaultUrlForAPI+"/rains/"})).counts,Me=[],Xe=[],Ke=[];return mt.forEach(Qe=>{Me.push(new X.B(1,NaN,NaN,Qe._id)),Xe.push(new X.B(Qe.gaugeMeasures,NaN,NaN,Qe._id)),Ke.push(new X.B(Qe.computationsByTeam,NaN,NaN,Qe._id))}),{radarMeasures:Me,gaugeMeasures:Xe,computationsByTeam:Ke}}catch(qe){console.error("getRains error:",qe)}return null})()}launchRainComputation(Ce,fe){var ve=this;return(0,o.Z)(function*(){var De;return null===(De=(yield ve.fidjAngularService.sendOnEndpoint({verb:"POST",key:"rains",relativePath:Ce+"/computations",data:{date:fe.toISOString()},defaultKeyUrl:ve.defaultUrlForAPI+"/rains"})).computations)||void 0===De?void 0:De.map(qe=>new K.RainComputation(qe))})()}getRainComputationCartesianMapById(Ce,fe){var ve=this;return(0,o.Z)(function*(){const De=Ce+"/computations/"+fe+"?format=cartesian-map",Be=yield ve.fidjAngularService.sendOnEndpoint({key:"rains",verb:"GET",relativePath:De,defaultKeyUrl:ve.defaultUrlForAPI+"/rains"});if(!Be["cartesian-map"])return null;const qe=new K.RainComputationMap(Be["cartesian-map"]);return qe.name=Ce+".rain.cartesian-map",qe})()}getRainCompares(Ce,fe){var ve=this;return(0,o.Z)(function*(){const De=Ce+"/computations/"+fe,Be=yield ve.fidjAngularService.sendOnEndpoint({key:"rains",verb:"GET",relativePath:De,defaultKeyUrl:ve.defaultUrlForAPI+"/rains"}),Oe=new K.RainComputation(Be).getLinks(),mt=[];for(const Me of Oe)if("rain-computation-quality"===Me.rel){const Xe=Me.getId(),Ke=Me.href.substring(Me.href.indexOf("version/")+8,Me.href.indexOf("/"+Xe));mt.push({id:Xe,version:Ke})}return mt})()}getRainCompareById(Ce,fe,ve){var De=this;return(0,o.Z)(function*(){const Be=Ce+"/computations/"+fe+"/compares/"+ve,qe=yield De.fidjAngularService.sendOnEndpoint({key:"rains",verb:"GET",relativePath:Be,defaultKeyUrl:De.defaultUrlForAPI+"/rains"}),Oe=new K.RainComputationQuality(qe);return Oe.qualitySpeedMatrixContainer=K.SpeedMatrixContainer.CreateFromJson(Oe.qualitySpeedMatrixContainer),Oe})()}getGauge(Ce){var fe=this;return(0,o.Z)(function*(){const ve=yield fe.fidjAngularService.sendOnEndpoint({key:"gauges",verb:"GET",relativePath:Ce,defaultKeyUrl:fe.defaultUrlForAPI+"/gauges"});return new K.GaugeNode(ve)})()}getGauges(Ce){var fe=this;return(0,o.Z)(function*(){let ve="";fe.asTeamId&&(ve+="?teamId="+fe.asTeamId),Ce&&(ve+=ve?"&":"?",ve+="rainId="+Ce);const De=[];try{const Be=yield fe.fidjAngularService.sendOnEndpoint({key:"gauges",verb:"GET",relativePath:ve,defaultKeyUrl:fe.defaultUrlForAPI+"/gauges"});for(const qe of Be.gauges)De.push(new Z.F$(qe))}catch(Be){console.error("getGauges error:",Be)}return De})()}getGaugeMeasures(Ce,fe,ve){var De=this;return(0,o.Z)(function*(){const Be=Ce+"/measures?begin="+fe.toISOString()+"&end="+ve.toISOString(),qe=yield De.fidjAngularService.sendOnEndpoint({key:"gauges",verb:"GET",relativePath:Be,defaultKeyUrl:De.defaultUrlForAPI+"/gauges"}),Oe=[];for(const mt of qe.gaugeMeasures)Oe.push(new K.GaugeMeasure(mt));return Oe})()}setRoles(Ce){this.roles=Ce}}return(re=le).\u0275fac=function(Ce){return new(Ce||re)(Y.LFG(q.K),Y.LFG(ce.DR),Y.LFG(ae.eN))},re.\u0275prov=Y.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),le})()},3060:(yt,U,R)=>{"use strict";R.d(U,{A:()=>q});var o=R(8256),y=R(6895),K=R(4556),z=R(2529);function J(ce,ae){if(1&ce){const se=o.EpF();o.TgZ(0,"ion-row")(1,"ion-col",1)(2,"ion-card",2)(3,"ion-card-header"),o._uU(4,"Cumulative"),o.qZA(),o.TgZ(5,"ion-card-content")(6,"raain-compare",3),o.NdJ("selectedPoint",function(le){o.CHM(se);const ke=o.oxw();return o.KtG(ke.onClick(le))}),o.qZA()()()()()}if(2&ce){const se=o.oxw();o.xp6(6),o.Q6J("compareIndex",0)("currentHeight",500)("pointMax",se.compareManager.globalComparePointsMax)("points",se.compareManager.globalComparePoints)}}function X(ce,ae){if(1&ce){const se=o.EpF();o.TgZ(0,"ion-card-content")(1,"raain-compare",3),o.NdJ("selectedPoint",function(le){o.CHM(se);const ke=o.oxw(3);return o.KtG(ke.onClick(le))}),o.qZA()()}if(2&ce){const se=o.oxw(),re=se.index,le=se.$implicit;o.xp6(1),o.Q6J("compareIndex",re)("currentHeight",500)("pointMax",le.comparePointsMax)("points",le.comparePoints)}}function Z(ce,ae){if(1&ce&&(o.TgZ(0,"ion-col",5)(1,"ion-card",2)(2,"ion-card-header"),o._uU(3),o.qZA(),o.YNc(4,X,2,4,"ion-card-content",0),o.qZA()()),2&ce){const se=ae.$implicit;o.xp6(3),o.AsE("",se.name," ",se.remarks," "),o.xp6(1),o.Q6J("ngIf",null==se.comparePoints?null:se.comparePoints.length)}}function Y(ce,ae){if(1&ce&&(o.TgZ(0,"ion-row"),o.YNc(1,Z,5,3,"ion-col",4),o.qZA()),2&ce){const se=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==se.compareManager?null:se.compareManager.uiCompares)}}let q=(()=>{var ce;class ae{constructor(re){this.ngZone=re,this.selectedPoint=new o.vpe}onClick(re){this.selectedPoint.emit({point:re.point,compareIndex:re.compareIndex})}}return(ce=ae).\u0275fac=function(re){return new(re||ce)(o.Y36(o.R0b))},ce.\u0275cmp=o.Xpm({type:ce,selectors:[["raain-compare-stack"]],inputs:{compareManager:"compareManager",currentHeight:"currentHeight",cumulative:"cumulative"},outputs:{selectedPoint:"selectedPoint"},decls:3,vars:2,consts:[[4,"ngIf"],["size","12"],[1,"card-compare"],[3,"compareIndex","currentHeight","pointMax","points","selectedPoint"],["size","12","size-md","6",4,"ngFor","ngForOf"],["size","12","size-md","6"]],template:function(re,le){1&re&&(o.TgZ(0,"ion-grid"),o.YNc(1,J,7,4,"ion-row",0),o.YNc(2,Y,2,1,"ion-row",0),o.qZA()),2&re&&(o.xp6(1),o.Q6J("ngIf",le.cumulative),o.xp6(1),o.Q6J("ngIf",!le.cumulative))},dependencies:[y.sg,y.O5,K.PM,K.FN,K.Zi,K.wI,K.jY,K.Nd,z.s],styles:["#card-matrix[_ngcontent-%COMP%]{width:170px}.card-compare[_ngcontent-%COMP%]{min-width:300px}ion-card-header[_ngcontent-%COMP%]{padding:0}"]}),ae})()},2529:(yt,U,R)=>{"use strict";R.d(U,{s:()=>Y});var o=R(8256),y=R(3471),z=R(6895),J=R(4556);const X=["canvasElement"];function Z(q,ce){if(1&q&&(o.TgZ(0,"h1"),o._uU(1),o.qZA()),2&q){const ae=o.oxw();o.xp6(1),o.Oqu(ae.remarks)}}let Y=(()=>{var q;class ce{constructor(se){this.ngZone=se,this.selectedPoint=new o.vpe,this.onSizeChanged=()=>{}}ngAfterViewChecked(){this.create()}ngOnChanges(se){this.change(se)}ngOnDestroy(){this.delete()}onClick(se){this.selectedPoint.emit({point:se,compareIndex:this.compareIndex})}changeData(se,re){var le,ke,Ce,fe,ve,De;let Be=!1;const qe=null===(le=this.compareElement)||void 0===le||null===(ke=le.chart)||void 0===ke||null===(Ce=ke.data)||void 0===Ce?void 0:Ce.datasets[0];qe&&(qe.data=se,Be=!0);const Oe=null===(fe=this.compareElement)||void 0===fe||null===(ve=fe.chart)||void 0===ve||null===(De=ve.data)||void 0===De?void 0:De.datasets[1];var mt,Me;Oe&&(Oe.data=re,Be=!0),Be&&(null===(mt=this.compareElement)||void 0===mt||null===(Me=mt.chart)||void 0===Me||Me.update())}onResize(se){this.updateMapSize()}create(){if(this.created)return;this.created=!0;const se=new y.ElementsFactory;this.compareElement=se.createCompare(this.canvasElement.nativeElement,new y.CompareElementInput(this.points.map(re=>({x:re.x,y:re.y,r:re.r,name:re.name,id:re.id})),this.pointMax,this.onClick.bind(this)))}delete(){var se,re;this.compareElement&&(null===(se=this.compareElement)||void 0===se||null===(re=se.chart)||void 0===re||re.destroy()),this.created=!1}change(se){se.points&&this.changeData(this.points,[{x:0,y:0},this.pointMax])}updateMapSize(){var se;let ke=(null===(se=this.canvasElement.nativeElement.parentNode)||void 0===se?void 0:se.parentNode.clientWidth)||window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const Ce=this.currentHeight||window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;ke-=20,this.currentWidth=ke,this.currentHeight=Ce,this.ngZone.run(()=>{this.onSizeChanged()})}}return(q=ce).\u0275fac=function(se){return new(se||q)(o.Y36(o.R0b))},q.\u0275cmp=o.Xpm({type:q,selectors:[["raain-compare"]],viewQuery:function(se,re){if(1&se&&o.Gf(X,5),2&se){let le;o.iGM(le=o.CRH())&&(re.canvasElement=le.first)}},hostBindings:function(se,re){1&se&&o.NdJ("resize",function(ke){return re.onResize(ke)},!1,o.Jf7)},inputs:{points:"points",pointMax:"pointMax",remarks:"remarks",compareIndex:"compareIndex",currentHeight:"currentHeight",currentWidth:"currentWidth"},outputs:{selectedPoint:"selectedPoint"},features:[o.TTD],decls:7,vars:1,consts:[["id","col-container"],["id","canvas-container"],[4,"ngIf"],["canvasElement",""]],template:function(se,re){1&se&&(o.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",0)(3,"div",1),o.YNc(4,Z,2,1,"h1",2),o._UZ(5,"canvas",null,3),o.qZA()()()()),2&se&&(o.xp6(4),o.Q6J("ngIf",re.remarks))},dependencies:[z.O5,J.wI,J.jY,J.Nd],styles:["#canvas-container[_ngcontent-%COMP%]{position:relative;height:30vh;width:40vw}"]}),ce})()},6324:(yt,U,R)=>{"use strict";R.d(U,{j:()=>Z});var o=R(5861),y=R(3471),z=R(8256),J=R(4556);const X=["canvasElement"];let Z=(()=>{var Y;class q{constructor(ae){this.ngZone=ae,this.focusDate=new Date,this.focusRange=y.DateRange.CENTURY,this.onSizeChanged=()=>{}}ngAfterViewChecked(){this.create()}ngOnChanges(ae){this.change(ae)}ngOnDestroy(){this.delete()}focusPrevious(){this.dateStatusElement.focusPrevious()}focusReset(){this.dateStatusElement.focusReset()}focusNext(){this.dateStatusElement.focusNext()}onResize(ae){this.updateMapSize()}create(){if(this.created)return;this.created=!0;const ae=new y.ElementsFactory;try{this.dateStatusElement=ae.createDateStatus(this.canvasElement.nativeElement,new y.DateStatusElementInput(this.points,this.focusDate,this.focusRange))}catch(se){console.warn("focus creation issue",se)}}delete(){var ae=this;return(0,o.Z)(function*(){var se,re;yield null===(se=ae.dateStatusElement)||void 0===se||null===(re=se.chart)||void 0===re?void 0:re.destroy(),ae.created=!1})()}change(ae){var se=this;return(0,o.Z)(function*(){yield se.delete(),se.create()})()}updateMapSize(){var ae;let le=(null===(ae=this.canvasElement.nativeElement.parentNode)||void 0===ae?void 0:ae.parentNode.clientWidth)||window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const ke=this.currentHeight||window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;le-=20,this.currentWidth=le,this.currentHeight=ke,this.ngZone.run(()=>{this.onSizeChanged()})}}return(Y=q).\u0275fac=function(ae){return new(ae||Y)(z.Y36(z.R0b))},Y.\u0275cmp=z.Xpm({type:Y,selectors:[["raain-date-focus"]],viewQuery:function(ae,se){if(1&ae&&z.Gf(X,5),2&ae){let re;z.iGM(re=z.CRH())&&(se.canvasElement=re.first)}},hostBindings:function(ae,se){1&ae&&z.NdJ("resize",function(le){return se.onResize(le)},!1,z.Jf7)},inputs:{points:"points",focusDate:"focusDate",focusRange:"focusRange",currentHeight:"currentHeight"},features:[z.TTD],decls:16,vars:4,consts:[["size-sm","1",1,"ion-text-left"],[3,"click"],[1,"ion-align-items-end"],["name","chevron-back-outline"],["id","col-container"],["id","canvas-container"],["canvasElement",""],[1,"ion-text-left"],["name","chevron-forward-outline"]],template:function(ae,se){1&ae&&(z.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",0)(3,"ion-button",1),z.NdJ("click",function(){return se.focusReset()}),z._uU(4," View all dates "),z.qZA()()(),z.TgZ(5,"ion-row",2)(6,"ion-col",0)(7,"ion-button",1),z.NdJ("click",function(){return se.focusPrevious()}),z._UZ(8,"ion-icon",3),z.qZA()(),z.TgZ(9,"ion-col",4)(10,"div",5),z._UZ(11,"canvas",null,6),z.qZA()(),z.TgZ(13,"ion-col",7)(14,"ion-button",1),z.NdJ("click",function(){return se.focusNext()}),z._UZ(15,"ion-icon",8),z.qZA()()()()),2&ae&&(z.xp6(10),z.Udp("height",se.currentHeight,"px")("width",se.currentWidth,"px"))},dependencies:[J.YG,J.wI,J.jY,J.gu,J.Nd],styles:["#col-container[_ngcontent-%COMP%]{height:100%}#canvas-container[_ngcontent-%COMP%]{position:relative;min-width:600px;height:100%}"]}),q})()},3432:(yt,U,R)=>{"use strict";R.d(U,{g:()=>q});var o=R(8256),y=R(3471),z=R(6895),J=R(433),X=R(4556);const Z=["primaryMap"];function Y(ce,ae){if(1&ce&&(o.TgZ(0,"ion-select-option",21),o._uU(1),o.ALo(2,"date"),o.qZA()),2&ce){const se=ae.$implicit;o.s9C("value",se.toISOString()),o.xp6(1),o.hij(" ",o.xi3(2,2,se,"yyyy-MM-dd HH:mm")," ")}}let q=(()=>{var ce;class ae{constructor(re){this.ngZone=re,this.autoplay=!1,this.showMarkers=!0,this.timeframeDates=[],this.selectedMarker=new o.vpe,this.changedDate=new o.vpe,this.delete();const le=[40,40],ke=[20,20],ve=[0,-20];this.iconOptions={gauges:{iconUrl:"./assets/maps/marker-pluvio.png",iconSize:le,iconAnchor:ke,popupAnchor:ve},gaugesInCompare:{iconUrl:"./assets/maps/marker-pluvio-diag.png",iconSize:le,iconAnchor:ke,popupAnchor:ve},selectedGauges:{iconUrl:"./assets/maps/marker-pluvio-diag-select.png",iconSize:le,iconAnchor:ke,popupAnchor:ve},pixels:{iconUrl:"./assets/maps/marker-rain.png",iconSize:le,iconAnchor:ke,popupAnchor:ve},pixelsSolution:{iconUrl:"./assets/maps/marker-rain2.png",iconSize:[41,41],iconAnchor:[20,20],popupAnchor:ve},borders:{iconUrl:"./assets/maps/marker-shadow.png",iconSize:le,iconAnchor:ke,popupAnchor:ve}}}ngAfterViewChecked(){this.create()}ngOnChanges(re){this.change(re)}ngOnDestroy(){this.delete()}showTimeframe(re=!1){var le;!this.dateToShowAsString||!re&&new Date(this.dateToShowAsString).getTime()===(null===(le=this.dateToShow)||void 0===le?void 0:le.getTime())||(this.dateToShow=new Date(this.dateToShowAsString),this.changedDate.emit(this.dateToShow))}next(){if(!this.possibleDates||0===this.possibleDates.length)return;const re=this.getDateToShowIndex();this.dateToShow=re+1<this.possibleDates.length?this.possibleDates[re+1]:this.possibleDates[0],this.dateToShowAsString=this.dateToShow.toISOString(),this.showTimeframe(!0),this.autoplay&&window.setTimeout(()=>this.next(),2e3)}previous(){if(this.stop(),!this.possibleDates||0===this.possibleDates.length)return;const re=this.getDateToShowIndex();this.dateToShow=re>0?this.possibleDates[re-1]:this.possibleDates[0],this.dateToShowAsString=this.dateToShow.toISOString(),this.showTimeframe(!0)}play(){this.autoplay=!0,this.next()}stop(){this.autoplay=!1}changeShowMarkers(){var re,le;null===(re=this.mapElement)||void 0===re||!re.markersLayer||null===(le=this.mapElement)||void 0===le||!le.mapLeaflet||(this.showMarkers?this.mapElement.markersLayer.addToMap(this.mapElement.mapLeaflet):this.mapElement.markersLayer.removeFromMap(this.mapElement.mapLeaflet))}create(){if(this.created)return;this.created=!0;const le=[{iconsLatLng:this.markers.gauges,iconsOptions:this.iconOptions.gauges},{iconsLatLng:this.markers.selectedGauges,iconsOptions:this.iconOptions.selectedGauges},{iconsLatLng:this.markers.gaugesInCompare,iconsOptions:this.iconOptions.gaugesInCompare},{iconsLatLng:this.markers.pixels,iconsOptions:this.iconOptions.pixels},{iconsLatLng:this.markers.pixelsSolution,iconsOptions:this.iconOptions.pixelsSolution}],ke=new y.ElementsFactory(this.coordinates,!0);this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{var Ce,fe;this.created&&(this.mapElement=ke.createMap(this.mapDivRef.nativeElement,{timeframeContainers:this.timeframeContainers,markers:le}),null===(Ce=this.mapElement.mapLeaflet)||void 0===Ce||Ce.on("mousemove",De=>this.onMapMouseMove(De)),null===(fe=this.mapElement.markersProduced)||void 0===fe||fe.forEach(De=>De.on("click",Be=>this.onMapClick(Be))),this.onSizeChanged=()=>{var De,Be,qe,Oe,mt;null===(De=this.mapElement.markersLayer)||void 0===De||De.setCurrentWidth(this.currentWidth),null===(Be=this.mapElement.markersLayer)||void 0===Be||Be.setCurrentHeight(this.currentHeight),null===(qe=this.mapElement.compositeLayer)||void 0===qe||qe.setCurrentWidth(this.currentWidth),null===(Oe=this.mapElement.compositeLayer)||void 0===Oe||Oe.setCurrentHeight(this.currentHeight),null===(mt=this.mapElement.mapLeaflet)||void 0===mt||mt.invalidateSize({animate:!0})},this.updateMapSize(),this.changeNavigation(this.defaultDate))},100)})}delete(){var re,le;null===(re=this.mapElement)||void 0===re||null===(le=re.mapLeaflet)||void 0===le||le.remove(),this.mapElement=void 0,this.mcText="",this.nextDate=void 0,this.possibleNames=[],this.possibleDates=[],this.timeframeNameToShow=void 0,this.dateToShow=void 0,this.dateToShowAsString=void 0,this.onSizeChanged=()=>{},this.currentFrameContainer=null,this.created=!1}change(re){var le,ke;let Ce;if(re.defaultDate){if(new Date(re.defaultDate.currentValue).getTime()===new Date(re.defaultDate.previousValue).getTime())return;Ce=this.defaultDate}if(re.markers&&null!==(le=this.mapElement)&&void 0!==le&&le.markersLayer){const Be=this.mapElement.markersLayer.render([{iconsLatLng:this.markers.gauges,iconOptions:this.iconOptions.gauges},{iconsLatLng:this.markers.selectedGauges,iconOptions:this.iconOptions.selectedGauges},{iconsLatLng:this.markers.gaugesInCompare,iconOptions:this.iconOptions.gaugesInCompare},{iconsLatLng:this.markers.pixels,iconOptions:this.iconOptions.pixels},{iconsLatLng:this.markers.pixelsSolution,iconOptions:this.iconOptions.pixelsSolution}]).markers;Be&&(Be.forEach(qe=>qe.on("click",Oe=>this.onMapClick(Oe))),this.showMarkers&&(this.mapElement.markersLayer.removeFromMap(this.mapElement.mapLeaflet),this.mapElement.markersLayer.addToMap(this.mapElement.mapLeaflet)))}var fe,ve;if(re.markers&&1===this.markers.selectedGauges.length&&this.mapElement.mapLeaflet.setView(this.markers.selectedGauges[0],10),this.mapElement&&re.timeframeContainers&&(this.mapElement.updateMapTimeframe(this.timeframeContainers),this.currentFrameContainer=null===(fe=this.timeframeContainers)||void 0===fe||null===(ve=fe.containers[0])||void 0===ve?void 0:ve.timeframe[0]),null!==(ke=this.mapElement)&&void 0!==ke&&ke.compositeLayer&&re.sumValues){const De=this.mapElement.compositeLayer.getFirstDrawer();this.sumResult=null==De?void 0:De.getExecOfVisiblePoints(this.sumValues,this.sumFn)}this.changeNavigation(Ce)}changeNavigation(re){var le;this.timeframeContainers&&this.timeframeContainers.containers.length&&(this.possibleNames=[],null===(le=this.timeframeContainers)||void 0===le||le.containers.forEach(ke=>{this.possibleNames.indexOf(ke.name)<0&&this.possibleNames.push(ke.name)}),this.timeframeNameToShow=this.possibleNames.length>0?this.possibleNames[0]:null),this.possibleDates=this.timeframeDates,this.possibleDates&&0!==this.possibleDates.length&&(re&&1===this.possibleDates.filter(ke=>ke.getTime()===re.getTime()).length&&(this.dateToShow=re),!this.dateToShow&&this.possibleDates.length>0&&1!==this.possibleDates.filter(ke=>{var Ce;return ke.getTime()===(null===(Ce=this.dateToShow)||void 0===Ce?void 0:Ce.getTime())}).length&&(this.dateToShow=this.possibleDates[0]),this.dateToShowAsString=this.dateToShow.toISOString())}getDateToShowIndex(){let re=0;for(const le of this.possibleDates){if(le.toISOString().substring(0,19)===this.dateToShowAsString.substring(0,19))break;re++}return re}onMapMouseMove(re){const le=re.latlng.lat.toFixed(3),ke=re.latlng.lng.toFixed(3);let Ce=NaN,fe=NaN,ve=NaN,De=NaN,Be=NaN;if(this.currentFrameContainer){const qe=this.currentFrameContainer.values.filter(Oe=>Oe.lat<=re.latlng.lat&&re.latlng.lat<Oe.lat2&&Oe.lng<=re.latlng.lng&&re.latlng.lng<Oe.lng2);1===qe.length&&(Ce=Math.round(1e3*qe[0].value)/1e3,fe=Math.round(1e3*qe[0].lat)/1e3,ve=Math.round(1e3*qe[0].lng)/1e3,De=Math.round(1e3*qe[0].lat2)/1e3,Be=Math.round(1e3*qe[0].lng2)/1e3)}this.ngZone.run(()=>{this.mcText=`Latitude: ${le} &nbsp; &nbsp; Longitude: ${ke} &nbsp; &nbsp; Value: [${fe} ${ve} | ${De} ${Be}] ${Ce}`})}onMapClick(re){var le,ke;this.selectedMarker.emit(new y.MapLatLng(null===(le=re.latlng)||void 0===le?void 0:le.lat,null===(ke=re.latlng)||void 0===ke?void 0:ke.lng,void 0,re.id,re.name))}onResize(re){this.updateMapSize()}updateMapSize(){var re;let Ce=(null===(re=this.mapDivRef.nativeElement.parentNode)||void 0===re?void 0:re.parentNode.clientWidth)||window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const fe=this.currentHeight||window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;Ce-=21,this.currentWidth=Ce,this.currentHeight=fe,this.ngZone.run(()=>{this.onSizeChanged()})}}return(ce=ae).\u0275fac=function(re){return new(re||ce)(o.Y36(o.R0b))},ce.\u0275cmp=o.Xpm({type:ce,selectors:[["raain-map"]],viewQuery:function(re,le){if(1&re&&o.Gf(Z,5),2&re){let ke;o.iGM(ke=o.CRH())&&(le.mapDivRef=ke.first)}},hostBindings:function(re,le){1&re&&o.NdJ("resize",function(Ce){return le.onResize(Ce)},!1,o.Jf7)},inputs:{coordinates:"coordinates",markers:"markers",timeframeContainers:"timeframeContainers",autoplay:"autoplay",showMarkers:"showMarkers",currentHeight:"currentHeight",timeframeDates:"timeframeDates",defaultDate:"defaultDate",sumValues:"sumValues",sumFn:"sumFn"},outputs:{selectedMarker:"selectedMarker",changedDate:"changedDate"},features:[o.TTD],decls:30,vars:9,consts:[[1,"ion-align-items-end"],["id","map-buttons","size-sm","3"],["color","medium","fill","outline","shape","round",3,"click"],["name","play-back","slot","icon-only"],["color","medium","fill","outline","shape","round",3,"hidden","click"],["name","stop","slot","icon-only"],["name","play-forward","slot","icon-only"],["id","map-date",1,"ion-text-start"],["interface","popover","placeholder","Period",3,"ngModel","value","ionDismiss","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","checked","ionChange","ngModelChange"],["id","map-container"],["id","map-div"],["primaryMap",""],[1,"ion-hide-xl-down"],["id","map-range","src","assets/r2r_range.svg"],["size-sm","8"],[3,"innerHTML"],["size-sm","1"],["disabled","true","fill","clear"],["size-sm","3"],[3,"value"]],template:function(re,le){1&re&&(o.TgZ(0,"ion-grid")(1,"ion-row",0)(2,"ion-col",1)(3,"ion-button",2),o.NdJ("click",function(){return le.previous()}),o._UZ(4,"ion-icon",3),o.qZA(),o.TgZ(5,"ion-button",4),o.NdJ("click",function(){return le.stop()}),o._UZ(6,"ion-icon",5),o.qZA(),o.TgZ(7,"ion-button",2),o.NdJ("click",function(){return le.next()}),o._UZ(8,"ion-icon",6),o.qZA()(),o.TgZ(9,"ion-col",7)(10,"ion-select",8),o.NdJ("ionDismiss",function(){return le.showTimeframe()})("ngModelChange",function(Ce){return le.dateToShowAsString=Ce}),o.YNc(11,Y,3,5,"ion-select-option",9),o.qZA()(),o.TgZ(12,"ion-col")(13,"ion-toggle",10),o.NdJ("ionChange",function(){return le.changeShowMarkers()})("ngModelChange",function(Ce){return le.showMarkers=Ce}),o.qZA()()(),o.TgZ(14,"ion-row")(15,"ion-col")(16,"div",11),o._UZ(17,"div",12,13),o.qZA()(),o.TgZ(19,"ion-col",14),o._UZ(20,"ion-img",15),o.qZA()(),o.TgZ(21,"ion-row")(22,"ion-col",16),o._UZ(23,"span",17),o.qZA(),o.TgZ(24,"ion-col",18)(25,"ion-button",19),o._uU(26),o.qZA()(),o.TgZ(27,"ion-col",20)(28,"ion-button",19),o._uU(29),o.qZA()()()()),2&re&&(o.xp6(5),o.Q6J("hidden",!le.autoplay),o.xp6(5),o.s9C("value",le.dateToShowAsString),o.Q6J("ngModel",le.dateToShowAsString),o.xp6(1),o.Q6J("ngForOf",le.possibleDates),o.xp6(2),o.Q6J("ngModel",le.showMarkers)("checked",le.showMarkers),o.xp6(10),o.Q6J("innerHTML",le.mcText,o.oJD),o.xp6(3),o.Oqu(le.sumResult),o.xp6(3),o.Oqu(null==le.dateToShow?null:le.dateToShow.toISOString()))},dependencies:[z.sg,J.JJ,J.On,X.YG,X.wI,X.jY,X.gu,X.Xz,X.Nd,X.t9,X.n0,X.ho,X.w,X.QI,z.uU],styles:["#map-container[_ngcontent-%COMP%]{position:relative;width:800px;height:400px}#map-div[_ngcontent-%COMP%]{position:absolute;left:0;top:0;right:0;bottom:0}#map-range[_ngcontent-%COMP%]{height:400px}#map-buttons[_ngcontent-%COMP%]{min-width:180px}ion-select[_ngcontent-%COMP%]{width:100%;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;font-size:16px;color:var(--ion-color-dark)}"]}),ae})()},3363:(yt,U,R)=>{"use strict";R.d(U,{t:()=>o});const o={_RAIN_STATUS_0_NOT_STARTED:0,_RAIN_STATUS_0_WAIT_FOR_ECHOES:.1,_RAIN_STATUS_0_WAIT_FOR_INPUT:.2,_RAIN_STATUS_0_WAIT_FOR_INTERNAL_VALIDATION:.3,_RAIN_STATUS_0_READY_TO_BUILD:.4,_RAIN_STATUS_1_BUILDING:.5,_RAIN_STATUS_1_READY_TO_COMPUTE:.6,_RAIN_COMPUTATION_IS_READY:0,_RAIN_COMPUTATION_IN_PROGRESS:.5,_RAIN_COMPUTATION_DONE:1,_INPUT_VALIDITY_NOT_CHECKED_YET:-1,_INPUT_VALIDITY_CHECK_IN_PROGRESS:-.5,_INPUT_VALIDITY_NOT_VALID:0,_INPUT_VALIDITY_NOT_CONFIDENT:.5,_INPUT_VALIDITY_VALID:1,_VERIFY_STATUS_FIND_RADARS:.3,_VERIFY_STATUS_FIND_SIMILAR:.6,_VERIFY_STATUS_FIND_GAUGES:.7,_COMPUTATION_STATUS_UNKNOWN:0,_COMPUTATION_STATUS_IN_PROGRESS:.4,_COMPUTATION_STATUS_FINISHED:1}},7227:(yt,U,R)=>{"use strict";R.d(U,{$j:()=>ae,N9:()=>le,Qb:()=>re,UA:()=>q,UD:()=>K,XW:()=>se,lB:()=>z,pt:()=>ke,vc:()=>J});var o=R(3363),y=R(8256);let K=(()=>{var Ce;class fe{transform(De){return De.filter(Be=>Be.status<=o.t._RAIN_STATUS_0_NOT_STARTED)}}return(Ce=fe).\u0275fac=function(De){return new(De||Ce)},Ce.\u0275pipe=y.Yjl({name:"areStopped",type:Ce,pure:!0}),fe})(),z=(()=>{var Ce;class fe{transform(De){return De.filter(Be=>o.t._RAIN_STATUS_0_NOT_STARTED<Be.status&&Be.status<o.t._RAIN_STATUS_1_READY_TO_COMPUTE)}}return(Ce=fe).\u0275fac=function(De){return new(De||Ce)},Ce.\u0275pipe=y.Yjl({name:"areInProgress",type:Ce,pure:!0}),fe})(),J=(()=>{var Ce;class fe{transform(De){return De.filter(Be=>Be.status>=o.t._RAIN_STATUS_1_READY_TO_COMPUTE&&Be.quality>o.t._INPUT_VALIDITY_NOT_CONFIDENT)}}return(Ce=fe).\u0275fac=function(De){return new(De||Ce)},Ce.\u0275pipe=y.Yjl({name:"areReady",type:Ce,pure:!0}),fe})(),q=(()=>{var Ce;class fe{transform(De){return De.quality>o.t._INPUT_VALIDITY_NOT_CONFIDENT?De:null}}return(Ce=fe).\u0275fac=function(De){return new(De||Ce)},Ce.\u0275pipe=y.Yjl({name:"hasGoodQuality",type:Ce,pure:!0}),fe})(),ae=(()=>{var Ce;class fe{transform(De){return De.status<0?0:De.status/2}}return(Ce=fe).\u0275fac=function(De){return new(De||Ce)},Ce.\u0275pipe=y.Yjl({name:"progressValue",type:Ce,pure:!0}),fe})(),se=(()=>{var Ce;class fe{transform(De){return De.quality<0?0:De.quality/2}}return(Ce=fe).\u0275fac=function(De){return new(De||Ce)},Ce.\u0275pipe=y.Yjl({name:"progressBuffer",type:Ce,pure:!0}),fe})(),re=(()=>{var Ce;class fe{transform(De){let Be=0;if(!De||0===De.length)return 1;for(const qe of De)qe.radarMeasureIds.length&&qe.rainComputationId&&Be++;return Be/De.length}}return(Ce=fe).\u0275fac=function(De){return new(De||Ce)},Ce.\u0275pipe=y.Yjl({name:"timeframeComputationProgress",type:Ce,pure:!0}),fe})(),le=(()=>{var Ce;class fe{transform(De){let Be=0;if(!De||0===De.length)return 1;for(const qe of De){const mt=(qe.rainComputationQualities?qe.rainComputationQualities:[]).filter(Me=>Me.version.indexOf("outdated")<0);qe.radarMeasureIds.length&&qe.rainComputationId&&mt.length&&Be++}return Be/De.length}}return(Ce=fe).\u0275fac=function(De){return new(De||Ce)},Ce.\u0275pipe=y.Yjl({name:"timeframeQualityProgress",type:Ce,pure:!0}),fe})(),ke=(()=>{var Ce;class fe{transform(De){return De.filter(qe=>!qe.red)}}return(Ce=fe).\u0275fac=function(De){return new(De||Ce)},Ce.\u0275pipe=y.Yjl({name:"haveNotBeenRed",type:Ce,pure:!1}),fe})()},6945:(yt,U,R)=>{"use strict";R.d(U,{K:()=>K});var o=R(5860),y=R(8256);let K=(()=>{var z;class J extends o.mM{constructor(){super(window.localStorage,"raain-app.")}}return(z=J).\u0275fac=function(Z){return new(Z||z)},z.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac}),J})()},585:(yt,U,R)=>{"use strict";R.d(U,{jC:()=>J,_Z:()=>X,F$:()=>Z,mO:()=>ze,Ec:()=>Ze});var o=R(5861),y=R(3471),K=R(4718),z=R(6275);class J{constructor(pe,Se,xe=(()=>{})){this.rainNode=pe,this.profileService=Se,this.onChanges=xe,this.cleanAll()}static CompareDate(pe,Se,xe){const Ae=new Date(pe.getTime()),Te=new Date(Se.getTime());return Te.setMinutes(Te.getMinutes()+xe),0===Math.round((Ae.getTime()-Te.getTime())/6e4)}cleanAll(){this.gaugesInCompare=[],this.selectedGauges=[],this.selectedPixels=[],this.pixelsSolutions=[],this.buildCompares={comparesPerDate:[],compareCumulative:null},this.globalComparePoints=[],this.globalComparePointsMax=new z.B(0,0),this.rainComputationQualitiesPerDate={},this.selectedGauge=null,this.selectedGaugeInPoints=null,this.cleanCompareQuality("no compare yet")}refreshCompareQuality(pe){var Se=this;return(0,o.Z)(function*(){var xe;const Ae=Se.getComparePerDate(pe.date);if(!Ae||null===(xe=Ae.rainComputationQuality)||void 0===xe||!xe.qualitySpeedMatrixContainer)return Se.cleanCompareQuality("no current quality "+Object.keys(Se.rainComputationQualitiesPerDate)),void Se.onChanges();const Te=Ae.compareTimeline.map(Ne=>({name:Ne.name,comparePoints:Ne.qualityPoints.map(we=>new z.B(we.getGaugeValue(),we.getRainValue(),2,we.gaugeLabel,we.gaugeId)),comparePointsMax:new z.B(Ne.maxValue+20,Ne.maxValue+20),comparePointsHistory:Ne.qualityPointsLegacy,remarks:Ne.remarks}));Se.currentQualityDoneDate=Ae.rainComputationQuality.isDoneDate,Se.currentQualityTimeSpentInMs=Ae.rainComputationQuality.timeSpentInMs,Se.currentQualityLaunchedBy=Ae.rainComputationQuality.launchedBy,Se.compareVersion=Ae.rainComputationQuality.getVersion(),Se.compareSpeedMatrix=Ae.rainComputationQuality.qualitySpeedMatrixContainer.renderMergedMatrix({normalize:!0}),Se.compareTrustedIndicator=Ae.rainComputationQuality.qualitySpeedMatrixContainer.getTrustedIndicators()[0],Se.compareNames=Te.map(Ne=>Ne.name),Se.uiCompares=Te,Se.onChanges()})()}refreshGlobalCompareQuality(pe,Se){var xe=this;return(0,o.Z)(function*(){try{if(yield xe.fetchRainComputationQualities(pe),yield xe.buildComparesTimeline(pe,Se),!xe.buildCompares.compareCumulative)return;xe.globalComparePoints=xe.buildCompares.compareCumulative.qualityPoints.map(Ae=>new z.B(Ae.getGaugeValue(),Ae.getRainValue(),2,Ae.gaugeLabel,Ae.gaugeId)),xe.globalComparePointsMax=new z.B(xe.buildCompares.compareCumulative.maxValue+20,xe.buildCompares.compareCumulative.maxValue+20)}catch(Ae){console.warn(Ae)}})()}setGauges(){var pe=this;return(0,o.Z)(function*(){const Se=[];for(const xe of pe.uiCompares)for(const Ae of xe.comparePointsHistory)0===Se.filter(Ne=>(null==Ne?void 0:Ne.gaugeId)===Ae.gaugeId).length&&Se.push(Ae);pe.gaugesInCompare=Se.map(xe=>new y.MapLatLng(xe.gaugeCartesianValue.lat,xe.gaugeCartesianValue.lng,0,xe.gaugeId,xe.gaugeLabel+">"+xe.getGaugeValue(),xe.getGaugeValue())),pe.resetSelectedGauges()})()}selectGauge(pe,Se){var xe=this;return(0,o.Z)(function*(){if(pe){const we=xe.getCurrentQualityPoints(Se).filter(Ve=>Ve.gaugeId===pe);xe.selectedGauge=1===we.length?we[0]:null}else xe.selectedGauge=null;if(!xe.selectedGauge)return xe.resetSelectedGauges();const Ae=xe.getCurrentQualityPoints(Se).filter(we=>we.gaugeId===xe.selectedGauge.gaugeId);let Te=[];if(1!==Ae.length)return xe.selectedGaugeInPoints=null,xe.selectedGauges=[],xe.selectedPixels=[],void(xe.pixelsSolutions=[]);{const we=JSON.parse(Ae[0].remark).sort((Ie,Le)=>Ie.criteriaAttemptedToBeMinimum-Le.criteriaAttemptedToBeMinimum);console.log(we),Te=we.map(Ie=>Ie.solutionForGauge.pixels.map(Le=>new y.MapLatLng(Le.y+.005,Le.x+.01,0,""+!Ie.notPossible,""+!Ie.notPossible,1)));const Ve=Ae[0].getTimeDeltaInMinutes();xe.selectedGaugeInPointsDetail=Ae[0].gaugeLabel+" > "+Math.round(100*Ae[0].getGaugeValue())/100+" / "+Math.round(100*Ae[0].getRainValue())/100+" dT="+Ve,xe.selectedGaugeInPoints=Ae[0]}xe.selectedGauges=[new y.MapLatLng(xe.selectedGaugeInPoints.gaugeCartesianValue.lat,xe.selectedGaugeInPoints.gaugeCartesianValue.lng,void 0,xe.selectedGaugeInPoints.gaugeId,xe.selectedGaugeInPoints.gaugeLabel+">"+xe.selectedGaugeInPoints.gaugeCartesianValue.value,xe.selectedGaugeInPoints.gaugeCartesianValue.value)],xe.selectGaugeInCompare();const Ne=[];for(const we of xe.selectedGaugeInPoints.rainCartesianValues)Ne.push(new y.MapLatLng(we.lat+.005,we.lng+.01));xe.selectedPixels=Ne,xe.pixelsSolutions=Te})()}buildComparesTimeline(pe,Se){var xe=this;return(0,o.Z)(function*(){const Te=pe.map(Ne=>Ne.date).map(Ne=>xe.getRainComputationQuality(Ne));return xe.buildCompares=K.SpeedMatrixContainer.BuildCompares(Te,!Se),xe.buildCompares})()}getComparePerDate(pe){const Se=this.buildCompares.comparesPerDate.filter(xe=>xe.date.getTime()===pe.getTime());return 1===Se.length?Se[0]:null}getCurrentQualityPoints(pe){return pe<0||this.compareNames.length<pe?[]:this.uiCompares[pe].comparePointsHistory}cleanCompareQuality(pe){this.compareVersion=pe,this.compareNames=[],this.uiCompares=[],this.compareSpeedMatrix=[],this.compareTrustedIndicator=void 0,this.currentQualityDoneDate=new Date(-1),this.currentQualityLaunchedBy="",this.currentQualityTimeSpentInMs=-1}fetchRainComputationQualities(pe){var Se=this;return(0,o.Z)(function*(){for(const xe of pe)if(!Se.rainComputationQualitiesPerDate[xe.date.toISOString()]&&xe.rainComputationQualityId)try{Se.rainComputationQualitiesPerDate[xe.date.toISOString()]=yield Se.profileService.getRainCompareById(Se.rainNode.getId(),xe.rainComputationId,xe.rainComputationQualityId)}catch(Ae){console.log(Ae)}})()}getRainComputationQuality(pe){return this.rainComputationQualitiesPerDate[pe.toISOString()]}selectGaugeInCompare(){for(const pe of this.uiCompares){const Se=JSON.parse(JSON.stringify(pe.comparePoints));Se.forEach(xe=>{var Ae;xe.r=xe.id===(null===(Ae=this.selectedGaugeInPoints)||void 0===Ae?void 0:Ae.gaugeId)?10:3}),pe.comparePoints=Se}}resetSelectedGauges(){this.selectedGauge=null,this.selectedGaugeInPoints=null,this.selectedGauges=[],this.selectedPixels=[],this.pixelsSolutions=[],this.selectGaugeInCompare()}}class X{constructor(pe,Se=[],xe=null,Ae=null,Te=[]){this.date=pe,this.radarMeasureIds=Se,this.rainComputationId=xe,this.rainComputationVersion=Ae,this.rainComputationQualities=Te}}class Z extends K.GaugeNode{constructor(pe){super(pe),this.isIn=!0,this.distance=0}approxDistanceFrom(pe){return this.distance=Math.round(100*(Math.pow(this.latitude-pe.lat,2)+Math.pow(this.longitude-pe.lng,2))*100)/100,this.distance}add(){this.isIn=!0}remove(){this.isIn=!1}}var Y=R(7579),q=R(9751),ce=R(727);class ae extends ce.w0{constructor(pe,Se){super()}schedule(pe,Se=0){return this}}const se={setInterval(ge,pe,...Se){const{delegate:xe}=se;return null!=xe&&xe.setInterval?xe.setInterval(ge,pe,...Se):setInterval(ge,pe,...Se)},clearInterval(ge){const{delegate:pe}=se;return((null==pe?void 0:pe.clearInterval)||clearInterval)(ge)},delegate:void 0};var re=R(8737);const ke={now:()=>(ke.delegate||Date).now(),delegate:void 0};class Ce{constructor(pe,Se=Ce.now){this.schedulerActionCtor=pe,this.now=Se}schedule(pe,Se=0,xe){return new this.schedulerActionCtor(this,pe).schedule(xe,Se)}}Ce.now=ke.now;const De=new class fe extends Ce{constructor(pe,Se=Ce.now){super(pe,Se),this.actions=[],this._active=!1}flush(pe){const{actions:Se}=this;if(this._active)return void Se.push(pe);let xe;this._active=!0;do{if(xe=pe.execute(pe.state,pe.delay))break}while(pe=Se.shift());if(this._active=!1,xe){for(;pe=Se.shift();)pe.unsubscribe();throw xe}}}(class le extends ae{constructor(pe,Se){super(pe,Se),this.scheduler=pe,this.work=Se,this.pending=!1}schedule(pe,Se=0){var xe;if(this.closed)return this;this.state=pe;const Ae=this.id,Te=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(Te,Ae,Se)),this.pending=!0,this.delay=Se,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(Te,this.id,Se),this}requestAsyncId(pe,Se,xe=0){return se.setInterval(pe.flush.bind(pe,this),xe)}recycleAsyncId(pe,Se,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Se;null!=Se&&se.clearInterval(Se)}execute(pe,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(pe,Se);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,Se){let Ae,xe=!1;try{this.work(pe)}catch(Te){xe=!0,Ae=Te||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),Ae}unsubscribe(){if(!this.closed){const{id:pe,scheduler:Se}=this,{actions:xe}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(xe,this),null!=pe&&(this.id=this.recycleAsyncId(Se,pe,null)),this.delay=null,super.unsubscribe()}}});var Be=R(3532);var mt=R(4482),Me=R(5403),Xe=R(8421),Ke=R(5032),ut=R(3900);class ze{constructor(pe,Se,xe,Ae,Te,Ne,we){this.rainNode=pe,this.radarService=Se,this.profileService=xe,this.compareManager=Ae,this.onRefreshInProgress=Te,this.onRefreshDone=Ne,this.onFetchDone=we,this.closeRefreshTimer=new Y.x,this.cleanAll()}static Delay(pe){return new Promise(Se=>setTimeout(Se,pe))}cleanAll(){var pe;this.countsPeriod={},this.timeframesFromRadars=[],this.timeframesFromRadarsExtended=[],this.timeframeDates=[],null===(pe=this.closeRefreshTimer)||void 0===pe||pe.next(null)}fetch(pe,Se){var xe=this;return(0,o.Z)(function*(){const Ae=xe.timeframesFromRadarsExtended.filter(Mt=>Mt.date.getTime()===pe.getTime());if(1!==Ae.length)return void console.log("no correct dateShown",pe,xe.timeframesFromRadarsExtended);const Te=Ae[0],Ne=xe.timeframesFromRadarsExtended.indexOf(Te);let we=null,Ve=null;const Ie=[""+Te.date.getTime()],Le={};var gt;Le[""+Te.date.getTime()]=Te,Ne>0&&(we=xe.timeframesFromRadarsExtended[Ne-1],Ie.push(""+we.date.getTime()),Le[""+we.date.getTime()]=we),Ne<xe.timeframesFromRadarsExtended.length&&(Ve=xe.timeframesFromRadarsExtended[Ne+1],null!==(gt=Ve)&&void 0!==gt&&gt.date&&(Ie.push(""+Ve.date.getTime()),Le[""+Ve.date.getTime()]=Ve));const bt=[];for(const Mt of Ie)if(Le[Mt]){const un=Le[Mt];un.rainComputationQualityId=xe.getRainComputationQualityTarget(un),un.withGauge=Se,bt.push(un);const En=yield xe.refreshMapTimeframeContainers(un);Mt===""+Te.date.getTime()&&xe.onFetchDone(En).then(tn=>{})}return xe.refreshCompareQuality(Te).then(Mt=>{}),Te})()}setPeriod(pe,Se){var xe=this;return(0,o.Z)(function*(){return xe.begin=pe,xe.end=Se,xe.refreshCounts()})()}refresh(pe){var Se=this;return(0,o.Z)(function*(){if(!Se.begin||!Se.end)throw new Error("need a period");Se.compareManager.cleanAll();let xe=!1,Ae=!1;var Te;(function Oe(ge=0,pe,Se=De){let xe=-1;return null!=pe&&((0,Be.K)(pe)?Se=pe:xe=pe),new q.y(Ae=>{let Te=function qe(ge){return ge instanceof Date&&!isNaN(ge)}(ge)?+ge-Se.now():ge;Te<0&&(Te=0);let Ne=0;return Se.schedule(function(){Ae.closed||(Ae.next(Ne++),0<=xe?this.schedule(void 0,xe):Ae.complete())},Te)})})(1e3,15e3).pipe((0,ut.w)((0,o.Z)(function*(){return xe||(xe=!0,Se.onRefreshInProgress(yield Se.refreshCounts(),Se.timeframeDates).then(Te=>{}),Ae=yield Se.refreshPeriodInsidePolling(),Ae||(xe=!1)),Ae})),function Qe(ge){return(0,mt.e)((pe,Se)=>{(0,Xe.Xf)(ge).subscribe((0,Me.x)(Se,()=>Se.complete(),Ke.Z)),!Se.closed&&pe.subscribe(Se)})}(Se.closeRefreshTimer)).subscribe({next:(Te=(0,o.Z)(function*(Ne){console.log("refreshFinished",Ne,pe),Ne&&(Se.closeRefreshTimer.next(null),yield Se.onRefreshDone(Se.timeframeDates))}),function(we){return Te.apply(this,arguments)}),error:Te=>{console.error("error in refresh",Te)}})})()}selectGauge(pe,Se){var xe=this;return(0,o.Z)(function*(){return xe.compareManager.selectGauge(pe,Se)})()}setRemoveDuplicate(pe){this.removeDuplicate=pe}refreshCounts(){var pe=this;return(0,o.Z)(function*(){const Se=yield pe.profileService.getCounts(pe.rainNode.id,pe.begin,pe.end,!0);return pe.countsPeriod={radarMeasures:Se.radarMeasures.reduce((xe,Ae)=>xe+Ae.x,0),gaugeMeasures:Se.gaugeMeasures.reduce((xe,Ae)=>xe+Ae.x,0),computationsByTeam:Se.computationsByTeam.reduce((xe,Ae)=>xe+Ae.x,0)},pe.countsPeriod})()}getRainComputationQualityTarget(pe){if(!(pe.rainComputationQualities.length<=0))return pe.rainComputationQualities[0].id}refreshPeriodInsidePolling(){var pe=this;return(0,o.Z)(function*(){let Se=!1;try{return Se=pe.refreshCheckIfDone(),yield pe.refreshTimeframesFromRadars(Se),pe.refreshGlobalCompareReport(Se).then(xe=>{}),Se}catch(xe){console.warn(xe)}return Se})()}refreshCheckIfDone(){return this.countsPeriod.computationsByTeam===this.countsPeriod.radarMeasures}refreshTimeframesFromRadars(pe){var Se=this;return(0,o.Z)(function*(){if(!pe)return[];const xe=new Date(Se.begin),Ae=new Date(Se.end);return xe.setMinutes(xe.getMinutes()-7),Ae.setMinutes(Ae.getMinutes()+7),Se.rainNode=yield Se.profileService.getRainTimeframe(Se.rainNode.getId(),xe,Ae),Se.timeframesFromRadarsExtended=yield Se.radarService.getTimeline(Se.rainNode),Se.timeframesFromRadars=Se.timeframesFromRadarsExtended.filter(Te=>Se.begin.getTime()<=Te.date.getTime()&&Te.date.getTime()<=Se.end.getTime()).sort((Te,Ne)=>Te.date.getTime()-Ne.date.getTime()),Se.timeframeDates=Se.timeframesFromRadars.map(Te=>Te.date),Se.timeframesFromRadars})()}refreshGlobalCompareReport(pe){var Se=this;return(0,o.Z)(function*(){if(!pe)return;const xe=[];for(const Ae of Se.timeframesFromRadarsExtended){const Te=JSON.parse(JSON.stringify(Ae));Te.date=new Date(Te.date),Te.rainComputationQualityId=Se.getRainComputationQualityTarget(Ae),xe.push(Te)}yield Se.compareManager.refreshGlobalCompareQuality(xe,!Se.removeDuplicate)})()}refreshMapTimeframeContainers(pe){var Se=this;return(0,o.Z)(function*(){if(!pe||!pe.rainComputationId)return void console.warn("Pb with refreshMapTimeframeContainers insights");const xe=Se.rainNode,Te=new y.TimeframeContainers([]);try{const Ne=yield Se.profileService.getRainComputationCartesianMapById(xe.getId(),pe.rainComputationId);Ne&&(Te.addFromRainComputationMap(Ne,!1),Se.rainComputationMapDate=Ne.date,Se.rainComputationMapDoneDate=Ne.isDoneDate,Se.rainComputationMapLaunchedBy=Ne.launchedBy,Se.rainComputationMapTimeSpentInMs=Ne.timeSpentInMs)}catch(Ne){console.warn("Pb with computations for id:",pe.rainComputationId,Ne)}return Te})()}refreshCompareQuality(pe){var Se=this;return(0,o.Z)(function*(){yield Se.compareManager.refreshCompareQuality(pe),yield Se.compareManager.setGauges()})()}}class Ze{constructor(pe,Se,xe){this.rainNode=pe,this.radarService=Se,this.profileService=xe}setDate(pe){var Se=this;return(0,o.Z)(function*(){const{values:xe}=yield Se.refreshTimeframesFromRadars(pe,pe);Se.sumFn=Te=>{const Ne=Te.reduce((we,Ve)=>we+5*Ve.value/60,0);return"w:"+Math.round(10*Ne)/10},Se.sumValues=xe})()}setPeriod(pe,Se){var xe=this;return(0,o.Z)(function*(){const{values:Ae,timeframesFromRadars:Te}=yield xe.refreshTimeframesFromRadars(pe,Se);xe.sumFn=Ne=>{const we=Ne.reduce((Ve,Ie)=>Ve+5*Ie.value/60/Te.length,0);return"wt:"+Math.round(10*we)/10},xe.sumValues=Ae})()}refreshTimeframesFromRadars(pe,Se){var xe=this;return(0,o.Z)(function*(){xe.rainNode=yield xe.profileService.getRainTimeframe(xe.rainNode.getId(),pe,Se);const Te=(yield xe.radarService.getTimeline(xe.rainNode)).filter(we=>pe.getTime()<=we.date.getTime()&&we.date.getTime()<=Se.getTime()).sort((we,Ve)=>we.date.getTime()-Ve.date.getTime());let Ne=[];for(const we of Te)Ne=Ne.concat(yield xe.getValues(we));return{values:Ne,timeframesFromRadars:Te}})()}getValues(pe){var Se=this;return(0,o.Z)(function*(){if(!pe||!pe.rainComputationId)return console.warn("Pb with target insights"),[];let xe=[];const Ae=Se.rainNode;new y.TimeframeContainers([]);try{const we=yield Se.profileService.getRainComputationCartesianMapById(Ae.getId(),pe.rainComputationId);we&&we.getMapData().forEach(Ve=>{Ve.values&&Ve.values.forEach(Ie=>{const Le=K.CartesianMeasureValue.From(Ie);xe=xe.concat(y.CartesianMapValue.From(Le.getCartesianValues(),Le.getCartesianPixelWidth()))})})}catch(we){console.warn("Pb with computations for id:",pe.rainComputationId,we)}return xe})()}}},6275:(yt,U,R)=>{"use strict";R.d(U,{B:()=>o});class o{constructor(K,z,J,X,Z){this.x=K,this.y=z,this.r=J,this.name=X,this.id=Z}}},24:(yt,U,R)=>{"use strict";var o=R(1481),y=R(8256),K=R(1407),z=R(4556),J=R(5861);const Z=(0,R(7423).fo)("SplashScreen",{web:()=>R.e(2680).then(R.bind(R,2680)).then(B=>new B.SplashScreenWeb)});var Y=R(5860);var ce=R(8525),ae=R(6895);function se(B,v){if(1&B&&(y.TgZ(0,"ion-badge",9),y._uU(1),y.qZA()),2&B){const P=y.oxw().$implicit,W=y.oxw();y.xp6(1),y.Oqu(W.getBadges(P))}}const re=function(B){return[B]};function le(B,v){if(1&B&&(y.TgZ(0,"ion-menu-toggle",5)(1,"ion-item",6),y._UZ(2,"ion-icon",7),y.TgZ(3,"ion-label"),y._uU(4),y.qZA(),y.YNc(5,se,2,1,"ion-badge",8),y.qZA()()),2&B){const P=v.$implicit,W=y.oxw();y.xp6(1),y.Q6J("routerDirection","root")("routerLink",y.VKq(5,re,P.url)),y.xp6(1),y.Q6J("name",P.icon),y.xp6(2),y.hij(" ",P.title," "),y.xp6(1),y.Q6J("ngIf",W.getBadges(P))}}let ke=(()=>{var B;class v{constructor(W,me,Fe,ft){this.platform=W,this.fidjAngularService=me,this.router=Fe,this.profile=ft,this.appPages=[{title:"Dashboard",url:"/home",icon:"home"},{title:"Radars",url:"/radars",icon:"wifi"},{title:"Rains",url:"/rains",icon:"rainy"},{title:"Events",url:"/events",icon:"notifications-outline"},{title:"Settings",url:"/profile",icon:"settings"},{title:"Sign out",url:"/login",icon:"log-out"}],this.notifications=[],this.initializeApp()}initializeApp(){var W=this;this.profile.defaultUrlForAPI="serverUrlToReplace",this.platform.ready().then((0,J.Z)(function*(){yield W.initFidj(),yield W.getNotifications(),Z.hide()}))}initFidj(){var W=this;return(0,J.Z)(function*(){try{yield W.fidjAngularService.init("fidj-xxx",{logLevel:Y.WG.INFO,crypto:!1,prod:true,useDB:!1}),console.log("initFidj done."),W.profile.readyForSync.next(!0),W.fidjAngularService.isLoggedIn()||W.router.navigate(["/login"])}catch(me){404!==me.code?console.error("initFidj catch pb: ",me):(console.warn("initFidj - fidj is not online => demo only ",me),W.fidjAngularService.isLoggedIn()||W.router.navigate(["/login"]))}})()}getNotifications(){var W=this;return(0,J.Z)(function*(){W.notifications=yield W.profile.getAllNotifications()})()}getBadges(W){var me;return"Events"!==W.title?0:null===(me=this.notifications)||void 0===me?void 0:me.length}}return(B=v).\u0275fac=function(W){return new(W||B)(y.Y36(z.t4),y.Y36(Y.DR),y.Y36(K.F0),y.Y36(ce.H3))},B.\u0275cmp=y.Xpm({type:B,selectors:[["app-root"]],decls:11,vars:1,consts:[["contentId","main-content","when","(min-width: 5000px)"],["contentId","main-content","type","overlay"],["id","my-content"],["auto-hide","false",4,"ngFor","ngForOf"],["id","main-content"],["auto-hide","false"],[3,"routerDirection","routerLink"],["slot","start",3,"name"],["slot","end",4,"ngIf"],["slot","end"]],template:function(W,me){1&W&&(y.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-header")(4,"ion-toolbar")(5,"ion-title"),y._uU(6,"Menu"),y.qZA()()(),y.TgZ(7,"ion-content",2)(8,"ion-list"),y.YNc(9,le,6,7,"ion-menu-toggle",3),y.qZA()()(),y._UZ(10,"ion-router-outlet",4),y.qZA()()),2&W&&(y.xp6(9),y.Q6J("ngForOf",me.appPages))},dependencies:[ae.sg,ae.O5,z.dr,z.yp,z.W2,z.Gu,z.gu,z.Ie,z.Q$,z.q_,z.z0,z.zc,z.jI,z.wd,z.sr,z.jP,z.YI,K.rH],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu[_ngcontent-%COMP%]::part(backdrop){background-color:rgba(0,119,255,.5)}ion-menu[_ngcontent-%COMP%]::part(container){border-radius:0 2px 2px 0;box-shadow:4px 0 16px rgba(0,255,196,.18)}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),v})(),Ce=(()=>{var B;class v{constructor(){}ngOnInit(){}}return(B=v).\u0275fac=function(W){return new(W||B)},B.\u0275cmp=y.Xpm({type:B,selectors:[["app-page-not-found"]],decls:9,vars:0,consts:[[1,"welcome-card"],["src","/assets/login.png"],["href","/"]],template:function(W,me){1&W&&(y.TgZ(0,"ion-content")(1,"ion-card",0),y._UZ(2,"ion-img",1),y.TgZ(3,"ion-card-header")(4,"ion-card-title"),y._uU(5,"Wrong url :("),y.qZA(),y.TgZ(6,"ion-card-subtitle")(7,"a",2),y._uU(8,"...back"),y.qZA()()()()())},dependencies:[z.PM,z.Zi,z.tO,z.Dq,z.W2,z.Xz],styles:["ion-img[_ngcontent-%COMP%]{max-width:100px}"]}),v})(),fe=(()=>{var B;class v{constructor(W,me){this.fidjAngularService=W,this.profile=me}canActivate(W,me){var Fe=this;return(0,J.Z)(function*(){if(Fe.profile.isDemoMode)return!0;const ft=Fe.fidjAngularService.isLoggedIn(),Tt=(yield Fe.fidjAngularService.getRoles()).indexOf("admin")>=0;return ft&&Tt})()}}return(B=v).\u0275fac=function(W){return new(W||B)(y.LFG(Y.DR),y.LFG(ce.H3))},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),v})();const ve=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([R.e(8592),R.e(8602)]).then(R.bind(R,8602)).then(B=>B.HomePageModule),canActivate:[fe]},{path:"radars",loadChildren:()=>R.e(1052).then(R.bind(R,1052)).then(B=>B.RadarsPageModule),canActivate:[fe]},{path:"rains",loadChildren:()=>Promise.all([R.e(8592),R.e(3421)]).then(R.bind(R,3421)).then(B=>B.RainsPageModule),canActivate:[fe]},{path:"events",loadChildren:()=>R.e(9946).then(R.bind(R,9946)).then(B=>B.EventsPageModule),canActivate:[fe]},{path:"profile",loadChildren:()=>Promise.all([R.e(8592),R.e(9703)]).then(R.bind(R,9703)).then(B=>B.ProfilePageModule),canActivate:[fe]},{path:"login",loadChildren:()=>Promise.all([R.e(8592),R.e(7110)]).then(R.bind(R,7110)).then(B=>B.LoginPageModule)},{path:"**",component:Ce}];let De=(()=>{var B;class v{}return(B=v).\u0275fac=function(W){return new(W||B)},B.\u0275mod=y.oAB({type:B}),B.\u0275inj=y.cJS({imports:[K.Bz.forRoot(ve,{useHash:!0,preloadingStrategy:K.GZ}),K.Bz]}),v})();class Be{}class qe{}const Oe="*";function Ke(B,v=null){return{type:2,steps:B,options:v}}function Qe(B){return{type:6,styles:B,offset:null}}function Te(B){Promise.resolve().then(B)}class Ne{constructor(v=0,P=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=v+P}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Te(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(v=>v()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(v){this._position=this.totalTime?v*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(v){const P="start"==v?this._onStartFns:this._onDoneFns;P.forEach(W=>W()),P.length=0}}class we{constructor(v){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=v;let P=0,W=0,me=0;const Fe=this.players.length;0==Fe?Te(()=>this._onFinish()):this.players.forEach(ft=>{ft.onDone(()=>{++P==Fe&&this._onFinish()}),ft.onDestroy(()=>{++W==Fe&&this._onDestroy()}),ft.onStart(()=>{++me==Fe&&this._onStart()})}),this.totalTime=this.players.reduce((ft,Tt)=>Math.max(ft,Tt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this.players.forEach(v=>v.init())}onStart(v){this._onStartFns.push(v)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(v=>v()),this._onStartFns=[])}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(v=>v.play())}pause(){this.players.forEach(v=>v.pause())}restart(){this.players.forEach(v=>v.restart())}finish(){this._onFinish(),this.players.forEach(v=>v.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(v=>v.destroy()),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}reset(){this.players.forEach(v=>v.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(v){const P=v*this.totalTime;this.players.forEach(W=>{const me=W.totalTime?Math.min(1,P/W.totalTime):1;W.setPosition(me)})}getPosition(){const v=this.players.reduce((P,W)=>null===P||W.totalTime>P.totalTime?W:P,null);return null!=v?v.getPosition():0}beforeDestroy(){this.players.forEach(v=>{v.beforeDestroy&&v.beforeDestroy()})}triggerCallback(v){const P="start"==v?this._onStartFns:this._onDoneFns;P.forEach(W=>W()),P.length=0}}const Ve="!";function Le(B){return new y.vHH(3e3,!1)}function Zt(){return typeof window<"u"&&typeof window.document<"u"}function _t(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ut(B){switch(B.length){case 0:return new Ne;case 1:return B[0];default:return new we(B)}}function gn(B,v,P,W,me=new Map,Fe=new Map){const ft=[],Tt=[];let Jt=-1,pn=null;if(W.forEach(Dn=>{const Jn=Dn.get("offset"),Si=Jn==Jt,Hi=Si&&pn||new Map;Dn.forEach((Ri,Li)=>{let Sr=Li,Lr=Ri;if("offset"!==Li)switch(Sr=v.normalizePropertyName(Sr,ft),Lr){case Ve:Lr=me.get(Li);break;case Oe:Lr=Fe.get(Li);break;default:Lr=v.normalizeStyleValue(Li,Sr,Lr,ft)}Hi.set(Sr,Lr)}),Si||Tt.push(Hi),pn=Hi,Jt=Jn}),ft.length)throw function xt(B){return new y.vHH(3502,!1)}();return Tt}function yn(B,v,P,W){switch(v){case"start":B.onStart(()=>W(P&&jt(P,"start",B)));break;case"done":B.onDone(()=>W(P&&jt(P,"done",B)));break;case"destroy":B.onDestroy(()=>W(P&&jt(P,"destroy",B)))}}function jt(B,v,P){const W=P.totalTime,Fe=Yn(B.element,B.triggerName,B.fromState,B.toState,v||B.phaseName,null==W?B.totalTime:W,!!P.disabled),ft=B._data;return null!=ft&&(Fe._data=ft),Fe}function Yn(B,v,P,W,me="",Fe=0,ft){return{element:B,triggerName:v,fromState:P,toState:W,phaseName:me,totalTime:Fe,disabled:!!ft}}function ai(B,v,P){let W=B.get(v);return W||B.set(v,W=P),W}function ti(B){const v=B.indexOf(":");return[B.substring(1,v),B.slice(v+1)]}let Vi=(B,v)=>!1,er=(B,v,P)=>[],At=null;function Nt(B){const v=B.parentNode||B.host;return v===At?null:v}(_t()||typeof Element<"u")&&(Zt()?(At=(()=>document.documentElement)(),Vi=(B,v)=>{for(;v;){if(v===B)return!0;v=Nt(v)}return!1}):Vi=(B,v)=>B.contains(v),er=(B,v,P)=>{if(P)return Array.from(B.querySelectorAll(v));const W=B.querySelector(v);return W?[W]:[]});let hn=null,Un=!1;const Ki=Vi,zi=er;let Rr=(()=>{class B{validateStyleProperty(P){return function Hn(B){hn||(hn=function Pr(){return typeof document<"u"?document.body:null}()||{},Un=!!hn.style&&"WebkitAppearance"in hn.style);let v=!0;return hn.style&&!function Xt(B){return"ebkit"==B.substring(1,6)}(B)&&(v=B in hn.style,!v&&Un&&(v="Webkit"+B.charAt(0).toUpperCase()+B.slice(1)in hn.style)),v}(P)}matchesElement(P,W){return!1}containsElement(P,W){return Ki(P,W)}getParentElement(P){return Nt(P)}query(P,W,me){return zi(P,W,me)}computeStyle(P,W,me){return me||""}animate(P,W,me,Fe,ft,Tt=[],Jt){return new Ne(me,Fe)}}return B.\u0275fac=function(P){return new(P||B)},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac}),B})(),Nr=(()=>{class B{}return B.NOOP=new Rr,B})();const Eo=1e3,kr="ng-enter",fr="ng-leave",tr="ng-trigger",co=".ng-trigger",to="ng-animating",Yr=".ng-animating";function ho(B){if("number"==typeof B)return B;const v=B.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:nr(parseFloat(v[1]),v[2])}function nr(B,v){return"s"===v?B*Eo:B}function Oi(B,v,P){return B.hasOwnProperty("duration")?B:function Ei(B,v,P){let me,Fe=0,ft="";if("string"==typeof B){const Tt=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Tt)return v.push(Le()),{duration:0,delay:0,easing:""};me=nr(parseFloat(Tt[1]),Tt[2]);const Jt=Tt[3];null!=Jt&&(Fe=nr(parseFloat(Jt),Tt[4]));const pn=Tt[5];pn&&(ft=pn)}else me=B;if(!P){let Tt=!1,Jt=v.length;me<0&&(v.push(function gt(){return new y.vHH(3100,!1)}()),Tt=!0),Fe<0&&(v.push(function bt(){return new y.vHH(3101,!1)}()),Tt=!0),Tt&&v.splice(Jt,0,Le())}return{duration:me,delay:Fe,easing:ft}}(B,v,P)}function di(B,v={}){return Object.keys(B).forEach(P=>{v[P]=B[P]}),v}function Br(B){const v=new Map;return Object.keys(B).forEach(P=>{v.set(P,B[P])}),v}function We(B,v=new Map,P){if(P)for(let[W,me]of P)v.set(W,me);for(let[W,me]of B)v.set(W,me);return v}function tt(B,v,P){return P?v+":"+P+";":""}function ht(B){let v="";for(let P=0;P<B.style.length;P++){const W=B.style.item(P);v+=tt(0,W,B.style.getPropertyValue(W))}for(const P in B.style)B.style.hasOwnProperty(P)&&!P.startsWith("_")&&(v+=tt(0,gr(P),B.style[P]));B.setAttribute("style",v)}function Rt(B,v,P){B.style&&(v.forEach((W,me)=>{const Fe=An(me);P&&!P.has(me)&&P.set(me,B.style[Fe]),B.style[Fe]=W}),_t()&&ht(B))}function Qt(B,v){B.style&&(v.forEach((P,W)=>{const me=An(W);B.style[me]=""}),_t()&&ht(B))}function rt(B){return Array.isArray(B)?1==B.length?B[0]:Ke(B):B}const Yt=new RegExp("{{\\s*(.+?)\\s*}}","g");function mn(B){let v=[];if("string"==typeof B){let P;for(;P=Yt.exec(B);)v.push(P[1]);Yt.lastIndex=0}return v}function sn(B,v,P){const W=B.toString(),me=W.replace(Yt,(Fe,ft)=>{let Tt=v[ft];return null==Tt&&(P.push(function un(B){return new y.vHH(3003,!1)}()),Tt=""),Tt.toString()});return me==W?B:me}function jn(B){const v=[];let P=B.next();for(;!P.done;)v.push(P.value),P=B.next();return v}const oi=/-+([a-z0-9])/g;function An(B){return B.replace(oi,(...v)=>v[1].toUpperCase())}function gr(B){return B.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mi(B,v,P){switch(v.type){case 7:return B.visitTrigger(v,P);case 0:return B.visitState(v,P);case 1:return B.visitTransition(v,P);case 2:return B.visitSequence(v,P);case 3:return B.visitGroup(v,P);case 4:return B.visitAnimate(v,P);case 5:return B.visitKeyframes(v,P);case 6:return B.visitStyle(v,P);case 8:return B.visitReference(v,P);case 9:return B.visitAnimateChild(v,P);case 10:return B.visitAnimateRef(v,P);case 11:return B.visitQuery(v,P);case 12:return B.visitStagger(v,P);default:throw function En(B){return new y.vHH(3004,!1)}()}}function Ir(B,v){return window.getComputedStyle(B)[v]}const Ue="*";function ot(B,v){const P=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(W=>function wt(B,v,P){if(":"==B[0]){const Jt=function Wt(B,v){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(P,W)=>parseFloat(W)>parseFloat(P);case":decrement":return(P,W)=>parseFloat(W)<parseFloat(P);default:return v.push(function Fr(B){return new y.vHH(3016,!1)}()),"* => *"}}(B,P);if("function"==typeof Jt)return void v.push(Jt);B=Jt}const W=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==W||W.length<4)return P.push(function ir(B){return new y.vHH(3015,!1)}()),v;const me=W[1],Fe=W[2],ft=W[3];v.push(Fn(me,ft));"<"==Fe[0]&&!(me==Ue&&ft==Ue)&&v.push(Fn(ft,me))}(W,P,v)):P.push(B),P}const Gt=new Set(["true","1"]),cn=new Set(["false","0"]);function Fn(B,v){const P=Gt.has(B)||cn.has(B),W=Gt.has(v)||cn.has(v);return(me,Fe)=>{let ft=B==Ue||B==me,Tt=v==Ue||v==Fe;return!ft&&P&&"boolean"==typeof me&&(ft=me?Gt.has(B):cn.has(B)),!Tt&&W&&"boolean"==typeof Fe&&(Tt=Fe?Gt.has(v):cn.has(v)),ft&&Tt}}const Vn=new RegExp("s*:selfs*,?","g");function wn(B,v,P,W){return new Yi(B).build(v,P,W)}class Yi{constructor(v){this._driver=v}build(v,P,W){const me=new Tr(P);return this._resetContextStyleTimingState(me),Mi(this,rt(v),me)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,P){let W=P.queryCount=0,me=P.depCount=0;const Fe=[],ft=[];return"@"==v.name.charAt(0)&&P.errors.push(function Ct(){return new y.vHH(3006,!1)}()),v.definitions.forEach(Tt=>{if(this._resetContextStyleTimingState(P),0==Tt.type){const Jt=Tt,pn=Jt.name;pn.toString().split(/\s*,\s*/).forEach(Dn=>{Jt.name=Dn,Fe.push(this.visitState(Jt,P))}),Jt.name=pn}else if(1==Tt.type){const Jt=this.visitTransition(Tt,P);W+=Jt.queryCount,me+=Jt.depCount,ft.push(Jt)}else P.errors.push(function st(){return new y.vHH(3007,!1)}())}),{type:7,name:v.name,states:Fe,transitions:ft,queryCount:W,depCount:me,options:null}}visitState(v,P){const W=this.visitStyle(v.styles,P),me=v.options&&v.options.params||null;if(W.containsDynamicStyles){const Fe=new Set,ft=me||{};W.styles.forEach(Tt=>{Tt instanceof Map&&Tt.forEach(Jt=>{mn(Jt).forEach(pn=>{ft.hasOwnProperty(pn)||Fe.add(pn)})})}),Fe.size&&(jn(Fe.values()),P.errors.push(function nn(B,v){return new y.vHH(3008,!1)}()))}return{type:0,name:v.name,style:W,options:me?{params:me}:null}}visitTransition(v,P){P.queryCount=0,P.depCount=0;const W=Mi(this,rt(v.animation),P);return{type:1,matchers:ot(v.expr,P.errors),animation:W,queryCount:P.queryCount,depCount:P.depCount,options:xr(v.options)}}visitSequence(v,P){return{type:2,steps:v.steps.map(W=>Mi(this,W,P)),options:xr(v.options)}}visitGroup(v,P){const W=P.currentTime;let me=0;const Fe=v.steps.map(ft=>{P.currentTime=W;const Tt=Mi(this,ft,P);return me=Math.max(me,P.currentTime),Tt});return P.currentTime=me,{type:3,steps:Fe,options:xr(v.options)}}visitAnimate(v,P){const W=function sr(B,v){if(B.hasOwnProperty("duration"))return B;if("number"==typeof B)return wi(Oi(B,v).duration,0,"");const P=B;if(P.split(/\s+/).some(Fe=>"{"==Fe.charAt(0)&&"{"==Fe.charAt(1))){const Fe=wi(0,0,"");return Fe.dynamic=!0,Fe.strValue=P,Fe}const me=Oi(P,v);return wi(me.duration,me.delay,me.easing)}(v.timings,P.errors);P.currentAnimateTimings=W;let me,Fe=v.styles?v.styles:Qe({});if(5==Fe.type)me=this.visitKeyframes(Fe,P);else{let ft=v.styles,Tt=!1;if(!ft){Tt=!0;const pn={};W.easing&&(pn.easing=W.easing),ft=Qe(pn)}P.currentTime+=W.duration+W.delay;const Jt=this.visitStyle(ft,P);Jt.isEmptyStep=Tt,me=Jt}return P.currentAnimateTimings=null,{type:4,timings:W,style:me,options:null}}visitStyle(v,P){const W=this._makeStyleAst(v,P);return this._validateStyleAst(W,P),W}_makeStyleAst(v,P){const W=[],me=Array.isArray(v.styles)?v.styles:[v.styles];for(let Tt of me)"string"==typeof Tt?Tt===Oe?W.push(Tt):P.errors.push(new y.vHH(3002,!1)):W.push(Br(Tt));let Fe=!1,ft=null;return W.forEach(Tt=>{if(Tt instanceof Map&&(Tt.has("easing")&&(ft=Tt.get("easing"),Tt.delete("easing")),!Fe))for(let Jt of Tt.values())if(Jt.toString().indexOf("{{")>=0){Fe=!0;break}}),{type:6,styles:W,easing:ft,offset:v.offset,containsDynamicStyles:Fe,options:null}}_validateStyleAst(v,P){const W=P.currentAnimateTimings;let me=P.currentTime,Fe=P.currentTime;W&&Fe>0&&(Fe-=W.duration+W.delay),v.styles.forEach(ft=>{"string"!=typeof ft&&ft.forEach((Tt,Jt)=>{const pn=P.collectedStyles.get(P.currentQuerySelector),Dn=pn.get(Jt);let Jn=!0;Dn&&(Fe!=me&&Fe>=Dn.startTime&&me<=Dn.endTime&&(P.errors.push(function Cn(B,v,P,W,me){return new y.vHH(3010,!1)}()),Jn=!1),Fe=Dn.startTime),Jn&&pn.set(Jt,{startTime:Fe,endTime:me}),P.options&&function Vt(B,v,P){const W=v.params||{},me=mn(B);me.length&&me.forEach(Fe=>{W.hasOwnProperty(Fe)||P.push(function Mt(B){return new y.vHH(3001,!1)}())})}(Tt,P.options,P.errors)})})}visitKeyframes(v,P){const W={type:5,styles:[],options:null};if(!P.currentAnimateTimings)return P.errors.push(function bn(){return new y.vHH(3011,!1)}()),W;let Fe=0;const ft=[];let Tt=!1,Jt=!1,pn=0;const Dn=v.steps.map(Lr=>{const Io=this._makeStyleAst(Lr,P);let a=null!=Io.offset?Io.offset:function Ur(B){if("string"==typeof B)return null;let v=null;if(Array.isArray(B))B.forEach(P=>{if(P instanceof Map&&P.has("offset")){const W=P;v=parseFloat(W.get("offset")),W.delete("offset")}});else if(B instanceof Map&&B.has("offset")){const P=B;v=parseFloat(P.get("offset")),P.delete("offset")}return v}(Io.styles),_=0;return null!=a&&(Fe++,_=Io.offset=a),Jt=Jt||_<0||_>1,Tt=Tt||_<pn,pn=_,ft.push(_),Io});Jt&&P.errors.push(function vi(){return new y.vHH(3012,!1)}()),Tt&&P.errors.push(function yi(){return new y.vHH(3200,!1)}());const Jn=v.steps.length;let Si=0;Fe>0&&Fe<Jn?P.errors.push(function Pi(){return new y.vHH(3202,!1)}()):0==Fe&&(Si=1/(Jn-1));const Hi=Jn-1,Ri=P.currentTime,Li=P.currentAnimateTimings,Sr=Li.duration;return Dn.forEach((Lr,Io)=>{const a=Si>0?Io==Hi?1:Si*Io:ft[Io],_=a*Sr;P.currentTime=Ri+Li.delay+_,Li.duration=_,this._validateStyleAst(Lr,P),Lr.offset=a,W.styles.push(Lr)}),W}visitReference(v,P){return{type:8,animation:Mi(this,rt(v.animation),P),options:xr(v.options)}}visitAnimateChild(v,P){return P.depCount++,{type:9,options:xr(v.options)}}visitAnimateRef(v,P){return{type:10,animation:this.visitReference(v.animation,P),options:xr(v.options)}}visitQuery(v,P){const W=P.currentQuerySelector,me=v.options||{};P.queryCount++,P.currentQuery=v;const[Fe,ft]=function _i(B){const v=!!B.split(/\s*,\s*/).find(P=>":self"==P);return v&&(B=B.replace(Vn,"")),B=B.replace(/@\*/g,co).replace(/@\w+/g,P=>co+"-"+P.slice(1)).replace(/:animating/g,Yr),[B,v]}(v.selector);P.currentQuerySelector=W.length?W+" "+Fe:Fe,ai(P.collectedStyles,P.currentQuerySelector,new Map);const Tt=Mi(this,rt(v.animation),P);return P.currentQuery=null,P.currentQuerySelector=W,{type:11,selector:Fe,limit:me.limit||0,optional:!!me.optional,includeSelf:ft,animation:Tt,originalSelector:v.selector,options:xr(v.options)}}visitStagger(v,P){P.currentQuery||P.errors.push(function Ji(){return new y.vHH(3013,!1)}());const W="full"===v.timings?{duration:0,delay:0,easing:"full"}:Oi(v.timings,P.errors,!0);return{type:12,animation:Mi(this,rt(v.animation),P),timings:W,options:null}}}class Tr{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xr(B){return B?(B=di(B)).params&&(B.params=function mi(B){return B?di(B):null}(B.params)):B={},B}function wi(B,v,P){return{duration:B,delay:v,easing:P}}function br(B,v,P,W,me,Fe,ft=null,Tt=!1){return{type:1,element:B,keyframes:v,preStyleProps:P,postStyleProps:W,duration:me,delay:Fe,totalTime:me+Fe,easing:ft,subTimeline:Tt}}class zn{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,P){let W=this._map.get(v);W||this._map.set(v,W=[]),W.push(...P)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const Gr=new RegExp(":enter","g"),go=new RegExp(":leave","g");function lo(B,v,P,W,me,Fe=new Map,ft=new Map,Tt,Jt,pn=[]){return(new So).buildKeyframes(B,v,P,W,me,Fe,ft,Tt,Jt,pn)}class So{buildKeyframes(v,P,W,me,Fe,ft,Tt,Jt,pn,Dn=[]){pn=pn||new zn;const Jn=new qr(v,P,pn,me,Fe,Dn,[]);Jn.options=Jt;const Si=Jt.delay?ho(Jt.delay):0;Jn.currentTimeline.delayNextStep(Si),Jn.currentTimeline.setStyles([ft],null,Jn.errors,Jt),Mi(this,W,Jn);const Hi=Jn.timelines.filter(Ri=>Ri.containsAnimation());if(Hi.length&&Tt.size){let Ri;for(let Li=Hi.length-1;Li>=0;Li--){const Sr=Hi[Li];if(Sr.element===P){Ri=Sr;break}}Ri&&!Ri.allowOnlyTimelineStyles()&&Ri.setStyles([Tt],null,Jn.errors,Jt)}return Hi.length?Hi.map(Ri=>Ri.buildKeyframes()):[br(P,[],[],[],0,Si,"",!1)]}visitTrigger(v,P){}visitState(v,P){}visitTransition(v,P){}visitAnimateChild(v,P){const W=P.subInstructions.get(P.element);if(W){const me=P.createSubContext(v.options),Fe=P.currentTimeline.currentTime,ft=this._visitSubInstructions(W,me,me.options);Fe!=ft&&P.transformIntoNewTimeline(ft)}P.previousNode=v}visitAnimateRef(v,P){const W=P.createSubContext(v.options);W.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],P,W),this.visitReference(v.animation,W),P.transformIntoNewTimeline(W.currentTimeline.currentTime),P.previousNode=v}_applyAnimationRefDelays(v,P,W){for(const Fe of v){const ft=null==Fe?void 0:Fe.delay;if(ft){var me;const Tt="number"==typeof ft?ft:ho(sn(ft,null!==(me=null==Fe?void 0:Fe.params)&&void 0!==me?me:{},P.errors));W.delayNextStep(Tt)}}}_visitSubInstructions(v,P,W){let Fe=P.currentTimeline.currentTime;const ft=null!=W.duration?ho(W.duration):null,Tt=null!=W.delay?ho(W.delay):null;return 0!==ft&&v.forEach(Jt=>{const pn=P.appendInstructionToTimeline(Jt,ft,Tt);Fe=Math.max(Fe,pn.duration+pn.delay)}),Fe}visitReference(v,P){P.updateOptions(v.options,!0),Mi(this,v.animation,P),P.previousNode=v}visitSequence(v,P){const W=P.subContextCount;let me=P;const Fe=v.options;if(Fe&&(Fe.params||Fe.delay)&&(me=P.createSubContext(Fe),me.transformIntoNewTimeline(),null!=Fe.delay)){6==me.previousNode.type&&(me.currentTimeline.snapshotCurrentStyles(),me.previousNode=eo);const ft=ho(Fe.delay);me.delayNextStep(ft)}v.steps.length&&(v.steps.forEach(ft=>Mi(this,ft,me)),me.currentTimeline.applyStylesToKeyframe(),me.subContextCount>W&&me.transformIntoNewTimeline()),P.previousNode=v}visitGroup(v,P){const W=[];let me=P.currentTimeline.currentTime;const Fe=v.options&&v.options.delay?ho(v.options.delay):0;v.steps.forEach(ft=>{const Tt=P.createSubContext(v.options);Fe&&Tt.delayNextStep(Fe),Mi(this,ft,Tt),me=Math.max(me,Tt.currentTimeline.currentTime),W.push(Tt.currentTimeline)}),W.forEach(ft=>P.currentTimeline.mergeTimelineCollectedStyles(ft)),P.transformIntoNewTimeline(me),P.previousNode=v}_visitTiming(v,P){if(v.dynamic){const W=v.strValue;return Oi(P.params?sn(W,P.params,P.errors):W,P.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,P){const W=P.currentAnimateTimings=this._visitTiming(v.timings,P),me=P.currentTimeline;W.delay&&(P.incrementTime(W.delay),me.snapshotCurrentStyles());const Fe=v.style;5==Fe.type?this.visitKeyframes(Fe,P):(P.incrementTime(W.duration),this.visitStyle(Fe,P),me.applyStylesToKeyframe()),P.currentAnimateTimings=null,P.previousNode=v}visitStyle(v,P){const W=P.currentTimeline,me=P.currentAnimateTimings;!me&&W.hasCurrentStyleProperties()&&W.forwardFrame();const Fe=me&&me.easing||v.easing;v.isEmptyStep?W.applyEmptyStep(Fe):W.setStyles(v.styles,Fe,P.errors,P.options),P.previousNode=v}visitKeyframes(v,P){const W=P.currentAnimateTimings,me=P.currentTimeline.duration,Fe=W.duration,Tt=P.createSubContext().currentTimeline;Tt.easing=W.easing,v.styles.forEach(Jt=>{Tt.forwardTime((Jt.offset||0)*Fe),Tt.setStyles(Jt.styles,Jt.easing,P.errors,P.options),Tt.applyStylesToKeyframe()}),P.currentTimeline.mergeTimelineCollectedStyles(Tt),P.transformIntoNewTimeline(me+Fe),P.previousNode=v}visitQuery(v,P){const W=P.currentTimeline.currentTime,me=v.options||{},Fe=me.delay?ho(me.delay):0;Fe&&(6===P.previousNode.type||0==W&&P.currentTimeline.hasCurrentStyleProperties())&&(P.currentTimeline.snapshotCurrentStyles(),P.previousNode=eo);let ft=W;const Tt=P.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!me.optional,P.errors);P.currentQueryTotal=Tt.length;let Jt=null;Tt.forEach((pn,Dn)=>{P.currentQueryIndex=Dn;const Jn=P.createSubContext(v.options,pn);Fe&&Jn.delayNextStep(Fe),pn===P.element&&(Jt=Jn.currentTimeline),Mi(this,v.animation,Jn),Jn.currentTimeline.applyStylesToKeyframe(),ft=Math.max(ft,Jn.currentTimeline.currentTime)}),P.currentQueryIndex=0,P.currentQueryTotal=0,P.transformIntoNewTimeline(ft),Jt&&(P.currentTimeline.mergeTimelineCollectedStyles(Jt),P.currentTimeline.snapshotCurrentStyles()),P.previousNode=v}visitStagger(v,P){const W=P.parentContext,me=P.currentTimeline,Fe=v.timings,ft=Math.abs(Fe.duration),Tt=ft*(P.currentQueryTotal-1);let Jt=ft*P.currentQueryIndex;switch(Fe.duration<0?"reverse":Fe.easing){case"reverse":Jt=Tt-Jt;break;case"full":Jt=W.currentStaggerTime}const Dn=P.currentTimeline;Jt&&Dn.delayNextStep(Jt);const Jn=Dn.currentTime;Mi(this,v.animation,P),P.previousNode=v,W.currentStaggerTime=me.currentTime-Jn+(me.startTime-W.currentTimeline.startTime)}}const eo={};class qr{constructor(v,P,W,me,Fe,ft,Tt,Jt){this._driver=v,this.element=P,this.subInstructions=W,this._enterClassName=me,this._leaveClassName=Fe,this.errors=ft,this.timelines=Tt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Jt||new xi(this._driver,P,0),Tt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,P){if(!v)return;const W=v;let me=this.options;null!=W.duration&&(me.duration=ho(W.duration)),null!=W.delay&&(me.delay=ho(W.delay));const Fe=W.params;if(Fe){let ft=me.params;ft||(ft=this.options.params={}),Object.keys(Fe).forEach(Tt=>{(!P||!ft.hasOwnProperty(Tt))&&(ft[Tt]=sn(Fe[Tt],ft,this.errors))})}}_copyOptions(){const v={};if(this.options){const P=this.options.params;if(P){const W=v.params={};Object.keys(P).forEach(me=>{W[me]=P[me]})}}return v}createSubContext(v=null,P,W){const me=P||this.element,Fe=new qr(this._driver,me,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(me,W||0));return Fe.previousNode=this.previousNode,Fe.currentAnimateTimings=this.currentAnimateTimings,Fe.options=this._copyOptions(),Fe.updateOptions(v),Fe.currentQueryIndex=this.currentQueryIndex,Fe.currentQueryTotal=this.currentQueryTotal,Fe.parentContext=this,this.subContextCount++,Fe}transformIntoNewTimeline(v){return this.previousNode=eo,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,P,W){const me={duration:null!=P?P:v.duration,delay:this.currentTimeline.currentTime+(null!=W?W:0)+v.delay,easing:""},Fe=new yo(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,me,v.stretchStartingKeyframe);return this.timelines.push(Fe),me}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,P,W,me,Fe,ft){let Tt=[];if(me&&Tt.push(this.element),v.length>0){v=(v=v.replace(Gr,"."+this._enterClassName)).replace(go,"."+this._leaveClassName);let pn=this._driver.query(this.element,v,1!=W);0!==W&&(pn=W<0?pn.slice(pn.length+W,pn.length):pn.slice(0,W)),Tt.push(...pn)}return!Fe&&0==Tt.length&&ft.push(function Or(B){return new y.vHH(3014,!1)}()),Tt}}class xi{constructor(v,P,W,me){this._driver=v,this.element=P,this.startTime=W,this._elementTimelineStylesLookup=me,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(P),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(P,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const P=1===this._keyframes.size&&this._pendingStyles.size;this.duration||P?(this.forwardTime(this.currentTime+v),P&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,P){return this.applyStylesToKeyframe(),new xi(this._driver,v,P||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,P){this._localTimelineStyles.set(v,P),this._globalTimelineStyles.set(v,P),this._styleSummary.set(v,{time:this.currentTime,value:P})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[P,W]of this._globalTimelineStyles)this._backFill.set(P,W||Oe),this._currentKeyframe.set(P,Oe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,P,W,me){P&&this._previousKeyframe.set("easing",P);const Fe=me&&me.params||{},ft=function ro(B,v){const P=new Map;let W;return B.forEach(me=>{if("*"===me){W=W||v.keys();for(let Fe of W)P.set(Fe,Oe)}else We(me,P)}),P}(v,this._globalTimelineStyles);for(let[Jt,pn]of ft){const Dn=sn(pn,Fe,W);var Tt;this._pendingStyles.set(Jt,Dn),this._localTimelineStyles.has(Jt)||this._backFill.set(Jt,null!==(Tt=this._globalTimelineStyles.get(Jt))&&void 0!==Tt?Tt:Oe),this._updateStyle(Jt,Dn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,P)=>{this._currentKeyframe.set(P,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,P)=>{this._currentKeyframe.has(P)||this._currentKeyframe.set(P,v)}))}snapshotCurrentStyles(){for(let[v,P]of this._localTimelineStyles)this._pendingStyles.set(v,P),this._updateStyle(v,P)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let P in this._currentKeyframe)v.push(P);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((P,W)=>{const me=this._styleSummary.get(W);(!me||P.time>me.time)&&this._updateStyle(W,P.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,P=new Set,W=1===this._keyframes.size&&0===this.duration;let me=[];this._keyframes.forEach((Tt,Jt)=>{const pn=We(Tt,new Map,this._backFill);pn.forEach((Dn,Jn)=>{Dn===Ve?v.add(Jn):Dn===Oe&&P.add(Jn)}),W||pn.set("offset",Jt/this.duration),me.push(pn)});const Fe=v.size?jn(v.values()):[],ft=P.size?jn(P.values()):[];if(W){const Tt=me[0],Jt=new Map(Tt);Tt.set("offset",0),Jt.set("offset",1),me=[Tt,Jt]}return br(this.element,me,Fe,ft,this.duration,this.startTime,this.easing,!1)}}class yo extends xi{constructor(v,P,W,me,Fe,ft,Tt=!1){super(v,P,ft.delay),this.keyframes=W,this.preStyleProps=me,this.postStyleProps=Fe,this._stretchStartingKeyframe=Tt,this.timings={duration:ft.duration,delay:ft.delay,easing:ft.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:P,duration:W,easing:me}=this.timings;if(this._stretchStartingKeyframe&&P){const Fe=[],ft=W+P,Tt=P/ft,Jt=We(v[0]);Jt.set("offset",0),Fe.push(Jt);const pn=We(v[0]);pn.set("offset",Vr(Tt)),Fe.push(pn);const Dn=v.length-1;for(let Jn=1;Jn<=Dn;Jn++){let Si=We(v[Jn]);const Hi=Si.get("offset");Si.set("offset",Vr((P+Hi*W)/ft)),Fe.push(Si)}W=ft,P=0,me="",v=Fe}return br(this.element,v,this.preStyleProps,this.postStyleProps,W,P,me,!0)}}function Vr(B,v=3){const P=Math.pow(10,v-1);return Math.round(B*P)/P}class Po{}const wr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $o extends Po{normalizePropertyName(v,P){return An(v)}normalizeStyleValue(v,P,W,me){let Fe="";const ft=W.toString().trim();if(wr.has(P)&&0!==W&&"0"!==W)if("number"==typeof W)Fe="px";else{const Tt=W.match(/^[+-]?[\d\.]+([a-z]*)$/);Tt&&0==Tt[1].length&&me.push(function tn(B,v){return new y.vHH(3005,!1)}())}return ft+Fe}}function No(B,v,P,W,me,Fe,ft,Tt,Jt,pn,Dn,Jn,Si){return{type:0,element:B,triggerName:v,isRemovalTransition:me,fromState:P,fromStyles:Fe,toState:W,toStyles:ft,timelines:Tt,queriedElements:Jt,preStyleProps:pn,postStyleProps:Dn,totalTime:Jn,errors:Si}}const Go={};class ko{constructor(v,P,W){this._triggerName=v,this.ast=P,this._stateStyles=W}match(v,P,W,me){return function Bo(B,v,P,W,me){return B.some(Fe=>Fe(v,P,W,me))}(this.ast.matchers,v,P,W,me)}buildStyles(v,P,W){let me=this._stateStyles.get("*");return void 0!==v&&(me=this._stateStyles.get(null==v?void 0:v.toString())||me),me?me.buildStyles(P,W):new Map}build(v,P,W,me,Fe,ft,Tt,Jt,pn,Dn){var Jn;const Si=[],Hi=this.ast.options&&this.ast.options.params||Go,Li=this.buildStyles(W,Tt&&Tt.params||Go,Si),Sr=Jt&&Jt.params||Go,Lr=this.buildStyles(me,Sr,Si),Io=new Set,a=new Map,_=new Map,F="void"===me,te={params:zo(Sr,Hi),delay:null===(Jn=this.ast.options)||void 0===Jn?void 0:Jn.delay},_e=Dn?[]:lo(v,P,this.ast.animation,Fe,ft,Li,Lr,te,pn,Si);let Je=0;if(_e.forEach(ln=>{Je=Math.max(ln.duration+ln.delay,Je)}),Si.length)return No(P,this._triggerName,W,me,F,Li,Lr,[],[],a,_,Je,Si);_e.forEach(ln=>{const _n=ln.element,Ln=ai(a,_n,new Set);ln.preStyleProps.forEach(ji=>Ln.add(ji));const fi=ai(_,_n,new Set);ln.postStyleProps.forEach(ji=>fi.add(ji)),_n!==P&&Io.add(_n)});const kt=jn(Io.values());return No(P,this._triggerName,W,me,F,Li,Lr,_e,kt,a,_,Je)}}function zo(B,v){const P=di(v);for(const W in B)B.hasOwnProperty(W)&&null!=B[W]&&(P[W]=B[W]);return P}class Zr{constructor(v,P,W){this.styles=v,this.defaultParams=P,this.normalizer=W}buildStyles(v,P){const W=new Map,me=di(this.defaultParams);return Object.keys(v).forEach(Fe=>{const ft=v[Fe];null!==ft&&(me[Fe]=ft)}),this.styles.styles.forEach(Fe=>{"string"!=typeof Fe&&Fe.forEach((ft,Tt)=>{ft&&(ft=sn(ft,me,P));const Jt=this.normalizer.normalizePropertyName(Tt,P);ft=this.normalizer.normalizeStyleValue(Tt,Jt,ft,P),W.set(Tt,ft)})}),W}}class Xo{constructor(v,P,W){this.name=v,this.ast=P,this._normalizer=W,this.transitionFactories=[],this.states=new Map,P.states.forEach(me=>{this.states.set(me.name,new Zr(me.style,me.options&&me.options.params||{},W))}),G(this.states,"true","1"),G(this.states,"false","0"),P.transitions.forEach(me=>{this.transitionFactories.push(new ko(v,me,this.states))}),this.fallbackTransition=function Xi(B,v,P){return new ko(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ft,Tt)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,P,W,me){return this.transitionFactories.find(ft=>ft.match(v,P,W,me))||null}matchStyles(v,P,W){return this.fallbackTransition.buildStyles(v,P,W)}}function G(B,v,P){B.has(v)?B.has(P)||B.set(P,B.get(v)):B.has(P)&&B.set(v,B.get(P))}const be=new zn;class Pe{constructor(v,P,W){this.bodyNode=v,this._driver=P,this._normalizer=W,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,P){const W=[],me=[],Fe=wn(this._driver,P,W,me);if(W.length)throw function Pt(B){return new y.vHH(3503,!1)}();this._animations.set(v,Fe)}_buildPlayer(v,P,W){const me=v.element,Fe=gn(0,this._normalizer,0,v.keyframes,P,W);return this._driver.animate(me,Fe,v.duration,v.delay,v.easing,[],!0)}create(v,P,W={}){const me=[],Fe=this._animations.get(v);let ft;const Tt=new Map;if(Fe?(ft=lo(this._driver,P,Fe,kr,fr,new Map,new Map,W,be,me),ft.forEach(Dn=>{const Jn=ai(Tt,Dn.element,new Map);Dn.postStyleProps.forEach(Si=>Jn.set(Si,null))})):(me.push(function nt(){return new y.vHH(3300,!1)}()),ft=[]),me.length)throw function dn(B){return new y.vHH(3504,!1)}();Tt.forEach((Dn,Jn)=>{Dn.forEach((Si,Hi)=>{Dn.set(Hi,this._driver.computeStyle(Jn,Hi,Oe))})});const pn=Ut(ft.map(Dn=>{const Jn=Tt.get(Dn.element);return this._buildPlayer(Dn,new Map,Jn)}));return this._playersById.set(v,pn),pn.onDestroy(()=>this.destroy(v)),this.players.push(pn),pn}destroy(v){const P=this._getPlayer(v);P.destroy(),this._playersById.delete(v);const W=this.players.indexOf(P);W>=0&&this.players.splice(W,1)}_getPlayer(v){const P=this._playersById.get(v);if(!P)throw function en(B){return new y.vHH(3301,!1)}();return P}listen(v,P,W,me){const Fe=Yn(P,"","","");return yn(this._getPlayer(v),W,Fe,me),()=>{}}command(v,P,W,me){if("register"==W)return void this.register(v,me[0]);if("create"==W)return void this.create(v,P,me[0]||{});const Fe=this._getPlayer(v);switch(W){case"play":Fe.play();break;case"pause":Fe.pause();break;case"reset":Fe.reset();break;case"restart":Fe.restart();break;case"finish":Fe.finish();break;case"init":Fe.init();break;case"setPosition":Fe.setPosition(parseFloat(me[0]));break;case"destroy":this.destroy(v)}}}const et="ng-animate-queued",Et="ng-animate-disabled",Mn=[],Rn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ii={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ui="__ng_removed";class Xn{get params(){return this.options.params}constructor(v,P=""){this.namespaceId=P;const W=v&&v.hasOwnProperty("value");if(this.value=function E(B){return null!=B?B:null}(W?v.value:v),W){const Fe=di(v);delete Fe.value,this.options=Fe}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const P=v.params;if(P){const W=this.options.params;Object.keys(P).forEach(me=>{null==W[me]&&(W[me]=P[me])})}}}const ye="void",oe=new Xn(ye);class M{constructor(v,P,W){this.id=v,this.hostElement=P,this._engine=W,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,qt(P,this._hostClassName)}listen(v,P,W,me){if(!this._triggers.has(P))throw function Lt(B,v){return new y.vHH(3302,!1)}();if(null==W||0==W.length)throw function at(B){return new y.vHH(3303,!1)}();if(!function Q(B){return"start"==B||"done"==B}(W))throw function qn(B,v){return new y.vHH(3400,!1)}();const Fe=ai(this._elementListeners,v,[]),ft={name:P,phase:W,callback:me};Fe.push(ft);const Tt=ai(this._engine.statesByElement,v,new Map);return Tt.has(P)||(qt(v,tr),qt(v,tr+"-"+P),Tt.set(P,oe)),()=>{this._engine.afterFlush(()=>{const Jt=Fe.indexOf(ft);Jt>=0&&Fe.splice(Jt,1),this._triggers.has(P)||Tt.delete(P)})}}register(v,P){return!this._triggers.has(v)&&(this._triggers.set(v,P),!0)}_getTrigger(v){const P=this._triggers.get(v);if(!P)throw function Nn(B){return new y.vHH(3401,!1)}();return P}trigger(v,P,W,me=!0){const Fe=this._getTrigger(P),ft=new h(this.id,P,v);let Tt=this._engine.statesByElement.get(v);Tt||(qt(v,tr),qt(v,tr+"-"+P),this._engine.statesByElement.set(v,Tt=new Map));let Jt=Tt.get(P);const pn=new Xn(W,this.id);if(!(W&&W.hasOwnProperty("value"))&&Jt&&pn.absorbOptions(Jt.options),Tt.set(P,pn),Jt||(Jt=oe),pn.value!==ye&&Jt.value===pn.value){if(!function rr(B,v){const P=Object.keys(B),W=Object.keys(v);if(P.length!=W.length)return!1;for(let me=0;me<P.length;me++){const Fe=P[me];if(!v.hasOwnProperty(Fe)||B[Fe]!==v[Fe])return!1}return!0}(Jt.params,pn.params)){const Li=[],Sr=Fe.matchStyles(Jt.value,Jt.params,Li),Lr=Fe.matchStyles(pn.value,pn.params,Li);Li.length?this._engine.reportError(Li):this._engine.afterFlush(()=>{Qt(v,Sr),Rt(v,Lr)})}return}const Si=ai(this._engine.playersByElement,v,[]);Si.forEach(Li=>{Li.namespaceId==this.id&&Li.triggerName==P&&Li.queued&&Li.destroy()});let Hi=Fe.matchTransition(Jt.value,pn.value,v,pn.params),Ri=!1;if(!Hi){if(!me)return;Hi=Fe.fallbackTransition,Ri=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:P,transition:Hi,fromState:Jt,toState:pn,player:ft,isFallbackTransition:Ri}),Ri||(qt(v,et),ft.onStart(()=>{$n(v,et)})),ft.onDone(()=>{let Li=this.players.indexOf(ft);Li>=0&&this.players.splice(Li,1);const Sr=this._engine.playersByElement.get(v);if(Sr){let Lr=Sr.indexOf(ft);Lr>=0&&Sr.splice(Lr,1)}}),this.players.push(ft),Si.push(ft),ft}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(P=>P.delete(v)),this._elementListeners.forEach((P,W)=>{this._elementListeners.set(W,P.filter(me=>me.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const P=this._engine.playersByElement.get(v);P&&(P.forEach(W=>W.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,P){const W=this._engine.driver.query(v,co,!0);W.forEach(me=>{if(me[ui])return;const Fe=this._engine.fetchNamespacesByElement(me);Fe.size?Fe.forEach(ft=>ft.triggerLeaveAnimation(me,P,!1,!0)):this.clearElementCache(me)}),this._engine.afterFlushAnimationsDone(()=>W.forEach(me=>this.clearElementCache(me)))}triggerLeaveAnimation(v,P,W,me){const Fe=this._engine.statesByElement.get(v),ft=new Map;if(Fe){const Tt=[];if(Fe.forEach((Jt,pn)=>{if(ft.set(pn,Jt.value),this._triggers.has(pn)){const Dn=this.trigger(v,pn,ye,me);Dn&&Tt.push(Dn)}}),Tt.length)return this._engine.markElementAsRemoved(this.id,v,!0,P,ft),W&&Ut(Tt).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const P=this._elementListeners.get(v),W=this._engine.statesByElement.get(v);if(P&&W){const me=new Set;P.forEach(Fe=>{const ft=Fe.name;if(me.has(ft))return;me.add(ft);const Jt=this._triggers.get(ft).fallbackTransition,pn=W.get(ft)||oe,Dn=new Xn(ye),Jn=new h(this.id,ft,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:ft,transition:Jt,fromState:pn,toState:Dn,player:Jn,isFallbackTransition:!0})})}}removeNode(v,P){const W=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,P),this.triggerLeaveAnimation(v,P,!0))return;let me=!1;if(W.totalAnimations){const Fe=W.players.length?W.playersByQueriedElement.get(v):[];if(Fe&&Fe.length)me=!0;else{let ft=v;for(;ft=ft.parentNode;)if(W.statesByElement.get(ft)){me=!0;break}}}if(this.prepareLeaveAnimationListeners(v),me)W.markElementAsRemoved(this.id,v,!1,P);else{const Fe=v[ui];(!Fe||Fe===Rn)&&(W.afterFlush(()=>this.clearElementCache(v)),W.destroyInnerAnimations(v),W._onRemovalComplete(v,P))}}insertNode(v,P){qt(v,this._hostClassName)}drainQueuedTransitions(v){const P=[];return this._queue.forEach(W=>{const me=W.player;if(me.destroyed)return;const Fe=W.element,ft=this._elementListeners.get(Fe);ft&&ft.forEach(Tt=>{if(Tt.name==W.triggerName){const Jt=Yn(Fe,W.triggerName,W.fromState.value,W.toState.value);Jt._data=v,yn(W.player,Tt.phase,Jt,Tt.callback)}}),me.markedForDestroy?this._engine.afterFlush(()=>{me.destroy()}):P.push(W)}),this._queue=[],P.sort((W,me)=>{const Fe=W.transition.ast.depCount,ft=me.transition.ast.depCount;return 0==Fe||0==ft?Fe-ft:this._engine.driver.containsElement(W.element,me.element)?1:-1})}destroy(v){this.players.forEach(P=>P.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let P=!1;return this._elementListeners.has(v)&&(P=!0),P=!!this._queue.find(W=>W.element===v)||P,P}}class N{_onRemovalComplete(v,P){this.onRemovalComplete(v,P)}constructor(v,P,W){this.bodyNode=v,this.driver=P,this._normalizer=W,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(me,Fe)=>{}}get queuedPlayers(){const v=[];return this._namespaceList.forEach(P=>{P.players.forEach(W=>{W.queued&&v.push(W)})}),v}createNamespace(v,P){const W=new M(v,P,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,P)?this._balanceNamespaceList(W,P):(this.newHostElements.set(P,W),this.collectEnterElement(P)),this._namespaceLookup[v]=W}_balanceNamespaceList(v,P){const W=this._namespaceList,me=this.namespacesByHostElement;if(W.length-1>=0){let ft=!1,Tt=this.driver.getParentElement(P);for(;Tt;){const Jt=me.get(Tt);if(Jt){const pn=W.indexOf(Jt);W.splice(pn+1,0,v),ft=!0;break}Tt=this.driver.getParentElement(Tt)}ft||W.unshift(v)}else W.push(v);return me.set(P,v),v}register(v,P){let W=this._namespaceLookup[v];return W||(W=this.createNamespace(v,P)),W}registerTrigger(v,P,W){let me=this._namespaceLookup[v];me&&me.register(P,W)&&this.totalAnimations++}destroy(v,P){if(!v)return;const W=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(W.hostElement),delete this._namespaceLookup[v];const me=this._namespaceList.indexOf(W);me>=0&&this._namespaceList.splice(me,1)}),this.afterFlushAnimationsDone(()=>W.destroy(P))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const P=new Set,W=this.statesByElement.get(v);if(W)for(let me of W.values())if(me.namespaceId){const Fe=this._fetchNamespace(me.namespaceId);Fe&&P.add(Fe)}return P}trigger(v,P,W,me){if(H(P)){const Fe=this._fetchNamespace(v);if(Fe)return Fe.trigger(P,W,me),!0}return!1}insertNode(v,P,W,me){if(!H(P))return;const Fe=P[ui];if(Fe&&Fe.setForRemoval){Fe.setForRemoval=!1,Fe.setForMove=!0;const ft=this.collectedLeaveElements.indexOf(P);ft>=0&&this.collectedLeaveElements.splice(ft,1)}if(v){const ft=this._fetchNamespace(v);ft&&ft.insertNode(P,W)}me&&this.collectEnterElement(P)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,P){P?this.disabledNodes.has(v)||(this.disabledNodes.add(v),qt(v,Et)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),$n(v,Et))}removeNode(v,P,W,me){if(H(P)){const Fe=v?this._fetchNamespace(v):null;if(Fe?Fe.removeNode(P,me):this.markElementAsRemoved(v,P,!1,me),W){const ft=this.namespacesByHostElement.get(P);ft&&ft.id!==v&&ft.removeNode(P,me)}}else this._onRemovalComplete(P,me)}markElementAsRemoved(v,P,W,me,Fe){this.collectedLeaveElements.push(P),P[ui]={namespaceId:v,setForRemoval:me,hasAnimation:W,removedBeforeQueried:!1,previousTriggersValues:Fe}}listen(v,P,W,me,Fe){return H(P)?this._fetchNamespace(v).listen(P,W,me,Fe):()=>{}}_buildInstruction(v,P,W,me,Fe){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,W,me,v.fromState.options,v.toState.options,P,Fe)}destroyInnerAnimations(v){let P=this.driver.query(v,co,!0);P.forEach(W=>this.destroyActiveAnimationsForElement(W)),0!=this.playersByQueriedElement.size&&(P=this.driver.query(v,Yr,!0),P.forEach(W=>this.finishActiveQueriedAnimationOnElement(W)))}destroyActiveAnimationsForElement(v){const P=this.playersByElement.get(v);P&&P.forEach(W=>{W.queued?W.markedForDestroy=!0:W.destroy()})}finishActiveQueriedAnimationOnElement(v){const P=this.playersByQueriedElement.get(v);P&&P.forEach(W=>W.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return Ut(this.players).onDone(()=>v());v()})}processLeaveNode(v){var P;const W=v[ui];if(W&&W.setForRemoval){if(v[ui]=Rn,W.namespaceId){this.destroyInnerAnimations(v);const me=this._fetchNamespace(W.namespaceId);me&&me.clearElementCache(v)}this._onRemovalComplete(v,W.setForRemoval)}null!==(P=v.classList)&&void 0!==P&&P.contains(Et)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(me=>{this.markElementAsDisabled(me,!1)})}flush(v=-1){let P=[];if(this.newHostElements.size&&(this.newHostElements.forEach((W,me)=>this._balanceNamespaceList(W,me)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let W=0;W<this.collectedEnterElements.length;W++)qt(this.collectedEnterElements[W],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const W=[];try{P=this._flushAnimations(W,v)}finally{for(let me=0;me<W.length;me++)W[me]()}}else for(let W=0;W<this.collectedLeaveElements.length;W++)this.processLeaveNode(this.collectedLeaveElements[W]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(W=>W()),this._flushFns=[],this._whenQuietFns.length){const W=this._whenQuietFns;this._whenQuietFns=[],P.length?Ut(P).onDone(()=>{W.forEach(me=>me())}):W.forEach(me=>me())}}reportError(v){throw function Ti(B){return new y.vHH(3402,!1)}()}_flushAnimations(v,P){const W=new zn,me=[],Fe=new Map,ft=[],Tt=new Map,Jt=new Map,pn=new Map,Dn=new Set;this.disabledNodes.forEach(ci=>{Dn.add(ci);const bi=this.driver.query(ci,".ng-animate-queued",!0);for(let Fi=0;Fi<bi.length;Fi++)Dn.add(bi[Fi])});const Jn=this.bodyNode,Si=Array.from(this.statesByElement.keys()),Hi=Bt(Si,this.collectedEnterElements),Ri=new Map;let Li=0;Hi.forEach((ci,bi)=>{const Fi=kr+Li++;Ri.set(bi,Fi),ci.forEach(Ui=>qt(Ui,Fi))});const Sr=[],Lr=new Set,Io=new Set;for(let ci=0;ci<this.collectedLeaveElements.length;ci++){const bi=this.collectedLeaveElements[ci],Fi=bi[ui];Fi&&Fi.setForRemoval&&(Sr.push(bi),Lr.add(bi),Fi.hasAnimation?this.driver.query(bi,".ng-star-inserted",!0).forEach(Ui=>Lr.add(Ui)):Io.add(bi))}const a=new Map,_=Bt(Si,Array.from(Lr));_.forEach((ci,bi)=>{const Fi=fr+Li++;a.set(bi,Fi),ci.forEach(Ui=>qt(Ui,Fi))}),v.push(()=>{Hi.forEach((ci,bi)=>{const Fi=Ri.get(bi);ci.forEach(Ui=>$n(Ui,Fi))}),_.forEach((ci,bi)=>{const Fi=a.get(bi);ci.forEach(Ui=>$n(Ui,Fi))}),Sr.forEach(ci=>{this.processLeaveNode(ci)})});const F=[],te=[];for(let ci=this._namespaceList.length-1;ci>=0;ci--)this._namespaceList[ci].drainQueuedTransitions(P).forEach(Fi=>{const Ui=Fi.player,mo=Fi.element;if(F.push(Ui),this.collectedEnterElements.length){const Cr=mo[ui];if(Cr&&Cr.setForMove){if(Cr.previousTriggersValues&&Cr.previousTriggersValues.has(Fi.triggerName)){const oo=Cr.previousTriggersValues.get(Fi.triggerName),Ho=this.statesByElement.get(Fi.element);if(Ho&&Ho.has(Fi.triggerName)){const Es=Ho.get(Fi.triggerName);Es.value=oo,Ho.set(Fi.triggerName,Es)}}return void Ui.destroy()}}const us=!Jn||!this.driver.containsElement(Jn,mo),qo=a.get(mo),cs=Ri.get(mo),xo=this._buildInstruction(Fi,W,cs,qo,us);if(xo.errors&&xo.errors.length)return void te.push(xo);if(us)return Ui.onStart(()=>Qt(mo,xo.fromStyles)),Ui.onDestroy(()=>Rt(mo,xo.toStyles)),void me.push(Ui);if(Fi.isFallbackTransition)return Ui.onStart(()=>Qt(mo,xo.fromStyles)),Ui.onDestroy(()=>Rt(mo,xo.toStyles)),void me.push(Ui);const ks=[];xo.timelines.forEach(Cr=>{Cr.stretchStartingKeyframe=!0,this.disabledNodes.has(Cr.element)||ks.push(Cr)}),xo.timelines=ks,W.append(mo,xo.timelines),ft.push({instruction:xo,player:Ui,element:mo}),xo.queriedElements.forEach(Cr=>ai(Tt,Cr,[]).push(Ui)),xo.preStyleProps.forEach((Cr,oo)=>{if(Cr.size){let Ho=Jt.get(oo);Ho||Jt.set(oo,Ho=new Set),Cr.forEach((Es,$s)=>Ho.add($s))}}),xo.postStyleProps.forEach((Cr,oo)=>{let Ho=pn.get(oo);Ho||pn.set(oo,Ho=new Set),Cr.forEach((Es,$s)=>Ho.add($s))})});if(te.length){const ci=[];te.forEach(bi=>{ci.push(function dr(B,v){return new y.vHH(3505,!1)}())}),F.forEach(bi=>bi.destroy()),this.reportError(ci)}const _e=new Map,Je=new Map;ft.forEach(ci=>{const bi=ci.element;W.has(bi)&&(Je.set(bi,bi),this._beforeAnimationBuild(ci.player.namespaceId,ci.instruction,_e))}),me.forEach(ci=>{const bi=ci.element;this._getPreviousPlayers(bi,!1,ci.namespaceId,ci.triggerName,null).forEach(Ui=>{ai(_e,bi,[]).push(Ui),Ui.destroy()})});const kt=Sr.filter(ci=>li(ci,Jt,pn)),ln=new Map;Ot(ln,this.driver,Io,pn,Oe).forEach(ci=>{li(ci,Jt,pn)&&kt.push(ci)});const Ln=new Map;Hi.forEach((ci,bi)=>{Ot(Ln,this.driver,new Set(ci),Jt,Ve)}),kt.forEach(ci=>{var bi,Fi;const Ui=ln.get(ci),mo=Ln.get(ci);ln.set(ci,new Map([...Array.from(null!==(bi=null==Ui?void 0:Ui.entries())&&void 0!==bi?bi:[]),...Array.from(null!==(Fi=null==mo?void 0:mo.entries())&&void 0!==Fi?Fi:[])]))});const fi=[],ji=[],ur={};ft.forEach(ci=>{const{element:bi,player:Fi,instruction:Ui}=ci;if(W.has(bi)){if(Dn.has(bi))return Fi.onDestroy(()=>Rt(bi,Ui.toStyles)),Fi.disabled=!0,Fi.overrideTotalTime(Ui.totalTime),void me.push(Fi);let mo=ur;if(Je.size>1){let qo=bi;const cs=[];for(;qo=qo.parentNode;){const xo=Je.get(qo);if(xo){mo=xo;break}cs.push(qo)}cs.forEach(xo=>Je.set(xo,mo))}const us=this._buildAnimation(Fi.namespaceId,Ui,_e,Fe,Ln,ln);if(Fi.setRealPlayer(us),mo===ur)fi.push(Fi);else{const qo=this.playersByElement.get(mo);qo&&qo.length&&(Fi.parentPlayer=Ut(qo)),me.push(Fi)}}else Qt(bi,Ui.fromStyles),Fi.onDestroy(()=>Rt(bi,Ui.toStyles)),ji.push(Fi),Dn.has(bi)&&me.push(Fi)}),ji.forEach(ci=>{const bi=Fe.get(ci.element);if(bi&&bi.length){const Fi=Ut(bi);ci.setRealPlayer(Fi)}}),me.forEach(ci=>{ci.parentPlayer?ci.syncPlayerEvents(ci.parentPlayer):ci.destroy()});for(let ci=0;ci<Sr.length;ci++){const bi=Sr[ci],Fi=bi[ui];if($n(bi,fr),Fi&&Fi.hasAnimation)continue;let Ui=[];if(Tt.size){let us=Tt.get(bi);us&&us.length&&Ui.push(...us);let qo=this.driver.query(bi,Yr,!0);for(let cs=0;cs<qo.length;cs++){let xo=Tt.get(qo[cs]);xo&&xo.length&&Ui.push(...xo)}}const mo=Ui.filter(us=>!us.destroyed);mo.length?hi(this,bi,mo):this.processLeaveNode(bi)}return Sr.length=0,fi.forEach(ci=>{this.players.push(ci),ci.onDone(()=>{ci.destroy();const bi=this.players.indexOf(ci);this.players.splice(bi,1)}),ci.play()}),fi}elementContainsData(v,P){let W=!1;const me=P[ui];return me&&me.setForRemoval&&(W=!0),this.playersByElement.has(P)&&(W=!0),this.playersByQueriedElement.has(P)&&(W=!0),this.statesByElement.has(P)&&(W=!0),this._fetchNamespace(v).elementContainsData(P)||W}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,P,W,me,Fe){let ft=[];if(P){const Tt=this.playersByQueriedElement.get(v);Tt&&(ft=Tt)}else{const Tt=this.playersByElement.get(v);if(Tt){const Jt=!Fe||Fe==ye;Tt.forEach(pn=>{pn.queued||!Jt&&pn.triggerName!=me||ft.push(pn)})}}return(W||me)&&(ft=ft.filter(Tt=>!(W&&W!=Tt.namespaceId||me&&me!=Tt.triggerName))),ft}_beforeAnimationBuild(v,P,W){const Fe=P.element,ft=P.isRemovalTransition?void 0:v,Tt=P.isRemovalTransition?void 0:P.triggerName;for(const Jt of P.timelines){const pn=Jt.element,Dn=pn!==Fe,Jn=ai(W,pn,[]);this._getPreviousPlayers(pn,Dn,ft,Tt,P.toState).forEach(Hi=>{const Ri=Hi.getRealPlayer();Ri.beforeDestroy&&Ri.beforeDestroy(),Hi.destroy(),Jn.push(Hi)})}Qt(Fe,P.fromStyles)}_buildAnimation(v,P,W,me,Fe,ft){const Tt=P.triggerName,Jt=P.element,pn=[],Dn=new Set,Jn=new Set,Si=P.timelines.map(Ri=>{const Li=Ri.element;Dn.add(Li);const Sr=Li[ui];if(Sr&&Sr.removedBeforeQueried)return new Ne(Ri.duration,Ri.delay);const Lr=Li!==Jt,Io=function Ci(B){const v=[];return pi(B,v),v}((W.get(Li)||Mn).map(_e=>_e.getRealPlayer())).filter(_e=>!!_e.element&&_e.element===Li),a=Fe.get(Li),_=ft.get(Li),F=gn(0,this._normalizer,0,Ri.keyframes,a,_),te=this._buildPlayer(Ri,F,Io);if(Ri.subTimeline&&me&&Jn.add(Li),Lr){const _e=new h(v,Tt,Li);_e.setRealPlayer(te),pn.push(_e)}return te});pn.forEach(Ri=>{ai(this.playersByQueriedElement,Ri.element,[]).push(Ri),Ri.onDone(()=>function I(B,v,P){let W=B.get(v);if(W){if(W.length){const me=W.indexOf(P);W.splice(me,1)}0==W.length&&B.delete(v)}return W}(this.playersByQueriedElement,Ri.element,Ri))}),Dn.forEach(Ri=>qt(Ri,to));const Hi=Ut(Si);return Hi.onDestroy(()=>{Dn.forEach(Ri=>$n(Ri,to)),Rt(Jt,P.toStyles)}),Jn.forEach(Ri=>{ai(me,Ri,[]).push(Hi)}),Hi}_buildPlayer(v,P,W){return P.length>0?this.driver.animate(v.element,P,v.duration,v.delay,v.easing,W):new Ne(v.duration,v.delay)}}class h{constructor(v,P,W){this.namespaceId=v,this.triggerName=P,this.element=W,this._player=new Ne,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((P,W)=>{P.forEach(me=>yn(v,W,void 0,me))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const P=this._player;P.triggerCallback&&v.onStart(()=>P.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,P){ai(this._queuedCallbacks,v,[]).push(P)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const P=this._player;P.triggerCallback&&P.triggerCallback(v)}}function H(B){return B&&1===B.nodeType}function Ye(B,v){const P=B.style.display;return B.style.display=null!=v?v:"none",P}function Ot(B,v,P,W,me){const Fe=[];P.forEach(Jt=>Fe.push(Ye(Jt)));const ft=[];W.forEach((Jt,pn)=>{const Dn=new Map;Jt.forEach(Jn=>{const Si=v.computeStyle(pn,Jn,me);Dn.set(Jn,Si),(!Si||0==Si.length)&&(pn[ui]=Ii,ft.push(pn))}),B.set(pn,Dn)});let Tt=0;return P.forEach(Jt=>Ye(Jt,Fe[Tt++])),ft}function Bt(B,v){const P=new Map;if(B.forEach(Tt=>P.set(Tt,[])),0==v.length)return P;const W=1,me=new Set(v),Fe=new Map;function ft(Tt){if(!Tt)return W;let Jt=Fe.get(Tt);if(Jt)return Jt;const pn=Tt.parentNode;return Jt=P.has(pn)?pn:me.has(pn)?W:ft(pn),Fe.set(Tt,Jt),Jt}return v.forEach(Tt=>{const Jt=ft(Tt);Jt!==W&&P.get(Jt).push(Tt)}),P}function qt(B,v){var P;null===(P=B.classList)||void 0===P||P.add(v)}function $n(B,v){var P;null===(P=B.classList)||void 0===P||P.remove(v)}function hi(B,v,P){Ut(P).onDone(()=>B.processLeaveNode(v))}function pi(B,v){for(let P=0;P<B.length;P++){const W=B[P];W instanceof we?pi(W.players,v):v.push(W)}}function li(B,v,P){const W=P.get(B);if(!W)return!1;let me=v.get(B);return me?W.forEach(Fe=>me.add(Fe)):v.set(B,W),P.delete(B),!0}class Co{constructor(v,P,W){this.bodyNode=v,this._driver=P,this._normalizer=W,this._triggerCache={},this.onRemovalComplete=(me,Fe)=>{},this._transitionEngine=new N(v,P,W),this._timelineEngine=new Pe(v,P,W),this._transitionEngine.onRemovalComplete=(me,Fe)=>this.onRemovalComplete(me,Fe)}registerTrigger(v,P,W,me,Fe){const ft=v+"-"+me;let Tt=this._triggerCache[ft];if(!Tt){const Jt=[],pn=[],Dn=wn(this._driver,Fe,Jt,pn);if(Jt.length)throw function Bn(B,v){return new y.vHH(3404,!1)}();Tt=function Qo(B,v,P){return new Xo(B,v,P)}(me,Dn,this._normalizer),this._triggerCache[ft]=Tt}this._transitionEngine.registerTrigger(P,me,Tt)}register(v,P){this._transitionEngine.register(v,P)}destroy(v,P){this._transitionEngine.destroy(v,P)}onInsert(v,P,W,me){this._transitionEngine.insertNode(v,P,W,me)}onRemove(v,P,W,me){this._transitionEngine.removeNode(v,P,me||!1,W)}disableAnimations(v,P){this._transitionEngine.markElementAsDisabled(v,P)}process(v,P,W,me){if("@"==W.charAt(0)){const[Fe,ft]=ti(W);this._timelineEngine.command(Fe,P,ft,me)}else this._transitionEngine.trigger(v,P,W,me)}listen(v,P,W,me,Fe){if("@"==W.charAt(0)){const[ft,Tt]=ti(W);return this._timelineEngine.listen(ft,P,Tt,Fe)}return this._transitionEngine.listen(v,P,W,me,Fe)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Er=(()=>{class B{constructor(P,W,me){this._element=P,this._startStyles=W,this._endStyles=me,this._state=0;let Fe=B.initialStylesByElement.get(P);Fe||B.initialStylesByElement.set(P,Fe=new Map),this._initialStyles=Fe}start(){this._state<1&&(this._startStyles&&Rt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rt(this._element,this._initialStyles),this._endStyles&&(Rt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(B.initialStylesByElement.delete(this._element),this._startStyles&&(Qt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qt(this._element,this._endStyles),this._endStyles=null),Rt(this._element,this._initialStyles),this._state=3)}}return B.initialStylesByElement=new WeakMap,B})();function _o(B){let v=null;return B.forEach((P,W)=>{(function es(B){return"display"===B||"position"===B})(W)&&(v=v||new Map,v.set(W,P))}),v}class Fo{constructor(v,P,W,me){this.element=v,this.keyframes=P,this.options=W,this._specialStyles=me,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=W.duration,this._delay=W.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const P=[];return v.forEach(W=>{P.push(Object.fromEntries(W))}),P}_triggerWebAnimation(v,P,W){return v.animate(this._convertKeyframesToObject(P),W)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((W,me)=>{"offset"!==me&&v.set(me,this._finished?W:Ir(this.element,me))}),this.currentSnapshot=v}triggerCallback(v){const P="start"===v?this._onStartFns:this._onDoneFns;P.forEach(W=>W()),P.length=0}}class Do{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,P){return!1}containsElement(v,P){return Ki(v,P)}getParentElement(v){return Nt(v)}query(v,P,W){return zi(v,P,W)}computeStyle(v,P,W){return window.getComputedStyle(v)[P]}animate(v,P,W,me,Fe,ft=[]){const Jt={duration:W,delay:me,fill:0==me?"both":"forwards"};Fe&&(Jt.easing=Fe);const pn=new Map,Dn=ft.filter(Hi=>Hi instanceof Fo);(function lr(B,v){return 0===B||0===v})(W,me)&&Dn.forEach(Hi=>{Hi.currentSnapshot.forEach((Ri,Li)=>pn.set(Li,Ri))});let Jn=function Dr(B){return B.length?B[0]instanceof Map?B:B.map(v=>Br(v)):[]}(P).map(Hi=>We(Hi));Jn=function fo(B,v,P){if(P.size&&v.length){let W=v[0],me=[];if(P.forEach((Fe,ft)=>{W.has(ft)||me.push(ft),W.set(ft,Fe)}),me.length)for(let Fe=1;Fe<v.length;Fe++){let ft=v[Fe];me.forEach(Tt=>ft.set(Tt,Ir(B,Tt)))}}return v}(v,Jn,pn);const Si=function Jr(B,v){let P=null,W=null;return Array.isArray(v)&&v.length?(P=_o(v[0]),v.length>1&&(W=_o(v[v.length-1]))):v instanceof Map&&(P=_o(v)),P||W?new Er(B,P,W):null}(v,Jn);return new Fo(v,Jn,Jt,Si)}}let fs=(()=>{class B extends Be{constructor(P,W){super(),this._nextAnimationId=0,this._renderer=P.createRenderer(W.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(P){const W=this._nextAnimationId.toString();this._nextAnimationId++;const me=Array.isArray(P)?Ke(P):P;return Ps(this._renderer,null,W,"register",[me]),new ts(W,this._renderer)}}return B.\u0275fac=function(P){return new(P||B)(y.LFG(y.FYo),y.LFG(ae.K0))},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac}),B})();class ts extends qe{constructor(v,P){super(),this._id=v,this._renderer=P}create(v,P){return new ss(this._id,v,P||{},this._renderer)}}class ss{constructor(v,P,W,me){this.id=v,this.element=P,this._renderer=me,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",W)}_listen(v,P){return this._renderer.listen(this.element,`@@${this.id}:${v}`,P)}_command(v,...P){return Ps(this._renderer,this.element,this.id,v,P)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){var v,P;return null!==(v=null===(P=this._renderer.engine.players[+this.id])||void 0===P?void 0:P.getPosition())&&void 0!==v?v:0}}function Ps(B,v,P,W,me){return B.setProperty(v,`@@${P}:${W}`,me)}const Ms="@.disabled";let Rs=(()=>{class B{constructor(P,W,me){this.delegate=P,this.engine=W,this._zone=me,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),W.onRemovalComplete=(Fe,ft)=>{const Tt=null==ft?void 0:ft.parentNode(Fe);Tt&&ft.removeChild(Tt,Fe)}}createRenderer(P,W){const Fe=this.delegate.createRenderer(P,W);if(!(P&&W&&W.data&&W.data.animation)){let Dn=this._rendererCache.get(Fe);return Dn||(Dn=new Is("",Fe,this.engine,()=>this._rendererCache.delete(Fe)),this._rendererCache.set(Fe,Dn)),Dn}const ft=W.id,Tt=W.id+"-"+this._currentId;this._currentId++,this.engine.register(Tt,P);const Jt=Dn=>{Array.isArray(Dn)?Dn.forEach(Jt):this.engine.registerTrigger(ft,Tt,P,Dn.name,Dn)};return W.data.animation.forEach(Jt),new ms(this,Tt,Fe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(P,W,me){P>=0&&P<this._microtaskId?this._zone.run(()=>W(me)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Fe=>{const[ft,Tt]=Fe;ft(Tt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([W,me]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return B.\u0275fac=function(P){return new(P||B)(y.LFG(y.FYo),y.LFG(Co),y.LFG(y.R0b))},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac}),B})();class Is{constructor(v,P,W,me){this.namespaceId=v,this.delegate=P,this.engine=W,this._onDestroy=me,this.destroyNode=this.delegate.destroyNode?Fe=>P.destroyNode(Fe):null}get data(){return this.delegate.data}destroy(){var v;this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),null===(v=this._onDestroy)||void 0===v||v.call(this)}createElement(v,P){return this.delegate.createElement(v,P)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,P){this.delegate.appendChild(v,P),this.engine.onInsert(this.namespaceId,P,v,!1)}insertBefore(v,P,W,me=!0){this.delegate.insertBefore(v,P,W),this.engine.onInsert(this.namespaceId,P,v,me)}removeChild(v,P,W){this.engine.onRemove(this.namespaceId,P,this.delegate,W)}selectRootElement(v,P){return this.delegate.selectRootElement(v,P)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,P,W,me){this.delegate.setAttribute(v,P,W,me)}removeAttribute(v,P,W){this.delegate.removeAttribute(v,P,W)}addClass(v,P){this.delegate.addClass(v,P)}removeClass(v,P){this.delegate.removeClass(v,P)}setStyle(v,P,W,me){this.delegate.setStyle(v,P,W,me)}removeStyle(v,P,W){this.delegate.removeStyle(v,P,W)}setProperty(v,P,W){"@"==P.charAt(0)&&P==Ms?this.disableAnimations(v,!!W):this.delegate.setProperty(v,P,W)}setValue(v,P){this.delegate.setValue(v,P)}listen(v,P,W){return this.delegate.listen(v,P,W)}disableAnimations(v,P){this.engine.disableAnimations(v,P)}}class ms extends Is{constructor(v,P,W,me,Fe){super(P,W,me,Fe),this.factory=v,this.namespaceId=P}setProperty(v,P,W){"@"==P.charAt(0)?"."==P.charAt(1)&&P==Ms?this.disableAnimations(v,W=void 0===W||!!W):this.engine.process(this.namespaceId,v,P.slice(1),W):this.delegate.setProperty(v,P,W)}listen(v,P,W){if("@"==P.charAt(0)){const me=function Ls(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(v);let Fe=P.slice(1),ft="";return"@"!=Fe.charAt(0)&&([Fe,ft]=function ns(B){const v=B.indexOf(".");return[B.substring(0,v),B.slice(v+1)]}(Fe)),this.engine.listen(this.namespaceId,me,Fe,ft,Tt=>{this.factory.scheduleListenerCallback(Tt._data||-1,W,Tt)})}return this.delegate.listen(v,P,W)}}const Ns=[{provide:Be,useClass:fs},{provide:Po,useFactory:function Fs(){return new $o}},{provide:Co,useClass:(()=>{class B extends Co{constructor(P,W,me,Fe){super(P.body,W,me)}ngOnDestroy(){this.flush()}}return B.\u0275fac=function(P){return new(P||B)(y.LFG(ae.K0),y.LFG(Nr),y.LFG(Po),y.LFG(y.z2F))},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac}),B})()},{provide:y.FYo,useFactory:function ws(B,v,P){return new Rs(B,v,P)},deps:[o.se,Co,y.R0b]}],as=[{provide:Nr,useFactory:()=>new Do},{provide:y.QbO,useValue:"BrowserAnimations"},...Ns],As=[{provide:Nr,useClass:Rr},{provide:y.QbO,useValue:"NoopAnimations"},...Ns];let Os=(()=>{class B{static withConfig(P){return{ngModule:B,providers:P.disableAnimations?As:as}}}return B.\u0275fac=function(P){return new(P||B)},B.\u0275mod=y.oAB({type:B}),B.\u0275inj=y.cJS({providers:as,imports:[o.b2]}),B})();var js=R(529);let ie=(()=>{var B;class v{}return(B=v).\u0275fac=function(W){return new(W||B)},B.\u0275mod=y.oAB({type:B,bootstrap:[ke]}),B.\u0275inj=y.cJS({providers:[{provide:K.wN,useClass:z.r4}],imports:[o.b2,Os,js.JF,z.Pc.forRoot(),De,Y.qZ,ce.m8]}),v})();(0,y.G48)(),o.q6().bootstrapModule(ie).catch(B=>console.log(B))},9170:yt=>{"use strict";var U=Object.prototype.hasOwnProperty,R="~";function o(){}function y(X,Z,Y){this.fn=X,this.context=Z,this.once=Y||!1}function K(X,Z,Y,q,ce){if("function"!=typeof Y)throw new TypeError("The listener must be a function");var ae=new y(Y,q||X,ce),se=R?R+Z:Z;return X._events[se]?X._events[se].fn?X._events[se]=[X._events[se],ae]:X._events[se].push(ae):(X._events[se]=ae,X._eventsCount++),X}function z(X,Z){0==--X._eventsCount?X._events=new o:delete X._events[Z]}function J(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(R=!1)),J.prototype.eventNames=function(){var Y,q,Z=[];if(0===this._eventsCount)return Z;for(q in Y=this._events)U.call(Y,q)&&Z.push(R?q.slice(1):q);return Object.getOwnPropertySymbols?Z.concat(Object.getOwnPropertySymbols(Y)):Z},J.prototype.listeners=function(Z){var q=this._events[R?R+Z:Z];if(!q)return[];if(q.fn)return[q.fn];for(var ce=0,ae=q.length,se=new Array(ae);ce<ae;ce++)se[ce]=q[ce].fn;return se},J.prototype.listenerCount=function(Z){var q=this._events[R?R+Z:Z];return q?q.fn?1:q.length:0},J.prototype.emit=function(Z,Y,q,ce,ae,se){var re=R?R+Z:Z;if(!this._events[re])return!1;var Ce,fe,le=this._events[re],ke=arguments.length;if(le.fn){switch(le.once&&this.removeListener(Z,le.fn,void 0,!0),ke){case 1:return le.fn.call(le.context),!0;case 2:return le.fn.call(le.context,Y),!0;case 3:return le.fn.call(le.context,Y,q),!0;case 4:return le.fn.call(le.context,Y,q,ce),!0;case 5:return le.fn.call(le.context,Y,q,ce,ae),!0;case 6:return le.fn.call(le.context,Y,q,ce,ae,se),!0}for(fe=1,Ce=new Array(ke-1);fe<ke;fe++)Ce[fe-1]=arguments[fe];le.fn.apply(le.context,Ce)}else{var De,ve=le.length;for(fe=0;fe<ve;fe++)switch(le[fe].once&&this.removeListener(Z,le[fe].fn,void 0,!0),ke){case 1:le[fe].fn.call(le[fe].context);break;case 2:le[fe].fn.call(le[fe].context,Y);break;case 3:le[fe].fn.call(le[fe].context,Y,q);break;case 4:le[fe].fn.call(le[fe].context,Y,q,ce);break;default:if(!Ce)for(De=1,Ce=new Array(ke-1);De<ke;De++)Ce[De-1]=arguments[De];le[fe].fn.apply(le[fe].context,Ce)}}return!0},J.prototype.on=function(Z,Y,q){return K(this,Z,Y,q,!1)},J.prototype.once=function(Z,Y,q){return K(this,Z,Y,q,!0)},J.prototype.removeListener=function(Z,Y,q,ce){var ae=R?R+Z:Z;if(!this._events[ae])return this;if(!Y)return z(this,ae),this;var se=this._events[ae];if(se.fn)se.fn===Y&&(!ce||se.once)&&(!q||se.context===q)&&z(this,ae);else{for(var re=0,le=[],ke=se.length;re<ke;re++)(se[re].fn!==Y||ce&&!se[re].once||q&&se[re].context!==q)&&le.push(se[re]);le.length?this._events[ae]=1===le.length?le[0]:le:z(this,ae)}return this},J.prototype.removeAllListeners=function(Z){var Y;return Z?this._events[Y=R?R+Z:Z]&&z(this,Y):(this._events=new o,this._eventsCount=0),this},J.prototype.off=J.prototype.removeListener,J.prototype.addListener=J.prototype.on,J.prefixed=R,J.EventEmitter=J,yt.exports=J},5834:(yt,U,R)=>{"use strict";var o=R(5203),y=R(5685),K=y(o("String.prototype.indexOf"));yt.exports=function(J,X){var Z=o(J,!!X);return"function"==typeof Z&&K(J,".prototype.")>-1?y(Z):Z}},5685:(yt,U,R)=>{"use strict";var o=R(4444),y=R(5203),K=R(9511),z=R(2844),J=y("%Function.prototype.apply%"),X=y("%Function.prototype.call%"),Z=y("%Reflect.apply%",!0)||o.call(X,J),Y=R(3907),q=y("%Math.max%");yt.exports=function(se){if("function"!=typeof se)throw new z("a function is required");var re=Z(o,X,arguments);return K(re,1+q(0,se.length-(arguments.length-1)),!0)};var ce=function(){return Z(o,J,arguments)};Y?Y(yt.exports,"apply",{value:ce}):yt.exports.apply=ce},4252:function(yt,U,R){!function(o,y,K){"use strict";var z={value:()=>{}};function J(){for(var Wt,Ue=0,ot=arguments.length,wt={};Ue<ot;++Ue){if(!(Wt=arguments[Ue]+"")||Wt in wt||/[\s.]/.test(Wt))throw new Error("illegal type: "+Wt);wt[Wt]=[]}return new X(wt)}function X(Ue){this._=Ue}function Y(Ue,ot){for(var Gt,wt=0,Wt=Ue.length;wt<Wt;++wt)if((Gt=Ue[wt]).name===ot)return Gt.value}function q(Ue,ot,wt){for(var Wt=0,Gt=Ue.length;Wt<Gt;++Wt)if(Ue[Wt].name===ot){Ue[Wt]=z,Ue=Ue.slice(0,Wt).concat(Ue.slice(Wt+1));break}return null!=wt&&Ue.push({name:ot,value:wt}),Ue}X.prototype=J.prototype={constructor:X,on:function(Ue,ot){var Gt,wt=this._,Wt=function Z(Ue,ot){return Ue.trim().split(/^|\s+/).map(function(wt){var Wt="",Gt=wt.indexOf(".");if(Gt>=0&&(Wt=wt.slice(Gt+1),wt=wt.slice(0,Gt)),wt&&!ot.hasOwnProperty(wt))throw new Error("unknown type: "+wt);return{type:wt,name:Wt}})}(Ue+"",wt),cn=-1,Fn=Wt.length;if(!(arguments.length<2)){if(null!=ot&&"function"!=typeof ot)throw new Error("invalid callback: "+ot);for(;++cn<Fn;)if(Gt=(Ue=Wt[cn]).type)wt[Gt]=q(wt[Gt],Ue.name,ot);else if(null==ot)for(Gt in wt)wt[Gt]=q(wt[Gt],Ue.name,null);return this}for(;++cn<Fn;)if((Gt=(Ue=Wt[cn]).type)&&(Gt=Y(wt[Gt],Ue.name)))return Gt},copy:function(){var Ue={},ot=this._;for(var wt in ot)Ue[wt]=ot[wt].slice();return new X(Ue)},call:function(Ue,ot){if((Gt=arguments.length-2)>0)for(var Gt,cn,wt=new Array(Gt),Wt=0;Wt<Gt;++Wt)wt[Wt]=arguments[Wt+2];if(!this._.hasOwnProperty(Ue))throw new Error("unknown type: "+Ue);for(Wt=0,Gt=(cn=this._[Ue]).length;Wt<Gt;++Wt)cn[Wt].value.apply(ot,wt)},apply:function(Ue,ot,wt){if(!this._.hasOwnProperty(Ue))throw new Error("unknown type: "+Ue);for(var Wt=this._[Ue],Gt=0,cn=Wt.length;Gt<cn;++Gt)Wt[Gt].value.apply(ot,wt)}};var ce="http://www.w3.org/1999/xhtml",ae={svg:"http://www.w3.org/2000/svg",xhtml:ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function se(Ue){var ot=Ue+="",wt=ot.indexOf(":");return wt>=0&&"xmlns"!==(ot=Ue.slice(0,wt))&&(Ue=Ue.slice(wt+1)),ae.hasOwnProperty(ot)?{space:ae[ot],local:Ue}:Ue}function re(Ue){return function(){var ot=this.ownerDocument,wt=this.namespaceURI;return wt===ce&&ot.documentElement.namespaceURI===ce?ot.createElement(Ue):ot.createElementNS(wt,Ue)}}function le(Ue){return function(){return this.ownerDocument.createElementNS(Ue.space,Ue.local)}}function ke(Ue){var ot=se(Ue);return(ot.local?le:re)(ot)}function Ce(){}function fe(Ue){return null==Ue?Ce:function(){return this.querySelector(Ue)}}function Be(){return[]}function Oe(Ue){return function(){return function De(Ue){return null==Ue?[]:Array.isArray(Ue)?Ue:Array.from(Ue)}(Ue.apply(this,arguments))}}function Xe(Ue){return function(ot){return ot.matches(Ue)}}var Ke=Array.prototype.find;function ut(){return this.firstElementChild}var Ze=Array.prototype.filter;function ge(){return Array.from(this.children)}function Ae(Ue){return new Array(Ue.length)}function Ne(Ue,ot){this.ownerDocument=Ue.ownerDocument,this.namespaceURI=Ue.namespaceURI,this._next=null,this._parent=Ue,this.__data__=ot}function Ve(Ue,ot,wt,Wt,Gt,cn){for(var Tn,Fn=0,Vn=ot.length,wn=cn.length;Fn<wn;++Fn)(Tn=ot[Fn])?(Tn.__data__=cn[Fn],Wt[Fn]=Tn):wt[Fn]=new Ne(Ue,cn[Fn]);for(;Fn<Vn;++Fn)(Tn=ot[Fn])&&(Gt[Fn]=Tn)}function Ie(Ue,ot,wt,Wt,Gt,cn,Fn){var Tn,Vn,mi,wn=new Map,ei=ot.length,Yi=cn.length,_i=new Array(ei);for(Tn=0;Tn<ei;++Tn)(Vn=ot[Tn])&&(_i[Tn]=mi=Fn.call(Vn,Vn.__data__,Tn,ot)+"",wn.has(mi)?Gt[Tn]=Vn:wn.set(mi,Vn));for(Tn=0;Tn<Yi;++Tn)mi=Fn.call(Ue,cn[Tn],Tn,cn)+"",(Vn=wn.get(mi))?(Wt[Tn]=Vn,Vn.__data__=cn[Tn],wn.delete(mi)):wt[Tn]=new Ne(Ue,cn[Tn]);for(Tn=0;Tn<ei;++Tn)(Vn=ot[Tn])&&wn.get(_i[Tn])===Vn&&(Gt[Tn]=Vn)}function Le(Ue){return Ue.__data__}function bt(Ue){return"object"==typeof Ue&&"length"in Ue?Ue:Array.from(Ue)}function st(Ue,ot){return Ue<ot?-1:Ue>ot?1:Ue>=ot?0:NaN}function yi(Ue){return function(){this.removeAttribute(Ue)}}function Pi(Ue){return function(){this.removeAttributeNS(Ue.space,Ue.local)}}function Ji(Ue,ot){return function(){this.setAttribute(Ue,ot)}}function Or(Ue,ot){return function(){this.setAttributeNS(Ue.space,Ue.local,ot)}}function ir(Ue,ot){return function(){var wt=ot.apply(this,arguments);null==wt?this.removeAttribute(Ue):this.setAttribute(Ue,wt)}}function Fr(Ue,ot){return function(){var wt=ot.apply(this,arguments);null==wt?this.removeAttributeNS(Ue.space,Ue.local):this.setAttributeNS(Ue.space,Ue.local,wt)}}function Sn(Ue){return Ue.ownerDocument&&Ue.ownerDocument.defaultView||Ue.document&&Ue||Ue.defaultView}function Bn(Ue){return function(){this.style.removeProperty(Ue)}}function xt(Ue,ot,wt){return function(){this.style.setProperty(Ue,ot,wt)}}function Pt(Ue,ot,wt){return function(){var Wt=ot.apply(this,arguments);null==Wt?this.style.removeProperty(Ue):this.style.setProperty(Ue,Wt,wt)}}function en(Ue){return function(){delete this[Ue]}}function Lt(Ue,ot){return function(){this[Ue]=ot}}function at(Ue,ot){return function(){var wt=ot.apply(this,arguments);null==wt?delete this[Ue]:this[Ue]=wt}}function Nn(Ue){return Ue.trim().split(/^|\s+/)}function Ti(Ue){return Ue.classList||new Qn(Ue)}function Qn(Ue){this._node=Ue,this._names=Nn(Ue.getAttribute("class")||"")}function dr(Ue,ot){for(var wt=Ti(Ue),Wt=-1,Gt=ot.length;++Wt<Gt;)wt.add(ot[Wt])}function Zi(Ue,ot){for(var wt=Ti(Ue),Wt=-1,Gt=ot.length;++Wt<Gt;)wt.remove(ot[Wt])}function Zt(Ue){return function(){dr(this,Ue)}}function _t(Ue){return function(){Zi(this,Ue)}}function Ut(Ue,ot){return function(){(ot.apply(this,arguments)?dr:Zi)(this,Ue)}}function yn(){this.textContent=""}function jt(Ue){return function(){this.textContent=Ue}}function Yn(Ue){return function(){var ot=Ue.apply(this,arguments);this.textContent=null==ot?"":ot}}function ti(){this.innerHTML=""}function Vi(Ue){return function(){this.innerHTML=Ue}}function er(Ue){return function(){var ot=Ue.apply(this,arguments);this.innerHTML=null==ot?"":ot}}function Nt(){this.nextSibling&&this.parentNode.appendChild(this)}function Xt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hn(){return null}function Pr(){var Ue=this.parentNode;Ue&&Ue.removeChild(this)}function zi(){var Ue=this.cloneNode(!1),ot=this.parentNode;return ot?ot.insertBefore(Ue,this.nextSibling):Ue}function Gi(){var Ue=this.cloneNode(!0),ot=this.parentNode;return ot?ot.insertBefore(Ue,this.nextSibling):Ue}function yr(Ue){return function(){var ot=this.__on;if(ot){for(var cn,wt=0,Wt=-1,Gt=ot.length;wt<Gt;++wt)cn=ot[wt],Ue.type&&cn.type!==Ue.type||cn.name!==Ue.name?ot[++Wt]=cn:this.removeEventListener(cn.type,cn.listener,cn.options);++Wt?ot.length=Wt:delete this.__on}}}function kr(Ue,ot,wt){return function(){var Gt,Wt=this.__on,cn=function Eo(Ue){return function(ot){Ue.call(this,ot,this.__data__)}}(ot);if(Wt)for(var Fn=0,Tn=Wt.length;Fn<Tn;++Fn)if((Gt=Wt[Fn]).type===Ue.type&&Gt.name===Ue.name)return this.removeEventListener(Gt.type,Gt.listener,Gt.options),this.addEventListener(Gt.type,Gt.listener=cn,Gt.options=wt),void(Gt.value=ot);this.addEventListener(Ue.type,cn,wt),Gt={type:Ue.type,name:Ue.name,value:ot,listener:cn,options:wt},Wt?Wt.push(Gt):this.__on=[Gt]}}function tr(Ue,ot,wt){var Wt=Sn(Ue),Gt=Wt.CustomEvent;"function"==typeof Gt?Gt=new Gt(ot,wt):(Gt=Wt.document.createEvent("Event"),wt?(Gt.initEvent(ot,wt.bubbles,wt.cancelable),Gt.detail=wt.detail):Gt.initEvent(ot,!1,!1)),Ue.dispatchEvent(Gt)}function co(Ue,ot){return function(){return tr(this,Ue,ot)}}function to(Ue,ot){return function(){return tr(this,Ue,ot.apply(this,arguments))}}Ne.prototype={constructor:Ne,appendChild:function(Ue){return this._parent.insertBefore(Ue,this._next)},insertBefore:function(Ue,ot){return this._parent.insertBefore(Ue,ot)},querySelector:function(Ue){return this._parent.querySelector(Ue)},querySelectorAll:function(Ue){return this._parent.querySelectorAll(Ue)}},Qn.prototype={add:function(Ue){this._names.indexOf(Ue)<0&&(this._names.push(Ue),this._node.setAttribute("class",this._names.join(" ")))},remove:function(Ue){var ot=this._names.indexOf(Ue);ot>=0&&(this._names.splice(ot,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(Ue){return this._names.indexOf(Ue)>=0}};var nr=[null];function Oi(Ue,ot){this._groups=Ue,this._parents=ot}function di(Ue){return"string"==typeof Ue?new Oi([[document.querySelector(Ue)]],[document.documentElement]):new Oi([[Ue]],nr)}function Dr(Ue,ot){if(Ue=function Br(Ue){let ot;for(;ot=Ue.sourceEvent;)Ue=ot;return Ue}(Ue),void 0===ot&&(ot=Ue.currentTarget),ot){var wt=ot.ownerSVGElement||ot;if(wt.createSVGPoint){var Wt=wt.createSVGPoint();return Wt.x=Ue.clientX,Wt.y=Ue.clientY,[(Wt=Wt.matrixTransform(ot.getScreenCTM().inverse())).x,Wt.y]}if(ot.getBoundingClientRect){var Gt=ot.getBoundingClientRect();return[Ue.clientX-Gt.left-ot.clientLeft,Ue.clientY-Gt.top-ot.clientTop]}}return[Ue.pageX,Ue.pageY]}Oi.prototype={constructor:Oi,select:function ve(Ue){"function"!=typeof Ue&&(Ue=fe(Ue));for(var ot=this._groups,wt=ot.length,Wt=new Array(wt),Gt=0;Gt<wt;++Gt)for(var Vn,wn,cn=ot[Gt],Fn=cn.length,Tn=Wt[Gt]=new Array(Fn),ei=0;ei<Fn;++ei)(Vn=cn[ei])&&(wn=Ue.call(Vn,Vn.__data__,ei,cn))&&("__data__"in Vn&&(wn.__data__=Vn.__data__),Tn[ei]=wn);return new Oi(Wt,this._parents)},selectAll:function mt(Ue){Ue="function"==typeof Ue?Oe(Ue):function qe(Ue){return null==Ue?Be:function(){return this.querySelectorAll(Ue)}}(Ue);for(var ot=this._groups,wt=ot.length,Wt=[],Gt=[],cn=0;cn<wt;++cn)for(var Vn,Fn=ot[cn],Tn=Fn.length,wn=0;wn<Tn;++wn)(Vn=Fn[wn])&&(Wt.push(Ue.call(Vn,Vn.__data__,wn,Fn)),Gt.push(Vn));return new Oi(Wt,Gt)},selectChild:function ze(Ue){return this.select(null==Ue?ut:function Qe(Ue){return function(){return Ke.call(this.children,Ue)}}("function"==typeof Ue?Ue:Xe(Ue)))},selectChildren:function Se(Ue){return this.selectAll(null==Ue?ge:function pe(Ue){return function(){return Ze.call(this.children,Ue)}}("function"==typeof Ue?Ue:Xe(Ue)))},filter:function xe(Ue){"function"!=typeof Ue&&(Ue=function Me(Ue){return function(){return this.matches(Ue)}}(Ue));for(var ot=this._groups,wt=ot.length,Wt=new Array(wt),Gt=0;Gt<wt;++Gt)for(var Vn,cn=ot[Gt],Fn=cn.length,Tn=Wt[Gt]=[],wn=0;wn<Fn;++wn)(Vn=cn[wn])&&Ue.call(Vn,Vn.__data__,wn,cn)&&Tn.push(Vn);return new Oi(Wt,this._parents)},data:function gt(Ue,ot){if(!arguments.length)return Array.from(this,Le);var wt=ot?Ie:Ve,Wt=this._parents,Gt=this._groups;"function"!=typeof Ue&&(Ue=function we(Ue){return function(){return Ue}}(Ue));for(var cn=Gt.length,Fn=new Array(cn),Tn=new Array(cn),Vn=new Array(cn),wn=0;wn<cn;++wn){var ei=Wt[wn],Yi=Gt[wn],_i=Yi.length,mi=bt(Ue.call(ei,ei&&ei.__data__,wn,Wt)),Tr=mi.length,Ur=Tn[wn]=new Array(Tr),sr=Fn[wn]=new Array(Tr);wt(ei,Yi,Ur,sr,Vn[wn]=new Array(_i),mi,ot);for(var zn,Bi,wi=0,br=0;wi<Tr;++wi)if(zn=Ur[wi]){for(wi>=br&&(br=wi+1);!(Bi=sr[br])&&++br<Tr;);zn._next=Bi||null}}return(Fn=new Oi(Fn,Wt))._enter=Tn,Fn._exit=Vn,Fn},enter:function Te(){return new Oi(this._enter||this._groups.map(Ae),this._parents)},exit:function Mt(){return new Oi(this._exit||this._groups.map(Ae),this._parents)},join:function un(Ue,ot,wt){var Wt=this.enter(),Gt=this,cn=this.exit();return"function"==typeof Ue?(Wt=Ue(Wt))&&(Wt=Wt.selection()):Wt=Wt.append(Ue+""),null!=ot&&(Gt=ot(Gt))&&(Gt=Gt.selection()),null==wt?cn.remove():wt(cn),Wt&&Gt?Wt.merge(Gt).order():Gt},merge:function En(Ue){for(var ot=Ue.selection?Ue.selection():Ue,wt=this._groups,Wt=ot._groups,Gt=wt.length,Fn=Math.min(Gt,Wt.length),Tn=new Array(Gt),Vn=0;Vn<Fn;++Vn)for(var mi,wn=wt[Vn],ei=Wt[Vn],Yi=wn.length,_i=Tn[Vn]=new Array(Yi),Tr=0;Tr<Yi;++Tr)(mi=wn[Tr]||ei[Tr])&&(_i[Tr]=mi);for(;Vn<Gt;++Vn)Tn[Vn]=wt[Vn];return new Oi(Tn,this._parents)},selection:function Ei(){return this},order:function tn(){for(var Ue=this._groups,ot=-1,wt=Ue.length;++ot<wt;)for(var Fn,Wt=Ue[ot],Gt=Wt.length-1,cn=Wt[Gt];--Gt>=0;)(Fn=Wt[Gt])&&(cn&&4^Fn.compareDocumentPosition(cn)&&cn.parentNode.insertBefore(Fn,cn),cn=Fn);return this},sort:function Ct(Ue){function ot(Yi,_i){return Yi&&_i?Ue(Yi.__data__,_i.__data__):!Yi-!_i}Ue||(Ue=st);for(var wt=this._groups,Wt=wt.length,Gt=new Array(Wt),cn=0;cn<Wt;++cn){for(var wn,Fn=wt[cn],Tn=Fn.length,Vn=Gt[cn]=new Array(Tn),ei=0;ei<Tn;++ei)(wn=Fn[ei])&&(Vn[ei]=wn);Vn.sort(ot)}return new Oi(Gt,this._parents).order()},call:function nn(){var Ue=arguments[0];return arguments[0]=this,Ue.apply(null,arguments),this},nodes:function $t(){return Array.from(this)},node:function vn(){for(var Ue=this._groups,ot=0,wt=Ue.length;ot<wt;++ot)for(var Wt=Ue[ot],Gt=0,cn=Wt.length;Gt<cn;++Gt){var Fn=Wt[Gt];if(Fn)return Fn}return null},size:function Cn(){let Ue=0;for(const ot of this)++Ue;return Ue},empty:function bn(){return!this.node()},each:function vi(Ue){for(var ot=this._groups,wt=0,Wt=ot.length;wt<Wt;++wt)for(var Tn,Gt=ot[wt],cn=0,Fn=Gt.length;cn<Fn;++cn)(Tn=Gt[cn])&&Ue.call(Tn,Tn.__data__,cn,Gt);return this},attr:function Qi(Ue,ot){var wt=se(Ue);if(arguments.length<2){var Wt=this.node();return wt.local?Wt.getAttributeNS(wt.space,wt.local):Wt.getAttribute(wt)}return this.each((null==ot?wt.local?Pi:yi:"function"==typeof ot?wt.local?Fr:ir:wt.local?Or:Ji)(wt,ot))},style:function nt(Ue,ot,wt){return arguments.length>1?this.each((null==ot?Bn:"function"==typeof ot?Pt:xt)(Ue,ot,null==wt?"":wt)):function dn(Ue,ot){return Ue.style.getPropertyValue(ot)||Sn(Ue).getComputedStyle(Ue,null).getPropertyValue(ot)}(this.node(),Ue)},property:function qn(Ue,ot){return arguments.length>1?this.each((null==ot?en:"function"==typeof ot?at:Lt)(Ue,ot)):this.node()[Ue]},classed:function gn(Ue,ot){var wt=Nn(Ue+"");if(arguments.length<2){for(var Wt=Ti(this.node()),Gt=-1,cn=wt.length;++Gt<cn;)if(!Wt.contains(wt[Gt]))return!1;return!0}return this.each(("function"==typeof ot?Ut:ot?Zt:_t)(wt,ot))},text:function ai(Ue){return arguments.length?this.each(null==Ue?yn:("function"==typeof Ue?Yn:jt)(Ue)):this.node().textContent},html:function At(Ue){return arguments.length?this.each(null==Ue?ti:("function"==typeof Ue?er:Vi)(Ue)):this.node().innerHTML},raise:function dt(){return this.each(Nt)},lower:function hn(){return this.each(Xt)},append:function Un(Ue){var ot="function"==typeof Ue?Ue:ke(Ue);return this.select(function(){return this.appendChild(ot.apply(this,arguments))})},insert:function ii(Ue,ot){var wt="function"==typeof Ue?Ue:ke(Ue),Wt=null==ot?Hn:"function"==typeof ot?ot:fe(ot);return this.select(function(){return this.insertBefore(wt.apply(this,arguments),Wt.apply(this,arguments)||null)})},remove:function Ki(){return this.each(Pr)},clone:function Rr(Ue){return this.select(Ue?Gi:zi)},datum:function Nr(Ue){return arguments.length?this.property("__data__",Ue):this.node().__data__},on:function fr(Ue,ot,wt){var Gt,Fn,Wt=function vo(Ue){return Ue.trim().split(/^|\s+/).map(function(ot){var wt="",Wt=ot.indexOf(".");return Wt>=0&&(wt=ot.slice(Wt+1),ot=ot.slice(0,Wt)),{type:ot,name:wt}})}(Ue+""),cn=Wt.length;if(!(arguments.length<2)){for(Tn=ot?kr:yr,Gt=0;Gt<cn;++Gt)this.each(Tn(Wt[Gt],ot,wt));return this}var Tn=this.node().__on;if(Tn)for(var ei,Vn=0,wn=Tn.length;Vn<wn;++Vn)for(Gt=0,ei=Tn[Vn];Gt<cn;++Gt)if((Fn=Wt[Gt]).type===ei.type&&Fn.name===ei.name)return ei.value},dispatch:function Yr(Ue,ot){return this.each(("function"==typeof ot?to:co)(Ue,ot))},[Symbol.iterator]:function*ho(){for(var Ue=this._groups,ot=0,wt=Ue.length;ot<wt;++ot)for(var Fn,Wt=Ue[ot],Gt=0,cn=Wt.length;Gt<cn;++Gt)(Fn=Wt[Gt])&&(yield Fn)}};const no={passive:!1},We={capture:!0,passive:!1};function tt(Ue){Ue.stopImmediatePropagation()}function ht(Ue){Ue.preventDefault(),Ue.stopImmediatePropagation()}var rt=Ue=>()=>Ue;function Vt(Ue,{sourceEvent:ot,subject:wt,target:Wt,identifier:Gt,active:cn,x:Fn,y:Tn,dx:Vn,dy:wn,dispatch:ei}){Object.defineProperties(this,{type:{value:Ue,enumerable:!0,configurable:!0},sourceEvent:{value:ot,enumerable:!0,configurable:!0},subject:{value:wt,enumerable:!0,configurable:!0},target:{value:Wt,enumerable:!0,configurable:!0},identifier:{value:Gt,enumerable:!0,configurable:!0},active:{value:cn,enumerable:!0,configurable:!0},x:{value:Fn,enumerable:!0,configurable:!0},y:{value:Tn,enumerable:!0,configurable:!0},dx:{value:Vn,enumerable:!0,configurable:!0},dy:{value:wn,enumerable:!0,configurable:!0},_:{value:ei}})}function Yt(Ue){return!Ue.ctrlKey&&!Ue.button}function mn(){return this.parentNode}function sn(Ue,ot){return null==ot?{x:Ue.x,y:Ue.y}:ot}function jn(){return navigator.maxTouchPoints||"ontouchstart"in this}function oi(){var Tn,Vn,wn,ei,Ue=Yt,ot=mn,wt=sn,Wt=jn,Gt={},cn=J("start","drag","end"),Fn=0,Yi=0;function _i(zn){zn.on("mousedown.drag",mi).filter(Wt).on("touchstart.drag",sr).on("touchmove.drag",xr,no).on("touchend.drag touchcancel.drag",wi).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mi(zn,Bi){if(!ei&&Ue.call(this,zn,Bi)){var Mr=br(this,ot.call(this,zn,Bi),zn,Bi,"mouse");Mr&&(di(zn.view).on("mousemove.drag",Tr,We).on("mouseup.drag",Ur,We),function Rt(Ue){var ot=Ue.document.documentElement,wt=di(Ue).on("dragstart.drag",ht,We);"onselectstart"in ot?wt.on("selectstart.drag",ht,We):(ot.__noselect=ot.style.MozUserSelect,ot.style.MozUserSelect="none")}(zn.view),tt(zn),wn=!1,Tn=zn.clientX,Vn=zn.clientY,Mr("start",zn))}}function Tr(zn){if(ht(zn),!wn){var Bi=zn.clientX-Tn,Mr=zn.clientY-Vn;wn=Bi*Bi+Mr*Mr>Yi}Gt.mouse("drag",zn)}function Ur(zn){di(zn.view).on("mousemove.drag mouseup.drag",null),function Qt(Ue,ot){var wt=Ue.document.documentElement,Wt=di(Ue).on("dragstart.drag",null);ot&&(Wt.on("click.drag",ht,We),setTimeout(function(){Wt.on("click.drag",null)},0)),"onselectstart"in wt?Wt.on("selectstart.drag",null):(wt.style.MozUserSelect=wt.__noselect,delete wt.__noselect)}(zn.view,wn),ht(zn),Gt.mouse("end",zn)}function sr(zn,Bi){if(Ue.call(this,zn,Bi)){var go,lo,Mr=zn.changedTouches,Gr=ot.call(this,zn,Bi),vr=Mr.length;for(go=0;go<vr;++go)(lo=br(this,Gr,zn,Bi,Mr[go].identifier,Mr[go]))&&(tt(zn),lo("start",zn,Mr[go]))}}function xr(zn){var Gr,vr,Bi=zn.changedTouches,Mr=Bi.length;for(Gr=0;Gr<Mr;++Gr)(vr=Gt[Bi[Gr].identifier])&&(ht(zn),vr("drag",zn,Bi[Gr]))}function wi(zn){var Gr,vr,Bi=zn.changedTouches,Mr=Bi.length;for(ei&&clearTimeout(ei),ei=setTimeout(function(){ei=null},500),Gr=0;Gr<Mr;++Gr)(vr=Gt[Bi[Gr].identifier])&&(tt(zn),vr("end",zn,Bi[Gr]))}function br(zn,Bi,Mr,Gr,vr,go){var eo,qr,xi,lo=cn.copy(),So=Dr(go||Mr,Bi);if(null!=(xi=wt.call(zn,new Vt("beforestart",{sourceEvent:Mr,target:_i,identifier:vr,active:Fn,x:So[0],y:So[1],dx:0,dy:0,dispatch:lo}),Gr)))return eo=xi.x-So[0]||0,qr=xi.y-So[1]||0,function yo(Vr,ro,Hr){var Lo,Po=So;switch(Vr){case"start":Gt[vr]=yo,Lo=Fn++;break;case"end":delete Gt[vr],--Fn;case"drag":So=Dr(Hr||ro,Bi),Lo=Fn}lo.call(Vr,zn,new Vt(Vr,{sourceEvent:ro,subject:xi,target:_i,identifier:vr,active:Lo,x:So[0]+eo,y:So[1]+qr,dx:So[0]-Po[0],dy:So[1]-Po[1],dispatch:lo}),Gr)}}return _i.filter=function(zn){return arguments.length?(Ue="function"==typeof zn?zn:rt(!!zn),_i):Ue},_i.container=function(zn){return arguments.length?(ot="function"==typeof zn?zn:rt(zn),_i):ot},_i.subject=function(zn){return arguments.length?(wt="function"==typeof zn?zn:rt(zn),_i):wt},_i.touchable=function(zn){return arguments.length?(Wt="function"==typeof zn?zn:rt(!!zn),_i):Wt},_i.on=function(){var zn=cn.on.apply(cn,arguments);return zn===cn?_i:zn},_i.clickDistance=function(zn){return arguments.length?(Yi=(zn=+zn)*zn,_i):Math.sqrt(Yi)},_i}Vt.prototype.on=function(){var Ue=this._.on.apply(this._,arguments);return Ue===this._?this:Ue};var An={id:"dragdata",statesStore:new Map,afterInit:function(ot){var wt={curIndex:void 0,curDatasetIndex:void 0,element:null,eventSettings:!1,floatingBar:!1,initValue:0,xAxisID:"",yAxisID:"",rAxisID:"",stacked:!1,type:void 0,isDragging:!1};An.statesStore.set(ot.id,wt),di(ot.canvas).call(oi().container(ot.canvas).on("start",function(Wt){return jr(Wt.sourceEvent,ot,wt)}).on("drag",function(Wt){return $i(Wt.sourceEvent,ot,wt)}).on("end",function(Wt){return Zo(Wt.sourceEvent,ot,wt)}))},beforeEvent:function(ot){var wt,Wt=An.statesStore.get(ot.id);if(null!=Wt&&Wt.isDragging)return null===(wt=ot.tooltip)||void 0===wt||wt.update(),!1}};function gr(Ue,ot){return void 0===ot||isNaN(ot)||ot<0?Ue:Math.round(Ue*Math.pow(10,ot))/Math.pow(10,ot)}function lr(Ue,ot,wt){return Math.min(Math.max(Ue,ot),wt)}function fo(Ue,ot,wt,Wt,Gt){var cn,Fn,Tn;void 0===Gt&&(Gt=An.statesStore.get(ot.id));var Vn=y.getRelativePosition(Ue,ot),wn=Vn.x,ei=Vn.y,Yi=ot.scales[Wt],_i=Yi.getPointPositionForValue(wt+("polarArea"===(null==Gt?void 0:Gt.type)?.5:0),ot.scales[Wt].max).angle,mi=Yi.xCenter,Tr=Yi.yCenter,sr=ei-Tr,zn=(wn-mi)*Math.cos(_i)+sr*Math.sin(_i)>0?Math.sqrt(Math.pow(wn-mi,2)+Math.pow(ei-Tr,2)):0,Bi=Yi.getValueForDistanceFromCenter(zn);return lr(Bi=gr(Bi,null===(Tn=null===(Fn=null===(cn=ot.config.options)||void 0===cn?void 0:cn.plugins)||void 0===Fn?void 0:Fn.dragData)||void 0===Tn?void 0:Tn.round),ot.scales[Wt].min,ot.scales[Wt].max)}K.Chart.register(An);var Mi=function(){return Mi=Object.assign||function(ot){for(var wt,Wt=1,Gt=arguments.length;Wt<Gt;Wt++)for(var cn in wt=arguments[Wt])Object.prototype.hasOwnProperty.call(wt,cn)&&(ot[cn]=wt[cn]);return ot},Mi.apply(this,arguments)};function mr(Ue){return Array.isArray(Ue)?function Ir(Ue,ot,wt){if(wt||2===arguments.length)for(var cn,Wt=0,Gt=ot.length;Wt<Gt;Wt++)(cn||!(Wt in ot))&&(cn||(cn=Array.prototype.slice.call(ot,0,Wt)),cn[Wt]=ot[Wt]);return Ue.concat(cn||Array.prototype.slice.call(ot))}([],Ue,!0):"object"==typeof Ue?Mi({},Ue):Ue}function io(Ue,ot,wt,Wt,Gt){var cn,Fn,Tn,Vn,wn,ei=Wt.xAxisDraggingDisabled,Yi=Wt.yAxisDraggingDisabled;if(void 0===Gt&&(Gt=An.statesStore.get(ot.id)),!Gt)return wt;var _i=mr(wt),mi=y.getRelativePosition(Ue,ot),Ur=mi.y,sr=ot.scales[Gt.xAxisID].getValueForPixel(mi.x),xr=ot.scales[Gt.yAxisID].getValueForPixel(Ur),wi=null===(Tn=null===(Fn=null===(cn=ot.config.options)||void 0===cn?void 0:cn.plugins)||void 0===Fn?void 0:Fn.dragData)||void 0===Tn?void 0:Tn.round;if(sr=gr(sr,wi),xr=gr(xr,wi),sr=lr(sr,ot.scales[Gt.xAxisID].min,ot.scales[Gt.xAxisID].max),xr=lr(xr,ot.scales[Gt.yAxisID].min,ot.scales[Gt.yAxisID].max),Gt.floatingBar){var br;return br="y"===(null===(Vn=ot.config.options)||void 0===Vn?void 0:Vn.indexAxis)?sr:xr,Math.abs(br-_i[0])<=Math.abs(br-_i[1])?_i[0]=br:_i[1]=br,_i}return void 0!==_i.x&&!ei&&(_i.x=sr),void 0!==_i.y?(Yi||(_i.y=xr),_i):"y"===(null===(wn=ot.config.options)||void 0===wn?void 0:wn.indexAxis)?ei?_i:sr:Yi?_i:xr}function ao(Ue,ot,wt){var Wt,Gt,cn=null===(Gt=null===(Wt=Ue.config.options)||void 0===Wt?void 0:Wt.plugins)||void 0===Gt?void 0:Gt.dragData;if(null!=cn&&cn.magnet){var Fn=null==cn?void 0:cn.magnet;if("function"==typeof Fn.to){var Tn=Ue.data.datasets[ot].data[wt];return Tn=Fn.to(Tn),Ue.data.datasets[ot].data[wt]=Tn,Ue.update("none"),Tn}return null}return Ue.data.datasets[ot].data[wt]}function To(Ue,ot,wt,Wt){var Gt,cn,Fn,Tn,Vn,wn,ei,Yi,_i,mi,Tr,Ur,sr,xr,wi;if(void 0===Wt&&(Wt=An.statesStore.get(Ue.id)),!Wt)return{chartDraggingDisabled:!0,datasetDraggingDisabled:!0,xAxisDraggingDisabled:!0,yAxisDraggingDisabled:!0,dataPointDraggingDisabled:!0};var br=Ue.data.datasets[ot],zn=!1===(null===(cn=null===(Gt=Ue.config.options)||void 0===Gt?void 0:Gt.plugins)||void 0===cn?void 0:cn.dragData),Bi=zn||!1===br.dragData,Mr=null===(Vn=null===(Tn=null===(Fn=Ue.config.options)||void 0===Fn?void 0:Fn.scales)||void 0===Tn?void 0:Tn[Wt.xAxisID])||void 0===Vn?void 0:Vn.dragData,Gr=!0;return!Bi&&(!0===Mr||!0===(null===(Yi=null===(ei=null===(wn=Ue.config.options)||void 0===wn?void 0:wn.plugins)||void 0===ei?void 0:ei.dragData)||void 0===Yi?void 0:Yi.dragX)&&!1!==Mr)&&(Gr=!1),{chartDraggingDisabled:zn,datasetDraggingDisabled:Bi,xAxisDraggingDisabled:Gr,yAxisDraggingDisabled:Bi||!1===(null===(Tr=null===(mi=null===(_i=Ue.config.options)||void 0===_i?void 0:_i.plugins)||void 0===mi?void 0:mi.dragData)||void 0===Tr?void 0:Tr.dragY)||!1===(null===(xr=null===(sr=null===(Ur=Ue.config.options)||void 0===Ur?void 0:Ur.scales)||void 0===sr?void 0:sr[Wt.yAxisID])||void 0===xr?void 0:xr.dragData),dataPointDraggingDisabled:Bi||!1===(null===(wi=br.data[wt])||void 0===wi?void 0:wi.dragData)}}function Zo(Ue,ot,wt){var Wt,Gt,cn,Fn,Tn;if(void 0===wt&&(wt=An.statesStore.get(ot.id)),wt){var Vn=null===(cn=null===(Gt=null===(Wt=ot.options)||void 0===Wt?void 0:Wt.plugins)||void 0===Gt?void 0:Gt.dragData)||void 0===cn?void 0:cn.onDragEnd;if(wt.curIndex=void 0,wt.isDragging=!1,!(null===(Tn=null===(Fn=ot.config.options)||void 0===Fn?void 0:Fn.plugins)||void 0===Tn)&&Tn.tooltip&&(ot.config.options.plugins.tooltip.animation=wt.eventSettings,ot.update("none")),"function"==typeof Vn&&wt.element){var wn=wt.element.datasetIndex,ei=wt.element.index;return Vn(Ue,wn,ei,ao(ot,wn,ei))}}}function jr(Ue,ot,wt){var Wt,Gt,cn,Fn,Tn,Vn,wn,ei,Yi,_i,mi,Tr,Ur,sr,xr,wi,br,zn,Bi,Mr,Gr,vr,go,lo,So,eo;void 0===wt&&(wt=An.statesStore.get(ot.id));var qr=null===(cn=null===(Gt=null===(Wt=ot.options)||void 0===Wt?void 0:Wt.plugins)||void 0===Gt?void 0:Gt.dragData)||void 0===cn?void 0:cn.onDragStart;if(wt){var xi=null!==(Vn=null===(Tn=null===(Fn=ot.config.options)||void 0===Fn?void 0:Fn.interaction)||void 0===Tn?void 0:Tn.mode)&&void 0!==Vn?Vn:"nearest",yo=null!==(ei=null===(wn=ot.config.options)||void 0===wn?void 0:wn.interaction)&&void 0!==ei?ei:{intersect:!0};if(wt.element=ot.getElementsAtEventForMode(Ue,xi,yo,!1)[0],wt.element){var Vr=wt.element.datasetIndex,ro=wt.element.index;wt.type=null!==(_i=null!==(Yi=ot.config.type)&&void 0!==Yi?Yi:ot.data.datasets[Vr].type)&&void 0!==_i?_i:void 0,wt.eventSettings=null===(Ur=null===(Tr=null===(mi=ot.config.options)||void 0===mi?void 0:mi.plugins)||void 0===Tr?void 0:Tr.tooltip)||void 0===Ur?void 0:Ur.animation;var Hr=ot.data.datasets[Vr],Po=ot.getDatasetMeta(Vr),Lo=Hr.data[ro];wt.xAxisID=Po.xAxisID,wt.yAxisID=Po.yAxisID,wt.rAxisID=Po.rAxisID;var wr=To(ot,Vr,ro);if(wr.datasetDraggingDisabled||wr.xAxisDraggingDisabled&&wr.yAxisDraggingDisabled||wr.dataPointDraggingDisabled)return void(wt.element=null);if("bar"===wt.type){wt.stacked=null!==(br=null===(wi=null===(xr=null===(sr=ot.config.options)||void 0===sr?void 0:sr.scales)||void 0===xr?void 0:xr[wt.xAxisID])||void 0===wi?void 0:wi.stacked)&&void 0!==br?br:void 0;var Xr=ot.data.datasets[0].data[0];wt.floatingBar=null!==Xr&&Array.isArray(Xr)&&Xr.length>=2;var zo=io(Ue,ot,ot.data.datasets[Vr].data[ro],wr,wt);wt.initValue=zo-Lo}var Zr=null===(Mr=null===(Bi=null===(zn=ot.config.options)||void 0===zn?void 0:zn.plugins)||void 0===Bi?void 0:Bi.dragData)||void 0===Mr?void 0:Mr.showTooltip;(void 0===Zr||!0===Zr)&&(null!==(Gr=(lo=ot.config).options)&&void 0!==Gr||(lo.options={}),null!==(vr=(So=ot.config.options).plugins)&&void 0!==vr||(So.plugins={}),null!==(go=(eo=ot.config.options.plugins).tooltip)&&void 0!==go||(eo.tooltip={}),ot.config.options.plugins.tooltip.animation=!1),"function"==typeof qr&&wt.element&&!1===qr(Ue,Vr,ro,Lo)&&(wt.element=null)}}}function $i(Ue,ot,wt){var Wt,Gt;if(void 0===wt&&(wt=An.statesStore.get(ot.id)),wt){var cn=null===(Gt=null===(Wt=ot.options)||void 0===Wt?void 0:Wt.plugins)||void 0===Gt?void 0:Gt.dragData,Fn=null==cn?void 0:cn.onDrag;if(wt.element){wt.curDatasetIndex=wt.element.datasetIndex,wt.curIndex=wt.element.index,wt.isDragging=!0;var Tn=ot.data.datasets[wt.curDatasetIndex].data[wt.curIndex],Vn=To(ot,wt.curDatasetIndex,wt.curIndex);Tn="radar"===wt.type||"polarArea"===wt.type?fo(Ue,ot,wt.curIndex,wt.rAxisID,wt):wt.stacked?gr(io(Ue,ot,Tn,Vn,wt)-wt.initValue,null==cn?void 0:cn.round):io(Ue,ot,Tn,Vn,wt),("function"!=typeof Fn||!1!==Fn(Ue,wt.curDatasetIndex,wt.curIndex,Tn))&&(ot.data.datasets[wt.curDatasetIndex].data[wt.curIndex]=Tn,ot.update("none"))}}}"function"==typeof SuppressedError&&SuppressedError,o.applyMagnet=ao,o.calcCartesian=io,o.calcRadialLinear=fo,o.checkDraggingConfiguration=To,o.clipValue=lr,o.cloneDataPoint=mr,o.default=An,o.dragEndCallback=Zo,o.getElement=jr,o.roundValue=gr,o.updateData=$i,Object.defineProperty(o,"__esModule",{value:!0})}(U,R(666),R(3977))},7484:(yt,U,R)=>{"use strict";var o=R(3907),y=R(5917),K=R(2844),z=R(7378);yt.exports=function(X,Z,Y){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new K("`obj` must be an object or a function`");if("string"!=typeof Z&&"symbol"!=typeof Z)throw new K("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new K("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new K("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new K("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new K("`loose`, if provided, must be a boolean");var q=arguments.length>3?arguments[3]:null,ce=arguments.length>4?arguments[4]:null,ae=arguments.length>5?arguments[5]:null,se=arguments.length>6&&arguments[6],re=!!z&&z(X,Z);if(o)o(X,Z,{configurable:null===ae&&re?re.configurable:!ae,enumerable:null===q&&re?re.enumerable:!q,value:Y,writable:null===ce&&re?re.writable:!ce});else{if(!se&&(q||ce||ae))throw new y("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");X[Z]=Y}}},5469:yt=>{"use strict";function U(ge,pe,Se){Se=Se||2;var we,Ve,Ie,Le,gt,bt,Mt,xe=pe&&pe.length,Ae=xe?pe[0]*Se:ge.length,Te=R(ge,0,Ae,Se,!0),Ne=[];if(!Te||Te.next===Te.prev)return Ne;if(xe&&(Te=function Z(ge,pe,Se,xe){var Te,Ne,Ie,Ae=[];for(Te=0,Ne=pe.length;Te<Ne;Te++)(Ie=R(ge,pe[Te]*xe,Te<Ne-1?pe[Te+1]*xe:ge.length,xe,!1))===Ie.next&&(Ie.steiner=!0),Ae.push(ke(Ie));for(Ae.sort(Y),Te=0;Te<Ae.length;Te++)Se=q(Ae[Te],Se);return Se}(ge,pe,Te,Se)),ge.length>80*Se){we=Ie=ge[0],Ve=Le=ge[1];for(var un=Se;un<Ae;un+=Se)(gt=ge[un])<we&&(we=gt),(bt=ge[un+1])<Ve&&(Ve=bt),gt>Ie&&(Ie=gt),bt>Le&&(Le=bt);Mt=0!==(Mt=Math.max(Ie-we,Le-Ve))?32767/Mt:0}return y(Te,Ne,Se,we,Ve,Mt,0),Ne}function R(ge,pe,Se,xe,Ae){var Te,Ne;if(Ae===Ze(ge,pe,Se,xe)>0)for(Te=pe;Te<Se;Te+=xe)Ne=Qe(Te,ge[Te],ge[Te+1],Ne);else for(Te=Se-xe;Te>=pe;Te-=xe)Ne=Qe(Te,ge[Te],ge[Te+1],Ne);return Ne&&De(Ne,Ne.next)&&(ut(Ne),Ne=Ne.next),Ne}function o(ge,pe){if(!ge)return ge;pe||(pe=ge);var xe,Se=ge;do{if(xe=!1,Se.steiner||!De(Se,Se.next)&&0!==ve(Se.prev,Se,Se.next))Se=Se.next;else{if(ut(Se),(Se=pe=Se.prev)===Se.next)break;xe=!0}}while(xe||Se!==pe);return pe}function y(ge,pe,Se,xe,Ae,Te,Ne){if(ge){!Ne&&Te&&function se(ge,pe,Se,xe){var Ae=ge;do{0===Ae.z&&(Ae.z=le(Ae.x,Ae.y,pe,Se,xe)),Ae.prevZ=Ae.prev,Ae.nextZ=Ae.next,Ae=Ae.next}while(Ae!==ge);Ae.prevZ.nextZ=null,Ae.prevZ=null,function re(ge){var pe,Se,xe,Ae,Te,Ne,we,Ve,Ie=1;do{for(Se=ge,ge=null,Te=null,Ne=0;Se;){for(Ne++,xe=Se,we=0,pe=0;pe<Ie&&(we++,xe=xe.nextZ);pe++);for(Ve=Ie;we>0||Ve>0&&xe;)0!==we&&(0===Ve||!xe||Se.z<=xe.z)?(Ae=Se,Se=Se.nextZ,we--):(Ae=xe,xe=xe.nextZ,Ve--),Te?Te.nextZ=Ae:ge=Ae,Ae.prevZ=Te,Te=Ae;Se=xe}Te.nextZ=null,Ie*=2}while(Ne>1)}(Ae)}(ge,xe,Ae,Te);for(var Ve,Ie,we=ge;ge.prev!==ge.next;)if(Ve=ge.prev,Ie=ge.next,Te?z(ge,xe,Ae,Te):K(ge))pe.push(Ve.i/Se|0),pe.push(ge.i/Se|0),pe.push(Ie.i/Se|0),ut(ge),ge=Ie.next,we=Ie.next;else if((ge=Ie)===we){Ne?1===Ne?y(ge=J(o(ge),pe,Se),pe,Se,xe,Ae,Te,2):2===Ne&&X(ge,pe,Se,xe,Ae,Te):y(o(ge),pe,Se,xe,Ae,Te,1);break}}}function K(ge){var pe=ge.prev,Se=ge,xe=ge.next;if(ve(pe,Se,xe)>=0)return!1;for(var Ae=pe.x,Te=Se.x,Ne=xe.x,we=pe.y,Ve=Se.y,Ie=xe.y,Le=Ae<Te?Ae<Ne?Ae:Ne:Te<Ne?Te:Ne,gt=we<Ve?we<Ie?we:Ie:Ve<Ie?Ve:Ie,bt=Ae>Te?Ae>Ne?Ae:Ne:Te>Ne?Te:Ne,Mt=we>Ve?we>Ie?we:Ie:Ve>Ie?Ve:Ie,un=xe.next;un!==pe;){if(un.x>=Le&&un.x<=bt&&un.y>=gt&&un.y<=Mt&&Ce(Ae,we,Te,Ve,Ne,Ie,un.x,un.y)&&ve(un.prev,un,un.next)>=0)return!1;un=un.next}return!0}function z(ge,pe,Se,xe){var Ae=ge.prev,Te=ge,Ne=ge.next;if(ve(Ae,Te,Ne)>=0)return!1;for(var we=Ae.x,Ve=Te.x,Ie=Ne.x,Le=Ae.y,gt=Te.y,bt=Ne.y,Mt=we<Ve?we<Ie?we:Ie:Ve<Ie?Ve:Ie,un=Le<gt?Le<bt?Le:bt:gt<bt?gt:bt,En=we>Ve?we>Ie?we:Ie:Ve>Ie?Ve:Ie,tn=Le>gt?Le>bt?Le:bt:gt>bt?gt:bt,Ct=le(Mt,un,pe,Se,xe),st=le(En,tn,pe,Se,xe),nn=ge.prevZ,$t=ge.nextZ;nn&&nn.z>=Ct&&$t&&$t.z<=st;){if(nn.x>=Mt&&nn.x<=En&&nn.y>=un&&nn.y<=tn&&nn!==Ae&&nn!==Ne&&Ce(we,Le,Ve,gt,Ie,bt,nn.x,nn.y)&&ve(nn.prev,nn,nn.next)>=0||(nn=nn.prevZ,$t.x>=Mt&&$t.x<=En&&$t.y>=un&&$t.y<=tn&&$t!==Ae&&$t!==Ne&&Ce(we,Le,Ve,gt,Ie,bt,$t.x,$t.y)&&ve($t.prev,$t,$t.next)>=0))return!1;$t=$t.nextZ}for(;nn&&nn.z>=Ct;){if(nn.x>=Mt&&nn.x<=En&&nn.y>=un&&nn.y<=tn&&nn!==Ae&&nn!==Ne&&Ce(we,Le,Ve,gt,Ie,bt,nn.x,nn.y)&&ve(nn.prev,nn,nn.next)>=0)return!1;nn=nn.prevZ}for(;$t&&$t.z<=st;){if($t.x>=Mt&&$t.x<=En&&$t.y>=un&&$t.y<=tn&&$t!==Ae&&$t!==Ne&&Ce(we,Le,Ve,gt,Ie,bt,$t.x,$t.y)&&ve($t.prev,$t,$t.next)>=0)return!1;$t=$t.nextZ}return!0}function J(ge,pe,Se){var xe=ge;do{var Ae=xe.prev,Te=xe.next.next;!De(Ae,Te)&&Be(Ae,xe,xe.next,Te)&&Me(Ae,Te)&&Me(Te,Ae)&&(pe.push(Ae.i/Se|0),pe.push(xe.i/Se|0),pe.push(Te.i/Se|0),ut(xe),ut(xe.next),xe=ge=Te),xe=xe.next}while(xe!==ge);return o(xe)}function X(ge,pe,Se,xe,Ae,Te){var Ne=ge;do{for(var we=Ne.next.next;we!==Ne.prev;){if(Ne.i!==we.i&&fe(Ne,we)){var Ve=Ke(Ne,we);return Ne=o(Ne,Ne.next),Ve=o(Ve,Ve.next),y(Ne,pe,Se,xe,Ae,Te,0),void y(Ve,pe,Se,xe,Ae,Te,0)}we=we.next}Ne=Ne.next}while(Ne!==ge)}function Y(ge,pe){return ge.x-pe.x}function q(ge,pe){var Se=function ce(ge,pe){var Ne,Se=pe,xe=ge.x,Ae=ge.y,Te=-1/0;do{if(Ae<=Se.y&&Ae>=Se.next.y&&Se.next.y!==Se.y){var we=Se.x+(Ae-Se.y)*(Se.next.x-Se.x)/(Se.next.y-Se.y);if(we<=xe&&we>Te&&(Te=we,Ne=Se.x<Se.next.x?Se:Se.next,we===xe))return Ne}Se=Se.next}while(Se!==pe);if(!Ne)return null;var bt,Ve=Ne,Ie=Ne.x,Le=Ne.y,gt=1/0;Se=Ne;do{xe>=Se.x&&Se.x>=Ie&&xe!==Se.x&&Ce(Ae<Le?xe:Te,Ae,Ie,Le,Ae<Le?Te:xe,Ae,Se.x,Se.y)&&(bt=Math.abs(Ae-Se.y)/(xe-Se.x),Me(Se,ge)&&(bt<gt||bt===gt&&(Se.x>Ne.x||Se.x===Ne.x&&ae(Ne,Se)))&&(Ne=Se,gt=bt)),Se=Se.next}while(Se!==Ve);return Ne}(ge,pe);if(!Se)return pe;var xe=Ke(Se,ge);return o(xe,xe.next),o(Se,Se.next)}function ae(ge,pe){return ve(ge.prev,ge,pe.prev)<0&&ve(pe.next,ge,ge.next)<0}function le(ge,pe,Se,xe,Ae){return(ge=1431655765&((ge=858993459&((ge=252645135&((ge=16711935&((ge=(ge-Se)*Ae|0)|ge<<8))|ge<<4))|ge<<2))|ge<<1))|(pe=1431655765&((pe=858993459&((pe=252645135&((pe=16711935&((pe=(pe-xe)*Ae|0)|pe<<8))|pe<<4))|pe<<2))|pe<<1))<<1}function ke(ge){var pe=ge,Se=ge;do{(pe.x<Se.x||pe.x===Se.x&&pe.y<Se.y)&&(Se=pe),pe=pe.next}while(pe!==ge);return Se}function Ce(ge,pe,Se,xe,Ae,Te,Ne,we){return(Ae-Ne)*(pe-we)>=(ge-Ne)*(Te-we)&&(ge-Ne)*(xe-we)>=(Se-Ne)*(pe-we)&&(Se-Ne)*(Te-we)>=(Ae-Ne)*(xe-we)}function fe(ge,pe){return ge.next.i!==pe.i&&ge.prev.i!==pe.i&&!function mt(ge,pe){var Se=ge;do{if(Se.i!==ge.i&&Se.next.i!==ge.i&&Se.i!==pe.i&&Se.next.i!==pe.i&&Be(Se,Se.next,ge,pe))return!0;Se=Se.next}while(Se!==ge);return!1}(ge,pe)&&(Me(ge,pe)&&Me(pe,ge)&&function Xe(ge,pe){var Se=ge,xe=!1,Ae=(ge.x+pe.x)/2,Te=(ge.y+pe.y)/2;do{Se.y>Te!=Se.next.y>Te&&Se.next.y!==Se.y&&Ae<(Se.next.x-Se.x)*(Te-Se.y)/(Se.next.y-Se.y)+Se.x&&(xe=!xe),Se=Se.next}while(Se!==ge);return xe}(ge,pe)&&(ve(ge.prev,ge,pe.prev)||ve(ge,pe.prev,pe))||De(ge,pe)&&ve(ge.prev,ge,ge.next)>0&&ve(pe.prev,pe,pe.next)>0)}function ve(ge,pe,Se){return(pe.y-ge.y)*(Se.x-pe.x)-(pe.x-ge.x)*(Se.y-pe.y)}function De(ge,pe){return ge.x===pe.x&&ge.y===pe.y}function Be(ge,pe,Se,xe){var Ae=Oe(ve(ge,pe,Se)),Te=Oe(ve(ge,pe,xe)),Ne=Oe(ve(Se,xe,ge)),we=Oe(ve(Se,xe,pe));return!!(Ae!==Te&&Ne!==we||0===Ae&&qe(ge,Se,pe)||0===Te&&qe(ge,xe,pe)||0===Ne&&qe(Se,ge,xe)||0===we&&qe(Se,pe,xe))}function qe(ge,pe,Se){return pe.x<=Math.max(ge.x,Se.x)&&pe.x>=Math.min(ge.x,Se.x)&&pe.y<=Math.max(ge.y,Se.y)&&pe.y>=Math.min(ge.y,Se.y)}function Oe(ge){return ge>0?1:ge<0?-1:0}function Me(ge,pe){return ve(ge.prev,ge,ge.next)<0?ve(ge,pe,ge.next)>=0&&ve(ge,ge.prev,pe)>=0:ve(ge,pe,ge.prev)<0||ve(ge,ge.next,pe)<0}function Ke(ge,pe){var Se=new ze(ge.i,ge.x,ge.y),xe=new ze(pe.i,pe.x,pe.y),Ae=ge.next,Te=pe.prev;return ge.next=pe,pe.prev=ge,Se.next=Ae,Ae.prev=Se,xe.next=Se,Se.prev=xe,Te.next=xe,xe.prev=Te,xe}function Qe(ge,pe,Se,xe){var Ae=new ze(ge,pe,Se);return xe?(Ae.next=xe.next,Ae.prev=xe,xe.next.prev=Ae,xe.next=Ae):(Ae.prev=Ae,Ae.next=Ae),Ae}function ut(ge){ge.next.prev=ge.prev,ge.prev.next=ge.next,ge.prevZ&&(ge.prevZ.nextZ=ge.nextZ),ge.nextZ&&(ge.nextZ.prevZ=ge.prevZ)}function ze(ge,pe,Se){this.i=ge,this.x=pe,this.y=Se,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ze(ge,pe,Se,xe){for(var Ae=0,Te=pe,Ne=Se-xe;Te<Se;Te+=xe)Ae+=(ge[Ne]-ge[Te])*(ge[Te+1]+ge[Ne+1]),Ne=Te;return Ae}yt.exports=U,yt.exports.default=U,U.deviation=function(ge,pe,Se,xe){var Ae=pe&&pe.length,Ne=Math.abs(Ze(ge,0,Ae?pe[0]*Se:ge.length,Se));if(Ae)for(var we=0,Ve=pe.length;we<Ve;we++)Ne-=Math.abs(Ze(ge,pe[we]*Se,we<Ve-1?pe[we+1]*Se:ge.length,Se));var gt=0;for(we=0;we<xe.length;we+=3){var bt=xe[we]*Se,Mt=xe[we+1]*Se,un=xe[we+2]*Se;gt+=Math.abs((ge[bt]-ge[un])*(ge[Mt+1]-ge[bt+1])-(ge[bt]-ge[Mt])*(ge[un+1]-ge[bt+1]))}return 0===Ne&&0===gt?0:Math.abs((gt-Ne)/Ne)},U.flatten=function(ge){for(var pe=ge[0][0].length,Se={vertices:[],holes:[],dimensions:pe},xe=0,Ae=0;Ae<ge.length;Ae++){for(var Te=0;Te<ge[Ae].length;Te++)for(var Ne=0;Ne<pe;Ne++)Se.vertices.push(ge[Ae][Te][Ne]);Ae>0&&Se.holes.push(xe+=ge[Ae-1].length)}return Se}},3907:(yt,U,R)=>{"use strict";var y=R(5203)("%Object.defineProperty%",!0)||!1;if(y)try{y({},"a",{value:1})}catch(K){y=!1}yt.exports=y},3644:yt=>{"use strict";yt.exports=EvalError},1847:yt=>{"use strict";yt.exports=Error},1298:yt=>{"use strict";yt.exports=RangeError},2681:yt=>{"use strict";yt.exports=ReferenceError},5917:yt=>{"use strict";yt.exports=SyntaxError},2844:yt=>{"use strict";yt.exports=TypeError},7289:yt=>{"use strict";yt.exports=URIError},7793:function(yt,U,R){var o;!function(y){var Ke,K=y.Promise,z=K&&"resolve"in K&&"reject"in K&&"all"in K&&"race"in K&&(new K(function(Qe){Ke=Qe}),"function"==typeof Ke);U?(U.Promise=z?K:Xe,U.Polyfill=Xe):void 0!==(o=function(){return z?K:Xe}.call(U,R,U,yt))&&(yt.exports=o);var J="pending",X="sealed",Z="fulfilled",Y="rejected",q=function(){};function ce(Ke){return"[object Array]"===Object.prototype.toString.call(Ke)}var re,ae=typeof setImmediate<"u"?setImmediate:setTimeout,se=[];function le(){for(var Ke=0;Ke<se.length;Ke++)se[Ke][0](se[Ke][1]);se=[],re=!1}function ke(Ke,Qe){se.push([Ke,Qe]),re||(re=!0,ae(le,0))}function fe(Ke){var Qe=Ke.owner,ut=Qe.state_,ze=Qe.data_,Ze=Ke[ut],ge=Ke.then;if("function"==typeof Ze){ut=Z;try{ze=Ze(ze)}catch(pe){qe(ge,pe)}}ve(ge,ze)||(ut===Z&&De(ge,ze),ut===Y&&qe(ge,ze))}function ve(Ke,Qe){var ut;try{if(Ke===Qe)throw new TypeError("A promises callback cannot return that same promise.");if(Qe&&("function"==typeof Qe||"object"==typeof Qe)){var ze=Qe.then;if("function"==typeof ze)return ze.call(Qe,function(Ze){ut||(ut=!0,Qe!==Ze?De(Ke,Ze):Be(Ke,Ze))},function(Ze){ut||(ut=!0,qe(Ke,Ze))}),!0}}catch(Ze){return ut||qe(Ke,Ze),!0}return!1}function De(Ke,Qe){(Ke===Qe||!ve(Ke,Qe))&&Be(Ke,Qe)}function Be(Ke,Qe){Ke.state_===J&&(Ke.state_=X,Ke.data_=Qe,ke(mt,Ke))}function qe(Ke,Qe){Ke.state_===J&&(Ke.state_=X,Ke.data_=Qe,ke(Me,Ke))}function Oe(Ke){var Qe=Ke.then_;Ke.then_=void 0;for(var ut=0;ut<Qe.length;ut++)fe(Qe[ut])}function mt(Ke){Ke.state_=Z,Oe(Ke)}function Me(Ke){Ke.state_=Y,Oe(Ke)}function Xe(Ke){if("function"!=typeof Ke)throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof Xe))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function Ce(Ke,Qe){function ze(Ze){qe(Qe,Ze)}try{Ke(function ut(Ze){De(Qe,Ze)},ze)}catch(Ze){ze(Ze)}}(Ke,this)}Xe.prototype={constructor:Xe,state_:J,then_:null,data_:void 0,then:function(Ke,Qe){var ut={owner:this,then:new this.constructor(q),fulfilled:Ke,rejected:Qe};return this.state_===Z||this.state_===Y?ke(fe,ut):this.then_.push(ut),ut.then},catch:function(Ke){return this.then(null,Ke)}},Xe.all=function(Ke){if(!ce(Ke))throw new TypeError("You must pass an array to Promise.all().");return new this(function(ut,ze){var Ze=[],ge=0;function pe(Ae){return ge++,function(Te){Ze[Ae]=Te,--ge||ut(Ze)}}for(var xe,Se=0;Se<Ke.length;Se++)(xe=Ke[Se])&&"function"==typeof xe.then?xe.then(pe(Se),ze):Ze[Se]=xe;ge||ut(Ze)})},Xe.race=function(Ke){if(!ce(Ke))throw new TypeError("You must pass an array to Promise.race().");return new this(function(ut,ze){for(var ge,Ze=0;Ze<Ke.length;Ze++)(ge=Ke[Ze])&&"function"==typeof ge.then?ge.then(ut,ze):ut(ge)})},Xe.resolve=function(Ke){return Ke&&"object"==typeof Ke&&Ke.constructor===this?Ke:new this(function(ut){ut(Ke)})},Xe.reject=function(Ke){return new this(function(ut,ze){ze(Ke)})}}(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this)},3457:yt=>{"use strict";var U="Function.prototype.bind called on incompatible ",R=Object.prototype.toString,o=Math.max,y="[object Function]",K=function(Z,Y){for(var q=[],ce=0;ce<Z.length;ce+=1)q[ce]=Z[ce];for(var ae=0;ae<Y.length;ae+=1)q[ae+Z.length]=Y[ae];return q},z=function(Z,Y){for(var q=[],ce=Y||0,ae=0;ce<Z.length;ce+=1,ae+=1)q[ae]=Z[ce];return q},J=function(X,Z){for(var Y="",q=0;q<X.length;q+=1)Y+=X[q],q+1<X.length&&(Y+=Z);return Y};yt.exports=function(Z){var Y=this;if("function"!=typeof Y||R.apply(Y)!==y)throw new TypeError(U+Y);for(var ce,q=z(arguments,1),se=o(0,Y.length-q.length),re=[],le=0;le<se;le++)re[le]="$"+le;if(ce=Function("binder","return function ("+J(re,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof ce){var Ce=Y.apply(this,K(q,arguments));return Object(Ce)===Ce?Ce:this}return Y.apply(Z,K(q,arguments))}),Y.prototype){var ke=function(){};ke.prototype=Y.prototype,ce.prototype=new ke,ke.prototype=null}return ce}},4444:(yt,U,R)=>{"use strict";var o=R(3457);yt.exports=Function.prototype.bind||o},5175:function(yt){typeof self<"u"&&self,yt.exports=function(U){var R={};function o(y){if(R[y])return R[y].exports;var K=R[y]={i:y,l:!1,exports:{}};return U[y].call(K.exports,K,K.exports,o),K.l=!0,K.exports}return o.m=U,o.c=R,o.d=function(y,K,z){o.o(y,K)||Object.defineProperty(y,K,{enumerable:!0,get:z})},o.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},o.t=function(y,K){if(1&K&&(y=o(y)),8&K||4&K&&"object"==typeof y&&y&&y.__esModule)return y;var z=Object.create(null);if(o.r(z),Object.defineProperty(z,"default",{enumerable:!0,value:y}),2&K&&"string"!=typeof y)for(var J in y)o.d(z,J,function(X){return y[X]}.bind(null,J));return z},o.n=function(y){var K=y&&y.__esModule?function(){return y.default}:function(){return y};return o.d(K,"a",K),K},o.o=function(y,K){return Object.prototype.hasOwnProperty.call(y,K)},o.p="",o(o.s=0)}([function(U,R,o){"use strict";o.r(R),o.d(R,"computeDestinationPoint",function(){return Se}),o.d(R,"convertArea",function(){return xe}),o.d(R,"convertDistance",function(){return Ae}),o.d(R,"convertSpeed",function(){return Te}),o.d(R,"decimalToSexagesimal",function(){return Ve}),o.d(R,"findNearest",function(){return bt}),o.d(R,"getAreaOfPolygon",function(){return Mt}),o.d(R,"getBounds",function(){return un}),o.d(R,"getBoundsOfDistance",function(){return En}),o.d(R,"getCenter",function(){return tn}),o.d(R,"getCenterOfBounds",function(){return Ct}),o.d(R,"getCompassDirection",function(){return nn}),o.d(R,"getCoordinateKey",function(){return le}),o.d(R,"getCoordinateKeys",function(){return qe}),o.d(R,"getDistance",function(){return Le}),o.d(R,"getDistanceFromLine",function(){return $t}),o.d(R,"getGreatCircleBearing",function(){return vn}),o.d(R,"getLatitude",function(){return ze}),o.d(R,"getLongitude",function(){return Ze}),o.d(R,"getPathLength",function(){return bn}),o.d(R,"getPreciseDistance",function(){return vi}),o.d(R,"getRhumbLineBearing",function(){return st}),o.d(R,"getRoughCompassDirection",function(){return yi}),o.d(R,"getSpeed",function(){return Pi}),o.d(R,"isDecimal",function(){return ke}),o.d(R,"isPointInLine",function(){return Ji}),o.d(R,"isPointInPolygon",function(){return Or}),o.d(R,"isPointNearLine",function(){return ir}),o.d(R,"isPointWithinRadius",function(){return Fr}),o.d(R,"isSexagesimal",function(){return Ce}),o.d(R,"isValidCoordinate",function(){return Me}),o.d(R,"isValidLatitude",function(){return Oe}),o.d(R,"isValidLongitude",function(){return mt}),o.d(R,"orderByDistance",function(){return gt}),o.d(R,"sexagesimalToDecimal",function(){return fe}),o.d(R,"toDecimal",function(){return ut}),o.d(R,"toRad",function(){return ge}),o.d(R,"toDeg",function(){return pe}),o.d(R,"wktToPolygon",function(){return Bn}),o.d(R,"sexagesimalPattern",function(){return y}),o.d(R,"earthRadius",function(){return K}),o.d(R,"MINLAT",function(){return z}),o.d(R,"MAXLAT",function(){return J}),o.d(R,"MINLON",function(){return X}),o.d(R,"MAXLON",function(){return Z}),o.d(R,"longitudeKeys",function(){return Y}),o.d(R,"latitudeKeys",function(){return q}),o.d(R,"altitudeKeys",function(){return ce}),o.d(R,"distanceConversion",function(){return ae}),o.d(R,"timeConversion",function(){return se}),o.d(R,"areaConversion",function(){return re});var y=/^([0-9]{1,3})\xb0\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['\u2032]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["\u2033]\s*)?([NEOSW]?)$/,K=6378137,z=-90,J=90,X=-180,Z=180,Y=["lng","lon","longitude",0],q=["lat","latitude",1],ce=["alt","altitude","elevation","elev",2],ae={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144},se={m:60,h:3600,d:86400},re={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};re.sqm=re.m2,re.sqkm=re.km2,re.sqft=re.ft2,re.sqyd=re.yd2,re.sqin=re.in2;var le=function(xt,Pt){return Pt.reduce(function(nt,dn){if(null==xt)throw new Error("'".concat(xt,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(xt,dn)&&void 0!==dn&&void 0===nt?(nt=dn,dn):nt},void 0)},ke=function(xt){var Pt=xt.toString().trim();return!isNaN(parseFloat(Pt))&&parseFloat(Pt)===Number(Pt)},Ce=function(xt){return y.test(xt.toString().trim())},fe=function(xt){var Pt=new RegExp(y).exec(xt.toString().trim());if(null==Pt)throw new Error("Given value is not in sexagesimal format");var nt=Number(Pt[2])/60||0,dn=Number(Pt[4])/3600||0,en=parseFloat(Pt[1])+nt+dn;return["S","W"].includes(Pt[7])?-en:en};function ve(xt,Pt){var nt=Object.keys(xt);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(xt);Pt&&(dn=dn.filter(function(en){return Object.getOwnPropertyDescriptor(xt,en).enumerable})),nt.push.apply(nt,dn)}return nt}function Be(xt,Pt,nt){return Pt in xt?Object.defineProperty(xt,Pt,{value:nt,enumerable:!0,configurable:!0,writable:!0}):xt[Pt]=nt,xt}var qe=function(xt){var Pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{longitude:Y,latitude:q,altitude:ce},nt=le(xt,Pt.longitude),dn=le(xt,Pt.latitude),en=le(xt,Pt.altitude);return function De(xt){for(var Pt=1;Pt<arguments.length;Pt++){var nt=null!=arguments[Pt]?arguments[Pt]:{};Pt%2?ve(Object(nt),!0).forEach(function(dn){Be(xt,dn,nt[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(nt)):ve(Object(nt)).forEach(function(dn){Object.defineProperty(xt,dn,Object.getOwnPropertyDescriptor(nt,dn))})}return xt}({latitude:dn,longitude:nt},en?{altitude:en}:{})},Oe=function xt(Pt){return ke(Pt)?!(parseFloat(Pt)>J||Pt<z):!!Ce(Pt)&&xt(fe(Pt))},mt=function xt(Pt){return ke(Pt)?!(parseFloat(Pt)>Z||Pt<X):!!Ce(Pt)&&xt(fe(Pt))},Me=function(xt){var Pt=qe(xt),nt=Pt.latitude,dn=Pt.longitude;if(Array.isArray(xt)&&xt.length>=2)return mt(xt[0])&&Oe(xt[1]);if(void 0===nt||void 0===dn)return!1;var en=xt[dn],Lt=xt[nt];return void 0!==Lt&&void 0!==en&&!1!==Oe(Lt)&&!1!==mt(en)};function Xe(xt,Pt){var nt=Object.keys(xt);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(xt);Pt&&(dn=dn.filter(function(en){return Object.getOwnPropertyDescriptor(xt,en).enumerable})),nt.push.apply(nt,dn)}return nt}function Ke(xt){for(var Pt=1;Pt<arguments.length;Pt++){var nt=null!=arguments[Pt]?arguments[Pt]:{};Pt%2?Xe(Object(nt),!0).forEach(function(dn){Qe(xt,dn,nt[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(nt)):Xe(Object(nt)).forEach(function(dn){Object.defineProperty(xt,dn,Object.getOwnPropertyDescriptor(nt,dn))})}return xt}function Qe(xt,Pt,nt){return Pt in xt?Object.defineProperty(xt,Pt,{value:nt,enumerable:!0,configurable:!0,writable:!0}):xt[Pt]=nt,xt}var ut=function xt(Pt){if(ke(Pt))return Number(Pt);if(Ce(Pt))return fe(Pt);if(Me(Pt)){var nt=qe(Pt);return Array.isArray(Pt)?Pt.map(function(dn,en){return[0,1].includes(en)?xt(dn):dn}):Ke(Ke(Ke({},Pt),nt.latitude&&Qe({},nt.latitude,xt(Pt[nt.latitude]))),nt.longitude&&Qe({},nt.longitude,xt(Pt[nt.longitude])))}return Array.isArray(Pt)?Pt.map(function(dn){return Me(dn)?xt(dn):dn}):Pt},ze=function(xt,Pt){var nt=le(xt,q);if(null!=nt){var dn=xt[nt];return!0===Pt?dn:ut(dn)}},Ze=function(xt,Pt){var nt=le(xt,Y);if(null!=nt){var dn=xt[nt];return!0===Pt?dn:ut(dn)}},ge=function(xt){return xt*Math.PI/180},pe=function(xt){return 180*xt/Math.PI},Se=function(xt,Pt,nt){var dn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6371e3,en=ze(xt),Lt=Ze(xt),at=Pt/dn,qn=ge(nt),Nn=ge(en),Ti=ge(Lt),Qn=Math.asin(Math.sin(Nn)*Math.cos(at)+Math.cos(Nn)*Math.sin(at)*Math.cos(qn)),dr=Ti+Math.atan2(Math.sin(qn)*Math.sin(at)*Math.cos(Nn),Math.cos(at)-Math.sin(Nn)*Math.sin(Qn)),Zi=pe(dr);return(Zi<X||Zi>Z)&&(dr=(dr+3*Math.PI)%(2*Math.PI)-Math.PI,Zi=pe(dr)),{latitude:pe(Qn),longitude:Zi}},xe=function(xt){var nt=re[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m"];if(nt)return xt*nt;throw new Error("Invalid unit used for area conversion.")},Ae=function(xt){var nt=ae[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m"];if(nt)return xt*nt;throw new Error("Invalid unit used for distance conversion.")},Te=function(xt){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kmh"){case"kmh":return xt*se.h*ae.km;case"mph":return xt*se.h*ae.mi;default:return xt}};function Ne(xt,Pt){return function(nt){if(Array.isArray(nt))return nt}(xt)||function(nt,dn){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(nt)){var en=[],Lt=!0,at=!1,qn=void 0;try{for(var Nn,Ti=nt[Symbol.iterator]();!(Lt=(Nn=Ti.next()).done)&&(en.push(Nn.value),!dn||en.length!==dn);Lt=!0);}catch(Qn){at=!0,qn=Qn}finally{try{Lt||null==Ti.return||Ti.return()}finally{if(at)throw qn}}return en}}(xt,Pt)||function(nt,dn){if(nt){if("string"==typeof nt)return we(nt,dn);var en=Object.prototype.toString.call(nt).slice(8,-1);if("Object"===en&&nt.constructor&&(en=nt.constructor.name),"Map"===en||"Set"===en)return Array.from(nt);if("Arguments"===en||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(en))return we(nt,dn)}}(xt,Pt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(xt,Pt){(null==Pt||Pt>xt.length)&&(Pt=xt.length);for(var nt=0,dn=new Array(Pt);nt<Pt;nt++)dn[nt]=xt[nt];return dn}var Ve=function(xt){var Pt=Ne(xt.toString().split("."),2),dn=Pt[1],en=Math.abs(Number(Pt[0])),Lt=60*Number("0."+(dn||0)),at=Lt.toString().split("."),qn=Math.floor(Lt),Nn=Ne(function(Zi){var _t=Math.pow(10,arguments.length>1&&void 0!==arguments[1]?arguments[1]:4);return Math.round(Zi*_t)/_t}(60*Number("0."+(at[1]||0))).toString().split("."),2),Ti=Nn[0],Qn=Nn[1],dr=void 0===Qn?"0":Qn;return en+"\xb0 "+qn.toString().padStart(2,"0")+"' "+Ti.padStart(2,"0")+"."+dr.padEnd(1,"0")+'"'},Ie=function(xt){return xt>1?1:xt<-1?-1:xt},Le=function(xt,Pt){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;nt=void 0===nt||isNaN(nt)?1:nt;var dn=ze(xt),en=Ze(xt),Lt=ze(Pt),at=Ze(Pt),qn=Math.acos(Ie(Math.sin(ge(Lt))*Math.sin(ge(dn))+Math.cos(ge(Lt))*Math.cos(ge(dn))*Math.cos(ge(en)-ge(at))))*K;return Math.round(qn/nt)*nt},gt=function(xt,Pt){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Le;return nt="function"==typeof nt?nt:Le,Pt.slice().sort(function(dn,en){return nt(xt,dn)-nt(xt,en)})},bt=function(xt,Pt){return gt(xt,Pt)[0]},Mt=function(xt){var Pt=0;if(xt.length>2){for(var nt,dn,en,Lt=0;Lt<xt.length;Lt++){Lt===xt.length-2?(nt=xt.length-2,dn=xt.length-1,en=0):Lt===xt.length-1?(nt=xt.length-1,dn=0,en=1):(nt=Lt,dn=Lt+1,en=Lt+2);var at=Ze(xt[nt]),qn=ze(xt[dn]),Nn=Ze(xt[en]);Pt+=(ge(Nn)-ge(at))*Math.sin(ge(qn))}Pt=Pt*K*K/2}return Math.abs(Pt)},un=function(xt){if(!1===Array.isArray(xt)||0===xt.length)throw new Error("No points were given.");return xt.reduce(function(Pt,nt){var dn=ze(nt),en=Ze(nt);return{maxLat:Math.max(dn,Pt.maxLat),minLat:Math.min(dn,Pt.minLat),maxLng:Math.max(en,Pt.maxLng),minLng:Math.min(en,Pt.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},En=function(xt,Pt){var nt,dn,en=ze(xt),Lt=Ze(xt),at=ge(en),qn=ge(Lt),Nn=Pt/K,Ti=at-Nn,Qn=at+Nn,dr=ge(J),Zi=ge(z),Zt=ge(Z),_t=ge(X);if(Ti>Zi&&Qn<dr){var Ut=Math.asin(Math.sin(Nn)/Math.cos(at));(nt=qn-Ut)<_t&&(nt+=2*Math.PI),(dn=qn+Ut)>Zt&&(dn-=2*Math.PI)}else Ti=Math.max(Ti,Zi),Qn=Math.min(Qn,dr),nt=_t,dn=Zt;return[{latitude:pe(Ti),longitude:pe(nt)},{latitude:pe(Qn),longitude:pe(dn)}]},tn=function(xt){if(!1===Array.isArray(xt)||0===xt.length)return!1;var Pt=xt.length,nt=xt.reduce(function(at,qn){var Nn=ge(ze(qn)),Ti=ge(Ze(qn));return{X:at.X+Math.cos(Nn)*Math.cos(Ti),Y:at.Y+Math.cos(Nn)*Math.sin(Ti),Z:at.Z+Math.sin(Nn)}},{X:0,Y:0,Z:0}),dn=nt.X/Pt,en=nt.Y/Pt,Lt=nt.Z/Pt;return{longitude:pe(Math.atan2(en,dn)),latitude:pe(Math.atan2(Lt,Math.sqrt(dn*dn+en*en)))}},Ct=function(xt){var Pt=un(xt),dn=Pt.minLng+(Pt.maxLng-Pt.minLng)/2;return{latitude:parseFloat((Pt.minLat+(Pt.maxLat-Pt.minLat)/2).toFixed(6)),longitude:parseFloat(dn.toFixed(6))}},st=function(xt,Pt){var nt=ge(Ze(Pt))-ge(Ze(xt)),dn=Math.log(Math.tan(ge(ze(Pt))/2+Math.PI/4)/Math.tan(ge(ze(xt))/2+Math.PI/4));return Math.abs(nt)>Math.PI&&(nt=nt>0?-1*(2*Math.PI-nt):2*Math.PI+nt),(pe(Math.atan2(nt,dn))+360)%360},nn=function(xt,Pt){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st,dn="function"==typeof nt?nt(xt,Pt):st(xt,Pt);if(isNaN(dn))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(dn/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},$t=function(xt,Pt,nt){var dn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,en=Le(Pt,xt,dn),Lt=Le(xt,nt,dn),at=Le(Pt,nt,dn),qn=Math.acos(Ie((en*en+at*at-Lt*Lt)/(2*en*at))),Nn=Math.acos(Ie((Lt*Lt+at*at-en*en)/(2*Lt*at)));return qn>Math.PI/2?en:Nn>Math.PI/2?Lt:Math.sin(qn)*en},vn=function(xt,Pt){var nt=ze(Pt),dn=Ze(Pt),en=ze(xt),Lt=Ze(xt);return(pe(Math.atan2(Math.sin(ge(dn)-ge(Lt))*Math.cos(ge(nt)),Math.cos(ge(en))*Math.sin(ge(nt))-Math.sin(ge(en))*Math.cos(ge(nt))*Math.cos(ge(dn)-ge(Lt))))+360)%360};function Cn(xt){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Pt){return typeof Pt}:function(Pt){return Pt&&"function"==typeof Symbol&&Pt.constructor===Symbol&&Pt!==Symbol.prototype?"symbol":typeof Pt})(xt)}var bn=function(xt){var Pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le;return xt.reduce(function(nt,dn){return"object"===Cn(nt)&&null!==nt.last&&(nt.distance+=Pt(dn,nt.last)),nt.last=dn,nt},{last:null,distance:0}).distance},vi=function(xt,Pt){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;nt=void 0===nt||isNaN(nt)?1:nt;var dn,en,Lt,at,qn,Nn,Ti,Qn=ze(xt),dr=Ze(xt),Zi=ze(Pt),Zt=Ze(Pt),_t=6356752.314245,Ut=1/298.257223563,gn=ge(Zt-dr),yn=Math.atan((1-Ut)*Math.tan(ge(parseFloat(Qn)))),jt=Math.atan((1-Ut)*Math.tan(ge(parseFloat(Zi)))),Yn=Math.sin(yn),ai=Math.cos(yn),ti=Math.sin(jt),Vi=Math.cos(jt),er=gn,At=100;do{var Nt=Math.sin(er),dt=Math.cos(er);if(0===(Nn=Math.sqrt(Vi*Nt*(Vi*Nt)+(ai*ti-Yn*Vi*dt)*(ai*ti-Yn*Vi*dt))))return 0;dn=Yn*ti+ai*Vi*dt,en=Math.atan2(Nn,dn),qn=dn-2*Yn*ti/(at=1-(Lt=ai*Vi*Nt/Nn)*Lt),isNaN(qn)&&(qn=0);var Xt=Ut/16*at*(4+Ut*(4-3*at));Ti=er,er=gn+(1-Xt)*Ut*Lt*(en+Xt*Nn*(qn+Xt*dn*(2*qn*qn-1)))}while(Math.abs(er-Ti)>1e-12&&--At>0);if(0===At)return NaN;var hn=at*(K*K-_t*_t)/(_t*_t),Hn=hn/1024*(256+hn*(hn*(74-47*hn)-128));return Math.round(_t*(1+hn/16384*(4096+hn*(hn*(320-175*hn)-768)))*(en-Hn*Nn*(qn+Hn/4*(dn*(2*qn*qn-1)-Hn/6*qn*(4*Nn*Nn-3)*(4*qn*qn-3))))/nt)*nt},yi=function(xt){return/^(NNE|NE|NNW|N)$/.test(xt)?"N":/^(ENE|E|ESE|SE)$/.test(xt)?"E":/^(SSE|S|SSW|SW)$/.test(xt)?"S":/^(WSW|W|WNW|NW)$/.test(xt)?"W":void 0},Pi=function(xt,Pt){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Le)(xt,Pt)/(Number(Pt.time)-Number(xt.time))*1e3},Ji=function(xt,Pt,nt){return Le(Pt,xt)+Le(xt,nt)===Le(Pt,nt)},Or=function(xt,Pt){for(var nt=!1,dn=Pt.length,en=-1,Lt=dn-1;++en<dn;Lt=en)(Ze(Pt[en])<=Ze(xt)&&Ze(xt)<Ze(Pt[Lt])||Ze(Pt[Lt])<=Ze(xt)&&Ze(xt)<Ze(Pt[en]))&&ze(xt)<(ze(Pt[Lt])-ze(Pt[en]))*(Ze(xt)-Ze(Pt[en]))/(Ze(Pt[Lt])-Ze(Pt[en]))+ze(Pt[en])&&(nt=!nt);return nt},ir=function(xt,Pt,nt,dn){return $t(xt,Pt,nt)<dn},Fr=function(xt,Pt,nt){return Le(xt,Pt,.01)<nt};function Sn(xt,Pt){(null==Pt||Pt>xt.length)&&(Pt=xt.length);for(var nt=0,dn=new Array(Pt);nt<Pt;nt++)dn[nt]=xt[nt];return dn}var Bn=function(xt){if(!xt.startsWith("POLYGON"))throw new Error("Invalid wkt.");return xt.slice(xt.indexOf("(")+2,xt.indexOf(")")).split(", ").map(function(Pt){var nt=function Qi(xt,Pt){return function(nt){if(Array.isArray(nt))return nt}(xt)||function(nt,dn){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(nt)){var en=[],Lt=!0,at=!1,qn=void 0;try{for(var Nn,Ti=nt[Symbol.iterator]();!(Lt=(Nn=Ti.next()).done)&&(en.push(Nn.value),!dn||en.length!==dn);Lt=!0);}catch(Qn){at=!0,qn=Qn}finally{try{Lt||null==Ti.return||Ti.return()}finally{if(at)throw qn}}return en}}(xt,Pt)||function(nt,dn){if(nt){if("string"==typeof nt)return Sn(nt,dn);var en=Object.prototype.toString.call(nt).slice(8,-1);if("Object"===en&&nt.constructor&&(en=nt.constructor.name),"Map"===en||"Set"===en)return Array.from(nt);if("Arguments"===en||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(en))return Sn(nt,dn)}}(xt,Pt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Pt.split(" "),2),en=nt[1];return{longitude:parseFloat(nt[0]),latitude:parseFloat(en)}})}}])},5203:(yt,U,R)=>{"use strict";var o,y=R(1847),K=R(3644),z=R(1298),J=R(2681),X=R(5917),Z=R(2844),Y=R(7289),q=Function,ce=function(xe){try{return q('"use strict"; return ('+xe+").constructor;")()}catch(Ae){}},ae=Object.getOwnPropertyDescriptor;if(ae)try{ae({},"")}catch(xe){ae=null}var se=function(){throw new Z},re=ae?function(){try{return se}catch(xe){try{return ae(arguments,"callee").get}catch(Ae){return se}}}():se,le=R(2969)(),ke=R(9757)(),Ce=Object.getPrototypeOf||(ke?function(xe){return xe.__proto__}:null),fe={},ve=typeof Uint8Array>"u"||!Ce?o:Ce(Uint8Array),De={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?o:ArrayBuffer,"%ArrayIteratorPrototype%":le&&Ce?Ce([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":fe,"%AsyncGenerator%":fe,"%AsyncGeneratorFunction%":fe,"%AsyncIteratorPrototype%":fe,"%Atomics%":typeof Atomics>"u"?o:Atomics,"%BigInt%":typeof BigInt>"u"?o:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":y,"%eval%":eval,"%EvalError%":K,"%Float32Array%":typeof Float32Array>"u"?o:Float32Array,"%Float64Array%":typeof Float64Array>"u"?o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?o:FinalizationRegistry,"%Function%":q,"%GeneratorFunction%":fe,"%Int8Array%":typeof Int8Array>"u"?o:Int8Array,"%Int16Array%":typeof Int16Array>"u"?o:Int16Array,"%Int32Array%":typeof Int32Array>"u"?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":le&&Ce?Ce(Ce([][Symbol.iterator]())):o,"%JSON%":"object"==typeof JSON?JSON:o,"%Map%":typeof Map>"u"?o:Map,"%MapIteratorPrototype%":typeof Map>"u"||!le||!Ce?o:Ce((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?o:Promise,"%Proxy%":typeof Proxy>"u"?o:Proxy,"%RangeError%":z,"%ReferenceError%":J,"%Reflect%":typeof Reflect>"u"?o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?o:Set,"%SetIteratorPrototype%":typeof Set>"u"||!le||!Ce?o:Ce((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":le&&Ce?Ce(""[Symbol.iterator]()):o,"%Symbol%":le?Symbol:o,"%SyntaxError%":X,"%ThrowTypeError%":re,"%TypedArray%":ve,"%TypeError%":Z,"%Uint8Array%":typeof Uint8Array>"u"?o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?o:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?o:Uint32Array,"%URIError%":Y,"%WeakMap%":typeof WeakMap>"u"?o:WeakMap,"%WeakRef%":typeof WeakRef>"u"?o:WeakRef,"%WeakSet%":typeof WeakSet>"u"?o:WeakSet};if(Ce)try{null.error}catch(xe){var Be=Ce(Ce(xe));De["%Error.prototype%"]=Be}var qe=function xe(Ae){var Te;if("%AsyncFunction%"===Ae)Te=ce("async function () {}");else if("%GeneratorFunction%"===Ae)Te=ce("function* () {}");else if("%AsyncGeneratorFunction%"===Ae)Te=ce("async function* () {}");else if("%AsyncGenerator%"===Ae){var Ne=xe("%AsyncGeneratorFunction%");Ne&&(Te=Ne.prototype)}else if("%AsyncIteratorPrototype%"===Ae){var we=xe("%AsyncGenerator%");we&&Ce&&(Te=Ce(we.prototype))}return De[Ae]=Te,Te},Oe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},mt=R(4444),Me=R(7699),Xe=mt.call(Function.call,Array.prototype.concat),Ke=mt.call(Function.apply,Array.prototype.splice),Qe=mt.call(Function.call,String.prototype.replace),ut=mt.call(Function.call,String.prototype.slice),ze=mt.call(Function.call,RegExp.prototype.exec),Ze=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ge=/\\(\\)?/g,pe=function(Ae){var Te=ut(Ae,0,1),Ne=ut(Ae,-1);if("%"===Te&&"%"!==Ne)throw new X("invalid intrinsic syntax, expected closing `%`");if("%"===Ne&&"%"!==Te)throw new X("invalid intrinsic syntax, expected opening `%`");var we=[];return Qe(Ae,Ze,function(Ve,Ie,Le,gt){we[we.length]=Le?Qe(gt,ge,"$1"):Ie||Ve}),we},Se=function(Ae,Te){var we,Ne=Ae;if(Me(Oe,Ne)&&(Ne="%"+(we=Oe[Ne])[0]+"%"),Me(De,Ne)){var Ve=De[Ne];if(Ve===fe&&(Ve=qe(Ne)),typeof Ve>"u"&&!Te)throw new Z("intrinsic "+Ae+" exists, but is not available. Please file an issue!");return{alias:we,name:Ne,value:Ve}}throw new X("intrinsic "+Ae+" does not exist!")};yt.exports=function(Ae,Te){if("string"!=typeof Ae||0===Ae.length)throw new Z("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Te)throw new Z('"allowMissing" argument must be a boolean');if(null===ze(/^%?[^%]*%?$/,Ae))throw new X("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ne=pe(Ae),we=Ne.length>0?Ne[0]:"",Ve=Se("%"+we+"%",Te),Ie=Ve.name,Le=Ve.value,gt=!1,bt=Ve.alias;bt&&(we=bt[0],Ke(Ne,Xe([0,1],bt)));for(var Mt=1,un=!0;Mt<Ne.length;Mt+=1){var En=Ne[Mt],tn=ut(En,0,1),Ct=ut(En,-1);if(('"'===tn||"'"===tn||"`"===tn||'"'===Ct||"'"===Ct||"`"===Ct)&&tn!==Ct)throw new X("property names with quotes must have matching quotes");if(("constructor"===En||!un)&&(gt=!0),Me(De,Ie="%"+(we+="."+En)+"%"))Le=De[Ie];else if(null!=Le){if(!(En in Le)){if(!Te)throw new Z("base intrinsic for "+Ae+" exists, but the property is not available.");return}if(ae&&Mt+1>=Ne.length){var st=ae(Le,En);Le=(un=!!st)&&"get"in st&&!("originalValue"in st.get)?st.get:Le[En]}else un=Me(Le,En),Le=Le[En];un&&!gt&&(De[Ie]=Le)}}return Le}},7378:(yt,U,R)=>{"use strict";var y=R(5203)("%Object.getOwnPropertyDescriptor%",!0);if(y)try{y([],"length")}catch(K){y=null}yt.exports=y},7027:(yt,U,R)=>{"use strict";var o=R(3907),y=function(){return!!o};y.hasArrayLengthDefineBug=function(){if(!o)return null;try{return 1!==o([],"length",{value:1}).length}catch(z){return!0}},yt.exports=y},9757:yt=>{"use strict";var U={__proto__:null,foo:{}},R=Object;yt.exports=function(){return{__proto__:U}.foo===U.foo&&!(U instanceof R)}},2969:(yt,U,R)=>{"use strict";var o=typeof Symbol<"u"&&Symbol,y=R(1983);yt.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"==typeof o("foo")&&"symbol"==typeof Symbol("bar")&&y()}},1983:yt=>{"use strict";yt.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var R={},o=Symbol("test"),y=Object(o);if("string"==typeof o||"[object Symbol]"!==Object.prototype.toString.call(o)||"[object Symbol]"!==Object.prototype.toString.call(y))return!1;for(o in R[o]=42,R)return!1;if("function"==typeof Object.keys&&0!==Object.keys(R).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(R).length)return!1;var z=Object.getOwnPropertySymbols(R);if(1!==z.length||z[0]!==o||!Object.prototype.propertyIsEnumerable.call(R,o))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var J=Object.getOwnPropertyDescriptor(R,o);if(42!==J.value||!0!==J.enumerable)return!1}return!0}},7699:(yt,U,R)=>{"use strict";var o=Function.prototype.call,y=Object.prototype.hasOwnProperty,K=R(4444);yt.exports=K.call(o,y)},8407:function(yt,U){!function(R){"use strict";function y(a){var _,F,te,_e;for(F=1,te=arguments.length;F<te;F++)for(_ in _e=arguments[F])a[_]=_e[_];return a}var K=Object.create||function(){function a(){}return function(_){return a.prototype=_,new a}}();function z(a,_){var F=Array.prototype.slice;if(a.bind)return a.bind.apply(a,F.call(arguments,1));var te=F.call(arguments,2);return function(){return a.apply(_,te.length?te.concat(F.call(arguments)):arguments)}}var J=0;function X(a){return"_leaflet_id"in a||(a._leaflet_id=++J),a._leaflet_id}function Z(a,_,F){var te,_e,Je,kt;return kt=function(){te=!1,_e&&(Je.apply(F,_e),_e=!1)},Je=function(){te?_e=arguments:(a.apply(F,arguments),setTimeout(kt,_),te=!0)},Je}function Y(a,_,F){var te=_[1],_e=_[0],Je=te-_e;return a===te&&F?a:((a-_e)%Je+Je)%Je+_e}function q(){return!1}function ce(a,_){if(!1===_)return a;var F=Math.pow(10,void 0===_?6:_);return Math.round(a*F)/F}function ae(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function se(a){return ae(a).split(/\s+/)}function re(a,_){for(var F in Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?K(a.options):{}),_)a.options[F]=_[F];return a.options}function le(a,_,F){var te=[];for(var _e in a)te.push(encodeURIComponent(F?_e.toUpperCase():_e)+"="+encodeURIComponent(a[_e]));return(_&&-1!==_.indexOf("?")?"&":"?")+te.join("&")}var ke=/\{ *([\w_ -]+) *\}/g;function Ce(a,_){return a.replace(ke,function(F,te){var _e=_[te];if(void 0===_e)throw new Error("No value provided for variable "+F);return"function"==typeof _e&&(_e=_e(_)),_e})}var fe=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};function ve(a,_){for(var F=0;F<a.length;F++)if(a[F]===_)return F;return-1}var De="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Be(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var qe=0;function Oe(a){var _=+new Date,F=Math.max(0,16-(_-qe));return qe=_+F,window.setTimeout(a,F)}var mt=window.requestAnimationFrame||Be("RequestAnimationFrame")||Oe,Me=window.cancelAnimationFrame||Be("CancelAnimationFrame")||Be("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Xe(a,_,F){if(!F||mt!==Oe)return mt.call(window,z(a,_));a.call(_)}function Ke(a){a&&Me.call(window,a)}var Qe={__proto__:null,extend:y,create:K,bind:z,get lastId(){return J},stamp:X,throttle:Z,wrapNum:Y,falseFn:q,formatNum:ce,trim:ae,splitWords:se,setOptions:re,getParamString:le,template:Ce,isArray:fe,indexOf:ve,emptyImageUrl:De,requestFn:mt,cancelFn:Me,requestAnimFrame:Xe,cancelAnimFrame:Ke};function ut(){}ut.extend=function(a){var _=function(){re(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},F=_.__super__=this.prototype,te=K(F);for(var _e in te.constructor=_,_.prototype=te,this)Object.prototype.hasOwnProperty.call(this,_e)&&"prototype"!==_e&&"__super__"!==_e&&(_[_e]=this[_e]);return a.statics&&y(_,a.statics),a.includes&&(function ze(a){if(!(typeof L>"u")&&L&&L.Mixin){a=fe(a)?a:[a];for(var _=0;_<a.length;_++)a[_]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(a.includes),y.apply(null,[te].concat(a.includes))),y(te,a),delete te.statics,delete te.includes,te.options&&(te.options=F.options?K(F.options):{},y(te.options,a.options)),te._initHooks=[],te.callInitHooks=function(){if(!this._initHooksCalled){F.callInitHooks&&F.callInitHooks.call(this),this._initHooksCalled=!0;for(var Je=0,kt=te._initHooks.length;Je<kt;Je++)te._initHooks[Je].call(this)}},_},ut.include=function(a){var _=this.prototype.options;return y(this.prototype,a),a.options&&(this.prototype.options=_,this.mergeOptions(a.options)),this},ut.mergeOptions=function(a){return y(this.prototype.options,a),this},ut.addInitHook=function(a){var _=Array.prototype.slice.call(arguments,1),F="function"==typeof a?a:function(){this[a].apply(this,_)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(F),this};var Ze={on:function(a,_,F){if("object"==typeof a)for(var te in a)this._on(te,a[te],_);else for(var _e=0,Je=(a=se(a)).length;_e<Je;_e++)this._on(a[_e],_,F);return this},off:function(a,_,F){if(arguments.length)if("object"==typeof a)for(var te in a)this._off(te,a[te],_);else{a=se(a);for(var _e=1===arguments.length,Je=0,kt=a.length;Je<kt;Je++)_e?this._off(a[Je]):this._off(a[Je],_,F)}else delete this._events;return this},_on:function(a,_,F,te){if("function"==typeof _){if(!1===this._listens(a,_,F)){F===this&&(F=void 0);var _e={fn:_,ctx:F};te&&(_e.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(_e)}}else console.warn("wrong listener type: "+typeof _)},_off:function(a,_,F){var te,_e,Je;if(this._events&&(te=this._events[a])){if(1===arguments.length){if(this._firingCount)for(_e=0,Je=te.length;_e<Je;_e++)te[_e].fn=q;return void delete this._events[a]}if("function"!=typeof _)return void console.warn("wrong listener type: "+typeof _);var kt=this._listens(a,_,F);!1!==kt&&(this._firingCount&&(te[kt].fn=q,this._events[a]=te=te.slice()),te.splice(kt,1))}},fire:function(a,_,F){if(!this.listens(a,F))return this;var te=y({},_,{type:a,target:this,sourceTarget:_&&_.sourceTarget||this});if(this._events){var _e=this._events[a];if(_e){this._firingCount=this._firingCount+1||1;for(var Je=0,kt=_e.length;Je<kt;Je++){var ln=_e[Je],_n=ln.fn;ln.once&&this.off(a,_n,ln.ctx),_n.call(ln.ctx||this,te)}this._firingCount--}}return F&&this._propagateEvent(te),this},listens:function(a,_,F,te){"string"!=typeof a&&console.warn('"string" type argument expected');var _e=_;"function"!=typeof _&&(te=!!_,_e=void 0,F=void 0);var Je=this._events&&this._events[a];if(Je&&Je.length&&!1!==this._listens(a,_e,F))return!0;if(te)for(var kt in this._eventParents)if(this._eventParents[kt].listens(a,_,F,te))return!0;return!1},_listens:function(a,_,F){if(!this._events)return!1;var te=this._events[a]||[];if(!_)return!!te.length;F===this&&(F=void 0);for(var _e=0,Je=te.length;_e<Je;_e++)if(te[_e].fn===_&&te[_e].ctx===F)return _e;return!1},once:function(a,_,F){if("object"==typeof a)for(var te in a)this._on(te,a[te],_,!0);else for(var _e=0,Je=(a=se(a)).length;_e<Je;_e++)this._on(a[_e],_,F,!0);return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[X(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[X(a)],this},_propagateEvent:function(a){for(var _ in this._eventParents)this._eventParents[_].fire(a.type,y({layer:a.target,propagatedFrom:a.target},a),!0)}};Ze.addEventListener=Ze.on,Ze.removeEventListener=Ze.clearAllEventListeners=Ze.off,Ze.addOneTimeEventListener=Ze.once,Ze.fireEvent=Ze.fire,Ze.hasEventListeners=Ze.listens;var ge=ut.extend(Ze);function pe(a,_,F){this.x=F?Math.round(a):a,this.y=F?Math.round(_):_}var Se=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};function xe(a,_,F){return a instanceof pe?a:fe(a)?new pe(a[0],a[1]):null==a?a:"object"==typeof a&&"x"in a&&"y"in a?new pe(a.x,a.y):new pe(a,_,F)}function Ae(a,_){if(a)for(var F=_?[a,_]:a,te=0,_e=F.length;te<_e;te++)this.extend(F[te])}function Te(a,_){return!a||a instanceof Ae?a:new Ae(a,_)}function Ne(a,_){if(a)for(var F=_?[a,_]:a,te=0,_e=F.length;te<_e;te++)this.extend(F[te])}function we(a,_){return a instanceof Ne?a:new Ne(a,_)}function Ve(a,_,F){if(isNaN(a)||isNaN(_))throw new Error("Invalid LatLng object: ("+a+", "+_+")");this.lat=+a,this.lng=+_,void 0!==F&&(this.alt=+F)}function Ie(a,_,F){return a instanceof Ve?a:fe(a)&&"object"!=typeof a[0]?3===a.length?new Ve(a[0],a[1],a[2]):2===a.length?new Ve(a[0],a[1]):null:null==a?a:"object"==typeof a&&"lat"in a?new Ve(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===_?null:new Ve(a,_,F)}pe.prototype={clone:function(){return new pe(this.x,this.y)},add:function(a){return this.clone()._add(xe(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(xe(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pe(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pe(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Se(this.x),this.y=Se(this.y),this},distanceTo:function(a){var _=(a=xe(a)).x-this.x,F=a.y-this.y;return Math.sqrt(_*_+F*F)},equals:function(a){return(a=xe(a)).x===this.x&&a.y===this.y},contains:function(a){return a=xe(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+ce(this.x)+", "+ce(this.y)+")"}},Ae.prototype={extend:function(a){var _,F;if(!a)return this;if(a instanceof pe||"number"==typeof a[0]||"x"in a)_=F=xe(a);else if(F=(a=Te(a)).max,!(_=a.min)||!F)return this;return this.min||this.max?(this.min.x=Math.min(_.x,this.min.x),this.max.x=Math.max(F.x,this.max.x),this.min.y=Math.min(_.y,this.min.y),this.max.y=Math.max(F.y,this.max.y)):(this.min=_.clone(),this.max=F.clone()),this},getCenter:function(a){return xe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return xe(this.min.x,this.max.y)},getTopRight:function(){return xe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var _,F;return(a="number"==typeof a[0]||a instanceof pe?xe(a):Te(a))instanceof Ae?(_=a.min,F=a.max):_=F=a,_.x>=this.min.x&&F.x<=this.max.x&&_.y>=this.min.y&&F.y<=this.max.y},intersects:function(a){a=Te(a);var _=this.min,F=this.max,te=a.min,_e=a.max;return _e.x>=_.x&&te.x<=F.x&&_e.y>=_.y&&te.y<=F.y},overlaps:function(a){a=Te(a);var _=this.min,F=this.max,te=a.min,_e=a.max;return _e.x>_.x&&te.x<F.x&&_e.y>_.y&&te.y<F.y},isValid:function(){return!(!this.min||!this.max)},pad:function(a){var _=this.min,F=this.max,te=Math.abs(_.x-F.x)*a,_e=Math.abs(_.y-F.y)*a;return Te(xe(_.x-te,_.y-_e),xe(F.x+te,F.y+_e))},equals:function(a){return!!a&&(a=Te(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight()))}},Ne.prototype={extend:function(a){var te,_e,_=this._southWest,F=this._northEast;if(a instanceof Ve)te=a,_e=a;else{if(!(a instanceof Ne))return a?this.extend(Ie(a)||we(a)):this;if(_e=a._northEast,!(te=a._southWest)||!_e)return this}return _||F?(_.lat=Math.min(te.lat,_.lat),_.lng=Math.min(te.lng,_.lng),F.lat=Math.max(_e.lat,F.lat),F.lng=Math.max(_e.lng,F.lng)):(this._southWest=new Ve(te.lat,te.lng),this._northEast=new Ve(_e.lat,_e.lng)),this},pad:function(a){var _=this._southWest,F=this._northEast,te=Math.abs(_.lat-F.lat)*a,_e=Math.abs(_.lng-F.lng)*a;return new Ne(new Ve(_.lat-te,_.lng-_e),new Ve(F.lat+te,F.lng+_e))},getCenter:function(){return new Ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof Ve||"lat"in a?Ie(a):we(a);var te,_e,_=this._southWest,F=this._northEast;return a instanceof Ne?(te=a.getSouthWest(),_e=a.getNorthEast()):te=_e=a,te.lat>=_.lat&&_e.lat<=F.lat&&te.lng>=_.lng&&_e.lng<=F.lng},intersects:function(a){a=we(a);var _=this._southWest,F=this._northEast,te=a.getSouthWest(),_e=a.getNorthEast();return _e.lat>=_.lat&&te.lat<=F.lat&&_e.lng>=_.lng&&te.lng<=F.lng},overlaps:function(a){a=we(a);var _=this._southWest,F=this._northEast,te=a.getSouthWest(),_e=a.getNorthEast();return _e.lat>_.lat&&te.lat<F.lat&&_e.lng>_.lng&&te.lng<F.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,_){return!!a&&(a=we(a),this._southWest.equals(a.getSouthWest(),_)&&this._northEast.equals(a.getNorthEast(),_))},isValid:function(){return!(!this._southWest||!this._northEast)}},Ve.prototype={equals:function(a,_){return!!a&&(a=Ie(a),Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===_?1e-9:_))},toString:function(a){return"LatLng("+ce(this.lat,a)+", "+ce(this.lng,a)+")"},distanceTo:function(a){return gt.distance(this,Ie(a))},wrap:function(){return gt.wrapLatLng(this)},toBounds:function(a){var _=180*a/40075017,F=_/Math.cos(Math.PI/180*this.lat);return we([this.lat-_,this.lng-F],[this.lat+_,this.lng+F])},clone:function(){return new Ve(this.lat,this.lng,this.alt)}};var a,Le={latLngToPoint:function(a,_){var F=this.projection.project(a),te=this.scale(_);return this.transformation._transform(F,te)},pointToLatLng:function(a,_){var F=this.scale(_),te=this.transformation.untransform(a,F);return this.projection.unproject(te)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var _=this.projection.bounds,F=this.scale(a);return new Ae(this.transformation.transform(_.min,F),this.transformation.transform(_.max,F))},infinite:!1,wrapLatLng:function(a){var _=this.wrapLng?Y(a.lng,this.wrapLng,!0):a.lng;return new Ve(this.wrapLat?Y(a.lat,this.wrapLat,!0):a.lat,_,a.alt)},wrapLatLngBounds:function(a){var _=a.getCenter(),F=this.wrapLatLng(_),te=_.lat-F.lat,_e=_.lng-F.lng;if(0===te&&0===_e)return a;var Je=a.getSouthWest(),kt=a.getNorthEast();return new Ne(new Ve(Je.lat-te,Je.lng-_e),new Ve(kt.lat-te,kt.lng-_e))}},gt=y({},Le,{wrapLng:[-180,180],R:6371e3,distance:function(a,_){var F=Math.PI/180,te=a.lat*F,_e=_.lat*F,Je=Math.sin((_.lat-a.lat)*F/2),kt=Math.sin((_.lng-a.lng)*F/2),ln=Je*Je+Math.cos(te)*Math.cos(_e)*kt*kt,_n=2*Math.atan2(Math.sqrt(ln),Math.sqrt(1-ln));return this.R*_n}}),Mt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(a){var _=Math.PI/180,F=this.MAX_LATITUDE,te=Math.max(Math.min(F,a.lat),-F),_e=Math.sin(te*_);return new pe(this.R*a.lng*_,this.R*Math.log((1+_e)/(1-_e))/2)},unproject:function(a){var _=180/Math.PI;return new Ve((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*_,a.x*_/this.R)},bounds:(a=6378137*Math.PI,new Ae([-a,-a],[a,a]))};function un(a,_,F,te){if(fe(a))return this._a=a[0],this._b=a[1],this._c=a[2],void(this._d=a[3]);this._a=a,this._b=_,this._c=F,this._d=te}function En(a,_,F,te){return new un(a,_,F,te)}un.prototype={transform:function(a,_){return this._transform(a.clone(),_)},_transform:function(a,_){return a.x=(_=_||1)*(this._a*a.x+this._b),a.y=_*(this._c*a.y+this._d),a},untransform:function(a,_){return new pe((a.x/(_=_||1)-this._b)/this._a,(a.y/_-this._d)/this._c)}};var tn=y({},gt,{code:"EPSG:3857",projection:Mt,transformation:function(){var a=.5/(Math.PI*Mt.R);return En(a,.5,-a,.5)}()}),Ct=y({},tn,{code:"EPSG:900913"});function st(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function nn(a,_){var te,_e,Je,kt,ln,_n,F="";for(te=0,Je=a.length;te<Je;te++){for(_e=0,kt=(ln=a[te]).length;_e<kt;_e++)F+=(_e?"L":"M")+(_n=ln[_e]).x+" "+_n.y;F+=_?At.svg?"z":"x":""}return F||"M0 0"}var $t=document.documentElement.style,vn="ActiveXObject"in window,Cn=vn&&!document.addEventListener,bn="msLaunchUri"in navigator&&!("documentMode"in document),vi=er("webkit"),yi=er("android"),Pi=er("android 2")||er("android 3"),Ji=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Or=yi&&er("Google")&&Ji<537&&!("AudioNode"in window),ir=!!window.opera,Fr=!bn&&er("chrome"),Qi=er("gecko")&&!vi&&!ir&&!vn,Sn=!Fr&&er("safari"),Bn=er("phantom"),xt="OTransition"in $t,Pt=0===navigator.platform.indexOf("Win"),nt=vn&&"transition"in $t,dn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Pi,en="MozPerspective"in $t,Lt=!window.L_DISABLE_3D&&(nt||dn||en)&&!xt&&!Bn,at=typeof orientation<"u"||er("mobile"),qn=at&&vi,Nn=at&&dn,Ti=!window.PointerEvent&&window.MSPointerEvent,Qn=!(!window.PointerEvent&&!Ti),dr="ontouchstart"in window||!!window.TouchEvent,Zi=!window.L_NO_TOUCH&&(dr||Qn),Zt=at&&ir,_t=at&&Qi,Ut=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gn=function(){var a=!1;try{var _=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",q,_),window.removeEventListener("testPassiveEventSupport",q,_)}catch(F){}return a}(),yn=!!document.createElement("canvas").getContext,jt=!(!document.createElementNS||!st("svg").createSVGRect),Yn=!!jt&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(a.firstChild&&a.firstChild.namespaceURI)}(),ai=!jt&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var _=a.firstChild;return _.style.behavior="url(#default#VML)",_&&"object"==typeof _.adj}catch(F){return!1}}();function er(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var At={ie:vn,ielt9:Cn,edge:bn,webkit:vi,android:yi,android23:Pi,androidStock:Or,opera:ir,chrome:Fr,gecko:Qi,safari:Sn,phantom:Bn,opera12:xt,win:Pt,ie3d:nt,webkit3d:dn,gecko3d:en,any3d:Lt,mobile:at,mobileWebkit:qn,mobileWebkit3d:Nn,msPointer:Ti,pointer:Qn,touch:Zi,touchNative:dr,mobileOpera:Zt,mobileGecko:_t,retina:Ut,passiveEvents:gn,canvas:yn,svg:jt,vml:ai,inlineSvg:Yn,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Nt=At.msPointer?"MSPointerDown":"pointerdown",dt=At.msPointer?"MSPointerMove":"pointermove",Xt=At.msPointer?"MSPointerUp":"pointerup",hn=At.msPointer?"MSPointerCancel":"pointercancel",Un={touchstart:Nt,touchmove:dt,touchend:Xt,touchcancel:hn},Hn={touchstart:function yr(a,_){_.MSPOINTER_TYPE_TOUCH&&_.pointerType===_.MSPOINTER_TYPE_TOUCH&&wn(_),vo(a,_)},touchmove:vo,touchend:vo,touchcancel:vo},ii={},Pr=!1;function Ki(a,_,F){return"touchstart"===_&&function Eo(){Pr||(document.addEventListener(Nt,Gi,!0),document.addEventListener(dt,Rr,!0),document.addEventListener(Xt,Nr,!0),document.addEventListener(hn,Nr,!0),Pr=!0)}(),Hn[_]?(F=Hn[_].bind(this,F),a.addEventListener(Un[_],F,!1),F):(console.warn("wrong event specified:",_),q)}function Gi(a){ii[a.pointerId]=a}function Rr(a){ii[a.pointerId]&&(ii[a.pointerId]=a)}function Nr(a){delete ii[a.pointerId]}function vo(a,_){if(_.pointerType!==(_.MSPOINTER_TYPE_MOUSE||"mouse")){for(var F in _.touches=[],ii)_.touches.push(ii[F]);_.changedTouches=[_],a(_)}}var fr=200;var oi,An,gr,Ir,mr,to=Yt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yr=Yt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ho="webkitTransition"===Yr||"OTransition"===Yr?Yr+"End":"transitionend";function nr(a){return"string"==typeof a?document.getElementById(a):a}function Oi(a,_){var F=a.style[_]||a.currentStyle&&a.currentStyle[_];if((!F||"auto"===F)&&document.defaultView){var te=document.defaultView.getComputedStyle(a,null);F=te?te[_]:null}return"auto"===F?null:F}function Ei(a,_,F){var te=document.createElement(a);return te.className=_||"",F&&F.appendChild(te),te}function di(a){var _=a.parentNode;_&&_.removeChild(a)}function Br(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Dr(a){var _=a.parentNode;_&&_.lastChild!==a&&_.appendChild(a)}function no(a){var _=a.parentNode;_&&_.firstChild!==a&&_.insertBefore(a,_.firstChild)}function We(a,_){if(void 0!==a.classList)return a.classList.contains(_);var F=Qt(a);return F.length>0&&new RegExp("(^|\\s)"+_+"(\\s|$)").test(F)}function tt(a,_){if(void 0!==a.classList)for(var F=se(_),te=0,_e=F.length;te<_e;te++)a.classList.add(F[te]);else if(!We(a,_)){var Je=Qt(a);Rt(a,(Je?Je+" ":"")+_)}}function ht(a,_){void 0!==a.classList?a.classList.remove(_):Rt(a,ae((" "+Qt(a)+" ").replace(" "+_+" "," ")))}function Rt(a,_){void 0===a.className.baseVal?a.className=_:a.className.baseVal=_}function Qt(a){return a.correspondingElement&&(a=a.correspondingElement),void 0===a.className.baseVal?a.className:a.className.baseVal}function rt(a,_){"opacity"in a.style?a.style.opacity=_:"filter"in a.style&&function Vt(a,_){var F=!1,te="DXImageTransform.Microsoft.Alpha";try{F=a.filters.item(te)}catch(_e){if(1===_)return}_=Math.round(100*_),F?(F.Enabled=100!==_,F.Opacity=_):a.style.filter+=" progid:"+te+"(opacity="+_+")"}(a,_)}function Yt(a){for(var _=document.documentElement.style,F=0;F<a.length;F++)if(a[F]in _)return a[F];return!1}function mn(a,_,F){var te=_||new pe(0,0);a.style[to]=(At.ie3d?"translate("+te.x+"px,"+te.y+"px)":"translate3d("+te.x+"px,"+te.y+"px,0)")+(F?" scale("+F+")":"")}function sn(a,_){a._leaflet_pos=_,At.any3d?mn(a,_):(a.style.left=_.x+"px",a.style.top=_.y+"px")}function jn(a){return a._leaflet_pos||new pe(0,0)}if("onselectstart"in document)oi=function(){$i(window,"selectstart",wn)},An=function(){ot(window,"selectstart",wn)};else{var lr=Yt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oi=function(){if(lr){var a=document.documentElement.style;gr=a[lr],a[lr]="none"}},An=function(){lr&&(document.documentElement.style[lr]=gr,gr=void 0)}}function fo(){$i(window,"dragstart",wn)}function Mi(){ot(window,"dragstart",wn)}function io(a){for(;-1===a.tabIndex;)a=a.parentNode;a.style&&(ao(),Ir=a,mr=a.style.outlineStyle,a.style.outlineStyle="none",$i(window,"keydown",ao))}function ao(){Ir&&(Ir.style.outlineStyle=mr,Ir=void 0,mr=void 0,ot(window,"keydown",ao))}function To(a){do{a=a.parentNode}while(!(a.offsetWidth&&a.offsetHeight||a===document.body));return a}function Zo(a){var _=a.getBoundingClientRect();return{x:_.width/a.offsetWidth||1,y:_.height/a.offsetHeight||1,boundingClientRect:_}}var jr={__proto__:null,TRANSFORM:to,TRANSITION:Yr,TRANSITION_END:ho,get:nr,getStyle:Oi,create:Ei,remove:di,empty:Br,toFront:Dr,toBack:no,hasClass:We,addClass:tt,removeClass:ht,setClass:Rt,getClass:Qt,setOpacity:rt,testProp:Yt,setTransform:mn,setPosition:sn,getPosition:jn,get disableTextSelection(){return oi},get enableTextSelection(){return An},disableImageDrag:fo,enableImageDrag:Mi,preventOutline:io,restoreOutline:ao,getSizedParentNode:To,getScale:Zo};function $i(a,_,F,te){if(_&&"object"==typeof _)for(var _e in _)Gt(a,_e,_[_e],F);else for(var Je=0,kt=(_=se(_)).length;Je<kt;Je++)Gt(a,_[Je],F,te);return this}var Ue="_leaflet_events";function ot(a,_,F,te){if(1===arguments.length)wt(a),delete a[Ue];else if(_&&"object"==typeof _)for(var _e in _)cn(a,_e,_[_e],F);else if(_=se(_),2===arguments.length)wt(a,function(ln){return-1!==ve(_,ln)});else for(var Je=0,kt=_.length;Je<kt;Je++)cn(a,_[Je],F,te);return this}function wt(a,_){for(var F in a[Ue]){var te=F.split(/\d/)[0];(!_||_(te))&&cn(a,te,null,null,F)}}var Wt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Gt(a,_,F,te){var _e=_+X(F)+(te?"_"+X(te):"");if(a[Ue]&&a[Ue][_e])return this;var Je=function(ln){return F.call(te||a,ln||window.event)},kt=Je;!At.touchNative&&At.pointer&&0===_.indexOf("touch")?Je=Ki(a,_,Je):At.touch&&"dblclick"===_?Je=function tr(a,_){a.addEventListener("dblclick",_);var te,F=0;function _e(Je){if(1===Je.detail){if("mouse"!==Je.pointerType&&(!Je.sourceCapabilities||Je.sourceCapabilities.firesTouchEvents)){var kt=Yi(Je);if(!kt.some(function(_n){return _n instanceof HTMLLabelElement&&_n.attributes.for})||kt.some(function(_n){return _n instanceof HTMLInputElement||_n instanceof HTMLSelectElement})){var ln=Date.now();ln-F<=fr?2==++te&&_(function kr(a){var F,te,_={};for(te in a)_[te]=(F=a[te])&&F.bind?F.bind(a):F;return a=_,_.type="dblclick",_.detail=2,_.isTrusted=!1,_._simulated=!0,_}(Je)):te=1,F=ln}}}else te=Je.detail}return a.addEventListener("click",_e),{dblclick:_,simDblclick:_e}}(a,Je):"addEventListener"in a?"touchstart"===_||"touchmove"===_||"wheel"===_||"mousewheel"===_?a.addEventListener(Wt[_]||_,Je,!!At.passiveEvents&&{passive:!1}):"mouseenter"===_||"mouseleave"===_?a.addEventListener(Wt[_],Je=function(ln){ln=ln||window.event,Ur(a,ln)&&kt(ln)},!1):a.addEventListener(_,kt,!1):a.attachEvent("on"+_,Je),a[Ue]=a[Ue]||{},a[Ue][_e]=Je}function cn(a,_,F,te,_e){_e=_e||_+X(F)+(te?"_"+X(te):"");var Je=a[Ue]&&a[Ue][_e];if(!Je)return this;!At.touchNative&&At.pointer&&0===_.indexOf("touch")?function zi(a,_,F){Un[_]?a.removeEventListener(Un[_],F,!1):console.warn("wrong event specified:",_)}(a,_,Je):At.touch&&"dblclick"===_?function co(a,_){a.removeEventListener("dblclick",_.dblclick),a.removeEventListener("click",_.simDblclick)}(a,Je):"removeEventListener"in a?a.removeEventListener(Wt[_]||_,Je,!1):a.detachEvent("on"+_,Je),a[Ue][_e]=null}function Fn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Tn(a){return Gt(a,"wheel",Fn),this}function Vn(a){return $i(a,"mousedown touchstart dblclick contextmenu",Fn),a._leaflet_disable_click=!0,this}function wn(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function ei(a){return wn(a),Fn(a),this}function Yi(a){if(a.composedPath)return a.composedPath();for(var _=[],F=a.target;F;)_.push(F),F=F.parentNode;return _}function _i(a,_){if(!_)return new pe(a.clientX,a.clientY);var F=Zo(_),te=F.boundingClientRect;return new pe((a.clientX-te.left)/F.x-_.clientLeft,(a.clientY-te.top)/F.y-_.clientTop)}var mi=At.linux&&At.chrome?window.devicePixelRatio:At.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tr(a){return At.edge?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/mi:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?20*-a.detail:a.detail?a.detail/-32765*60:0}function Ur(a,_){var F=_.relatedTarget;if(!F)return!0;try{for(;F&&F!==a;)F=F.parentNode}catch(te){return!1}return F!==a}var sr={__proto__:null,on:$i,off:ot,stopPropagation:Fn,disableScrollPropagation:Tn,disableClickPropagation:Vn,preventDefault:wn,stop:ei,getPropagationPath:Yi,getMousePosition:_i,getWheelDelta:Tr,isExternalTarget:Ur,addListener:$i,removeListener:ot},xr=ge.extend({run:function(a,_,F,te){this.stop(),this._el=a,this._inProgress=!0,this._duration=F||.25,this._easeOutPower=1/Math.max(te||.5,.2),this._startPos=jn(a),this._offset=_.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Xe(this._animate,this),this._step()},_step:function(a){var _=+new Date-this._startTime,F=1e3*this._duration;_<F?this._runFrame(this._easeOut(_/F),a):(this._runFrame(1),this._complete())},_runFrame:function(a,_){var F=this._startPos.add(this._offset.multiplyBy(a));_&&F._round(),sn(this._el,F),this.fire("step")},_complete:function(){Ke(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),wi=ge.extend({options:{crs:tn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,_){_=re(this,_),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=z(this._onResize,this),this._initEvents(),_.maxBounds&&this.setMaxBounds(_.maxBounds),void 0!==_.zoom&&(this._zoom=this._limitZoom(_.zoom)),_.center&&void 0!==_.zoom&&this.setView(Ie(_.center),_.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yr&&At.any3d&&!At.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$i(this._proxy,ho,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,_,F){return _=void 0===_?this._zoom:this._limitZoom(_),a=this._limitCenter(Ie(a),_,this.options.maxBounds),F=F||{},this._stop(),this._loaded&&!F.reset&&!0!==F&&(void 0!==F.animate&&(F.zoom=y({animate:F.animate},F.zoom),F.pan=y({animate:F.animate,duration:F.duration},F.pan)),this._zoom!==_?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,_,F.zoom):this._tryAnimatedPan(a,F.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(a,_,F.pan&&F.pan.noMoveStart),this)},setZoom:function(a,_){return this._loaded?this.setView(this.getCenter(),a,{zoom:_}):(this._zoom=a,this)},zoomIn:function(a,_){return this.setZoom(this._zoom+(a=a||(At.any3d?this.options.zoomDelta:1)),_)},zoomOut:function(a,_){return this.setZoom(this._zoom-(a=a||(At.any3d?this.options.zoomDelta:1)),_)},setZoomAround:function(a,_,F){var te=this.getZoomScale(_),_e=this.getSize().divideBy(2),kt=(a instanceof pe?a:this.latLngToContainerPoint(a)).subtract(_e).multiplyBy(1-1/te),ln=this.containerPointToLatLng(_e.add(kt));return this.setView(ln,_,{zoom:F})},_getBoundsCenterZoom:function(a,_){_=_||{},a=a.getBounds?a.getBounds():we(a);var F=xe(_.paddingTopLeft||_.padding||[0,0]),te=xe(_.paddingBottomRight||_.padding||[0,0]),_e=this.getBoundsZoom(a,!1,F.add(te));if((_e="number"==typeof _.maxZoom?Math.min(_.maxZoom,_e):_e)===1/0)return{center:a.getCenter(),zoom:_e};var Je=te.subtract(F).divideBy(2),kt=this.project(a.getSouthWest(),_e),ln=this.project(a.getNorthEast(),_e);return{center:this.unproject(kt.add(ln).divideBy(2).add(Je),_e),zoom:_e}},fitBounds:function(a,_){if(!(a=we(a)).isValid())throw new Error("Bounds are not valid.");var F=this._getBoundsCenterZoom(a,_);return this.setView(F.center,F.zoom,_)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,_){return this.setView(a,this._zoom,{pan:_})},panBy:function(a,_){if(_=_||{},!(a=xe(a).round()).x&&!a.y)return this.fire("moveend");if(!0!==_.animate&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new xr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),_.noMoveStart||this.fire("movestart"),!1!==_.animate){tt(this._mapPane,"leaflet-pan-anim");var F=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,F,_.duration||.25,_.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,_,F){if(!1===(F=F||{}).animate||!At.any3d)return this.setView(a,_,F);this._stop();var te=this.project(this.getCenter()),_e=this.project(a),Je=this.getSize(),kt=this._zoom;a=Ie(a),_=void 0===_?kt:_;var ln=Math.max(Je.x,Je.y),_n=ln*this.getZoomScale(kt,_),Ln=_e.distanceTo(te)||1,fi=1.42,ji=fi*fi;function ur(Cr){var qs=(_n*_n-ln*ln+(Cr?-1:1)*ji*ji*Ln*Ln)/(2*(Cr?_n:ln)*ji*Ln),Ss=Math.sqrt(qs*qs+1)-qs;return Ss<1e-9?-18:Math.log(Ss)}function ci(Cr){return(Math.exp(Cr)-Math.exp(-Cr))/2}function bi(Cr){return(Math.exp(Cr)+Math.exp(-Cr))/2}var Ui=ur(0);function us(Cr){return ln*(bi(Ui)*function Fi(Cr){return ci(Cr)/bi(Cr)}(Ui+fi*Cr)-ci(Ui))/ji}var cs=Date.now(),xo=(ur(1)-Ui)/fi,ks=F.duration?1e3*F.duration:1e3*xo*.8;return this._moveStart(!0,F.noMoveStart),function zs(){var Cr=(Date.now()-cs)/ks,oo=function qo(Cr){return 1-Math.pow(1-Cr,1.5)}(Cr)*xo;Cr<=1?(this._flyToFrame=Xe(zs,this),this._move(this.unproject(te.add(_e.subtract(te).multiplyBy(us(oo)/Ln)),kt),this.getScaleZoom(ln/function mo(Cr){return ln*(bi(Ui)/bi(Ui+fi*Cr))}(oo),kt),{flyTo:!0})):this._move(a,_)._moveEnd(!0)}.call(this),this},flyToBounds:function(a,_){var F=this._getBoundsCenterZoom(a,_);return this.flyTo(F.center,F.zoom,_)},setMaxBounds:function(a){return a=we(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var _=this.options.minZoom;return this.options.minZoom=a,this._loaded&&_!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var _=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&_!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,_){this._enforcingBounds=!0;var F=this.getCenter(),te=this._limitCenter(F,this._zoom,we(a));return F.equals(te)||this.panTo(te,_),this._enforcingBounds=!1,this},panInside:function(a,_){var F=xe((_=_||{}).paddingTopLeft||_.padding||[0,0]),te=xe(_.paddingBottomRight||_.padding||[0,0]),_e=this.project(this.getCenter()),Je=this.project(a),kt=this.getPixelBounds(),ln=Te([kt.min.add(F),kt.max.subtract(te)]),_n=ln.getSize();if(!ln.contains(Je)){this._enforcingBounds=!0;var Ln=Je.subtract(ln.getCenter()),fi=ln.extend(Je).getSize().subtract(_n);_e.x+=Ln.x<0?-fi.x:fi.x,_e.y+=Ln.y<0?-fi.y:fi.y,this.panTo(this.unproject(_e),_),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=y({animate:!1,pan:!0},!0===a?{animate:!0}:a);var _=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var F=this.getSize(),te=_.divideBy(2).round(),_e=F.divideBy(2).round(),Je=te.subtract(_e);return Je.x||Je.y?(a.animate&&a.pan?this.panBy(Je):(a.pan&&this._rawPanBy(Je),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(z(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:_,newSize:F})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=y({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var _=z(this._handleGeolocationResponse,this),F=z(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(_,F,a):navigator.geolocation.getCurrentPosition(_,F,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var _=a.code,F=a.message||(1===_?"permission denied":2===_?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:_,message:"Geolocation error: "+F+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var te=new Ve(a.coords.latitude,a.coords.longitude),_e=te.toBounds(2*a.coords.accuracy),Je=this._locateOptions;if(Je.setView){var kt=this.getBoundsZoom(_e);this.setView(te,Je.maxZoom?Math.min(kt,Je.maxZoom):kt)}var ln={latlng:te,bounds:_e,timestamp:a.timestamp};for(var _n in a.coords)"number"==typeof a.coords[_n]&&(ln[_n]=a.coords[_n]);this.fire("locationfound",ln)}},addHandler:function(a,_){if(!_)return this;var F=this[a]=new _(this);return this._handlers.push(F),this.options[a]&&F.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(_){this._container._leaflet_id=void 0,this._containerId=void 0}var a;for(a in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),di(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ke(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[a].remove();for(a in this._panes)di(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,_){var te=Ei("div","leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_||this._mapPane);return a&&(this._panes[a]=te),te},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds();return new Ne(this.unproject(a.getBottomLeft()),this.unproject(a.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,_,F){a=we(a),F=xe(F||[0,0]);var te=this.getZoom()||0,_e=this.getMinZoom(),Je=this.getMaxZoom(),kt=a.getNorthWest(),ln=a.getSouthEast(),_n=this.getSize().subtract(F),Ln=Te(this.project(ln,te),this.project(kt,te)).getSize(),fi=At.any3d?this.options.zoomSnap:1,ji=_n.x/Ln.x,ur=_n.y/Ln.y,ci=_?Math.max(ji,ur):Math.min(ji,ur);return te=this.getScaleZoom(ci,te),fi&&(te=Math.round(te/(fi/100))*(fi/100),te=_?Math.ceil(te/fi)*fi:Math.floor(te/fi)*fi),Math.max(_e,Math.min(Je,te))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,_){var F=this._getTopLeftPoint(a,_);return new Ae(F,F.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,_){var F=this.options.crs;return _=void 0===_?this._zoom:_,F.scale(a)/F.scale(_)},getScaleZoom:function(a,_){var F=this.options.crs,te=F.zoom(a*F.scale(_=void 0===_?this._zoom:_));return isNaN(te)?1/0:te},project:function(a,_){return _=void 0===_?this._zoom:_,this.options.crs.latLngToPoint(Ie(a),_)},unproject:function(a,_){return _=void 0===_?this._zoom:_,this.options.crs.pointToLatLng(xe(a),_)},layerPointToLatLng:function(a){var _=xe(a).add(this.getPixelOrigin());return this.unproject(_)},latLngToLayerPoint:function(a){return this.project(Ie(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ie(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(we(a))},distance:function(a,_){return this.options.crs.distance(Ie(a),Ie(_))},containerPointToLayerPoint:function(a){return xe(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return xe(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var _=this.containerPointToLayerPoint(xe(a));return this.layerPointToLatLng(_)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(a)))},mouseEventToContainerPoint:function(a){return _i(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var _=this._container=nr(a);if(!_)throw new Error("Map container not found.");if(_._leaflet_id)throw new Error("Map container is already initialized.");$i(_,"scroll",this._onScroll,this),this._containerId=X(_)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&At.any3d,tt(a,"leaflet-container"+(At.touch?" leaflet-touch":"")+(At.retina?" leaflet-retina":"")+(At.ielt9?" leaflet-oldie":"")+(At.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var _=Oi(a,"position");"absolute"!==_&&"relative"!==_&&"fixed"!==_&&"sticky"!==_&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),sn(this._mapPane,new pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(tt(a.markerPane,"leaflet-zoom-hide"),tt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,_,F){sn(this._mapPane,new pe(0,0));var te=!this._loaded;this._loaded=!0,_=this._limitZoom(_),this.fire("viewprereset");var _e=this._zoom!==_;this._moveStart(_e,F)._move(a,_)._moveEnd(_e),this.fire("viewreset"),te&&this.fire("load")},_moveStart:function(a,_){return a&&this.fire("zoomstart"),_||this.fire("movestart"),this},_move:function(a,_,F,te){void 0===_&&(_=this._zoom);var _e=this._zoom!==_;return this._zoom=_,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),te?F&&F.pinch&&this.fire("zoom",F):((_e||F&&F.pinch)&&this.fire("zoom",F),this.fire("move",F)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ke(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){sn(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[X(this._container)]=this;var _=a?ot:$i;_(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&_(window,"resize",this._onResize,this),At.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ke(this._resizeRequest),this._resizeRequest=Xe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,_){for(var te,F=[],_e="mouseout"===_||"mouseover"===_,Je=a.target||a.srcElement,kt=!1;Je;){if((te=this._targets[X(Je)])&&("click"===_||"preclick"===_)&&this._draggableMoved(te)){kt=!0;break}if(te&&te.listens(_,!0)&&(_e&&!Ur(Je,a)||(F.push(te),_e))||Je===this._container)break;Je=Je.parentNode}return!F.length&&!kt&&!_e&&this.listens(_,!0)&&(F=[this]),F},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var _=a.target||a.srcElement;if(!(!this._loaded||_._leaflet_disable_events||"click"===a.type&&this._isClickDisabled(_))){var F=a.type;"mousedown"===F&&io(_),this._fireDOMEvent(a,F)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,_,F){if("click"===a.type){var te=y({},a);te.type="preclick",this._fireDOMEvent(te,te.type,F)}var _e=this._findEventTargets(a,_);if(F){for(var Je=[],kt=0;kt<F.length;kt++)F[kt].listens(_,!0)&&Je.push(F[kt]);_e=Je.concat(_e)}if(_e.length){"contextmenu"===_&&wn(a);var ln=_e[0],_n={originalEvent:a};if("keypress"!==a.type&&"keydown"!==a.type&&"keyup"!==a.type){var Ln=ln.getLatLng&&(!ln._radius||ln._radius<=10);_n.containerPoint=Ln?this.latLngToContainerPoint(ln.getLatLng()):this.mouseEventToContainerPoint(a),_n.layerPoint=this.containerPointToLayerPoint(_n.containerPoint),_n.latlng=Ln?ln.getLatLng():this.layerPointToLatLng(_n.layerPoint)}for(kt=0;kt<_e.length;kt++)if(_e[kt].fire(_,_n,!0),_n.originalEvent._stopped||!1===_e[kt].options.bubblingMouseEvents&&-1!==ve(this._mouseEvents,_))return}},_draggableMoved:function(a){return(a=a.dragging&&a.dragging.enabled()?a:this).dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,_=this._handlers.length;a<_;a++)this._handlers[a].disable()},whenReady:function(a,_){return this._loaded?a.call(_||this,{target:this}):this.on("load",a,_),this},_getMapPanePos:function(){return jn(this._mapPane)||new pe(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,_){return(a&&void 0!==_?this._getNewPixelOrigin(a,_):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,_){var F=this.getSize()._divideBy(2);return this.project(a,_)._subtract(F)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,_,F){var te=this._getNewPixelOrigin(F,_);return this.project(a,_)._subtract(te)},_latLngBoundsToNewLayerBounds:function(a,_,F){var te=this._getNewPixelOrigin(F,_);return Te([this.project(a.getSouthWest(),_)._subtract(te),this.project(a.getNorthWest(),_)._subtract(te),this.project(a.getSouthEast(),_)._subtract(te),this.project(a.getNorthEast(),_)._subtract(te)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,_,F){if(!F)return a;var te=this.project(a,_),_e=this.getSize().divideBy(2),Je=new Ae(te.subtract(_e),te.add(_e)),kt=this._getBoundsOffset(Je,F,_);return Math.abs(kt.x)<=1&&Math.abs(kt.y)<=1?a:this.unproject(te.add(kt),_)},_limitOffset:function(a,_){if(!_)return a;var F=this.getPixelBounds(),te=new Ae(F.min.add(a),F.max.add(a));return a.add(this._getBoundsOffset(te,_))},_getBoundsOffset:function(a,_,F){var te=Te(this.project(_.getNorthEast(),F),this.project(_.getSouthWest(),F)),_e=te.min.subtract(a.min),Je=te.max.subtract(a.max);return new pe(this._rebound(_e.x,-Je.x),this._rebound(_e.y,-Je.y))},_rebound:function(a,_){return a+_>0?Math.round(a-_)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(_))},_limitZoom:function(a){var _=this.getMinZoom(),F=this.getMaxZoom(),te=At.any3d?this.options.zoomSnap:1;return te&&(a=Math.round(a/te)*te),Math.max(_,Math.min(F,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,_){var F=this._getCenterOffset(a)._trunc();return!(!0!==(_&&_.animate)&&!this.getSize().contains(F)||(this.panBy(F,_),0))},_createAnimProxy:function(){var a=this._proxy=Ei("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(_){var F=to,te=this._proxy.style[F];mn(this._proxy,this.project(_.center,_.zoom),this.getZoomScale(_.zoom,1)),te===this._proxy.style[F]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){di(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),_=this.getZoom();mn(this._proxy,this.project(a,_),this.getZoomScale(_,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,_,F){if(this._animatingZoom)return!0;if(F=F||{},!this._zoomAnimated||!1===F.animate||this._nothingToAnimate()||Math.abs(_-this._zoom)>this.options.zoomAnimationThreshold)return!1;var te=this.getZoomScale(_),_e=this._getCenterOffset(a)._divideBy(1-1/te);return!(!0!==F.animate&&!this.getSize().contains(_e)||(Xe(function(){this._moveStart(!0,F.noMoveStart||!1)._animateZoom(a,_,!0)},this),0))},_animateZoom:function(a,_,F,te){this._mapPane&&(F&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=_,tt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:_,noUpdate:te}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(z(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var zn=ut.extend({options:{position:"topright"},initialize:function(a){re(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var _=this._map;return _&&_.removeControl(this),this.options.position=a,_&&_.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var _=this._container=this.onAdd(a),F=this.getPosition(),te=a._controlCorners[F];return tt(_,"leaflet-control"),-1!==F.indexOf("bottom")?te.insertBefore(_,te.firstChild):te.appendChild(_),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(di(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Bi=function(a){return new zn(a)};wi.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},_="leaflet-",F=this._controlContainer=Ei("div",_+"control-container",this._container);function te(_e,Je){a[_e+Je]=Ei("div",_+_e+" "+_+Je,F)}te("top","left"),te("top","right"),te("bottom","left"),te("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)di(this._controlCorners[a]);di(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mr=zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,_,F,te){return F<te?-1:te<F?1:0}},initialize:function(a,_,F){for(var te in re(this,F),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,a)this._addLayer(a[te],te);for(te in _)this._addLayer(_[te],te,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var _=0;_<this._layers.length;_++)this._layers[_].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return zn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,_){return this._addLayer(a,_),this._map?this._update():this},addOverlay:function(a,_){return this._addLayer(a,_,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var _=this._getLayer(X(a));return _&&this._layers.splice(this._layers.indexOf(_),1),this._map?this._update():this},expand:function(){tt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(tt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",_=this._container=Ei("div",a),F=this.options.collapsed;_.setAttribute("aria-haspopup",!0),Vn(_),Tn(_);var te=this._section=Ei("section",a+"-list");F&&(this._map.on("click",this.collapse,this),$i(_,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _e=this._layersLink=Ei("a",a+"-toggle",_);_e.href="#",_e.title="Layers",_e.setAttribute("role","button"),$i(_e,{keydown:function(Je){13===Je.keyCode&&this._expandSafely()},click:function(Je){wn(Je),this._expandSafely()}},this),F||this.expand(),this._baseLayersList=Ei("div",a+"-base",te),this._separator=Ei("div",a+"-separator",te),this._overlaysList=Ei("div",a+"-overlays",te),_.appendChild(te)},_getLayer:function(a){for(var _=0;_<this._layers.length;_++)if(this._layers[_]&&X(this._layers[_].layer)===a)return this._layers[_]},_addLayer:function(a,_,F){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:_,overlay:F}),this.options.sortLayers&&this._layers.sort(z(function(te,_e){return this.options.sortFunction(te.layer,_e.layer,te.name,_e.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Br(this._baseLayersList),Br(this._overlaysList),this._layerControlInputs=[];var a,_,F,te,_e=0;for(F=0;F<this._layers.length;F++)this._addItem(te=this._layers[F]),_=_||te.overlay,a=a||!te.overlay,_e+=te.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(a=a&&_e>1)?"":"none"),this._separator.style.display=_&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var _=this._getLayer(X(a.target)),F=_.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null;F&&this._map.fire(F,_)},_createRadioElement:function(a,_){var F='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(_?' checked="checked"':"")+"/>",te=document.createElement("div");return te.innerHTML=F,te.firstChild},_addItem:function(a){var te,_=document.createElement("label"),F=this._map.hasLayer(a.layer);a.overlay?((te=document.createElement("input")).type="checkbox",te.className="leaflet-control-layers-selector",te.defaultChecked=F):te=this._createRadioElement("leaflet-base-layers_"+X(this),F),this._layerControlInputs.push(te),te.layerId=X(a.layer),$i(te,"click",this._onInputClick,this);var _e=document.createElement("span");_e.innerHTML=" "+a.name;var Je=document.createElement("span");return _.appendChild(Je),Je.appendChild(te),Je.appendChild(_e),(a.overlay?this._overlaysList:this._baseLayersList).appendChild(_),this._checkDisabledLayers(),_},_onInputClick:function(){if(!this._preventClick){var _,F,a=this._layerControlInputs,te=[],_e=[];this._handlingClick=!0;for(var Je=a.length-1;Je>=0;Je--)F=this._getLayer((_=a[Je]).layerId).layer,_.checked?te.push(F):_.checked||_e.push(F);for(Je=0;Je<_e.length;Je++)this._map.hasLayer(_e[Je])&&this._map.removeLayer(_e[Je]);for(Je=0;Je<te.length;Je++)this._map.hasLayer(te[Je])||this._map.addLayer(te[Je]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var _,F,a=this._layerControlInputs,te=this._map.getZoom(),_e=a.length-1;_e>=0;_e--)F=this._getLayer((_=a[_e]).layerId).layer,_.disabled=void 0!==F.options.minZoom&&te<F.options.minZoom||void 0!==F.options.maxZoom&&te>F.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,$i(a,"click",wn),this.expand();var _=this;setTimeout(function(){ot(a,"click",wn),_._preventClick=!1})}}),vr=zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var _="leaflet-control-zoom",F=Ei("div",_+" leaflet-bar"),te=this.options;return this._zoomInButton=this._createButton(te.zoomInText,te.zoomInTitle,_+"-in",F,this._zoomIn),this._zoomOutButton=this._createButton(te.zoomOutText,te.zoomOutTitle,_+"-out",F,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),F},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,_,F,te,_e){var Je=Ei("a",F,te);return Je.innerHTML=a,Je.href="#",Je.title=_,Je.setAttribute("role","button"),Je.setAttribute("aria-label",_),Vn(Je),$i(Je,"click",ei),$i(Je,"click",_e,this),$i(Je,"click",this._refocusOnMap,this),Je},_updateDisabled:function(){var a=this._map,_="leaflet-disabled";ht(this._zoomInButton,_),ht(this._zoomOutButton,_),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(tt(this._zoomOutButton,_),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(tt(this._zoomInButton,_),this._zoomInButton.setAttribute("aria-disabled","true"))}});wi.mergeOptions({zoomControl:!0}),wi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vr,this.addControl(this.zoomControl))});var lo=zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var _="leaflet-control-scale",F=Ei("div",_),te=this.options;return this._addScales(te,_+"-line",F),a.on(te.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),F},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,_,F){a.metric&&(this._mScale=Ei("div",_,F)),a.imperial&&(this._iScale=Ei("div",_,F))},_update:function(){var a=this._map,_=a.getSize().y/2,F=a.distance(a.containerPointToLatLng([0,_]),a.containerPointToLatLng([this.options.maxWidth,_]));this._updateScales(F)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var _=this._getRoundNum(a);this._updateScale(this._mScale,_<1e3?_+" m":_/1e3+" km",_/a)},_updateImperial:function(a){var F,te,_e,_=3.2808399*a;_>5280?(te=this._getRoundNum(F=_/5280),this._updateScale(this._iScale,te+" mi",te/F)):(_e=this._getRoundNum(_),this._updateScale(this._iScale,_e+" ft",_e/_))},_updateScale:function(a,_,F){a.style.width=Math.round(this.options.maxWidth*F)+"px",a.innerHTML=_},_getRoundNum:function(a){var _=Math.pow(10,(Math.floor(a)+"").length-1),F=a/_;return _*(F>=10?10:F>=5?5:F>=3?3:F>=2?2:1)}}),qr=zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(At.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(a){re(this,a),this._attributions={}},onAdd:function(a){for(var _ in a.attributionControl=this,this._container=Ei("div","leaflet-control-attribution"),Vn(this._container),a._layers)a._layers[_].getAttribution&&this.addAttribution(a._layers[_].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var _ in this._attributions)this._attributions[_]&&a.push(_);var F=[];this.options.prefix&&F.push(this.options.prefix),a.length&&F.push(a.join(", ")),this._container.innerHTML=F.join(' <span aria-hidden="true">|</span> ')}}});wi.mergeOptions({attributionControl:!0}),wi.addInitHook(function(){this.options.attributionControl&&(new qr).addTo(this)});zn.Layers=Mr,zn.Zoom=vr,zn.Scale=lo,zn.Attribution=qr,Bi.layers=function(a,_,F){return new Mr(a,_,F)},Bi.zoom=function(a){return new vr(a)},Bi.scale=function(a){return new lo(a)},Bi.attribution=function(a){return new qr(a)};var yo=ut.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yo.addTo=function(a,_){return a.addHandler(_,this),this};var Vr={Events:Ze},ro=At.touch?"touchstart mousedown":"mousedown",Hr=ge.extend({options:{clickTolerance:3},initialize:function(a,_,F,te){re(this,te),this._element=a,this._dragStartTarget=_||a,this._preventOutline=F},enable:function(){this._enabled||($i(this._dragStartTarget,ro,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Hr._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,ro,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!We(this._element,"leaflet-zoom-anim"))){if(a.touches&&1!==a.touches.length)return void(Hr._dragging===this&&this.finishDrag());if(!(Hr._dragging||a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(Hr._dragging=this,this._preventOutline&&io(this._element),fo(),oi(),this._moving))){this.fire("down");var _=a.touches?a.touches[0]:a,F=To(this._element);this._startPoint=new pe(_.clientX,_.clientY),this._startPos=jn(this._element),this._parentScale=Zo(F);var te="mousedown"===a.type;$i(document,te?"mousemove":"touchmove",this._onMove,this),$i(document,te?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1)return void(this._moved=!0);var _=a.touches&&1===a.touches.length?a.touches[0]:a,F=new pe(_.clientX,_.clientY)._subtract(this._startPoint);!F.x&&!F.y||Math.abs(F.x)+Math.abs(F.y)<this.options.clickTolerance||(F.x/=this._parentScale.x,F.y/=this._parentScale.y,wn(a),this._moved||(this.fire("dragstart"),this._moved=!0,tt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),tt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(F),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),sn(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ht(document.body,"leaflet-dragging"),this._lastTarget&&(ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),Mi(),An();var _=this._moved&&this._moving;this._moving=!1,Hr._dragging=!1,_&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Po(a,_,F){var te,Je,kt,ln,_n,Ln,fi,ji,ur,_e=[1,4,2,8];for(Je=0,fi=a.length;Je<fi;Je++)a[Je]._code=Xi(a[Je],_);for(ln=0;ln<4;ln++){for(ji=_e[ln],te=[],Je=0,kt=(fi=a.length)-1;Je<fi;kt=Je++)Ln=a[kt],(_n=a[Je])._code&ji?Ln._code&ji||((ur=Xo(Ln,_n,ji,_,F))._code=Xi(ur,_),te.push(ur)):(Ln._code&ji&&((ur=Xo(Ln,_n,ji,_,F))._code=Xi(ur,_),te.push(ur)),te.push(_n));a=te}return a}function Lo(a,_){var F,te,_e,Je,kt,ln,_n,Ln;if(!a||0===a.length)throw new Error("latlngs not passed");Pe(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ji=Ie([0,0]),ur=we(a);ur.getNorthWest().distanceTo(ur.getSouthWest())*ur.getNorthEast().distanceTo(ur.getNorthWest())<1700&&(ji=wr(a));var bi=a.length,Fi=[];for(F=0;F<bi;F++){var Ui=Ie(a[F]);Fi.push(_.project(Ie([Ui.lat-ji.lat,Ui.lng-ji.lng])))}for(ln=_n=Ln=0,F=0,te=bi-1;F<bi;te=F++)_n+=((_e=Fi[F]).x+(Je=Fi[te]).x)*(kt=_e.y*Je.x-Je.y*_e.x),Ln+=(_e.y+Je.y)*kt,ln+=3*kt;var mo=_.unproject(xe(0===ln?Fi[0]:[_n/ln,Ln/ln]));return Ie([mo.lat+ji.lat,mo.lng+ji.lng])}function wr(a){for(var _=0,F=0,te=0,_e=0;_e<a.length;_e++){var Je=Ie(a[_e]);_+=Je.lat,F+=Je.lng,te++}return Ie([_/te,F/te])}var Zr,$o={__proto__:null,clipPolygon:Po,polygonCenter:Lo,centroid:wr};function No(a,_){if(!_||!a.length)return a.slice();var F=_*_;return function Xr(a,_){var F=a.length,_e=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(F);_e[0]=_e[F-1]=1,Bo(a,_e,_,0,F-1);var Je,kt=[];for(Je=0;Je<F;Je++)_e[Je]&&kt.push(a[Je]);return kt}(a=function zo(a,_){for(var F=[a[0]],te=1,_e=0,Je=a.length;te<Je;te++)G(a[te],a[_e])>_&&(F.push(a[te]),_e=te);return _e<Je-1&&F.push(a[Je-1]),F}(a,F),F)}function Go(a,_,F){return Math.sqrt(be(a,_,F,!0))}function Bo(a,_,F,te,_e){var kt,ln,_n,Je=0;for(ln=te+1;ln<=_e-1;ln++)(_n=be(a[ln],a[te],a[_e],!0))>Je&&(kt=ln,Je=_n);Je>F&&(_[kt]=1,Bo(a,_,F,te,kt),Bo(a,_,F,kt,_e))}function Qo(a,_,F,te,_e){var ln,_n,Ln,Je=te?Zr:Xi(a,F),kt=Xi(_,F);for(Zr=kt;;){if(!(Je|kt))return[a,_];if(Je&kt)return!1;Ln=Xi(_n=Xo(a,_,ln=Je||kt,F,_e),F),ln===Je?(a=_n,Je=Ln):(_=_n,kt=Ln)}}function Xo(a,_,F,te,_e){var Ln,fi,Je=_.x-a.x,kt=_.y-a.y,ln=te.min,_n=te.max;return 8&F?(Ln=a.x+Je*(_n.y-a.y)/kt,fi=_n.y):4&F?(Ln=a.x+Je*(ln.y-a.y)/kt,fi=ln.y):2&F?(Ln=_n.x,fi=a.y+kt*(_n.x-a.x)/Je):1&F&&(Ln=ln.x,fi=a.y+kt*(ln.x-a.x)/Je),new pe(Ln,fi,_e)}function Xi(a,_){var F=0;return a.x<_.min.x?F|=1:a.x>_.max.x&&(F|=2),a.y<_.min.y?F|=4:a.y>_.max.y&&(F|=8),F}function G(a,_){var F=_.x-a.x,te=_.y-a.y;return F*F+te*te}function be(a,_,F,te){var Ln,_e=_.x,Je=_.y,kt=F.x-_e,ln=F.y-Je,_n=kt*kt+ln*ln;return _n>0&&((Ln=((a.x-_e)*kt+(a.y-Je)*ln)/_n)>1?(_e=F.x,Je=F.y):Ln>0&&(_e+=kt*Ln,Je+=ln*Ln)),kt=a.x-_e,ln=a.y-Je,te?kt*kt+ln*ln:new pe(_e,Je)}function Pe(a){return!fe(a[0])||"object"!=typeof a[0][0]&&typeof a[0][0]<"u"}function et(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pe(a)}function ct(a,_){var F,te,_e,Je,kt,ln,_n,Ln;if(!a||0===a.length)throw new Error("latlngs not passed");Pe(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var fi=Ie([0,0]),ji=we(a);ji.getNorthWest().distanceTo(ji.getSouthWest())*ji.getNorthEast().distanceTo(ji.getNorthWest())<1700&&(fi=wr(a));var ci=a.length,bi=[];for(F=0;F<ci;F++){var Fi=Ie(a[F]);bi.push(_.project(Ie([Fi.lat-fi.lat,Fi.lng-fi.lng])))}for(F=0,te=0;F<ci-1;F++)te+=bi[F].distanceTo(bi[F+1])/2;if(0===te)Ln=bi[0];else for(F=0,Je=0;F<ci-1;F++)if((Je+=_e=(kt=bi[F]).distanceTo(ln=bi[F+1]))>te){Ln=[ln.x-(_n=(Je-te)/_e)*(ln.x-kt.x),ln.y-_n*(ln.y-kt.y)];break}var Ui=_.unproject(xe(Ln));return Ie([Ui.lat+fi.lat,Ui.lng+fi.lng])}var Et={__proto__:null,simplify:No,pointToSegmentDistance:Go,closestPointOnSegment:function ko(a,_,F){return be(a,_,F)},clipSegment:Qo,_getEdgeIntersection:Xo,_getBitCode:Xi,_sqClosestPointOnSegment:be,isFlat:Pe,_flat:et,polylineCenter:ct},Ft={project:function(a){return new pe(a.lng,a.lat)},unproject:function(a){return new Ve(a.y,a.x)},bounds:new Ae([-180,-90],[180,90])},Ht={R:6378137,R_MINOR:6356752.314245179,bounds:new Ae([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(a){var _=Math.PI/180,F=this.R,te=a.lat*_,_e=this.R_MINOR/F,Je=Math.sqrt(1-_e*_e),kt=Je*Math.sin(te),ln=Math.tan(Math.PI/4-te/2)/Math.pow((1-kt)/(1+kt),Je/2);return te=-F*Math.log(Math.max(ln,1e-10)),new pe(a.lng*_*F,te)},unproject:function(a){for(var Ln,_=180/Math.PI,F=this.R,te=this.R_MINOR/F,_e=Math.sqrt(1-te*te),Je=Math.exp(-a.y/F),kt=Math.PI/2-2*Math.atan(Je),ln=0,_n=.1;ln<15&&Math.abs(_n)>1e-7;ln++)Ln=_e*Math.sin(kt),Ln=Math.pow((1-Ln)/(1+Ln),_e/2),kt+=_n=Math.PI/2-2*Math.atan(Je*Ln)-kt;return new Ve(kt*_,a.x*_/F)}},rn={__proto__:null,LonLat:Ft,Mercator:Ht,SphericalMercator:Mt},Mn=y({},gt,{code:"EPSG:3395",projection:Ht,transformation:function(){var a=.5/(Math.PI*Ht.R);return En(a,.5,-a,.5)}()}),Rn=y({},gt,{code:"EPSG:4326",projection:Ft,transformation:En(1/180,1,-1/180,.5)}),Ii=y({},Le,{projection:Ft,transformation:En(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,_){var F=_.lng-a.lng,te=_.lat-a.lat;return Math.sqrt(F*F+te*te)},infinite:!0});Le.Earth=gt,Le.EPSG3395=Mn,Le.EPSG3857=tn,Le.EPSG900913=Ct,Le.EPSG4326=Rn,Le.Simple=Ii;var ui=ge.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[X(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[X(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var _=a.target;if(_.hasLayer(this)){if(this._map=_,this._zoomAnimated=_._zoomAnimated,this.getEvents){var F=this.getEvents();_.on(F,this),this.once("remove",function(){_.off(F,this)},this)}this.onAdd(_),this.fire("add"),_.fire("layeradd",{layer:this})}}});wi.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var _=X(a);return this._layers[_]||(this._layers[_]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a)),this},removeLayer:function(a){var _=X(a);return this._layers[_]?(this._loaded&&a.onRemove(this),delete this._layers[_],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return X(a)in this._layers},eachLayer:function(a,_){for(var F in this._layers)a.call(_,this._layers[F]);return this},_addLayers:function(a){for(var _=0,F=(a=a?fe(a)?a:[a]:[]).length;_<F;_++)this.addLayer(a[_])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[X(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var _=X(a);this._zoomBoundLayers[_]&&(delete this._zoomBoundLayers[_],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,_=-1/0,F=this._getZoomSpan();for(var te in this._zoomBoundLayers){var _e=this._zoomBoundLayers[te].options;a=void 0===_e.minZoom?a:Math.min(a,_e.minZoom),_=void 0===_e.maxZoom?_:Math.max(_,_e.maxZoom)}this._layersMaxZoom=_===-1/0?void 0:_,this._layersMinZoom=a===1/0?void 0:a,F!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xn=ui.extend({initialize:function(a,_){var F,te;if(re(this,_),this._layers={},a)for(F=0,te=a.length;F<te;F++)this.addLayer(a[F])},addLayer:function(a){var _=this.getLayerId(a);return this._layers[_]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var _=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[_]&&this._map.removeLayer(this._layers[_]),delete this._layers[_],this},hasLayer:function(a){return("number"==typeof a?a:this.getLayerId(a))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var F,te,_=Array.prototype.slice.call(arguments,1);for(F in this._layers)(te=this._layers[F])[a]&&te[a].apply(te,_);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,_){for(var F in this._layers)a.call(_,this._layers[F]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return X(a)}}),oe=Xn.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Xn.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Xn.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Ne;for(var _ in this._layers){var F=this._layers[_];a.extend(F.getBounds?F.getBounds():F.getLatLng())}return a}}),N=ut.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){re(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,_){var F=this._getIconUrl(a);if(!F){if("icon"===a)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var te=this._createImg(F,_&&"IMG"===_.tagName?_:null);return this._setIconStyles(te,a),(this.options.crossOrigin||""===this.options.crossOrigin)&&(te.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),te},_setIconStyles:function(a,_){var F=this.options,te=F[_+"Size"];"number"==typeof te&&(te=[te,te]);var _e=xe(te),Je=xe("shadow"===_&&F.shadowAnchor||F.iconAnchor||_e&&_e.divideBy(2,!0));a.className="leaflet-marker-"+_+" "+(F.className||""),Je&&(a.style.marginLeft=-Je.x+"px",a.style.marginTop=-Je.y+"px"),_e&&(a.style.width=_e.x+"px",a.style.height=_e.y+"px")},_createImg:function(a,_){return(_=_||document.createElement("img")).src=a,_},_getIconUrl:function(a){return At.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});var I=N.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return"string"!=typeof I.imagePath&&(I.imagePath=this._detectIconPath()),(this.options.imagePath||I.imagePath)+N.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var _=function(F,te,_e){var Je=te.exec(F);return Je&&Je[_e]};return(a=_(a,/^url\((['"])?(.+)\1\)$/,2))&&_(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Ei("div","leaflet-default-icon-path",document.body),_=Oi(a,"background-image")||Oi(a,"backgroundImage");if(document.body.removeChild(a),_=this._stripUrl(_))return _;var F=document.querySelector('link[href$="leaflet.css"]');return F?F.href.substring(0,F.href.length-11-1):""}}),E=yo.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Hr(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),tt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var _=this._marker,F=_._map,te=this._marker.options.autoPanSpeed,_e=this._marker.options.autoPanPadding,Je=jn(_._icon),kt=F.getPixelBounds(),ln=F.getPixelOrigin(),_n=Te(kt.min._subtract(ln).add(_e),kt.max._subtract(ln).subtract(_e));if(!_n.contains(Je)){var Ln=xe((Math.max(_n.max.x,Je.x)-_n.max.x)/(kt.max.x-_n.max.x)-(Math.min(_n.min.x,Je.x)-_n.min.x)/(kt.min.x-_n.min.x),(Math.max(_n.max.y,Je.y)-_n.max.y)/(kt.max.y-_n.max.y)-(Math.min(_n.min.y,Je.y)-_n.min.y)/(kt.min.y-_n.min.y)).multiplyBy(te);F.panBy(Ln,{animate:!1}),this._draggable._newPos._add(Ln),this._draggable._startPos._add(Ln),sn(_._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Xe(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Ke(this._panRequest),this._panRequest=Xe(this._adjustPan.bind(this,a)))},_onDrag:function(a){var _=this._marker,F=_._shadow,te=jn(_._icon),_e=_._map.layerPointToLatLng(te);F&&sn(F,te),_._latlng=_e,a.latlng=_e,a.oldLatLng=this._oldLatLng,_.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Ke(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),H=ui.extend({options:{icon:new I,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,_){re(this,_),this._latlng=Ie(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var _=this._latlng;return this._latlng=Ie(a),this.update(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,_="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),F=a.icon.createIcon(this._icon),te=!1;F!==this._icon&&(this._icon&&this._removeIcon(),te=!0,a.title&&(F.title=a.title),"IMG"===F.tagName&&(F.alt=a.alt||"")),tt(F,_),a.keyboard&&(F.tabIndex="0",F.setAttribute("role","button")),this._icon=F,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$i(F,"focus",this._panOnFocus,this);var _e=a.icon.createShadow(this._shadow),Je=!1;_e!==this._shadow&&(this._removeShadow(),Je=!0),_e&&(tt(_e,_),_e.alt=""),this._shadow=_e,a.opacity<1&&this._updateOpacity(),te&&this.getPane().appendChild(this._icon),this._initInteraction(),_e&&Je&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),di(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&di(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&sn(this._icon,a),this._shadow&&sn(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var _=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(_)},_initInteraction:function(){if(this.options.interactive&&(tt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),E)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new E(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&rt(this._icon,a),this._shadow&&rt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var _=this.options.icon.options,F=_.iconSize?xe(_.iconSize):xe(0,0),te=_.iconAnchor?xe(_.iconAnchor):xe(0,0);a.panInside(this._latlng,{paddingTopLeft:te,paddingBottomRight:F.subtract(te)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Ye=ui.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return re(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ot=Ye.extend({options:{fill:!0,radius:10},initialize:function(a,_){re(this,_),this._latlng=Ie(a),this._radius=this.options.radius},setLatLng:function(a){var _=this._latlng;return this._latlng=Ie(a),this.redraw(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var _=a&&a.radius||this._radius;return Ye.prototype.setStyle.call(this,a),this.setRadius(_),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,_=this._radiusY||a,F=this._clickTolerance(),te=[a+F,_+F];this._pxBounds=new Ae(this._point.subtract(te),this._point.add(te))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var qt=Ot.extend({initialize:function(a,_,F){if("number"==typeof _&&(_=y({},F,{radius:_})),re(this,_),this._latlng=Ie(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Ne(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ye.prototype.setStyle,_project:function(){var a=this._latlng.lng,_=this._latlng.lat,F=this._map,te=F.options.crs;if(te.distance===gt.distance){var _e=Math.PI/180,Je=this._mRadius/gt.R/_e,kt=F.project([_+Je,a]),ln=F.project([_-Je,a]),_n=kt.add(ln).divideBy(2),Ln=F.unproject(_n).lat,fi=Math.acos((Math.cos(Je*_e)-Math.sin(_*_e)*Math.sin(Ln*_e))/(Math.cos(_*_e)*Math.cos(Ln*_e)))/_e;(isNaN(fi)||0===fi)&&(fi=Je/Math.cos(Math.PI/180*_)),this._point=_n.subtract(F.getPixelOrigin()),this._radius=isNaN(fi)?0:_n.x-F.project([Ln,a-fi]).x,this._radiusY=_n.y-kt.y}else{var ji=te.unproject(te.project(this._latlng).subtract([this._mRadius,0]));this._point=F.latLngToLayerPoint(this._latlng),this._radius=this._point.x-F.latLngToLayerPoint(ji).x}this._updateBounds()}});var hi=Ye.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,_){re(this,_),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var _e,Je,_=1/0,F=null,te=be,kt=0,ln=this._parts.length;kt<ln;kt++)for(var _n=this._parts[kt],Ln=1,fi=_n.length;Ln<fi;Ln++){var ji=te(a,_e=_n[Ln-1],Je=_n[Ln],!0);ji<_&&(_=ji,F=te(a,_e,Je))}return F&&(F.distance=Math.sqrt(_)),F},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ct(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,_){return _=_||this._defaultShape(),a=Ie(a),_.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Ne,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Pe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var _=[],F=Pe(a),te=0,_e=a.length;te<_e;te++)F?(_[te]=Ie(a[te]),this._bounds.extend(_[te])):_[te]=this._convertLatLngs(a[te]);return _},_project:function(){var a=new Ae;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),_=new pe(a,a);this._rawPxBounds&&(this._pxBounds=new Ae([this._rawPxBounds.min.subtract(_),this._rawPxBounds.max.add(_)]))},_projectLatlngs:function(a,_,F){var Je,kt,_e=a.length;if(a[0]instanceof Ve){for(kt=[],Je=0;Je<_e;Je++)kt[Je]=this._map.latLngToLayerPoint(a[Je]),F.extend(kt[Je]);_.push(kt)}else for(Je=0;Je<_e;Je++)this._projectLatlngs(a[Je],_,F)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a)){if(this.options.noClip)return void(this._parts=this._rings);var F,te,_e,Je,kt,ln,_n,_=this._parts;for(F=0,_e=0,Je=this._rings.length;F<Je;F++)for(te=0,kt=(_n=this._rings[F]).length;te<kt-1;te++)(ln=Qo(_n[te],_n[te+1],a,te,!0))&&(_[_e]=_[_e]||[],_[_e].push(ln[0]),(ln[1]!==_n[te+1]||te===kt-2)&&(_[_e].push(ln[1]),_e++))}},_simplifyPoints:function(){for(var a=this._parts,_=this.options.smoothFactor,F=0,te=a.length;F<te;F++)a[F]=No(a[F],_)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,_){var F,te,_e,Je,kt,ln,_n=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(F=0,Je=this._parts.length;F<Je;F++)for(te=0,_e=(kt=(ln=this._parts[F]).length)-1;te<kt;_e=te++)if((_||0!==te)&&Go(a,ln[_e],ln[te])<=_n)return!0;return!1}});hi._flat=et;var pi=hi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var _=hi.prototype._convertLatLngs.call(this,a),F=_.length;return F>=2&&_[0]instanceof Ve&&_[0].equals(_[F-1])&&_.pop(),_},_setLatLngs:function(a){hi.prototype._setLatLngs.call(this,a),Pe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,_=this.options.weight,F=new pe(_,_);if(a=new Ae(a.min.subtract(F),a.max.add(F)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(a)){if(this.options.noClip)return void(this._parts=this._rings);for(var Je,te=0,_e=this._rings.length;te<_e;te++)(Je=Po(this._rings[te],a,!0)).length&&this._parts.push(Je)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var F,te,_e,Je,kt,ln,_n,Ln,_=!1;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(Je=0,_n=this._parts.length;Je<_n;Je++)for(kt=0,ln=(Ln=(F=this._parts[Je]).length)-1;kt<Ln;ln=kt++)(te=F[kt]).y>a.y!=(_e=F[ln]).y>a.y&&a.x<(_e.x-te.x)*(a.y-te.y)/(_e.y-te.y)+te.x&&(_=!_);return _||hi.prototype._containsPoint.call(this,a,!0)}});var li=oe.extend({initialize:function(a,_){re(this,_),this._layers={},a&&this.addData(a)},addData:function(a){var F,te,_e,_=fe(a)?a:a.features;if(_){for(F=0,te=_.length;F<te;F++)((_e=_[F]).geometries||_e.geometry||_e.features||_e.coordinates)&&this.addData(_e);return this}var Je=this.options;if(Je.filter&&!Je.filter(a))return this;var kt=Co(a,Je);return kt?(kt.feature=fs(a),kt.defaultOptions=kt.options,this.resetStyle(kt),Je.onEachFeature&&Je.onEachFeature(a,kt),this.addLayer(kt)):this},resetStyle:function(a){return void 0===a?this.eachLayer(this.resetStyle,this):(a.options=y({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(_){this._setLayerStyle(_,a)},this)},_setLayerStyle:function(a,_){a.setStyle&&("function"==typeof _&&(_=_(a.feature)),a.setStyle(_))}});function Co(a,_){var ln,_n,Ln,fi,F="Feature"===a.type?a.geometry:a,te=F?F.coordinates:null,_e=[],Je=_&&_.pointToLayer,kt=_&&_.coordsToLatLng||Er;if(!te&&!F)return null;switch(F.type){case"Point":return Jr(Je,a,ln=kt(te),_);case"MultiPoint":for(Ln=0,fi=te.length;Ln<fi;Ln++)ln=kt(te[Ln]),_e.push(Jr(Je,a,ln,_));return new oe(_e);case"LineString":case"MultiLineString":return _n=_o(te,"LineString"===F.type?0:1,kt),new hi(_n,_);case"Polygon":case"MultiPolygon":return _n=_o(te,"Polygon"===F.type?1:2,kt),new pi(_n,_);case"GeometryCollection":for(Ln=0,fi=F.geometries.length;Ln<fi;Ln++){var ji=Co({geometry:F.geometries[Ln],type:"Feature",properties:a.properties},_);ji&&_e.push(ji)}return new oe(_e);case"FeatureCollection":for(Ln=0,fi=F.features.length;Ln<fi;Ln++){var ur=Co(F.features[Ln],_);ur&&_e.push(ur)}return new oe(_e);default:throw new Error("Invalid GeoJSON object.")}}function Jr(a,_,F,te){return a?a(_,F):new H(F,te&&te.markersInheritOptions&&te)}function Er(a){return new Ve(a[1],a[0],a[2])}function _o(a,_,F){for(var kt,te=[],_e=0,Je=a.length;_e<Je;_e++)kt=_?_o(a[_e],_-1,F):(F||Er)(a[_e]),te.push(kt);return te}function es(a,_){return void 0!==(a=Ie(a)).alt?[ce(a.lng,_),ce(a.lat,_),ce(a.alt,_)]:[ce(a.lng,_),ce(a.lat,_)]}function Fo(a,_,F,te){for(var _e=[],Je=0,kt=a.length;Je<kt;Je++)_e.push(_?Fo(a[Je],Pe(a[Je])?0:_-1,F,te):es(a[Je],te));return!_&&F&&_e.length>0&&_e.push(_e[0].slice()),_e}function Do(a,_){return a.feature?y({},a.feature,{geometry:_}):fs(_)}function fs(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}var ts={toGeoJSON:function(a){return Do(this,{type:"Point",coordinates:es(this.getLatLng(),a)})}};function ss(a,_){return new li(a,_)}H.include(ts),qt.include(ts),Ot.include(ts),hi.include({toGeoJSON:function(a){var _=!Pe(this._latlngs);return Do(this,{type:(_?"Multi":"")+"LineString",coordinates:Fo(this._latlngs,_?1:0,!1,a)})}}),pi.include({toGeoJSON:function(a){var _=!Pe(this._latlngs),F=_&&!Pe(this._latlngs[0]),te=Fo(this._latlngs,F?2:_?1:0,!0,a);return _||(te=[te]),Do(this,{type:(F?"Multi":"")+"Polygon",coordinates:te})}}),Xn.include({toMultiPoint:function(a){var _=[];return this.eachLayer(function(F){_.push(F.toGeoJSON(a).geometry.coordinates)}),Do(this,{type:"MultiPoint",coordinates:_})},toGeoJSON:function(a){var _=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===_)return this.toMultiPoint(a);var F="GeometryCollection"===_,te=[];return this.eachLayer(function(_e){if(_e.toGeoJSON){var Je=_e.toGeoJSON(a);if(F)te.push(Je.geometry);else{var kt=fs(Je);"FeatureCollection"===kt.type?te.push.apply(te,kt.features):te.push(kt)}}}),F?Do(this,{geometries:te,type:"GeometryCollection"}):{type:"FeatureCollection",features:te}}});var Ps=ss,os=ui.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,_,F){this._url=a,this._bounds=we(_),re(this,F)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(tt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){di(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Dr(this._image),this},bringToBack:function(){return this._map&&no(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=we(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a="IMG"===this._url.tagName,_=this._image=a?this._url:Ei("img");tt(_,"leaflet-image-layer"),this._zoomAnimated&&tt(_,"leaflet-zoom-animated"),this.options.className&&tt(_,this.options.className),_.onselectstart=q,_.onmousemove=q,_.onload=z(this.fire,this,"load"),_.onerror=z(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(_.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a?this._url=_.src:(_.src=this._url,_.alt=this.options.alt)},_animateZoom:function(a){var _=this._map.getZoomScale(a.zoom),F=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;mn(this._image,F,_)},_reset:function(){var a=this._image,_=new Ae(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),F=_.getSize();sn(a,_.min),a.style.width=F.x+"px",a.style.height=F.y+"px"},_updateOpacity:function(){rt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Rs=os.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a="VIDEO"===this._url.tagName,_=this._image=a?this._url:Ei("video");if(tt(_,"leaflet-image-layer"),this._zoomAnimated&&tt(_,"leaflet-zoom-animated"),this.options.className&&tt(_,this.options.className),_.onselectstart=q,_.onmousemove=q,_.onloadeddata=z(this.fire,this,"load"),a){for(var F=_.getElementsByTagName("source"),te=[],_e=0;_e<F.length;_e++)te.push(F[_e].src);this._url=F.length>0?te:[_.src]}else{fe(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(_.style,"objectFit")&&(_.style.objectFit="fill"),_.autoplay=!!this.options.autoplay,_.loop=!!this.options.loop,_.muted=!!this.options.muted,_.playsInline=!!this.options.playsInline;for(var Je=0;Je<this._url.length;Je++){var kt=Ei("source");kt.src=this._url[Je],_.appendChild(kt)}}}});var ms=os.extend({_initImage:function(){var a=this._image=this._url;tt(a,"leaflet-image-layer"),this._zoomAnimated&&tt(a,"leaflet-zoom-animated"),this.options.className&&tt(a,this.options.className),a.onselectstart=q,a.onmousemove=q}});var ns=ui.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,_){a&&(a instanceof Ve||fe(a))?(this._latlng=Ie(a),re(this,_)):(re(this,a),this._source=_),this.options.content&&(this._content=this.options.content)},openOn:function(a){return(a=arguments.length?a:this._source._map).hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&rt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&rt(this._container,1),this.bringToFront(),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(rt(this._container,0),this._removeTimeout=setTimeout(z(di,void 0,this._container),200)):di(this._container),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ie(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Dr(this._container),this},bringToBack:function(){return this._map&&no(this._container),this},_prepareOpen:function(a){var _=this._source;if(!_._map)return!1;if(_ instanceof oe){_=null;var F=this._source._layers;for(var te in F)if(F[te]._map){_=F[te];break}if(!_)return!1;this._source=_}if(!a)if(_.getCenter)a=_.getCenter();else if(_.getLatLng)a=_.getLatLng();else{if(!_.getBounds)throw new Error("Unable to get source layer LatLng.");a=_.getBounds().getCenter()}return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,_="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof _)a.innerHTML=_;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(_)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),_=xe(this.options.offset),F=this._getAnchor();this._zoomAnimated?sn(this._container,a.add(F)):_=_.add(a).add(F);var te=this._containerBottom=-_.y,_e=this._containerLeft=-Math.round(this._containerWidth/2)+_.x;this._container.style.bottom=te+"px",this._container.style.left=_e+"px"}},_getAnchor:function(){return[0,0]}});wi.include({_initOverlay:function(a,_,F,te){var _e=_;return _e instanceof a||(_e=new a(te).setContent(_)),F&&_e.setLatLng(F),_e}}),ui.include({_initOverlay:function(a,_,F,te){var _e=F;return _e instanceof a?(re(_e,te),_e._source=this):(_e=_&&!te?_:new a(te,this)).setContent(F),_e}});var is=ns.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return!(a=arguments.length?a:this._source._map).hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ns.prototype.openOn.call(this,a)},onAdd:function(a){ns.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ye||this._source.on("preclick",Fn))},onRemove:function(a){ns.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ye||this._source.off("preclick",Fn))},getEvents:function(){var a=ns.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",_=this._container=Ei("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),F=this._wrapper=Ei("div",a+"-content-wrapper",_);if(this._contentNode=Ei("div",a+"-content",F),Vn(_),Tn(this._contentNode),$i(_,"contextmenu",Fn),this._tipContainer=Ei("div",a+"-tip-container",_),this._tip=Ei("div",a+"-tip",this._tipContainer),this.options.closeButton){var te=this._closeButton=Ei("a",a+"-close-button",_);te.setAttribute("role","button"),te.setAttribute("aria-label","Close popup"),te.href="#close",te.innerHTML='<span aria-hidden="true">&#215;</span>',$i(te,"click",function(_e){wn(_e),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,_=a.style;_.width="",_.whiteSpace="nowrap";var F=a.offsetWidth;F=Math.min(F,this.options.maxWidth),F=Math.max(F,this.options.minWidth),_.width=F+1+"px",_.whiteSpace="",_.height="";var _e=this.options.maxHeight,Je="leaflet-popup-scrolled";_e&&a.offsetHeight>_e?(_.height=_e+"px",tt(a,Je)):ht(a,Je),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var _=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),F=this._getAnchor();sn(this._container,_.add(F))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var a=this._map,_=parseInt(Oi(this._container,"marginBottom"),10)||0,F=this._container.offsetHeight+_,te=this._containerWidth,_e=new pe(this._containerLeft,-F-this._containerBottom);_e._add(jn(this._container));var Je=a.layerPointToContainerPoint(_e),kt=xe(this.options.autoPanPadding),ln=xe(this.options.autoPanPaddingTopLeft||kt),_n=xe(this.options.autoPanPaddingBottomRight||kt),Ln=a.getSize(),fi=0,ji=0;Je.x+te+_n.x>Ln.x&&(fi=Je.x+te-Ln.x+_n.x),Je.x-fi-ln.x<0&&(fi=Je.x-ln.x),Je.y+F+_n.y>Ln.y&&(ji=Je.y+F-Ln.y+_n.y),Je.y-ji-ln.y<0&&(ji=Je.y-ln.y),(fi||ji)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([fi,ji]))}},_getAnchor:function(){return xe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});wi.mergeOptions({closePopupOnClick:!0}),wi.include({openPopup:function(a,_,F){return this._initOverlay(is,a,_,F).openOn(this),this},closePopup:function(a){return(a=arguments.length?a:this._popup)&&a.close(),this}}),ui.include({bindPopup:function(a,_){return this._popup=this._initOverlay(is,this._popup,a,_),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof oe||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(this._popup&&this._map){ei(a);var _=a.layer||a.target;if(this._popup._source===_&&!(_ instanceof Ye))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng));this._popup._source=_,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var ws=ns.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ns.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ns.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=ns.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){this._contentNode=this._container=Ei("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+X(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var _,F,te=this._map,_e=this._container,Je=te.latLngToContainerPoint(te.getCenter()),kt=te.layerPointToContainerPoint(a),ln=this.options.direction,_n=_e.offsetWidth,Ln=_e.offsetHeight,fi=xe(this.options.offset),ji=this._getAnchor();"top"===ln?(_=_n/2,F=Ln):"bottom"===ln?(_=_n/2,F=0):"center"===ln?(_=_n/2,F=Ln/2):"right"===ln?(_=0,F=Ln/2):"left"===ln?(_=_n,F=Ln/2):kt.x<Je.x?(ln="right",_=0,F=Ln/2):(ln="left",_=_n+2*(fi.x+ji.x),F=Ln/2),a=a.subtract(xe(_,F,!0)).add(fi).add(ji),ht(_e,"leaflet-tooltip-right"),ht(_e,"leaflet-tooltip-left"),ht(_e,"leaflet-tooltip-top"),ht(_e,"leaflet-tooltip-bottom"),tt(_e,"leaflet-tooltip-"+ln),sn(_e,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&rt(this._container,a)},_animateZoom:function(a){var _=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(_)},_getAnchor:function(){return xe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});wi.include({openTooltip:function(a,_,F){return this._initOverlay(ws,a,_,F).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ui.include({bindTooltip:function(a,_){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ws,this._tooltip,a,_),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(a||!this._tooltipHandlersAdded){var _=a?"off":"on",F={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?F.add=this._openTooltip:(F.mouseover=this._openTooltip,F.mouseout=this.closeTooltip,F.click=this._openTooltip,this._map?this._addFocusListeners():F.add=this._addFocusListeners),this._tooltip.options.sticky&&(F.mousemove=this._moveTooltip),this[_](F),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof oe||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var _="function"==typeof a.getElement&&a.getElement();_&&($i(_,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),$i(_,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var _="function"==typeof a.getElement&&a.getElement();_&&_.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var _=this;return void this._map.once("moveend",function(){_._openOnceFlag=!1,_._openTooltip(a)})}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var F,te,_=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(F=this._map.mouseEventToContainerPoint(a.originalEvent),te=this._map.containerPointToLayerPoint(F),_=this._map.layerPointToLatLng(te)),this._tooltip.setLatLng(_)}});var as=N.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var _=a&&"DIV"===a.tagName?a:document.createElement("div"),F=this.options;if(F.html instanceof Element?(Br(_),_.appendChild(F.html)):_.innerHTML=!1!==F.html?F.html:"",F.bgPos){var te=xe(F.bgPos);_.style.backgroundPosition=-te.x+"px "+-te.y+"px"}return this._setIconStyles(_,"icon"),_},createShadow:function(){return null}});N.Default=I;var Os=ui.extend({options:{tileSize:256,opacity:1,updateWhenIdle:At.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){re(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),di(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Dr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(no(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Z(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pe?a:new pe(a,a)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var Je,_=this.getPane().children,F=-a(-1/0,1/0),te=0,_e=_.length;te<_e;te++)Je=_[te].style.zIndex,_[te]!==this._container&&Je&&(F=a(F,+Je));isFinite(F)&&(this.options.zIndex=F+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!At.ielt9){rt(this._container,this.options.opacity);var a=+new Date,_=!1,F=!1;for(var te in this._tiles){var _e=this._tiles[te];if(_e.current&&_e.loaded){var Je=Math.min(1,(a-_e.loaded)/200);rt(_e.el,Je),Je<1?_=!0:(_e.active?F=!0:this._onOpaqueTile(_e),_e.active=!0)}}F&&!this._noPrune&&this._pruneTiles(),_&&(Ke(this._fadeFrame),this._fadeFrame=Xe(this._updateOpacity,this))}},_onOpaqueTile:q,_initContainer:function(){this._container||(this._container=Ei("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,_=this.options.maxZoom;if(void 0!==a){for(var F in this._levels)F=Number(F),this._levels[F].el.children.length||F===a?(this._levels[F].el.style.zIndex=_-Math.abs(a-F),this._onUpdateLevel(F)):(di(this._levels[F].el),this._removeTilesAtZoom(F),this._onRemoveLevel(F),delete this._levels[F]);var te=this._levels[a],_e=this._map;return te||((te=this._levels[a]={}).el=Ei("div","leaflet-tile-container leaflet-zoom-animated",this._container),te.el.style.zIndex=_,te.origin=_e.project(_e.unproject(_e.getPixelOrigin()),a).round(),te.zoom=a,this._setZoomTransform(te,_e.getCenter(),_e.getZoom()),this._onCreateLevel(te)),this._level=te,te}},_onUpdateLevel:q,_onRemoveLevel:q,_onCreateLevel:q,_pruneTiles:function(){if(this._map){var a,_,F=this._map.getZoom();if(F>this.options.maxZoom||F<this.options.minZoom)return void this._removeAllTiles();for(a in this._tiles)(_=this._tiles[a]).retain=_.current;for(a in this._tiles)if((_=this._tiles[a]).current&&!_.active){var te=_.coords;this._retainParent(te.x,te.y,te.z,te.z-5)||this._retainChildren(te.x,te.y,te.z,te.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var _ in this._tiles)this._tiles[_].coords.z===a&&this._removeTile(_)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)di(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,_,F,te){var _e=Math.floor(a/2),Je=Math.floor(_/2),kt=F-1,ln=new pe(+_e,+Je);ln.z=+kt;var _n=this._tileCoordsToKey(ln),Ln=this._tiles[_n];return Ln&&Ln.active?(Ln.retain=!0,!0):(Ln&&Ln.loaded&&(Ln.retain=!0),kt>te&&this._retainParent(_e,Je,kt,te))},_retainChildren:function(a,_,F,te){for(var _e=2*a;_e<2*a+2;_e++)for(var Je=2*_;Je<2*_+2;Je++){var kt=new pe(_e,Je);kt.z=F+1;var ln=this._tileCoordsToKey(kt),_n=this._tiles[ln];_n&&_n.active?_n.retain=!0:(_n&&_n.loaded&&(_n.retain=!0),F+1<te&&this._retainChildren(_e,Je,F+1,te))}},_resetView:function(a){var _=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),_,_)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var _=this.options;return void 0!==_.minNativeZoom&&a<_.minNativeZoom?_.minNativeZoom:void 0!==_.maxNativeZoom&&_.maxNativeZoom<a?_.maxNativeZoom:a},_setView:function(a,_,F,te){var _e=Math.round(_);_e=void 0!==this.options.maxZoom&&_e>this.options.maxZoom||void 0!==this.options.minZoom&&_e<this.options.minZoom?void 0:this._clampZoom(_e),(!te||this.options.updateWhenZooming&&_e!==this._tileZoom)&&(this._tileZoom=_e,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==_e&&this._update(a),F||this._pruneTiles(),this._noPrune=!!F),this._setZoomTransforms(a,_)},_setZoomTransforms:function(a,_){for(var F in this._levels)this._setZoomTransform(this._levels[F],a,_)},_setZoomTransform:function(a,_,F){var te=this._map.getZoomScale(F,a.zoom),_e=a.origin.multiplyBy(te).subtract(this._map._getNewPixelOrigin(_,F)).round();At.any3d?mn(a.el,_e,te):sn(a.el,_e)},_resetGrid:function(){var a=this._map,_=a.options.crs,F=this._tileSize=this.getTileSize(),te=this._tileZoom,_e=this._map.getPixelWorldBounds(this._tileZoom);_e&&(this._globalTileRange=this._pxBoundsToTileRange(_e)),this._wrapX=_.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,_.wrapLng[0]],te).x/F.x),Math.ceil(a.project([0,_.wrapLng[1]],te).x/F.y)],this._wrapY=_.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([_.wrapLat[0],0],te).y/F.x),Math.ceil(a.project([_.wrapLat[1],0],te).y/F.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var _=this._map,F=_._animatingZoom?Math.max(_._animateToZoom,_.getZoom()):_.getZoom(),te=_.getZoomScale(F,this._tileZoom),_e=_.project(a,this._tileZoom).floor(),Je=_.getSize().divideBy(2*te);return new Ae(_e.subtract(Je),_e.add(Je))},_update:function(a){var _=this._map;if(_){var F=this._clampZoom(_.getZoom());if(void 0===a&&(a=_.getCenter()),void 0!==this._tileZoom){var te=this._getTiledPixelBounds(a),_e=this._pxBoundsToTileRange(te),Je=_e.getCenter(),kt=[],ln=this.options.keepBuffer,_n=new Ae(_e.getBottomLeft().subtract([ln,-ln]),_e.getTopRight().add([ln,-ln]));if(!(isFinite(_e.min.x)&&isFinite(_e.min.y)&&isFinite(_e.max.x)&&isFinite(_e.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ln in this._tiles){var fi=this._tiles[Ln].coords;(fi.z!==this._tileZoom||!_n.contains(new pe(fi.x,fi.y)))&&(this._tiles[Ln].current=!1)}if(Math.abs(F-this._tileZoom)>1)return void this._setView(a,F);for(var ji=_e.min.y;ji<=_e.max.y;ji++)for(var ur=_e.min.x;ur<=_e.max.x;ur++){var ci=new pe(ur,ji);if(ci.z=this._tileZoom,this._isValidTile(ci)){var bi=this._tiles[this._tileCoordsToKey(ci)];bi?bi.current=!0:kt.push(ci)}}if(kt.sort(function(Ui,mo){return Ui.distanceTo(Je)-mo.distanceTo(Je)}),0!==kt.length){this._loading||(this._loading=!0,this.fire("loading"));var Fi=document.createDocumentFragment();for(ur=0;ur<kt.length;ur++)this._addTile(kt[ur],Fi);this._level.el.appendChild(Fi)}}}},_isValidTile:function(a){var _=this._map.options.crs;if(!_.infinite){var F=this._globalTileRange;if(!_.wrapLng&&(a.x<F.min.x||a.x>F.max.x)||!_.wrapLat&&(a.y<F.min.y||a.y>F.max.y))return!1}if(!this.options.bounds)return!0;var te=this._tileCoordsToBounds(a);return we(this.options.bounds).overlaps(te)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var _=this._map,F=this.getTileSize(),te=a.scaleBy(F),_e=te.add(F);return[_.unproject(te,a.z),_.unproject(_e,a.z)]},_tileCoordsToBounds:function(a){var _=this._tileCoordsToNwSe(a),F=new Ne(_[0],_[1]);return this.options.noWrap||(F=this._map.wrapLatLngBounds(F)),F},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var _=a.split(":"),F=new pe(+_[0],+_[1]);return F.z=+_[2],F},_removeTile:function(a){var _=this._tiles[a];_&&(di(_.el),delete this._tiles[a],this.fire("tileunload",{tile:_.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){tt(a,"leaflet-tile");var _=this.getTileSize();a.style.width=_.x+"px",a.style.height=_.y+"px",a.onselectstart=q,a.onmousemove=q,At.ielt9&&this.options.opacity<1&&rt(a,this.options.opacity)},_addTile:function(a,_){var F=this._getTilePos(a),te=this._tileCoordsToKey(a),_e=this.createTile(this._wrapCoords(a),z(this._tileReady,this,a));this._initTile(_e),this.createTile.length<2&&Xe(z(this._tileReady,this,a,null,_e)),sn(_e,F),this._tiles[te]={el:_e,coords:a,current:!0},_.appendChild(_e),this.fire("tileloadstart",{tile:_e,coords:a})},_tileReady:function(a,_,F){_&&this.fire("tileerror",{error:_,tile:F,coords:a});var te=this._tileCoordsToKey(a);(F=this._tiles[te])&&(F.loaded=+new Date,this._map._fadeAnimated?(rt(F.el,0),Ke(this._fadeFrame),this._fadeFrame=Xe(this._updateOpacity,this)):(F.active=!0,this._pruneTiles()),_||(tt(F.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:F.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),At.ielt9||!this._map._fadeAnimated?Xe(this._pruneTiles,this):setTimeout(z(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var _=new pe(this._wrapX?Y(a.x,this._wrapX):a.x,this._wrapY?Y(a.y,this._wrapY):a.y);return _.z=a.z,_},_pxBoundsToTileRange:function(a){var _=this.getTileSize();return new Ae(a.min.unscaleBy(_).floor(),a.max.unscaleBy(_).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});var ls=Os.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,_){this._url=a,(_=re(this,_)).detectRetina&&At.retina&&_.maxZoom>0?(_.tileSize=Math.floor(_.tileSize/2),_.zoomReverse?(_.zoomOffset--,_.minZoom=Math.min(_.maxZoom,_.minZoom+1)):(_.zoomOffset++,_.maxZoom=Math.max(_.minZoom,_.maxZoom-1)),_.minZoom=Math.max(0,_.minZoom)):_.zoomReverse?_.minZoom=Math.min(_.maxZoom,_.minZoom):_.maxZoom=Math.max(_.minZoom,_.maxZoom),"string"==typeof _.subdomains&&(_.subdomains=_.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,_){return this._url===a&&void 0===_&&(_=!0),this._url=a,_||this.redraw(),this},createTile:function(a,_){var F=document.createElement("img");return $i(F,"load",z(this._tileOnLoad,this,_,F)),$i(F,"error",z(this._tileOnError,this,_,F)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(F.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(F.referrerPolicy=this.options.referrerPolicy),F.alt="",F.src=this.getTileUrl(a),F},getTileUrl:function(a){var _={r:At.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var F=this._globalTileRange.max.y-a.y;this.options.tms&&(_.y=F),_["-y"]=F}return Ce(this._url,y(_,this.options))},_tileOnLoad:function(a,_){At.ielt9?setTimeout(z(a,this,null,_),0):a(null,_)},_tileOnError:function(a,_,F){var te=this.options.errorTileUrl;te&&_.getAttribute("src")!==te&&(_.src=te),a(F,_)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom;return this.options.zoomReverse&&(a=this.options.maxZoom-a),a+this.options.zoomOffset},_getSubdomain:function(a){var _=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[_]},_abortLoading:function(){var a,_;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&((_=this._tiles[a].el).onload=q,_.onerror=q,!_.complete)){_.src=De;var F=this._tiles[a].coords;di(_),delete this._tiles[a],this.fire("tileabort",{tile:_,coords:F})}},_removeTile:function(a){var _=this._tiles[a];if(_)return _.el.setAttribute("src",De),Os.prototype._removeTile.call(this,a)},_tileReady:function(a,_,F){if(this._map&&(!F||F.getAttribute("src")!==De))return Os.prototype._tileReady.call(this,a,_,F)}});function Mo(a,_){return new ls(a,_)}var js=ls.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,_){this._url=a;var F=y({},this.defaultWmsParams);for(var te in _)te in this.options||(F[te]=_[te]);var _e=(_=re(this,_)).detectRetina&&At.retina?2:1,Je=this.getTileSize();F.width=Je.x*_e,F.height=Je.y*_e,this.wmsParams=F},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,ls.prototype.onAdd.call(this,a)},getTileUrl:function(a){var _=this._tileCoordsToNwSe(a),F=this._crs,te=Te(F.project(_[0]),F.project(_[1])),_e=te.min,Je=te.max,kt=(this._wmsVersion>=1.3&&this._crs===Rn?[_e.y,_e.x,Je.y,Je.x]:[_e.x,_e.y,Je.x,Je.y]).join(","),ln=ls.prototype.getTileUrl.call(this,a);return ln+le(this.wmsParams,ln,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+kt},setParams:function(a,_){return y(this.wmsParams,a),_||this.redraw(),this}});ls.WMS=js,Mo.wms=function ie(a,_){return new js(a,_)};var B=ui.extend({options:{padding:.1},initialize:function(a){re(this,a),X(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),tt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,_){var F=this._map.getZoomScale(_,this._zoom),te=this._map.getSize().multiplyBy(.5+this.options.padding),_e=this._map.project(this._center,_),Je=te.multiplyBy(-F).add(_e).subtract(this._map._getNewPixelOrigin(a,_));At.any3d?mn(this._container,Je,F):sn(this._container,Je)},_reset:function(){for(var a in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,_=this._map.getSize(),F=this._map.containerPointToLayerPoint(_.multiplyBy(-a)).round();this._bounds=new Ae(F,F.add(_.multiplyBy(1+2*a)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),v=B.extend({options:{tolerance:0},getEvents:function(){var a=B.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){B.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");$i(a,"mousemove",this._onMouseMove,this),$i(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$i(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Ke(this._redrawRequest),delete this._ctx,di(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var _ in this._redrawBounds=null,this._layers)this._layers[_]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){B.prototype._update.call(this);var a=this._bounds,_=this._container,F=a.getSize(),te=At.retina?2:1;sn(_,a.min),_.width=te*F.x,_.height=te*F.y,_.style.width=F.x+"px",_.style.height=F.y+"px",At.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){B.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[X(a)]=a;var _=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=_),this._drawLast=_,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var _=a._order,F=_.next,te=_.prev;F?F.prev=te:this._drawLast=te,te?te.next=F:this._drawFirst=F,delete a._order,delete this._layers[X(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if("string"==typeof a.options.dashArray){var te,_e,_=a.options.dashArray.split(/[, ]+/),F=[];for(_e=0;_e<_.length;_e++){if(te=Number(_[_e]),isNaN(te))return;F.push(te)}a.options._dashArray=F}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Xe(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var _=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ae,this._redrawBounds.extend(a._pxBounds.min.subtract([_,_])),this._redrawBounds.extend(a._pxBounds.max.add([_,_]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var _=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,_.x,_.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,_=this._redrawBounds;if(this._ctx.save(),_){var F=_.getSize();this._ctx.beginPath(),this._ctx.rect(_.min.x,_.min.y,F.x,F.y),this._ctx.clip()}this._drawing=!0;for(var te=this._drawFirst;te;te=te.next)a=te.layer,(!_||a._pxBounds&&a._pxBounds.intersects(_))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,_){if(this._drawing){var F,te,_e,Je,kt=a._parts,ln=kt.length,_n=this._ctx;if(ln){for(_n.beginPath(),F=0;F<ln;F++){for(te=0,_e=kt[F].length;te<_e;te++)_n[te?"lineTo":"moveTo"]((Je=kt[F][te]).x,Je.y);_&&_n.closePath()}this._fillStroke(_n,a)}}},_updateCircle:function(a){if(this._drawing&&!a._empty()){var _=a._point,F=this._ctx,te=Math.max(Math.round(a._radius),1),_e=(Math.max(Math.round(a._radiusY),1)||te)/te;1!==_e&&(F.save(),F.scale(1,_e)),F.beginPath(),F.arc(_.x,_.y/_e,te,0,2*Math.PI,!1),1!==_e&&F.restore(),this._fillStroke(F,a)}},_fillStroke:function(a,_){var F=_.options;F.fill&&(a.globalAlpha=F.fillOpacity,a.fillStyle=F.fillColor||F.color,a.fill(F.fillRule||"evenodd")),F.stroke&&0!==F.weight&&(a.setLineDash&&a.setLineDash(_.options&&_.options._dashArray||[]),a.globalAlpha=F.opacity,a.lineWidth=F.weight,a.strokeStyle=F.color,a.lineCap=F.lineCap,a.lineJoin=F.lineJoin,a.stroke())},_onClick:function(a){for(var F,te,_=this._map.mouseEventToLayerPoint(a),_e=this._drawFirst;_e;_e=_e.next)(F=_e.layer).options.interactive&&F._containsPoint(_)&&("click"!==a.type&&"preclick"!==a.type||!this._map._draggableMoved(F))&&(te=F);this._fireEvent(!!te&&[te],a)},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var _=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,_)}},_handleMouseOut:function(a){var _=this._hoveredLayer;_&&(ht(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,_){if(!this._mouseHoverThrottled){for(var F,te,_e=this._drawFirst;_e;_e=_e.next)(F=_e.layer).options.interactive&&F._containsPoint(_)&&(te=F);te!==this._hoveredLayer&&(this._handleMouseOut(a),te&&(tt(this._container,"leaflet-interactive"),this._fireEvent([te],a,"mouseover"),this._hoveredLayer=te)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],a),this._mouseHoverThrottled=!0,setTimeout(z(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,_,F){this._map._fireDOMEvent(_,F||_.type,a)},_bringToFront:function(a){var _=a._order;if(_){var F=_.next,te=_.prev;if(!F)return;F.prev=te,te?te.next=F:F&&(this._drawFirst=F),_.prev=this._drawLast,this._drawLast.next=_,_.next=null,this._drawLast=_,this._requestRedraw(a)}},_bringToBack:function(a){var _=a._order;if(_){var F=_.next,te=_.prev;if(!te)return;te.next=F,F?F.prev=te:te&&(this._drawLast=te),_.prev=null,_.next=this._drawFirst,this._drawFirst.prev=_,this._drawFirst=_,this._requestRedraw(a)}}});function P(a){return At.canvas?new v(a):null}var W=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch(a){}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),me={_initContainer:function(){this._container=Ei("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(B.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var _=a._container=W("shape");tt(_,"leaflet-vml-shape "+(this.options.className||"")),_.coordsize="1 1",a._path=W("path"),_.appendChild(a._path),this._updateStyle(a),this._layers[X(a)]=a},_addPath:function(a){var _=a._container;this._container.appendChild(_),a.options.interactive&&a.addInteractiveTarget(_)},_removePath:function(a){var _=a._container;di(_),a.removeInteractiveTarget(_),delete this._layers[X(a)]},_updateStyle:function(a){var _=a._stroke,F=a._fill,te=a.options,_e=a._container;_e.stroked=!!te.stroke,_e.filled=!!te.fill,te.stroke?(_||(_=a._stroke=W("stroke")),_e.appendChild(_),_.weight=te.weight+"px",_.color=te.color,_.opacity=te.opacity,_.dashStyle=te.dashArray?fe(te.dashArray)?te.dashArray.join(" "):te.dashArray.replace(/( *, *)/g," "):"",_.endcap=te.lineCap.replace("butt","flat"),_.joinstyle=te.lineJoin):_&&(_e.removeChild(_),a._stroke=null),te.fill?(F||(F=a._fill=W("fill")),_e.appendChild(F),F.color=te.fillColor||te.color,F.opacity=te.fillOpacity):F&&(_e.removeChild(F),a._fill=null)},_updateCircle:function(a){var _=a._point.round(),F=Math.round(a._radius),te=Math.round(a._radiusY||F);this._setPath(a,a._empty()?"M0 0":"AL "+_.x+","+_.y+" "+F+","+te+" 0,23592600")},_setPath:function(a,_){a._path.v=_},_bringToFront:function(a){Dr(a._container)},_bringToBack:function(a){no(a._container)}},Fe=At.vml?W:st,ft=B.extend({_initContainer:function(){this._container=Fe("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fe("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){di(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){B.prototype._update.call(this);var a=this._bounds,_=a.getSize(),F=this._container;(!this._svgSize||!this._svgSize.equals(_))&&(this._svgSize=_,F.setAttribute("width",_.x),F.setAttribute("height",_.y)),sn(F,a.min),F.setAttribute("viewBox",[a.min.x,a.min.y,_.x,_.y].join(" ")),this.fire("update")}},_initPath:function(a){var _=a._path=Fe("path");a.options.className&&tt(_,a.options.className),a.options.interactive&&tt(_,"leaflet-interactive"),this._updateStyle(a),this._layers[X(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){di(a._path),a.removeInteractiveTarget(a._path),delete this._layers[X(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var _=a._path,F=a.options;_&&(F.stroke?(_.setAttribute("stroke",F.color),_.setAttribute("stroke-opacity",F.opacity),_.setAttribute("stroke-width",F.weight),_.setAttribute("stroke-linecap",F.lineCap),_.setAttribute("stroke-linejoin",F.lineJoin),F.dashArray?_.setAttribute("stroke-dasharray",F.dashArray):_.removeAttribute("stroke-dasharray"),F.dashOffset?_.setAttribute("stroke-dashoffset",F.dashOffset):_.removeAttribute("stroke-dashoffset")):_.setAttribute("stroke","none"),F.fill?(_.setAttribute("fill",F.fillColor||F.color),_.setAttribute("fill-opacity",F.fillOpacity),_.setAttribute("fill-rule",F.fillRule||"evenodd")):_.setAttribute("fill","none"))},_updatePoly:function(a,_){this._setPath(a,nn(a._parts,_))},_updateCircle:function(a){var _=a._point,F=Math.max(Math.round(a._radius),1),_e="a"+F+","+(Math.max(Math.round(a._radiusY),1)||F)+" 0 1,0 ",Je=a._empty()?"M0 0":"M"+(_.x-F)+","+_.y+_e+2*F+",0 "+_e+2*-F+",0 ";this._setPath(a,Je)},_setPath:function(a,_){a._path.setAttribute("d",_)},_bringToFront:function(a){Dr(a._path)},_bringToBack:function(a){no(a._path)}});function Tt(a){return At.svg||At.vml?new ft(a):null}At.vml&&ft.include(me),wi.include({getRenderer:function(a){var _=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return _||(_=this._renderer=this._createRenderer()),this.hasLayer(_)||this.addLayer(_),_},_getPaneRenderer:function(a){if("overlayPane"===a||void 0===a)return!1;var _=this._paneRenderers[a];return void 0===_&&(_=this._createRenderer({pane:a}),this._paneRenderers[a]=_),_},_createRenderer:function(a){return this.options.preferCanvas&&P(a)||Tt(a)}});var Jt=pi.extend({initialize:function(a,_){pi.prototype.initialize.call(this,this._boundsToLatLngs(a),_)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return[(a=we(a)).getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});ft.create=Fe,ft.pointsToPath=nn,li.geometryToLayer=Co,li.coordsToLatLng=Er,li.coordsToLatLngs=_o,li.latLngToCoords=es,li.latLngsToCoords=Fo,li.getFeature=Do,li.asFeature=fs,wi.mergeOptions({boxZoom:!0});var Dn=yo.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){$i(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){di(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState(),this._resetState(),oi(),fo(),this._startPoint=this._map.mouseEventToContainerPoint(a),$i(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Ei("div","leaflet-zoom-box",this._container),tt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var _=new Ae(this._point,this._startPoint),F=_.getSize();sn(this._box,_.min),this._box.style.width=F.x+"px",this._box.style.height=F.y+"px"},_finish:function(){this._moved&&(di(this._box),ht(this._container,"leaflet-crosshair")),An(),Mi(),ot(document,{contextmenu:ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if((1===a.which||1===a.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(z(this._resetState,this),0);var _=new Ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(_).fire("boxzoomend",{boxZoomBounds:_})}},_onKeyDown:function(a){27===a.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});wi.addInitHook("addHandler","boxZoom",Dn),wi.mergeOptions({doubleClickZoom:!0});var Jn=yo.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var _=this._map,F=_.getZoom(),te=_.options.zoomDelta,_e=a.originalEvent.shiftKey?F-te:F+te;"center"===_.options.doubleClickZoom?_.setZoom(_e):_.setZoomAround(a.containerPoint,_e)}});wi.addInitHook("addHandler","doubleClickZoom",Jn),wi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Si=yo.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Hr(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}tt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ht(this._map._container,"leaflet-grab"),ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var _=we(this._map.options.maxBounds);this._offsetLimit=Te(this._map.latLngToContainerPoint(_.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(_.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var _=this._lastTime=+new Date,F=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(F),this._times.push(_),this._prunePositions(_)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),_=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=_.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,_){return a-(a-_)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),_=this._offsetLimit;a.x<_.min.x&&(a.x=this._viscousLimit(a.x,_.min.x)),a.y<_.min.y&&(a.y=this._viscousLimit(a.y,_.min.y)),a.x>_.max.x&&(a.x=this._viscousLimit(a.x,_.max.x)),a.y>_.max.y&&(a.y=this._viscousLimit(a.y,_.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,_=Math.round(a/2),F=this._initialWorldOffset,te=this._draggable._newPos.x,_e=(te-_+F)%a+_-F,Je=(te+_+F)%a-_-F,kt=Math.abs(_e+F)<Math.abs(Je+F)?_e:Je;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=kt},_onDragEnd:function(a){var _=this._map,F=_.options,te=!F.inertia||a.noInertia||this._times.length<2;if(_.fire("dragend",a),te)_.fire("moveend");else{this._prunePositions(+new Date);var _e=this._lastPos.subtract(this._positions[0]),kt=F.easeLinearity,ln=_e.multiplyBy(kt/((this._lastTime-this._times[0])/1e3)),_n=ln.distanceTo([0,0]),Ln=Math.min(F.inertiaMaxSpeed,_n),fi=ln.multiplyBy(Ln/_n),ji=Ln/(F.inertiaDeceleration*kt),ur=fi.multiplyBy(-ji/2).round();ur.x||ur.y?(ur=_._limitOffset(ur,_.options.maxBounds),Xe(function(){_.panBy(ur,{duration:ji,easeLinearity:kt,noMoveStart:!0,animate:!0})})):_.fire("moveend")}}});wi.addInitHook("addHandler","dragging",Si),wi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hi=yo.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),$i(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,_=document.documentElement,F=a.scrollTop||_.scrollTop,te=a.scrollLeft||_.scrollLeft;this._map._container.focus(),window.scrollTo(te,F)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var te,_e,_=this._panKeys={},F=this.keyCodes;for(te=0,_e=F.left.length;te<_e;te++)_[F.left[te]]=[-1*a,0];for(te=0,_e=F.right.length;te<_e;te++)_[F.right[te]]=[a,0];for(te=0,_e=F.down.length;te<_e;te++)_[F.down[te]]=[0,a];for(te=0,_e=F.up.length;te<_e;te++)_[F.up[te]]=[0,-1*a]},_setZoomDelta:function(a){var te,_e,_=this._zoomKeys={},F=this.keyCodes;for(te=0,_e=F.zoomIn.length;te<_e;te++)_[F.zoomIn[te]]=a;for(te=0,_e=F.zoomOut.length;te<_e;te++)_[F.zoomOut[te]]=-a},_addHooks:function(){$i(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var te,_=a.keyCode,F=this._map;if(_ in this._panKeys){if(!F._panAnim||!F._panAnim._inProgress)if(te=this._panKeys[_],a.shiftKey&&(te=xe(te).multiplyBy(3)),F.options.maxBounds&&(te=F._limitOffset(xe(te),F.options.maxBounds)),F.options.worldCopyJump){var _e=F.wrapLatLng(F.unproject(F.project(F.getCenter()).add(te)));F.panTo(_e)}else F.panBy(te)}else if(_ in this._zoomKeys)F.setZoom(F.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[_]);else{if(27!==_||!F._popup||!F._popup.options.closeOnEscapeKey)return;F.closePopup()}ei(a)}}});wi.addInitHook("addHandler","keyboard",Hi),wi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ri=yo.extend({addHooks:function(){$i(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var _=Tr(a),F=this._map.options.wheelDebounceTime;this._delta+=_,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var te=Math.max(F-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(z(this._performZoom,this),te),ei(a)},_performZoom:function(){var a=this._map,_=a.getZoom(),F=this._map.options.zoomSnap||0;a._stop();var _e=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,Je=F?Math.ceil(_e/F)*F:_e,kt=a._limitZoom(_+(this._delta>0?Je:-Je))-_;this._delta=0,this._startTime=null,kt&&("center"===a.options.scrollWheelZoom?a.setZoom(_+kt):a.setZoomAround(this._lastMousePos,_+kt))}});wi.addInitHook("addHandler","scrollWheelZoom",Ri);wi.mergeOptions({tapHold:At.touchNative&&At.safari&&At.mobile,tapTolerance:15});var Sr=yo.extend({addHooks:function(){$i(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),1===a.touches.length){var _=a.touches[0];this._startPos=this._newPos=new pe(_.clientX,_.clientY),this._holdTimeout=setTimeout(z(function(){this._cancel(),this._isTapValid()&&($i(document,"touchend",wn),$i(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",_))},this),600),$i(document,"touchend touchcancel contextmenu",this._cancel,this),$i(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ot(document,"touchend",wn),ot(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(a){var _=a.touches[0];this._newPos=new pe(_.clientX,_.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,_){var F=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY});F._simulated=!0,_.target.dispatchEvent(F)}});wi.addInitHook("addHandler","tapHold",Sr),wi.mergeOptions({touchZoom:At.touch,bounceAtZoomLimits:!0});var Lr=yo.extend({addHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),$i(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var _=this._map;if(a.touches&&2===a.touches.length&&!_._animatingZoom&&!this._zooming){var F=_.mouseEventToContainerPoint(a.touches[0]),te=_.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=_.getSize()._divideBy(2),this._startLatLng=_.containerPointToLatLng(this._centerPoint),"center"!==_.options.touchZoom&&(this._pinchStartLatLng=_.containerPointToLatLng(F.add(te)._divideBy(2))),this._startDist=F.distanceTo(te),this._startZoom=_.getZoom(),this._moved=!1,this._zooming=!0,_._stop(),$i(document,"touchmove",this._onTouchMove,this),$i(document,"touchend touchcancel",this._onTouchEnd,this),wn(a)}},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var _=this._map,F=_.mouseEventToContainerPoint(a.touches[0]),te=_.mouseEventToContainerPoint(a.touches[1]),_e=F.distanceTo(te)/this._startDist;if(this._zoom=_.getScaleZoom(_e,this._startZoom),!_.options.bounceAtZoomLimits&&(this._zoom<_.getMinZoom()&&_e<1||this._zoom>_.getMaxZoom()&&_e>1)&&(this._zoom=_._limitZoom(this._zoom)),"center"===_.options.touchZoom){if(this._center=this._startLatLng,1===_e)return}else{var Je=F._add(te)._divideBy(2)._subtract(this._centerPoint);if(1===_e&&0===Je.x&&0===Je.y)return;this._center=_.unproject(_.project(this._pinchStartLatLng,this._zoom).subtract(Je),this._zoom)}this._moved||(_._moveStart(!0,!1),this._moved=!0),Ke(this._animRequest);var kt=z(_._move,_,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Xe(kt,this,!0),wn(a)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Ke(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});wi.addInitHook("addHandler","touchZoom",Lr),wi.BoxZoom=Dn,wi.DoubleClickZoom=Jn,wi.Drag=Si,wi.Keyboard=Hi,wi.ScrollWheelZoom=Ri,wi.TapHold=Sr,wi.TouchZoom=Lr,R.Bounds=Ae,R.Browser=At,R.CRS=Le,R.Canvas=v,R.Circle=qt,R.CircleMarker=Ot,R.Class=ut,R.Control=zn,R.DivIcon=as,R.DivOverlay=ns,R.DomEvent=sr,R.DomUtil=jr,R.Draggable=Hr,R.Evented=ge,R.FeatureGroup=oe,R.GeoJSON=li,R.GridLayer=Os,R.Handler=yo,R.Icon=N,R.ImageOverlay=os,R.LatLng=Ve,R.LatLngBounds=Ne,R.Layer=ui,R.LayerGroup=Xn,R.LineUtil=Et,R.Map=wi,R.Marker=H,R.Mixin=Vr,R.Path=Ye,R.Point=pe,R.PolyUtil=$o,R.Polygon=pi,R.Polyline=hi,R.Popup=is,R.PosAnimation=xr,R.Projection=rn,R.Rectangle=Jt,R.Renderer=B,R.SVG=ft,R.SVGOverlay=ms,R.TileLayer=ls,R.Tooltip=ws,R.Transformation=un,R.Util=Qe,R.VideoOverlay=Rs,R.bind=z,R.bounds=Te,R.canvas=P,R.circle=function $n(a,_,F){return new qt(a,_,F)},R.circleMarker=function Bt(a,_){return new Ot(a,_)},R.control=Bi,R.divIcon=function As(a){return new as(a)},R.extend=y,R.featureGroup=function(a,_){return new oe(a,_)},R.geoJSON=ss,R.geoJson=Ps,R.gridLayer=function Ko(a){return new Os(a)},R.icon=function h(a){return new N(a)},R.imageOverlay=function(a,_,F){return new os(a,_,F)},R.latLng=Ie,R.latLngBounds=we,R.layerGroup=function(a,_){return new Xn(a,_)},R.map=function br(a,_){return new wi(a,_)},R.marker=function Q(a,_){return new H(a,_)},R.point=xe,R.polygon=function rr(a,_){return new pi(a,_)},R.polyline=function Ci(a,_){return new hi(a,_)},R.popup=function(a,_){return new is(a,_)},R.rectangle=function pn(a,_){return new Jt(a,_)},R.setOptions=re,R.stamp=X,R.svg=Tt,R.svgOverlay=function Ls(a,_,F){return new ms(a,_,F)},R.tileLayer=Mo,R.tooltip=function(a,_){return new ws(a,_)},R.transformation=En,R.version="1.9.4",R.videoOverlay=function Is(a,_,F){return new Rs(a,_,F)};var Io=window.L;R.noConflict=function(){return window.L=Io,this},window.L=R}(U)},936:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});var R=function(){function J(X,Z){for(var Y=0;Y<Z.length;Y++){var q=Z[Y];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(X,q.key,q)}}return function(X,Z,Y){return Z&&J(X.prototype,Z),Y&&J(X,Y),X}}();function o(J,X){if(!(J instanceof X))throw new TypeError("Cannot call a class as a function")}var y=function(){function J(X,Z,Y){void 0===Z&&(Z=!1),o(this,J),this._fn=X,this._once=Z,this._thisArg=Y,this._next=this._prev=this._owner=null}return R(J,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),J}();function K(J,X){return J._head?(J._tail._next=X,X._prev=J._tail,J._tail=X):(J._head=X,J._tail=X),X._owner=J,X}var z=function(){function J(){o(this,J),this._head=this._tail=void 0}return R(J,[{key:"handlers",value:function(){var Y=this._head;if(!(arguments.length<=0||void 0===arguments[0])&&arguments[0])return!!Y;for(var q=[];Y;)q.push(Y),Y=Y._next;return q}},{key:"has",value:function(Z){if(!(Z instanceof y))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return Z._owner===this}},{key:"dispatch",value:function(){var Z=this._head;if(!Z)return!1;for(;Z;)Z._once&&this.detach(Z),Z._fn.apply(Z._thisArg,arguments),Z=Z._next;return!0}},{key:"add",value:function(Z){var Y=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof Z)throw new Error("MiniSignal#add(): First arg must be a Function.");return K(this,new y(Z,!1,Y))}},{key:"once",value:function(Z){var Y=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof Z)throw new Error("MiniSignal#once(): First arg must be a Function.");return K(this,new y(Z,!0,Y))}},{key:"detach",value:function(Z){if(!(Z instanceof y))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return Z._owner!==this||(Z._prev&&(Z._prev._next=Z._next),Z._next&&(Z._next._prev=Z._prev),Z===this._head?(this._head=Z._next,null===Z._next&&(this._tail=null)):Z===this._tail&&(this._tail=Z._prev,this._tail._next=null),Z._owner=null),this}},{key:"detachAll",value:function(){var Z=this._head;if(!Z)return this;for(this._head=this._tail=null;Z;)Z._owner=null,Z=Z._next;return this}}]),J}();z.MiniSignalBinding=y,U.default=z,yt.exports=U.default},5943:yt=>{"use strict";var U=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;yt.exports=function K(){try{if(!Object.assign)return!1;var z=new String("abc");if(z[5]="de","5"===Object.getOwnPropertyNames(z)[0])return!1;for(var J={},X=0;X<10;X++)J["_"+String.fromCharCode(X)]=X;if("0123456789"!==Object.getOwnPropertyNames(J).map(function(q){return J[q]}).join(""))return!1;var Y={};return"abcdefghijklmnopqrst".split("").forEach(function(q){Y[q]=q}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},Y)).join("")}catch(q){return!1}}()?Object.assign:function(z,J){for(var X,Y,Z=function y(z){if(null==z)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(z)}(z),q=1;q<arguments.length;q++){for(var ce in X=Object(arguments[q]))R.call(X,ce)&&(Z[ce]=X[ce]);if(U){Y=U(X);for(var ae=0;ae<Y.length;ae++)o.call(X,Y[ae])&&(Z[Y[ae]]=X[Y[ae]])}}return Z}},7024:(yt,U,R)=>{var o="function"==typeof Map&&Map.prototype,y=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,K=o&&y&&"function"==typeof y.get?y.get:null,z=o&&Map.prototype.forEach,J="function"==typeof Set&&Set.prototype,X=Object.getOwnPropertyDescriptor&&J?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Z=J&&X&&"function"==typeof X.get?X.get:null,Y=J&&Set.prototype.forEach,ce="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,se="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,le="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ke=Boolean.prototype.valueOf,Ce=Object.prototype.toString,fe=Function.prototype.toString,ve=String.prototype.match,De=String.prototype.slice,Be=String.prototype.replace,qe=String.prototype.toUpperCase,Oe=String.prototype.toLowerCase,mt=RegExp.prototype.test,Me=Array.prototype.concat,Xe=Array.prototype.join,Ke=Array.prototype.slice,Qe=Math.floor,ut="function"==typeof BigInt?BigInt.prototype.valueOf:null,ze=Object.getOwnPropertySymbols,Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ge="function"==typeof Symbol&&"object"==typeof Symbol.iterator,pe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Se=Object.prototype.propertyIsEnumerable,xe=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Lt){return Lt.__proto__}:null);function Ae(Lt,at){if(Lt===1/0||Lt===-1/0||Lt!=Lt||Lt&&Lt>-1e3&&Lt<1e3||mt.call(/e/,at))return at;var qn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Lt){var Nn=Lt<0?-Qe(-Lt):Qe(Lt);if(Nn!==Lt){var Ti=String(Nn),Qn=De.call(at,Ti.length+1);return Be.call(Ti,qn,"$&_")+"."+Be.call(Be.call(Qn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Be.call(at,qn,"$&_")}var Te=R(4654),Ne=Te.custom,we=Ct(Ne)?Ne:null;function Ve(Lt,at,qn){var Nn="double"===(qn.quoteStyle||at)?'"':"'";return Nn+Lt+Nn}function Ie(Lt){return Be.call(String(Lt),/"/g,"&quot;")}function Le(Lt){return!("[object Array]"!==vn(Lt)||pe&&"object"==typeof Lt&&pe in Lt)}function bt(Lt){return!("[object RegExp]"!==vn(Lt)||pe&&"object"==typeof Lt&&pe in Lt)}function Ct(Lt){if(ge)return Lt&&"object"==typeof Lt&&Lt instanceof Symbol;if("symbol"==typeof Lt)return!0;if(!Lt||"object"!=typeof Lt||!Ze)return!1;try{return Ze.call(Lt),!0}catch(at){}return!1}yt.exports=function Lt(at,qn,Nn,Ti){var Qn=qn||{};if($t(Qn,"quoteStyle")&&"single"!==Qn.quoteStyle&&"double"!==Qn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if($t(Qn,"maxStringLength")&&("number"==typeof Qn.maxStringLength?Qn.maxStringLength<0&&Qn.maxStringLength!==1/0:null!==Qn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var dr=!$t(Qn,"customInspect")||Qn.customInspect;if("boolean"!=typeof dr&&"symbol"!==dr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($t(Qn,"indent")&&null!==Qn.indent&&"\t"!==Qn.indent&&!(parseInt(Qn.indent,10)===Qn.indent&&Qn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($t(Qn,"numericSeparator")&&"boolean"!=typeof Qn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Zi=Qn.numericSeparator;if(typeof at>"u")return"undefined";if(null===at)return"null";if("boolean"==typeof at)return at?"true":"false";if("string"==typeof at)return Fr(at,Qn);if("number"==typeof at){if(0===at)return 1/0/at>0?"0":"-0";var Zt=String(at);return Zi?Ae(at,Zt):Zt}if("bigint"==typeof at){var _t=String(at)+"n";return Zi?Ae(at,_t):_t}var Ut=typeof Qn.depth>"u"?5:Qn.depth;if(typeof Nn>"u"&&(Nn=0),Nn>=Ut&&Ut>0&&"object"==typeof at)return Le(at)?"[Array]":"[Object]";var gn=function nt(Lt,at){var qn;if("\t"===Lt.indent)qn="\t";else{if(!("number"==typeof Lt.indent&&Lt.indent>0))return null;qn=Xe.call(Array(Lt.indent+1)," ")}return{base:qn,prev:Xe.call(Array(at+1),qn)}}(Qn,Nn);if(typeof Ti>"u")Ti=[];else if(bn(Ti,at)>=0)return"[Circular]";function yn(zi,Gi,Rr){if(Gi&&(Ti=Ke.call(Ti)).push(Gi),Rr){var Nr={depth:Qn.depth};return $t(Qn,"quoteStyle")&&(Nr.quoteStyle=Qn.quoteStyle),Lt(zi,Nr,Nn+1,Ti)}return Lt(zi,Qn,Nn+1,Ti)}if("function"==typeof at&&!bt(at)){var jt=function Cn(Lt){if(Lt.name)return Lt.name;var at=ve.call(fe.call(Lt),/^function\s*([\w$]+)/);return at?at[1]:null}(at),Yn=en(at,yn);return"[Function"+(jt?": "+jt:" (anonymous)")+"]"+(Yn.length>0?" { "+Xe.call(Yn,", ")+" }":"")}if(Ct(at)){var ai=ge?Be.call(String(at),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ze.call(at);return"object"!=typeof at||ge?ai:Sn(ai)}if(function ir(Lt){return!(!Lt||"object"!=typeof Lt)&&(typeof HTMLElement<"u"&&Lt instanceof HTMLElement||"string"==typeof Lt.nodeName&&"function"==typeof Lt.getAttribute)}(at)){for(var ti="<"+Oe.call(String(at.nodeName)),Vi=at.attributes||[],er=0;er<Vi.length;er++)ti+=" "+Vi[er].name+"="+Ve(Ie(Vi[er].value),"double",Qn);return ti+=">",at.childNodes&&at.childNodes.length&&(ti+="..."),ti+"</"+Oe.call(String(at.nodeName))+">"}if(Le(at)){if(0===at.length)return"[]";var At=en(at,yn);return gn&&!function Pt(Lt){for(var at=0;at<Lt.length;at++)if(bn(Lt[at],"\n")>=0)return!1;return!0}(At)?"["+dn(At,gn)+"]":"[ "+Xe.call(At,", ")+" ]"}if(function Mt(Lt){return!("[object Error]"!==vn(Lt)||pe&&"object"==typeof Lt&&pe in Lt)}(at)){var Nt=en(at,yn);return"cause"in Error.prototype||!("cause"in at)||Se.call(at,"cause")?0===Nt.length?"["+String(at)+"]":"{ ["+String(at)+"] "+Xe.call(Nt,", ")+" }":"{ ["+String(at)+"] "+Xe.call(Me.call("[cause]: "+yn(at.cause),Nt),", ")+" }"}if("object"==typeof at&&dr){if(we&&"function"==typeof at[we]&&Te)return Te(at,{depth:Ut-Nn});if("symbol"!==dr&&"function"==typeof at.inspect)return at.inspect()}if(function vi(Lt){if(!K||!Lt||"object"!=typeof Lt)return!1;try{K.call(Lt);try{Z.call(Lt)}catch(at){return!0}return Lt instanceof Map}catch(at){}return!1}(at)){var dt=[];return z&&z.call(at,function(zi,Gi){dt.push(yn(Gi,at,!0)+" => "+yn(zi,at))}),xt("Map",K.call(at),dt,gn)}if(function Ji(Lt){if(!Z||!Lt||"object"!=typeof Lt)return!1;try{Z.call(Lt);try{K.call(Lt)}catch(at){return!0}return Lt instanceof Set}catch(at){}return!1}(at)){var Xt=[];return Y&&Y.call(at,function(zi){Xt.push(yn(zi,at))}),xt("Set",Z.call(at),Xt,gn)}if(function yi(Lt){if(!ce||!Lt||"object"!=typeof Lt)return!1;try{ce.call(Lt,ce);try{se.call(Lt,se)}catch(at){return!0}return Lt instanceof WeakMap}catch(at){}return!1}(at))return Bn("WeakMap");if(function Or(Lt){if(!se||!Lt||"object"!=typeof Lt)return!1;try{se.call(Lt,se);try{ce.call(Lt,ce)}catch(at){return!0}return Lt instanceof WeakSet}catch(at){}return!1}(at))return Bn("WeakSet");if(function Pi(Lt){if(!le||!Lt||"object"!=typeof Lt)return!1;try{return le.call(Lt),!0}catch(at){}return!1}(at))return Bn("WeakRef");if(function En(Lt){return!("[object Number]"!==vn(Lt)||pe&&"object"==typeof Lt&&pe in Lt)}(at))return Sn(yn(Number(at)));if(function st(Lt){if(!Lt||"object"!=typeof Lt||!ut)return!1;try{return ut.call(Lt),!0}catch(at){}return!1}(at))return Sn(yn(ut.call(at)));if(function tn(Lt){return!("[object Boolean]"!==vn(Lt)||pe&&"object"==typeof Lt&&pe in Lt)}(at))return Sn(ke.call(at));if(function un(Lt){return!("[object String]"!==vn(Lt)||pe&&"object"==typeof Lt&&pe in Lt)}(at))return Sn(yn(String(at)));if(typeof window<"u"&&at===window)return"{ [object Window] }";if(typeof globalThis<"u"&&at===globalThis||typeof global<"u"&&at===global)return"{ [object globalThis] }";if(!function gt(Lt){return!("[object Date]"!==vn(Lt)||pe&&"object"==typeof Lt&&pe in Lt)}(at)&&!bt(at)){var hn=en(at,yn),Un=xe?xe(at)===Object.prototype:at instanceof Object||at.constructor===Object,Hn=at instanceof Object?"":"null prototype",ii=!Un&&pe&&Object(at)===at&&pe in at?De.call(vn(at),8,-1):Hn?"Object":"",Ki=(Un||"function"!=typeof at.constructor?"":at.constructor.name?at.constructor.name+" ":"")+(ii||Hn?"["+Xe.call(Me.call([],ii||[],Hn||[]),": ")+"] ":"");return 0===hn.length?Ki+"{}":gn?Ki+"{"+dn(hn,gn)+"}":Ki+"{ "+Xe.call(hn,", ")+" }"}return String(at)};var nn=Object.prototype.hasOwnProperty||function(Lt){return Lt in this};function $t(Lt,at){return nn.call(Lt,at)}function vn(Lt){return Ce.call(Lt)}function bn(Lt,at){if(Lt.indexOf)return Lt.indexOf(at);for(var qn=0,Nn=Lt.length;qn<Nn;qn++)if(Lt[qn]===at)return qn;return-1}function Fr(Lt,at){if(Lt.length>at.maxStringLength){var qn=Lt.length-at.maxStringLength,Nn="... "+qn+" more character"+(qn>1?"s":"");return Fr(De.call(Lt,0,at.maxStringLength),at)+Nn}return Ve(Be.call(Be.call(Lt,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Qi),"single",at)}function Qi(Lt){var at=Lt.charCodeAt(0),qn={8:"b",9:"t",10:"n",12:"f",13:"r"}[at];return qn?"\\"+qn:"\\x"+(at<16?"0":"")+qe.call(at.toString(16))}function Sn(Lt){return"Object("+Lt+")"}function Bn(Lt){return Lt+" { ? }"}function xt(Lt,at,qn,Nn){return Lt+" ("+at+") {"+(Nn?dn(qn,Nn):Xe.call(qn,", "))+"}"}function dn(Lt,at){if(0===Lt.length)return"";var qn="\n"+at.prev+at.base;return qn+Xe.call(Lt,","+qn)+"\n"+at.prev}function en(Lt,at){var qn=Le(Lt),Nn=[];if(qn){Nn.length=Lt.length;for(var Ti=0;Ti<Lt.length;Ti++)Nn[Ti]=$t(Lt,Ti)?at(Lt[Ti],Lt):""}var dr,Qn="function"==typeof ze?ze(Lt):[];if(ge){dr={};for(var Zi=0;Zi<Qn.length;Zi++)dr["$"+Qn[Zi]]=Qn[Zi]}for(var Zt in Lt)$t(Lt,Zt)&&(qn&&String(Number(Zt))===Zt&&Zt<Lt.length||ge&&dr["$"+Zt]instanceof Symbol||(mt.call(/[^\w$]/,Zt)?Nn.push(at(Zt,Lt)+": "+at(Lt[Zt],Lt)):Nn.push(Zt+": "+at(Lt[Zt],Lt))));if("function"==typeof ze)for(var _t=0;_t<Qn.length;_t++)Se.call(Lt,Qn[_t])&&Nn.push("["+at(Qn[_t])+"]: "+at(Lt[Qn[_t]],Lt));return Nn}},9515:yt=>{"use strict";yt.exports=(U,R={})=>{if(!U)return;const o={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},y=o.parser[R.strictMode?"strict":"loose"].exec(U),K={};let z=14;for(;z--;)K[o.key[z]]=y[z]||"";return K[o.q.name]={},K[o.key[12]].replace(o.q.parser,function(J,X,Z){X&&(K[o.q.name][X]=Z)}),K}},4520:(yt,U,R)=>{"use strict";R.r(U),R.d(U,{ALPHA_MODES:()=>st,AbstractBatchRenderer:()=>Ln,AbstractRenderer:()=>_,AccessibilityManager:()=>fo,AnimatedSprite:()=>La,AppLoaderPlugin:()=>vl,Application:()=>Ui,Attribute:()=>Po,BLEND_MODES:()=>Le,BUFFER_BITS:()=>Ie,BasePrepare:()=>_u,BaseRenderTexture:()=>So,BaseTexture:()=>mi,BatchDrawCall:()=>kt,BatchGeometry:()=>ji,BatchPluginFactory:()=>bi,BatchRenderer:()=>Fi,BatchShaderGenerator:()=>fi,BatchTextureArray:()=>ln,BitmapFont:()=>Ws,BitmapFontData:()=>Wa,BitmapFontLoader:()=>Bl,BitmapText:()=>wd,Bounds:()=>Dr,Buffer:()=>wr,CLEAR_MODES:()=>nn,Circle:()=>Rr,Container:()=>Qt,CountLimiter:()=>pd,DEG_TO_RAD:()=>Ki,DRAW_MODES:()=>gt,DisplayObject:()=>tt,ENV:()=>we,Ellipse:()=>Nr,Extract:()=>cs,FORMATS:()=>bt,FillStyle:()=>O,Filter:()=>is,FilterState:()=>G,Framebuffer:()=>lo,GC_MODES:()=>$t,GLFramebuffer:()=>Ft,GLProgram:()=>me,GLTexture:()=>Sr,GRAPHICS_CURVES:()=>S,Geometry:()=>zo,Graphics:()=>_a,GraphicsData:()=>rs,GraphicsGeometry:()=>Yo,IGLUniformData:()=>W,InteractionData:()=>ao,InteractionEvent:()=>jr,InteractionManager:()=>Gt,InteractionTrackingData:()=>$i,LINE_CAP:()=>g,LINE_JOIN:()=>c,LineStyle:()=>jo,Loader:()=>ys,LoaderResource:()=>ya,MASK_TYPES:()=>Cn,MIPMAP_MODES:()=>Ct,MSAA_QUALITY:()=>bn,MaskData:()=>ui,Matrix:()=>fr,Mesh:()=>Ga,MeshBatchUvs:()=>Eu,MeshGeometry:()=>tl,MeshMaterial:()=>wl,NineSlicePlane:()=>Ud,ObjectRenderer:()=>Pe,ObservablePoint:()=>kr,PI_2:()=>ii,PRECISION:()=>vn,ParticleContainer:()=>la,ParticleRenderer:()=>f,PlaneGeometry:()=>zu,Point:()=>yr,Polygon:()=>Eo,Prepare:()=>vc,Program:()=>ts,Quad:()=>Zr,QuadUv:()=>Qo,RAD_TO_DEG:()=>Pr,RENDERER_TYPE:()=>Ve,Rectangle:()=>Gi,RenderTexture:()=>ro,RenderTexturePool:()=>Hr,Renderer:()=>F,RopeGeometry:()=>$u,RoundedRectangle:()=>vo,Runner:()=>cn,SCALE_MODES:()=>En,SHAPES:()=>zi,Shader:()=>ss,SimpleMesh:()=>Bd,SimplePlane:()=>Gu,SimpleRope:()=>Rc,Sprite:()=>Zs,SpriteMaskFilter:()=>As,Spritesheet:()=>Ll,SpritesheetLoader:()=>_c,State:()=>ms,System:()=>vr,TARGETS:()=>Mt,TEXT_GRADIENT:()=>Oa,TYPES:()=>un,TemporaryDisplayObject:()=>ht,Text:()=>_l,TextMetrics:()=>Us,TextStyle:()=>Qa,Texture:()=>xi,TextureLoader:()=>ml,TextureMatrix:()=>as,TextureUvs:()=>eo,Ticker:()=>mr,TickerPlugin:()=>io,TilingSprite:()=>yd,TilingSpriteRenderer:()=>Fl,TimeLimiter:()=>yc,Transform:()=>Br,UPDATE_PRIORITY:()=>Mi,UniformGroup:()=>Xi,VERSION:()=>Df,ViewableBuffer:()=>_n,WRAP_MODES:()=>tn,accessibleTarget:()=>rt,autoDetectRenderer:()=>te,checkMaxIfStatementsInShader:()=>Jr,defaultFilterVertex:()=>Je,defaultVertex:()=>_e,filters:()=>Tf,graphicsUtils:()=>Qr,groupD8:()=>di,interactiveTarget:()=>ot,isMobile:()=>ze,resources:()=>Gr,settings:()=>pe,systems:()=>Io,uniformParsers:()=>hi,useDeprecated:()=>Cf,utils:()=>o});var o={};R.r(o),R.d(o,{BaseTextureCache:()=>ti,CanvasRenderTarget:()=>At,DATA_URI:()=>dt,EventEmitter:()=>xe(),ProgramCache:()=>Yn,TextureCache:()=>ai,clearTextureCache:()=>er,correctBlendMode:()=>nt,createIndicesForQuads:()=>at,decomposeDataUri:()=>Xt,deprecation:()=>jt,destroyTextureCache:()=>Vi,determineCrossOrigin:()=>Un,earcut:()=>Te(),getBufferType:()=>qn,getResolutionOfUrl:()=>Hn,hex2rgb:()=>Fr,hex2string:()=>Qi,interleaveTypedArrays:()=>Ti,isMobile:()=>ze,isPow2:()=>dr,isWebGLSupported:()=>ir,log2:()=>Zi,nextPow2:()=>Qn,premultiplyBlendMode:()=>Pt,premultiplyRgba:()=>dn,premultiplyTint:()=>en,premultiplyTintToRgba:()=>Lt,removeItems:()=>Zt,rgb2hex:()=>Bn,sayHello:()=>Ji,sign:()=>_t,skipHello:()=>Pi,string2hex:()=>Sn,trimCanvas:()=>Nt,uid:()=>gn,url:()=>Ne});var y=R(7793),K=R(5943),z=R.n(K);if(window.Promise||(window.Promise=y.Polyfill),Object.assign||(Object.assign=z()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var X=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-X}}for(var Z=Date.now(),Y=["ms","moz","webkit","o"],q=0;q<Y.length&&!window.requestAnimationFrame;++q){var ce=Y[q];window.requestAnimationFrame=window[ce+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ce+"CancelAnimationFrame"]||window[ce+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(u){if("function"!=typeof u)throw new TypeError(u+"is not a function");var r=Date.now(),e=16+Z-r;return e<0&&(e=0),Z=r,window.setTimeout(function(){Z=Date.now(),u(performance.now())},e)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(u){return clearTimeout(u)}),Math.sign||(Math.sign=function(r){return 0===(r=Number(r))||isNaN(r)?r:r>0?1:-1}),Number.isInteger||(Number.isInteger=function(r){return"number"==typeof r&&isFinite(r)&&Math.floor(r)===r}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var ae=/iPhone/i,se=/iPod/i,re=/iPad/i,le=/\biOS-universal(?:.+)Mac\b/i,ke=/\bAndroid(?:.+)Mobile\b/i,Ce=/Android/i,fe=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,ve=/Silk/i,De=/Windows Phone/i,Be=/\bWindows(?:.+)ARM\b/i,qe=/BlackBerry/i,Oe=/BB10/i,mt=/Opera Mini/i,Me=/\b(CriOS|Chrome)(?:.+)Mobile/i,Xe=/Mobile(?:.+)Firefox\b/i,Ke=function(u){return typeof u<"u"&&"MacIntel"===u.platform&&"number"==typeof u.maxTouchPoints&&u.maxTouchPoints>1&&typeof MSStream>"u"},ze=function ut(u){var r={userAgent:"",platform:"",maxTouchPoints:0};!u&&typeof navigator<"u"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:"string"==typeof u?r.userAgent=u:u&&u.userAgent&&(r={userAgent:u.userAgent,platform:u.platform,maxTouchPoints:u.maxTouchPoints||0});var e=r.userAgent,i=e.split("[FBAN");typeof i[1]<"u"&&(e=i[0]),typeof(i=e.split("Twitter"))[1]<"u"&&(e=i[0]);var l=function Qe(u){return function(r){return r.test(u)}}(e),C={apple:{phone:l(ae)&&!l(De),ipod:l(se),tablet:!l(ae)&&(l(re)||Ke(r))&&!l(De),universal:l(le),device:(l(ae)||l(se)||l(re)||l(le)||Ke(r))&&!l(De)},amazon:{phone:l(fe),tablet:!l(fe)&&l(ve),device:l(fe)||l(ve)},android:{phone:!l(De)&&l(fe)||!l(De)&&l(ke),tablet:!l(De)&&!l(fe)&&!l(ke)&&(l(ve)||l(Ce)),device:!l(De)&&(l(fe)||l(ve)||l(ke)||l(Ce))||l(/\bokhttp\b/i)},windows:{phone:l(De),tablet:l(Be),device:l(De)||l(Be)},other:{blackberry:l(qe),blackberry10:l(Oe),opera:l(mt),firefox:l(Xe),chrome:l(Me),device:l(qe)||l(Oe)||l(mt)||l(Xe)||l(Me)},any:!1,phone:!1,tablet:!1};return C.any=C.apple.device||C.android.device||C.windows.device||C.other.device,C.phone=C.apple.phone||C.android.phone||C.windows.phone,C.tablet=C.apple.tablet||C.android.tablet||C.windows.tablet,C}(window.navigator),pe={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function Ze(u){var e,r=!0;(ze.tablet||ze.phone)&&(ze.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(r=!1),ze.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(r=!1));return r?u:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:ze.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:function ge(){return!ze.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Se=R(9170),xe=R.n(Se),Ae=R(5469),Te=R.n(Ae),Ne=R(8762),we=(()=>{return(u=we||(we={}))[u.WEBGL_LEGACY=0]="WEBGL_LEGACY",u[u.WEBGL=1]="WEBGL",u[u.WEBGL2=2]="WEBGL2",we;var u})(),Ve=(()=>{return(u=Ve||(Ve={}))[u.UNKNOWN=0]="UNKNOWN",u[u.WEBGL=1]="WEBGL",u[u.CANVAS=2]="CANVAS",Ve;var u})(),Ie=(()=>{return(u=Ie||(Ie={}))[u.COLOR=16384]="COLOR",u[u.DEPTH=256]="DEPTH",u[u.STENCIL=1024]="STENCIL",Ie;var u})(),Le=(()=>{return(u=Le||(Le={}))[u.NORMAL=0]="NORMAL",u[u.ADD=1]="ADD",u[u.MULTIPLY=2]="MULTIPLY",u[u.SCREEN=3]="SCREEN",u[u.OVERLAY=4]="OVERLAY",u[u.DARKEN=5]="DARKEN",u[u.LIGHTEN=6]="LIGHTEN",u[u.COLOR_DODGE=7]="COLOR_DODGE",u[u.COLOR_BURN=8]="COLOR_BURN",u[u.HARD_LIGHT=9]="HARD_LIGHT",u[u.SOFT_LIGHT=10]="SOFT_LIGHT",u[u.DIFFERENCE=11]="DIFFERENCE",u[u.EXCLUSION=12]="EXCLUSION",u[u.HUE=13]="HUE",u[u.SATURATION=14]="SATURATION",u[u.COLOR=15]="COLOR",u[u.LUMINOSITY=16]="LUMINOSITY",u[u.NORMAL_NPM=17]="NORMAL_NPM",u[u.ADD_NPM=18]="ADD_NPM",u[u.SCREEN_NPM=19]="SCREEN_NPM",u[u.NONE=20]="NONE",u[u.SRC_OVER=0]="SRC_OVER",u[u.SRC_IN=21]="SRC_IN",u[u.SRC_OUT=22]="SRC_OUT",u[u.SRC_ATOP=23]="SRC_ATOP",u[u.DST_OVER=24]="DST_OVER",u[u.DST_IN=25]="DST_IN",u[u.DST_OUT=26]="DST_OUT",u[u.DST_ATOP=27]="DST_ATOP",u[u.ERASE=26]="ERASE",u[u.SUBTRACT=28]="SUBTRACT",u[u.XOR=29]="XOR",Le;var u})(),gt=(()=>{return(u=gt||(gt={}))[u.POINTS=0]="POINTS",u[u.LINES=1]="LINES",u[u.LINE_LOOP=2]="LINE_LOOP",u[u.LINE_STRIP=3]="LINE_STRIP",u[u.TRIANGLES=4]="TRIANGLES",u[u.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",u[u.TRIANGLE_FAN=6]="TRIANGLE_FAN",gt;var u})(),bt=(()=>{return(u=bt||(bt={}))[u.RGBA=6408]="RGBA",u[u.RGB=6407]="RGB",u[u.ALPHA=6406]="ALPHA",u[u.LUMINANCE=6409]="LUMINANCE",u[u.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",u[u.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",u[u.DEPTH_STENCIL=34041]="DEPTH_STENCIL",bt;var u})(),Mt=(()=>{return(u=Mt||(Mt={}))[u.TEXTURE_2D=3553]="TEXTURE_2D",u[u.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",u[u.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",u[u.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",u[u.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",u[u.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",u[u.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",u[u.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",u[u.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Mt;var u})(),un=(()=>{return(u=un||(un={}))[u.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",u[u.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",u[u.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",u[u.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",u[u.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",u[u.FLOAT=5126]="FLOAT",u[u.HALF_FLOAT=36193]="HALF_FLOAT",un;var u})(),En=(()=>{return(u=En||(En={}))[u.NEAREST=0]="NEAREST",u[u.LINEAR=1]="LINEAR",En;var u})(),tn=(()=>{return(u=tn||(tn={}))[u.CLAMP=33071]="CLAMP",u[u.REPEAT=10497]="REPEAT",u[u.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",tn;var u})(),Ct=(()=>{return(u=Ct||(Ct={}))[u.OFF=0]="OFF",u[u.POW2=1]="POW2",u[u.ON=2]="ON",Ct;var u})(),st=(()=>{return(u=st||(st={}))[u.NPM=0]="NPM",u[u.UNPACK=1]="UNPACK",u[u.PMA=2]="PMA",u[u.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",u[u.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",u[u.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",st;var u})(),nn=(()=>{return(u=nn||(nn={}))[u.NO=0]="NO",u[u.YES=1]="YES",u[u.AUTO=2]="AUTO",u[u.BLEND=0]="BLEND",u[u.CLEAR=1]="CLEAR",u[u.BLIT=2]="BLIT",nn;var u})(),$t=(()=>{return(u=$t||($t={}))[u.AUTO=0]="AUTO",u[u.MANUAL=1]="MANUAL",$t;var u})(),vn=(()=>{return(u=vn||(vn={})).LOW="lowp",u.MEDIUM="mediump",u.HIGH="highp",vn;var u})(),Cn=(()=>{return(u=Cn||(Cn={}))[u.NONE=0]="NONE",u[u.SCISSOR=1]="SCISSOR",u[u.STENCIL=2]="STENCIL",u[u.SPRITE=3]="SPRITE",Cn;var u})(),bn=(()=>{return(u=bn||(bn={}))[u.NONE=0]="NONE",u[u.LOW=2]="LOW",u[u.MEDIUM=4]="MEDIUM",u[u.HIGH=8]="HIGH",bn;var u})();pe.RETINA_PREFIX=/@([0-9\.]+)x/,pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Or,vi=!1,yi="5.3.12";function Pi(){vi=!0}function Ji(u){var r;vi||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(r=window.console).log.apply(r,["\n %c %c %c PixiJS "+yi+" - \u2730 "+u+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS "+yi+" - "+u+" - http://www.pixijs.com/"),vi=!0)}function ir(){return typeof Or>"u"&&(Or=function(){var r={stencil:!0,failIfMajorPerformanceCaveat:pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),l=!(!i||!i.getContextAttributes().stencil);if(i){var C=i.getExtension("WEBGL_lose_context");C&&C.loseContext()}return i=null,l}catch(T){return!1}}()),Or}function Fr(u,r){return void 0===r&&(r=[]),r[0]=(u>>16&255)/255,r[1]=(u>>8&255)/255,r[2]=(255&u)/255,r}function Qi(u){var r=u.toString(16);return"#"+("000000".substr(0,6-r.length)+r)}function Sn(u){return"string"==typeof u&&"#"===u[0]&&(u=u.substr(1)),parseInt(u,16)}function Bn(u){return(255*u[0]<<16)+(255*u[1]<<8)+(255*u[2]|0)}var Pt=function xt(){for(var u=[],r=[],e=0;e<32;e++)u[e]=e,r[e]=e;u[Le.NORMAL_NPM]=Le.NORMAL,u[Le.ADD_NPM]=Le.ADD,u[Le.SCREEN_NPM]=Le.SCREEN,r[Le.NORMAL]=Le.NORMAL_NPM,r[Le.ADD]=Le.ADD_NPM,r[Le.SCREEN]=Le.SCREEN_NPM;var i=[];return i.push(r),i.push(u),i}();function nt(u,r){return Pt[r?1:0][u]}function dn(u,r,e,i){return e=e||new Float32Array(4),i||void 0===i?(e[0]=u[0]*r,e[1]=u[1]*r,e[2]=u[2]*r):(e[0]=u[0],e[1]=u[1],e[2]=u[2]),e[3]=r,e}function en(u,r){if(1===r)return(255*r<<24)+u;if(0===r)return 0;var e=u>>16&255,i=u>>8&255,l=255&u;return(255*r<<24)+((e=e*r+.5|0)<<16)+((i=i*r+.5|0)<<8)+(l*r+.5|0)}function Lt(u,r,e,i){return(e=e||new Float32Array(4))[0]=(u>>16&255)/255,e[1]=(u>>8&255)/255,e[2]=(255&u)/255,(i||void 0===i)&&(e[0]*=r,e[1]*=r,e[2]*=r),e[3]=r,e}function at(u,r){void 0===r&&(r=null);var e=6*u;if((r=r||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+r.length+" and expected "+e);for(var i=0,l=0;i<e;i+=6,l+=4)r[i+0]=l+0,r[i+1]=l+1,r[i+2]=l+2,r[i+3]=l+0,r[i+4]=l+2,r[i+5]=l+3;return r}function qn(u){if(4===u.BYTES_PER_ELEMENT)return u instanceof Float32Array?"Float32Array":u instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===u.BYTES_PER_ELEMENT){if(u instanceof Uint16Array)return"Uint16Array"}else if(1===u.BYTES_PER_ELEMENT&&u instanceof Uint8Array)return"Uint8Array";return null}var Nn={Float32Array,Uint32Array,Int32Array,Uint8Array};function Ti(u,r){for(var e=0,i=0,l={},C=0;C<u.length;C++)i+=r[C],e+=u[C].length;var T=new ArrayBuffer(4*e),V=null,ue=0;for(C=0;C<u.length;C++){var Ee=r[C],Ge=u[C],$e=qn(Ge);l[$e]||(l[$e]=new Nn[$e](T)),V=l[$e];for(var je=0;je<Ge.length;je++)V[(je/Ee|0)*i+ue+je%Ee]=Ge[je];ue+=Ee}return new Float32Array(T)}function Qn(u){return u+=0===u?1:0,--u,u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,1+(u|=u>>>16)}function dr(u){return!(u&u-1||!u)}function Zi(u){var r=(u>65535?1:0)<<4,e=((u>>>=r)>255?1:0)<<3;return r|=e,r|=e=((u>>>=e)>15?1:0)<<2,(r|=e=((u>>>=e)>3?1:0)<<1)|(u>>>=e)>>1}function Zt(u,r,e){var l,i=u.length;if(!(r>=i||0===e)){var C=i-(e=r+e>i?i-r:e);for(l=r;l<C;++l)u[l]=u[l+e];u.length=C}}function _t(u){return 0===u?0:u<0?-1:1}var Ut=0;function gn(){return++Ut}var yn={};function jt(u,r,e){if(void 0===e&&(e=3),!yn[r]){var i=(new Error).stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",r+"\nDeprecated since v"+u):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+"\nDeprecated since v"+u),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+"\nDeprecated since v"+u),console.warn(i))),yn[r]=!0}}var Yn={},ai=Object.create(null),ti=Object.create(null);function Vi(){var u;for(u in ai)ai[u].destroy();for(u in ti)ti[u].destroy()}function er(){var u;for(u in ai)delete ai[u];for(u in ti)delete ti[u]}var At=function(){function u(r,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||pe.RESOLUTION,this.resize(r,e)}return u.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},u.prototype.resize=function(r,e){this.canvas.width=r*this.resolution,this.canvas.height=e*this.resolution},u.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(u.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=r},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=r},enumerable:!1,configurable:!0}),u}();function Nt(u){var Ee,Ge,$e,r=u.width,e=u.height,i=u.getContext("2d"),C=i.getImageData(0,0,r,e).data,T=C.length,V={top:null,left:null,right:null,bottom:null},ue=null;for(Ee=0;Ee<T;Ee+=4)0!==C[Ee+3]&&(Ge=Ee/4%r,$e=~~(Ee/4/r),null===V.top&&(V.top=$e),(null===V.left||Ge<V.left)&&(V.left=Ge),(null===V.right||V.right<Ge)&&(V.right=Ge+1),(null===V.bottom||V.bottom<$e)&&(V.bottom=$e));return null!==V.top&&(ue=i.getImageData(V.left,V.top,r=V.right-V.left,e=V.bottom-V.top+1)),{height:e,width:r,data:ue}}var hn,dt=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Xt(u){var r=dt.exec(u);if(r)return{mediaType:r[1]?r[1].toLowerCase():void 0,subType:r[2]?r[2].toLowerCase():void 0,charset:r[3]?r[3].toLowerCase():void 0,encoding:r[4]?r[4].toLowerCase():void 0,data:r[5]}}function Un(u,r){if(void 0===r&&(r=window.location),0===u.indexOf("data:"))return"";r=r||window.location,hn||(hn=document.createElement("a")),hn.href=u;var e=(0,Ne.parse)(hn.href);return e.hostname!==r.hostname||(e.port||""!==r.port)&&e.port!==r.port||e.protocol!==r.protocol?"anonymous":""}function Hn(u,r){var e=pe.RETINA_PREFIX.exec(u);return e?parseFloat(e[1]):void 0!==r?r:1}var ii=2*Math.PI,Pr=180/Math.PI,Ki=Math.PI/180,zi=(()=>{return(u=zi||(zi={}))[u.POLY=0]="POLY",u[u.RECT=1]="RECT",u[u.CIRC=2]="CIRC",u[u.ELIP=3]="ELIP",u[u.RREC=4]="RREC",zi;var u})(),Gi=function(){function u(r,e,i,l){void 0===r&&(r=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===l&&(l=0),this.x=Number(r),this.y=Number(e),this.width=Number(i),this.height=Number(l),this.type=zi.RECT}return Object.defineProperty(u.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(u,"EMPTY",{get:function(){return new u(0,0,0,0)},enumerable:!1,configurable:!0}),u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height)},u.prototype.copyFrom=function(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this},u.prototype.copyTo=function(r){return r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r},u.prototype.contains=function(r,e){return!(this.width<=0||this.height<=0)&&r>=this.x&&r<this.x+this.width&&e>=this.y&&e<this.y+this.height},u.prototype.pad=function(r,e){return void 0===r&&(r=0),void 0===e&&(e=r),this.x-=r,this.y-=e,this.width+=2*r,this.height+=2*e,this},u.prototype.fit=function(r){var e=Math.max(this.x,r.x),i=Math.min(this.x+this.width,r.x+r.width),l=Math.max(this.y,r.y),C=Math.min(this.y+this.height,r.y+r.height);return this.x=e,this.width=Math.max(i-e,0),this.y=l,this.height=Math.max(C-l,0),this},u.prototype.ceil=function(r,e){void 0===r&&(r=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*r)/r,l=Math.ceil((this.y+this.height-e)*r)/r;return this.x=Math.floor((this.x+e)*r)/r,this.y=Math.floor((this.y+e)*r)/r,this.width=i-this.x,this.height=l-this.y,this},u.prototype.enlarge=function(r){var e=Math.min(this.x,r.x),i=Math.max(this.x+this.width,r.x+r.width),l=Math.min(this.y,r.y),C=Math.max(this.y+this.height,r.y+r.height);return this.x=e,this.width=i-e,this.y=l,this.height=C-l,this},u}(),Rr=function(){function u(r,e,i){void 0===r&&(r=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=r,this.y=e,this.radius=i,this.type=zi.CIRC}return u.prototype.clone=function(){return new u(this.x,this.y,this.radius)},u.prototype.contains=function(r,e){if(this.radius<=0)return!1;var l=this.x-r,C=this.y-e;return(l*=l)+(C*=C)<=this.radius*this.radius},u.prototype.getBounds=function(){return new Gi(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},u}(),Nr=function(){function u(r,e,i,l){void 0===r&&(r=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===l&&(l=0),this.x=r,this.y=e,this.width=i,this.height=l,this.type=zi.ELIP}return u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height)},u.prototype.contains=function(r,e){if(this.width<=0||this.height<=0)return!1;var i=(r-this.x)/this.width,l=(e-this.y)/this.height;return(i*=i)+(l*=l)<=1},u.prototype.getBounds=function(){return new Gi(this.x-this.width,this.y-this.height,this.width,this.height)},u}(),Eo=function(){function u(){for(var r=arguments,e=[],i=0;i<arguments.length;i++)e[i]=r[i];var l=Array.isArray(e[0])?e[0]:e;if("number"!=typeof l[0]){for(var C=[],T=0,V=l.length;T<V;T++)C.push(l[T].x,l[T].y);l=C}this.points=l,this.type=zi.POLY,this.closeStroke=!0}return u.prototype.clone=function(){var e=new u(this.points.slice());return e.closeStroke=this.closeStroke,e},u.prototype.contains=function(r,e){for(var i=!1,l=this.points.length/2,C=0,T=l-1;C<l;T=C++){var V=this.points[2*C],ue=this.points[2*C+1],Ge=this.points[2*T+1];ue>e!=Ge>e&&r<(e-ue)/(Ge-ue)*(this.points[2*T]-V)+V&&(i=!i)}return i},u}(),vo=function(){function u(r,e,i,l,C){void 0===r&&(r=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===l&&(l=0),void 0===C&&(C=20),this.x=r,this.y=e,this.width=i,this.height=l,this.radius=C,this.type=zi.RREC}return u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height,this.radius)},u.prototype.contains=function(r,e){if(this.width<=0||this.height<=0)return!1;if(r>=this.x&&r<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||r>=this.x+this.radius&&r<=this.x+this.width-this.radius)return!0;var i=r-(this.x+this.radius),l=e-(this.y+this.radius),C=this.radius*this.radius;if(i*i+l*l<=C||(i=r-(this.x+this.width-this.radius))*i+l*l<=C||i*i+(l=e-(this.y+this.height-this.radius))*l<=C||(i=r-(this.x+this.radius))*i+l*l<=C)return!0}return!1},u}(),yr=function(){function u(r,e){void 0===r&&(r=0),void 0===e&&(e=0),this.x=r,this.y=e}return u.prototype.clone=function(){return new u(this.x,this.y)},u.prototype.copyFrom=function(r){return this.set(r.x,r.y),this},u.prototype.copyTo=function(r){return r.set(this.x,this.y),r},u.prototype.equals=function(r){return r.x===this.x&&r.y===this.y},u.prototype.set=function(r,e){return void 0===r&&(r=0),void 0===e&&(e=r),this.x=r,this.y=e,this},u}(),kr=function(){function u(r,e,i,l){void 0===i&&(i=0),void 0===l&&(l=0),this._x=i,this._y=l,this.cb=r,this.scope=e}return u.prototype.clone=function(r,e){return void 0===r&&(r=this.cb),void 0===e&&(e=this.scope),new u(r,e,this._x,this._y)},u.prototype.set=function(r,e){return void 0===r&&(r=0),void 0===e&&(e=r),(this._x!==r||this._y!==e)&&(this._x=r,this._y=e,this.cb.call(this.scope)),this},u.prototype.copyFrom=function(r){return(this._x!==r.x||this._y!==r.y)&&(this._x=r.x,this._y=r.y,this.cb.call(this.scope)),this},u.prototype.copyTo=function(r){return r.set(this._x,this._y),r},u.prototype.equals=function(r){return r.x===this._x&&r.y===this._y},Object.defineProperty(u.prototype,"x",{get:function(){return this._x},set:function(r){this._x!==r&&(this._x=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"y",{get:function(){return this._y},set:function(r){this._y!==r&&(this._y=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),u}(),fr=function(){function u(r,e,i,l,C,T){void 0===r&&(r=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===l&&(l=1),void 0===C&&(C=0),void 0===T&&(T=0),this.array=null,this.a=r,this.b=e,this.c=i,this.d=l,this.tx=C,this.ty=T}return u.prototype.fromArray=function(r){this.a=r[0],this.b=r[1],this.c=r[3],this.d=r[4],this.tx=r[2],this.ty=r[5]},u.prototype.set=function(r,e,i,l,C,T){return this.a=r,this.b=e,this.c=i,this.d=l,this.tx=C,this.ty=T,this},u.prototype.toArray=function(r,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return r?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},u.prototype.apply=function(r,e){e=e||new yr;var i=r.x,l=r.y;return e.x=this.a*i+this.c*l+this.tx,e.y=this.b*i+this.d*l+this.ty,e},u.prototype.applyInverse=function(r,e){e=e||new yr;var i=1/(this.a*this.d+this.c*-this.b),l=r.x,C=r.y;return e.x=this.d*i*l+-this.c*i*C+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*C+-this.b*i*l+(-this.ty*this.a+this.tx*this.b)*i,e},u.prototype.translate=function(r,e){return this.tx+=r,this.ty+=e,this},u.prototype.scale=function(r,e){return this.a*=r,this.d*=e,this.c*=r,this.b*=e,this.tx*=r,this.ty*=e,this},u.prototype.rotate=function(r){var e=Math.cos(r),i=Math.sin(r),l=this.a,C=this.c,T=this.tx;return this.a=l*e-this.b*i,this.b=l*i+this.b*e,this.c=C*e-this.d*i,this.d=C*i+this.d*e,this.tx=T*e-this.ty*i,this.ty=T*i+this.ty*e,this},u.prototype.append=function(r){var e=this.a,i=this.b,l=this.c,C=this.d;return this.a=r.a*e+r.b*l,this.b=r.a*i+r.b*C,this.c=r.c*e+r.d*l,this.d=r.c*i+r.d*C,this.tx=r.tx*e+r.ty*l+this.tx,this.ty=r.tx*i+r.ty*C+this.ty,this},u.prototype.setTransform=function(r,e,i,l,C,T,V,ue,Ee){return this.a=Math.cos(V+Ee)*C,this.b=Math.sin(V+Ee)*C,this.c=-Math.sin(V-ue)*T,this.d=Math.cos(V-ue)*T,this.tx=r-(i*this.a+l*this.c),this.ty=e-(i*this.b+l*this.d),this},u.prototype.prepend=function(r){var e=this.tx;if(1!==r.a||0!==r.b||0!==r.c||1!==r.d){var i=this.a,l=this.c;this.a=i*r.a+this.b*r.c,this.b=i*r.b+this.b*r.d,this.c=l*r.a+this.d*r.c,this.d=l*r.b+this.d*r.d}return this.tx=e*r.a+this.ty*r.c+r.tx,this.ty=e*r.b+this.ty*r.d+r.ty,this},u.prototype.decompose=function(r){var e=this.a,i=this.b,l=this.c,C=this.d,T=-Math.atan2(-l,C),V=Math.atan2(i,e),ue=Math.abs(T+V);return ue<1e-5||Math.abs(ii-ue)<1e-5?(r.rotation=V,r.skew.x=r.skew.y=0):(r.rotation=0,r.skew.x=T,r.skew.y=V),r.scale.x=Math.sqrt(e*e+i*i),r.scale.y=Math.sqrt(l*l+C*C),r.position.x=this.tx,r.position.y=this.ty,r},u.prototype.invert=function(){var r=this.a,e=this.b,i=this.c,l=this.d,C=this.tx,T=r*l-e*i;return this.a=l/T,this.b=-e/T,this.c=-i/T,this.d=r/T,this.tx=(i*this.ty-l*C)/T,this.ty=-(r*this.ty-e*C)/T,this},u.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},u.prototype.clone=function(){var r=new u;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},u.prototype.copyTo=function(r){return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},u.prototype.copyFrom=function(r){return this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty,this},Object.defineProperty(u,"IDENTITY",{get:function(){return new u},enumerable:!1,configurable:!0}),Object.defineProperty(u,"TEMP_MATRIX",{get:function(){return new u},enumerable:!1,configurable:!0}),u}(),tr=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],co=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],to=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Yr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ho=[],nr=[],Oi=Math.sign;!function Ei(){for(var u=0;u<16;u++){var r=[];ho.push(r);for(var e=0;e<16;e++)for(var i=Oi(tr[u]*tr[e]+to[u]*co[e]),l=Oi(co[u]*tr[e]+Yr[u]*co[e]),C=Oi(tr[u]*to[e]+to[u]*Yr[e]),T=Oi(co[u]*to[e]+Yr[u]*Yr[e]),V=0;V<16;V++)if(tr[V]===i&&co[V]===l&&to[V]===C&&Yr[V]===T){r.push(V);break}}for(u=0;u<16;u++){var ue=new fr;ue.set(tr[u],co[u],to[u],Yr[u],0,0),nr.push(ue)}}();var di={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(u){return tr[u]},uY:function(u){return co[u]},vX:function(u){return to[u]},vY:function(u){return Yr[u]},inv:function(u){return 8&u?15&u:7&-u},add:function(u,r){return ho[u][r]},sub:function(u,r){return ho[u][di.inv(r)]},rotate180:function(u){return 4^u},isVertical:function(u){return 2==(3&u)},byDirection:function(u,r){return 2*Math.abs(u)<=Math.abs(r)?r>=0?di.S:di.N:2*Math.abs(r)<=Math.abs(u)?u>0?di.E:di.W:r>0?u>0?di.SE:di.SW:u>0?di.NE:di.NW},matrixAppendRotationInv:function(u,r,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var l=nr[di.inv(r)];l.tx=e,l.ty=i,u.append(l)}},Br=function(){function u(){this.worldTransform=new fr,this.localTransform=new fr,this.position=new kr(this.onChange,this,0,0),this.scale=new kr(this.onChange,this,1,1),this.pivot=new kr(this.onChange,this,0,0),this.skew=new kr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return u.prototype.onChange=function(){this._localID++},u.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},u.prototype.updateLocalTransform=function(){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)},u.prototype.updateTransform=function(r){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){var i=r.worldTransform,l=this.worldTransform;l.a=e.a*i.a+e.b*i.c,l.b=e.a*i.b+e.b*i.d,l.c=e.c*i.a+e.d*i.c,l.d=e.c*i.b+e.d*i.d,l.tx=e.tx*i.a+e.ty*i.c+i.tx,l.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=r._worldID,this._worldID++}},u.prototype.setFromMatrix=function(r){r.decompose(this),this._localID++},Object.defineProperty(u.prototype,"rotation",{get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())},enumerable:!1,configurable:!0}),u.IDENTITY=new u,u}();pe.SORTABLE_CHILDREN=!1;var Dr=function(){function u(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return u.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},u.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},u.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?Gi.EMPTY:((r=r||new Gi(0,0,1,1)).x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},u.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},u.prototype.addQuad=function(r){var e=this.minX,i=this.minY,l=this.maxX,C=this.maxY,T=r[0],V=r[1];e=T<e?T:e,i=V<i?V:i,l=T>l?T:l,C=V>C?V:C,e=(T=r[2])<e?T:e,i=(V=r[3])<i?V:i,l=T>l?T:l,C=V>C?V:C,e=(T=r[4])<e?T:e,i=(V=r[5])<i?V:i,l=T>l?T:l,C=V>C?V:C,i=(V=r[7])<i?V:i,l=(T=r[6])>l?T:l,C=V>C?V:C,this.minX=e=T<e?T:e,this.minY=i,this.maxX=l,this.maxY=C},u.prototype.addFrame=function(r,e,i,l,C){this.addFrameMatrix(r.worldTransform,e,i,l,C)},u.prototype.addFrameMatrix=function(r,e,i,l,C){var T=r.a,V=r.b,ue=r.c,Ee=r.d,Ge=r.tx,$e=r.ty,je=this.minX,pt=this.minY,St=this.maxX,It=this.maxY,on=T*e+ue*i+Ge,Pn=V*e+Ee*i+$e;je=on<je?on:je,pt=Pn<pt?Pn:pt,St=on>St?on:St,It=Pn>It?Pn:It,je=(on=T*l+ue*i+Ge)<je?on:je,pt=(Pn=V*l+Ee*i+$e)<pt?Pn:pt,St=on>St?on:St,It=Pn>It?Pn:It,je=(on=T*e+ue*C+Ge)<je?on:je,pt=(Pn=V*e+Ee*C+$e)<pt?Pn:pt,St=on>St?on:St,It=Pn>It?Pn:It,pt=(Pn=V*l+Ee*C+$e)<pt?Pn:pt,St=(on=T*l+ue*C+Ge)>St?on:St,It=Pn>It?Pn:It,this.minX=je=on<je?on:je,this.minY=pt,this.maxX=St,this.maxY=It},u.prototype.addVertexData=function(r,e,i){for(var l=this.minX,C=this.minY,T=this.maxX,V=this.maxY,ue=e;ue<i;ue+=2){var Ee=r[ue],Ge=r[ue+1];l=Ee<l?Ee:l,C=Ge<C?Ge:C,T=Ee>T?Ee:T,V=Ge>V?Ge:V}this.minX=l,this.minY=C,this.maxX=T,this.maxY=V},u.prototype.addVertices=function(r,e,i,l){this.addVerticesMatrix(r.worldTransform,e,i,l)},u.prototype.addVerticesMatrix=function(r,e,i,l,C,T){void 0===C&&(C=0),void 0===T&&(T=C);for(var V=r.a,ue=r.b,Ee=r.c,Ge=r.d,$e=r.tx,je=r.ty,pt=this.minX,St=this.minY,It=this.maxX,on=this.maxY,Pn=i;Pn<l;Pn+=2){var Ai=e[Pn],Gn=e[Pn+1],or=V*Ai+Ee*Gn+$e,ri=Ge*Gn+ue*Ai+je;pt=Math.min(pt,or-C),It=Math.max(It,or+C),St=Math.min(St,ri-T),on=Math.max(on,ri+T)}this.minX=pt,this.minY=St,this.maxX=It,this.maxY=on},u.prototype.addBounds=function(r){var e=this.minX,i=this.minY,l=this.maxX,C=this.maxY;this.minX=r.minX<e?r.minX:e,this.minY=r.minY<i?r.minY:i,this.maxX=r.maxX>l?r.maxX:l,this.maxY=r.maxY>C?r.maxY:C},u.prototype.addBoundsMask=function(r,e){var i=r.minX>e.minX?r.minX:e.minX,l=r.minY>e.minY?r.minY:e.minY,C=r.maxX<e.maxX?r.maxX:e.maxX,T=r.maxY<e.maxY?r.maxY:e.maxY;if(i<=C&&l<=T){var V=this.minX,ue=this.minY,Ee=this.maxX,Ge=this.maxY;this.minX=i<V?i:V,this.minY=l<ue?l:ue,this.maxX=C>Ee?C:Ee,this.maxY=T>Ge?T:Ge}},u.prototype.addBoundsMatrix=function(r,e){this.addFrameMatrix(e,r.minX,r.minY,r.maxX,r.maxY)},u.prototype.addBoundsArea=function(r,e){var i=r.minX>e.x?r.minX:e.x,l=r.minY>e.y?r.minY:e.y,C=r.maxX<e.x+e.width?r.maxX:e.x+e.width,T=r.maxY<e.y+e.height?r.maxY:e.y+e.height;if(i<=C&&l<=T){var V=this.minX,ue=this.minY,Ee=this.maxX,Ge=this.maxY;this.minX=i<V?i:V,this.minY=l<ue?l:ue,this.maxX=C>Ee?C:Ee,this.maxY=T>Ge?T:Ge}},u.prototype.pad=function(r,e){void 0===r&&(r=0),void 0===e&&(e=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=e,this.maxY+=e)},u.prototype.addFramePad=function(r,e,i,l,C,T){e-=T,i+=C,l+=T,this.minX=this.minX<(r-=C)?this.minX:r,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>l?this.maxY:l},u}(),no=function(u,r){return(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)};function We(u,r){function e(){this.constructor=u}no(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var tt=function(u){function r(){var e=u.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Br,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Dr,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return We(r,u),r.mixin=function(e){for(var i=Object.keys(e),l=0;l<i.length;++l){var C=i[l];Object.defineProperty(r.prototype,C,Object.getOwnPropertyDescriptor(e,C))}},r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(e,i){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new Gi),i=this._boundsRect),this._bounds.getRectangle(i)},r.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Gi),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Dr);var i=this.transform,l=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var C=this._bounds,T=this._boundsID;this._bounds=this._localBounds;var V=this.getBounds(!1,e);return this.parent=l,this.transform=i,this._bounds=C,this._bounds.updateID+=this._boundsID-T,V},r.prototype.toGlobal=function(e,i,l){return void 0===l&&(l=!1),l||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,i)},r.prototype.toLocal=function(e,i,l,C){return i&&(e=i.toGlobal(e,l,C)),C||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,l)},r.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},r.prototype.setTransform=function(e,i,l,C,T,V,ue,Ee,Ge){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===l&&(l=1),void 0===C&&(C=1),void 0===T&&(T=0),void 0===V&&(V=0),void 0===ue&&(ue=0),void 0===Ee&&(Ee=0),void 0===Ge&&(Ge=0),this.position.x=e,this.position.y=i,this.scale.x=l||1,this.scale.y=C||1,this.rotation=T,this.skew.x=V,this.skew.y=ue,this.pivot.x=Ee,this.pivot.y=Ge,this},r.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new ht),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},r.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*Pr},set:function(e){this.transform.rotation=e*Ki},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(e){var i;this._mask&&((i=this._mask.maskObject||this._mask).renderable=!0,i.isMask=!1),this._mask=e,this._mask&&((i=this._mask.maskObject||this._mask).renderable=!1,i.isMask=!0)},enumerable:!1,configurable:!0}),r}(xe()),ht=function(u){function r(){var e=null!==u&&u.apply(this,arguments)||this;return e.sortDirty=null,e}return We(r,u),r}(tt);function Rt(u,r){return u.zIndex===r.zIndex?u._lastSortedIndex-r._lastSortedIndex:u.zIndex-r.zIndex}tt.prototype.displayObjectUpdateTransform=tt.prototype.updateTransform;var Qt=function(u){function r(){var e=u.call(this)||this;return e.children=[],e.sortableChildren=pe.SORTABLE_CHILDREN,e.sortDirty=!1,e}return We(r,u),r.prototype.onChildrenChange=function(e){},r.prototype.addChild=function(){for(var e=arguments,i=[],l=0;l<arguments.length;l++)i[l]=e[l];if(i.length>1)for(var C=0;C<i.length;C++)this.addChild(i[C]);else{var T=i[0];T.parent&&T.parent.removeChild(T),T.parent=this,this.sortDirty=!0,T.transform._parentID=-1,this.children.push(T),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",T,this,this.children.length-1),T.emit("added",this)}return i[0]},r.prototype.addChildAt=function(e,i){if(i<0||i>this.children.length)throw new Error(e+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(i,0,e),this._boundsID++,this.onChildrenChange(i),e.emit("added",this),this.emit("childAdded",e,this,i),e},r.prototype.swapChildren=function(e,i){if(e!==i){var l=this.getChildIndex(e),C=this.getChildIndex(i);this.children[l]=i,this.children[C]=e,this.onChildrenChange(l<C?l:C)}},r.prototype.getChildIndex=function(e){var i=this.children.indexOf(e);if(-1===i)throw new Error("The supplied DisplayObject must be a child of the caller");return i},r.prototype.setChildIndex=function(e,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var l=this.getChildIndex(e);Zt(this.children,l,1),this.children.splice(i,0,e),this.onChildrenChange(i)},r.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},r.prototype.removeChild=function(){for(var e=arguments,i=[],l=0;l<arguments.length;l++)i[l]=e[l];if(i.length>1)for(var C=0;C<i.length;C++)this.removeChild(i[C]);else{var T=i[0],V=this.children.indexOf(T);if(-1===V)return null;T.parent=null,T.transform._parentID=-1,Zt(this.children,V,1),this._boundsID++,this.onChildrenChange(V),T.emit("removed",this),this.emit("childRemoved",T,this,V)}return i[0]},r.prototype.removeChildAt=function(e){var i=this.getChildAt(e);return i.parent=null,i.transform._parentID=-1,Zt(this.children,e,1),this._boundsID++,this.onChildrenChange(e),i.emit("removed",this),this.emit("childRemoved",i,this,e),i},r.prototype.removeChildren=function(e,i){void 0===e&&(e=0),void 0===i&&(i=this.children.length);var V,T=i-e;if(T>0&&T<=i){V=this.children.splice(e,T);for(var ue=0;ue<V.length;++ue)V[ue].parent=null,V[ue].transform&&(V[ue].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),ue=0;ue<V.length;++ue)V[ue].emit("removed",this),this.emit("childRemoved",V[ue],this,ue);return V}if(0===T&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var e=!1,i=0,l=this.children.length;i<l;++i){var C=this.children[i];C._lastSortedIndex=i,!e&&0!==C.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(Rt),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,i=this.children.length;e<i;++e){var l=this.children[e];l.visible&&l.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var i=this.children[e];if(i.visible&&i.renderable)if(i.calculateBounds(),i._mask){var l=i._mask.maskObject||i._mask;l.calculateBounds(),this._bounds.addBoundsMask(i._bounds,l._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var l=u.prototype.getLocalBounds.call(this,e);if(!i)for(var C=0,T=this.children.length;C<T;++C){var V=this.children[C];V.visible&&V.updateTransform()}return l},r.prototype._calculateBounds=function(){},r.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var i=0,l=this.children.length;i<l;++i)this.children[i].render(e)}},r.prototype.renderAdvanced=function(e){e.batch.flush();var i=this.filters,l=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var C=0;C<i.length;C++)i[C].enabled&&this._enabledFilters.push(i[C]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}l&&e.mask.push(this,this._mask),this._render(e),C=0;for(var T=this.children.length;C<T;C++)this.children[C].render(e);e.batch.flush(),l&&e.mask.pop(this),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},r.prototype._render=function(e){},r.prototype.destroy=function(e){u.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,l=this.removeChildren(0,this.children.length);if(i)for(var C=0;C<l.length;++C)l[C].destroy(e)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var i=this.getLocalBounds().width;this.scale.x=0!==i?e/i:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var i=this.getLocalBounds().height;this.scale.y=0!==i?e/i:1,this._height=e},enumerable:!1,configurable:!0}),r}(tt);Qt.prototype.containerUpdateTransform=Qt.prototype.updateTransform;var rt={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};tt.mixin(rt);var Yt=100,mn=0,sn=0,jn=2,fo=function(){function u(r){this._hookDiv=null,(ze.tablet||ze.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=Yt+"px",e.style.height=Yt+"px",e.style.position="absolute",e.style.top=mn+"px",e.style.left=sn+"px",e.style.zIndex=jn.toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=r,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(u.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),u.prototype.createTouchHook=function(){var r=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){r._isMobileAccessibility=!0,r.activate(),r.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},u.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},u.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},u.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},u.prototype.updateAccessibleObjects=function(r){if(r.visible&&r.accessibleChildren){r.accessible&&r.interactive&&(r._accessibleActive||this.addChild(r),r.renderId=this.renderId);for(var e=r.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},u.prototype.update=function(){var r=performance.now();if(!(ze.android.device&&r<this.androidUpdateCount)&&(this.androidUpdateCount=r+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),i=this.renderer.resolution,l=e.width/this.renderer.width*i,C=e.height/this.renderer.height*i,T=this.div;T.style.left=e.left+"px",T.style.top=e.top+"px",T.style.width=this.renderer.width+"px",T.style.height=this.renderer.height+"px";for(var V=0;V<this.children.length;V++){var ue=this.children[V];if(ue.renderId!==this.renderId)ue._accessibleActive=!1,Zt(this.children,V,1),this.div.removeChild(ue._accessibleDiv),this.pool.push(ue._accessibleDiv),ue._accessibleDiv=null,V--;else{T=ue._accessibleDiv;var Ee=ue.hitArea,Ge=ue.worldTransform;ue.hitArea?(T.style.left=(Ge.tx+Ee.x*Ge.a)*l+"px",T.style.top=(Ge.ty+Ee.y*Ge.d)*C+"px",T.style.width=Ee.width*Ge.a*l+"px",T.style.height=Ee.height*Ge.d*C+"px"):(Ee=ue.getBounds(),this.capHitArea(Ee),T.style.left=Ee.x*l+"px",T.style.top=Ee.y*C+"px",T.style.width=Ee.width*l+"px",T.style.height=Ee.height*C+"px",T.title!==ue.accessibleTitle&&null!==ue.accessibleTitle&&(T.title=ue.accessibleTitle),T.getAttribute("aria-label")!==ue.accessibleHint&&null!==ue.accessibleHint&&T.setAttribute("aria-label",ue.accessibleHint)),(ue.accessibleTitle!==T.title||ue.tabIndex!==T.tabIndex)&&(T.title=ue.accessibleTitle,T.tabIndex=ue.tabIndex,this.debug&&this.updateDebugHTML(T))}}this.renderId++}},u.prototype.updateDebugHTML=function(r){r.innerHTML="type: "+r.type+"</br> title : "+r.title+"</br> tabIndex: "+r.tabIndex},u.prototype.capHitArea=function(r){r.x<0&&(r.width+=r.x,r.x=0),r.y<0&&(r.height+=r.y,r.y=0),r.x+r.width>this.renderer.width&&(r.width=this.renderer.width-r.x),r.y+r.height>this.renderer.height&&(r.height=this.renderer.height-r.y)},u.prototype.addChild=function(r){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=Yt+"px",e.style.height=Yt+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=jn.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=r.accessiblePointerEvents,e.type=r.accessibleType,r.accessibleTitle&&null!==r.accessibleTitle?e.title=r.accessibleTitle:(!r.accessibleHint||null===r.accessibleHint)&&(e.title="displayObject "+r.tabIndex),r.accessibleHint&&null!==r.accessibleHint&&e.setAttribute("aria-label",r.accessibleHint),this.debug&&this.updateDebugHTML(e),r._accessibleActive=!0,r._accessibleDiv=e,e.displayObject=r,this.children.push(r),this.div.appendChild(r._accessibleDiv),r._accessibleDiv.tabIndex=r.tabIndex},u.prototype._onClick=function(r){var e=this.renderer.plugins.interaction;e.dispatchEvent(r.target.displayObject,"click",e.eventData),e.dispatchEvent(r.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(r.target.displayObject,"tap",e.eventData)},u.prototype._onFocus=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(r.target.displayObject,"mouseover",e.eventData)},u.prototype._onFocusOut=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(r.target.displayObject,"mouseout",e.eventData)},u.prototype._onKeyDown=function(r){9===r.keyCode&&this.activate()},u.prototype._onMouseMove=function(r){0===r.movementX&&0===r.movementY||this.deactivate()},u.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},u}();pe.TARGET_FPMS=.06;var Mi=(()=>{return(u=Mi||(Mi={}))[u.INTERACTION=50]="INTERACTION",u[u.HIGH=25]="HIGH",u[u.NORMAL=0]="NORMAL",u[u.LOW=-25]="LOW",u[u.UTILITY=-50]="UTILITY",Mi;var u})(),Ir=function(){function u(r,e,i,l){void 0===e&&(e=null),void 0===i&&(i=0),void 0===l&&(l=!1),this.fn=r,this.context=e,this.priority=i,this.once=l,this.next=null,this.previous=null,this._destroyed=!1}return u.prototype.match=function(r,e){return void 0===e&&(e=null),this.fn===r&&this.context===e},u.prototype.emit=function(r){this.fn&&(this.context?this.fn.call(this.context,r):this.fn(r));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},u.prototype.connect=function(r){this.previous=r,r.next&&(r.next.previous=this),this.next=r.next,r.next=this},u.prototype.destroy=function(r){void 0===r&&(r=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=r?null:e,this.previous=null,e},u}(),mr=function(){function u(){var r=this;this._head=new Ir(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/pe.TARGET_FPMS,this.elapsedMS=1/pe.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){r._requestId=null,r.started&&(r.update(e),r.started&&null===r._requestId&&r._head.next&&(r._requestId=requestAnimationFrame(r._tick)))}}return u.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},u.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},u.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},u.prototype.add=function(r,e,i){return void 0===i&&(i=Mi.NORMAL),this._addListener(new Ir(r,e,i))},u.prototype.addOnce=function(r,e,i){return void 0===i&&(i=Mi.NORMAL),this._addListener(new Ir(r,e,i,!0))},u.prototype._addListener=function(r){var e=this._head.next,i=this._head;if(e){for(;e;){if(r.priority>e.priority){r.connect(i);break}i=e,e=e.next}r.previous||r.connect(i)}else r.connect(i);return this._startIfPossible(),this},u.prototype.remove=function(r,e){for(var i=this._head.next;i;)i=i.match(r,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(u.prototype,"count",{get:function(){if(!this._head)return 0;for(var r=0,e=this._head;e=e.next;)r++;return r},enumerable:!1,configurable:!0}),u.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},u.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},u.prototype.destroy=function(){if(!this._protected){this.stop();for(var r=this._head.next;r;)r=r.destroy(!0);this._head.destroy(),this._head=null}},u.prototype.update=function(r){var e;if(void 0===r&&(r=performance.now()),r>this.lastTime){if((e=this.elapsedMS=r-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=r-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=r-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*pe.TARGET_FPMS;for(var l=this._head,C=l.next;C;)C=C.emit(this.deltaTime);l.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r},Object.defineProperty(u.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(r){var e=Math.min(this.maxFPS,r),i=Math.min(Math.max(0,e)/1e3,pe.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(r){if(0===r)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,r);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(u,"shared",{get:function(){if(!u._shared){var r=u._shared=new u;r.autoStart=!0,r._protected=!0}return u._shared},enumerable:!1,configurable:!0}),Object.defineProperty(u,"system",{get:function(){if(!u._system){var r=u._system=new u;r.autoStart=!0,r._protected=!0}return u._system},enumerable:!1,configurable:!0}),u}(),io=function(){function u(){}return u.init=function(r){var e=this;r=Object.assign({autoStart:!0,sharedTicker:!1},r),Object.defineProperty(this,"ticker",{set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,Mi.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=r.sharedTicker?mr.shared:new mr,r.autoStart&&this.start()},u.destroy=function(){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}},u}(),ao=function(){function u(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new yr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(u.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),u.prototype.getLocalPosition=function(r,e,i){return r.worldTransform.applyInverse(i||this.global,e)},u.prototype.copyEvent=function(r){"isPrimary"in r&&r.isPrimary&&(this.isPrimary=!0),this.button="button"in r&&r.button;var e="buttons"in r&&r.buttons;this.buttons=Number.isInteger(e)?e:"which"in r&&r.which,this.width="width"in r&&r.width,this.height="height"in r&&r.height,this.tiltX="tiltX"in r&&r.tiltX,this.tiltY="tiltY"in r&&r.tiltY,this.pointerType="pointerType"in r&&r.pointerType,this.pressure="pressure"in r&&r.pressure,this.rotationAngle="rotationAngle"in r&&r.rotationAngle,this.twist="twist"in r&&r.twist||0,this.tangentialPressure="tangentialPressure"in r&&r.tangentialPressure||0},u.prototype.reset=function(){this.isPrimary=!1},u}(),To=function(u,r){return(To=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},jr=function(){function u(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return u.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},u.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},u}(),$i=function(){function u(r){this._pointerId=r,this._flags=u.FLAGS.NONE}return u.prototype._doSet=function(r,e){this._flags=e?this._flags|r:this._flags&~r},Object.defineProperty(u.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"flags",{get:function(){return this._flags},set:function(r){this._flags=r},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"none",{get:function(){return this._flags===u.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"over",{get:function(){return 0!=(this._flags&u.FLAGS.OVER)},set:function(r){this._doSet(u.FLAGS.OVER,r)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rightDown",{get:function(){return 0!=(this._flags&u.FLAGS.RIGHT_DOWN)},set:function(r){this._doSet(u.FLAGS.RIGHT_DOWN,r)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"leftDown",{get:function(){return 0!=(this._flags&u.FLAGS.LEFT_DOWN)},set:function(r){this._doSet(u.FLAGS.LEFT_DOWN,r)},enumerable:!1,configurable:!0}),u.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),u}(),Ue=function(){function u(){this._tempPoint=new yr}return u.prototype.recursiveFindHit=function(r,e,i,l,C){if(!e||!e.visible)return!1;var T=r.data.global,V=!1,ue=C=e.interactive||C,Ee=!0;if(e.hitArea?(l&&(e.worldTransform.applyInverse(T,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?V=!0:(l=!1,Ee=!1)),ue=!1):e._mask&&l&&(e._mask.containsPoint&&e._mask.containsPoint(T)||(l=!1)),Ee&&e.interactiveChildren&&e.children)for(var Ge=e.children,$e=Ge.length-1;$e>=0;$e--){var je=Ge[$e],pt=this.recursiveFindHit(r,je,i,l,ue);if(pt){if(!je.parent)continue;ue=!1,pt&&(r.target&&(l=!1),V=!0)}}return C&&(l&&!r.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(T)&&(V=!0),e.interactive&&(V&&!r.target&&(r.target=e),i&&i(r,e,!!V))),V},u.prototype.findHit=function(r,e,i,l){this.recursiveFindHit(r,e,i,l,!1)},u}(),ot={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(u){u?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};tt.mixin(ot);var wt=1,Wt={target:null,data:{global:null}},Gt=function(u){function r(e,i){var l=u.call(this)||this;return i=i||{},l.renderer=e,l.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,l.interactionFrequency=i.interactionFrequency||10,l.mouse=new ao,l.mouse.identifier=wt,l.mouse.global.set(-999999),l.activeInteractionData={},l.activeInteractionData[wt]=l.mouse,l.interactionDataPool=[],l.eventData=new jr,l.interactionDOMElement=null,l.moveWhenInside=!1,l.eventsAdded=!1,l.tickerAdded=!1,l.mouseOverRenderer=!1,l.supportsTouchEvents="ontouchstart"in window,l.supportsPointerEvents=!!window.PointerEvent,l.onPointerUp=l.onPointerUp.bind(l),l.processPointerUp=l.processPointerUp.bind(l),l.onPointerCancel=l.onPointerCancel.bind(l),l.processPointerCancel=l.processPointerCancel.bind(l),l.onPointerDown=l.onPointerDown.bind(l),l.processPointerDown=l.processPointerDown.bind(l),l.onPointerMove=l.onPointerMove.bind(l),l.processPointerMove=l.processPointerMove.bind(l),l.onPointerOut=l.onPointerOut.bind(l),l.processPointerOverOut=l.processPointerOverOut.bind(l),l.onPointerOver=l.onPointerOver.bind(l),l.cursorStyles={default:"inherit",pointer:"pointer"},l.currentCursorMode=null,l.cursor=null,l.resolution=1,l.delayedEvents=[],l.search=new Ue,l._tempDisplayObject=new ht,l._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,l.setTargetElement(l.renderer.view,l.renderer.resolution),l}return function Zo(u,r){function e(){this.constructor=u}To(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(e,i){return Wt.target=null,Wt.data.global=e,i||(i=this.lastObjectRendered),this.processInteractive(Wt,i,null,!0),Wt.target},r.prototype.setTargetElement=function(e,i){void 0===i&&(i=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=i,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(mr.system.add(this.tickerUpdate,this,Mi.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){this.tickerAdded&&(mr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},r.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var l=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(l,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(e){if(this.currentCursorMode!==(e=e||"default")){this.currentCursorMode=e;var i=this.cursorStyles[e];if(i)switch(typeof i){case"string":this.interactionDOMElement.style.cursor=i;break;case"function":i(e);break;case"object":Object.assign(this.interactionDOMElement.style,i)}else"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},r.prototype.dispatchEvent=function(e,i,l){(!l.stopPropagationHint||e===l.stopsPropagatingAt)&&(l.currentTarget=e,l.type=i,e.emit(i,l),e[i]&&e[i](l))},r.prototype.delayDispatchEvent=function(e,i,l){this.delayedEvents.push({displayObject:e,eventString:i,eventData:l})},r.prototype.mapPositionToPoint=function(e,i,l){var C;C=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var T=1/this.resolution;e.x=this.interactionDOMElement.width/C.width*(i-C.left)*T,e.y=this.interactionDOMElement.height/C.height*(l-C.top)*T},r.prototype.processInteractive=function(e,i,l,C){var T=this.search.findHit(e,i,l,C),V=this.delayedEvents;if(!V.length)return T;e.stopPropagationHint=!1;var ue=V.length;this.delayedEvents=[];for(var Ee=0;Ee<ue;Ee++){var Ge=V[Ee],$e=Ge.displayObject,je=Ge.eventString,pt=Ge.eventData;pt.stopsPropagatingAt===$e&&(pt.stopPropagationHint=!0),this.dispatchEvent($e,je,pt)}return T},r.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);this.autoPreventDefault&&i[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var C=i.length,T=0;T<C;T++){var V=i[T],ue=this.getInteractionDataForPointerId(V),Ee=this.configureInteractionEventForDOMEvent(this.eventData,V,ue);Ee.data.originalEvent=e,this.processInteractive(Ee,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",Ee),"touch"===V.pointerType?this.emit("touchstart",Ee):"mouse"!==V.pointerType&&"pen"!==V.pointerType||this.emit(2===V.button?"rightdown":"mousedown",this.eventData)}}},r.prototype.processPointerDown=function(e,i,l){var C=e.data,T=e.data.identifier;if(l)if(i.trackedPointers[T]||(i.trackedPointers[T]=new $i(T)),this.dispatchEvent(i,"pointerdown",e),"touch"===C.pointerType)this.dispatchEvent(i,"touchstart",e);else if("mouse"===C.pointerType||"pen"===C.pointerType){var V=2===C.button;V?i.trackedPointers[T].rightDown=!0:i.trackedPointers[T].leftDown=!0,this.dispatchEvent(i,V?"rightdown":"mousedown",e)}},r.prototype.onPointerComplete=function(e,i,l){for(var C=this.normalizeToPointerData(e),T=C.length,V=e.target!==this.interactionDOMElement?"outside":"",ue=0;ue<T;ue++){var Ee=C[ue],Ge=this.getInteractionDataForPointerId(Ee),$e=this.configureInteractionEventForDOMEvent(this.eventData,Ee,Ge);$e.data.originalEvent=e,this.processInteractive($e,this.lastObjectRendered,l,i||!V),this.emit(i?"pointercancel":"pointerup"+V,$e),"mouse"===Ee.pointerType||"pen"===Ee.pointerType?this.emit(2===Ee.button?"rightup"+V:"mouseup"+V,$e):"touch"===Ee.pointerType&&(this.emit(i?"touchcancel":"touchend"+V,$e),this.releaseInteractionDataForPointerId(Ee.pointerId))}},r.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(e,i){var l=e.data,C=e.data.identifier;void 0!==i.trackedPointers[C]&&(delete i.trackedPointers[C],this.dispatchEvent(i,"pointercancel",e),"touch"===l.pointerType&&this.dispatchEvent(i,"touchcancel",e))},r.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},r.prototype.processPointerUp=function(e,i,l){var C=e.data,T=e.data.identifier,V=i.trackedPointers[T],ue="touch"===C.pointerType,Ee="mouse"===C.pointerType||"pen"===C.pointerType,Ge=!1;if(Ee){var $e=2===C.button,je=$i.FLAGS,St=void 0!==V&&V.flags&($e?je.RIGHT_DOWN:je.LEFT_DOWN);l?(this.dispatchEvent(i,$e?"rightup":"mouseup",e),St&&(this.dispatchEvent(i,$e?"rightclick":"click",e),Ge=!0)):St&&this.dispatchEvent(i,$e?"rightupoutside":"mouseupoutside",e),V&&($e?V.rightDown=!1:V.leftDown=!1)}l?(this.dispatchEvent(i,"pointerup",e),ue&&this.dispatchEvent(i,"touchend",e),V&&((!Ee||Ge)&&this.dispatchEvent(i,"pointertap",e),ue&&(this.dispatchEvent(i,"tap",e),V.over=!1))):V&&(this.dispatchEvent(i,"pointerupoutside",e),ue&&this.dispatchEvent(i,"touchendoutside",e)),V&&V.none&&delete i.trackedPointers[T]},r.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);("mouse"===i[0].pointerType||"pen"===i[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var l=i.length,C=0;C<l;C++){var T=i[C],V=this.getInteractionDataForPointerId(T),ue=this.configureInteractionEventForDOMEvent(this.eventData,T,V);ue.data.originalEvent=e,this.processInteractive(ue,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",ue),"touch"===T.pointerType&&this.emit("touchmove",ue),("mouse"===T.pointerType||"pen"===T.pointerType)&&this.emit("mousemove",ue)}"mouse"===i[0].pointerType&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(e,i,l){var C=e.data,T="touch"===C.pointerType,V="mouse"===C.pointerType||"pen"===C.pointerType;V&&this.processPointerOverOut(e,i,l),(!this.moveWhenInside||l)&&(this.dispatchEvent(i,"pointermove",e),T&&this.dispatchEvent(i,"touchmove",e),V&&this.dispatchEvent(i,"mousemove",e))},r.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var l=this.normalizeToPointerData(e)[0];"mouse"===l.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var C=this.getInteractionDataForPointerId(l),T=this.configureInteractionEventForDOMEvent(this.eventData,l,C);T.data.originalEvent=l,this.processInteractive(T,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",T),"mouse"===l.pointerType||"pen"===l.pointerType?this.emit("mouseout",T):this.releaseInteractionDataForPointerId(C.identifier)}},r.prototype.processPointerOverOut=function(e,i,l){var C=e.data,T=e.data.identifier,V="mouse"===C.pointerType||"pen"===C.pointerType,ue=i.trackedPointers[T];l&&!ue&&(ue=i.trackedPointers[T]=new $i(T)),void 0!==ue&&(l&&this.mouseOverRenderer?(ue.over||(ue.over=!0,this.delayDispatchEvent(i,"pointerover",e),V&&this.delayDispatchEvent(i,"mouseover",e)),V&&null===this.cursor&&(this.cursor=i.cursor)):ue.over&&(ue.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),V&&this.dispatchEvent(i,"mouseout",e),ue.none&&delete i.trackedPointers[T]))},r.prototype.onPointerOver=function(e){var l=this.normalizeToPointerData(e)[0],C=this.getInteractionDataForPointerId(l),T=this.configureInteractionEventForDOMEvent(this.eventData,l,C);T.data.originalEvent=l,"mouse"===l.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",T),("mouse"===l.pointerType||"pen"===l.pointerType)&&this.emit("mouseover",T)},r.prototype.getInteractionDataForPointerId=function(e){var l,i=e.pointerId;return i===wt||"mouse"===e.pointerType?l=this.mouse:this.activeInteractionData[i]?l=this.activeInteractionData[i]:((l=this.interactionDataPool.pop()||new ao).identifier=i,this.activeInteractionData[i]=l),l.copyEvent(e),l},r.prototype.releaseInteractionDataForPointerId=function(e){var i=this.activeInteractionData[e];i&&(delete this.activeInteractionData[e],i.reset(),this.interactionDataPool.push(i))},r.prototype.configureInteractionEventForDOMEvent=function(e,i,l){return e.data=l,this.mapPositionToPoint(l.global,i.clientX,i.clientY),"touch"===i.pointerType&&(i.globalX=l.global.x,i.globalY=l.global.y),l.originalEvent=i,e.reset(),e},r.prototype.normalizeToPointerData=function(e){var i=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var l=0,C=e.changedTouches.length;l<C;l++){var T=e.changedTouches[l];typeof T.button>"u"&&(T.button=e.touches.length?1:0),typeof T.buttons>"u"&&(T.buttons=e.touches.length?1:0),typeof T.isPrimary>"u"&&(T.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof T.width>"u"&&(T.width=T.radiusX||1),typeof T.height>"u"&&(T.height=T.radiusY||1),typeof T.tiltX>"u"&&(T.tiltX=0),typeof T.tiltY>"u"&&(T.tiltY=0),typeof T.pointerType>"u"&&(T.pointerType="touch"),typeof T.pointerId>"u"&&(T.pointerId=T.identifier||0),typeof T.pressure>"u"&&(T.pressure=T.force||.5),typeof T.twist>"u"&&(T.twist=0),typeof T.tangentialPressure>"u"&&(T.tangentialPressure=0),typeof T.layerX>"u"&&(T.layerX=T.offsetX=T.clientX),typeof T.layerY>"u"&&(T.layerY=T.offsetY=T.clientY),T.isNormalized=!0,i.push(T)}else if(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent)i.push(e);else{var V=e;typeof V.isPrimary>"u"&&(V.isPrimary=!0),typeof V.width>"u"&&(V.width=1),typeof V.height>"u"&&(V.height=1),typeof V.tiltX>"u"&&(V.tiltX=0),typeof V.tiltY>"u"&&(V.tiltY=0),typeof V.pointerType>"u"&&(V.pointerType="mouse"),typeof V.pointerId>"u"&&(V.pointerId=wt),typeof V.pressure>"u"&&(V.pressure=.5),typeof V.twist>"u"&&(V.twist=0),typeof V.tangentialPressure>"u"&&(V.tangentialPressure=0),V.isNormalized=!0,i.push(V)}return i},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r}(xe()),cn=function(){function u(r){this.items=[],this._name=r,this._aliasCount=0}return u.prototype.emit=function(r,e,i,l,C,T,V,ue){if(arguments.length>8)throw new Error("max arguments reached");var Ge=this.name,$e=this.items;this._aliasCount++;for(var je=0,pt=$e.length;je<pt;je++)$e[je][Ge](r,e,i,l,C,T,V,ue);return $e===this.items&&this._aliasCount--,this},u.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},u.prototype.add=function(r){return r[this._name]&&(this.ensureNonAliasedItems(),this.remove(r),this.items.push(r)),this},u.prototype.remove=function(r){var e=this.items.indexOf(r);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},u.prototype.contains=function(r){return-1!==this.items.indexOf(r)},u.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},u.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(u.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),u}();Object.defineProperties(cn.prototype,{dispatch:{value:cn.prototype.emit},run:{value:cn.prototype.emit}}),pe.PREFER_ENV=ze.any?we.WEBGL:we.WEBGL2,pe.STRICT_TEXTURE_CACHE=!1;var Fn=[];function Tn(u,r){if(!u)return null;var e="";if("string"==typeof u){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(u);i&&(e=i[1].toLowerCase())}for(var l=Fn.length-1;l>=0;--l){var C=Fn[l];if(C.test&&C.test(u,e))return new C(u,r)}throw new Error("Unrecognized source type to auto-detect Resource")}var Vn=function(u,r){return(Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)};function wn(u,r){function e(){this.constructor=u}Vn(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var ei=function(){function u(r,e){void 0===r&&(r=0),void 0===e&&(e=0),this._width=r,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new cn("setRealSize"),this.onUpdate=new cn("update"),this.onError=new cn("onError")}return u.prototype.bind=function(r){this.onResize.add(r),this.onUpdate.add(r),this.onError.add(r),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},u.prototype.unbind=function(r){this.onResize.remove(r),this.onUpdate.remove(r),this.onError.remove(r)},u.prototype.resize=function(r,e){(r!==this._width||e!==this._height)&&(this._width=r,this._height=e,this.onResize.emit(r,e))},Object.defineProperty(u.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),u.prototype.update=function(){this.destroyed||this.onUpdate.emit()},u.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(u.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),u.prototype.style=function(r,e,i){return!1},u.prototype.dispose=function(){},u.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},u.test=function(r,e){return!1},u}(),Yi=function(u){function r(e,i){var l=this,C=i||{},T=C.width,V=C.height;if(!T||!V)throw new Error("BufferResource width or height invalid");return(l=u.call(this,T,V)||this).data=e,l}return wn(r,u),r.prototype.upload=function(e,i,l){var C=e.gl;return C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===st.UNPACK),l.width===i.width&&l.height===i.height?C.texSubImage2D(i.target,0,0,0,i.width,i.height,i.format,i.type,this.data):(l.width=i.width,l.height=i.height,C.texImage2D(i.target,0,l.internalFormat,i.width,i.height,0,i.format,l.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},r}(ei),_i={scaleMode:En.NEAREST,format:bt.RGBA,alphaMode:st.NPM},mi=function(u){function r(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var l=u.call(this)||this,C=(i=i||{}).alphaMode,T=i.mipmap,V=i.anisotropicLevel,ue=i.scaleMode,Ee=i.width,Ge=i.height,$e=i.wrapMode,je=i.format,pt=i.type,St=i.target,It=i.resolution;return e&&!(e instanceof ei)&&((e=Tn(e,i.resourceOptions)).internal=!0),l.width=Ee||0,l.height=Ge||0,l.resolution=It||pe.RESOLUTION,l.mipmap=void 0!==T?T:pe.MIPMAP_TEXTURES,l.anisotropicLevel=void 0!==V?V:pe.ANISOTROPIC_LEVEL,l.wrapMode=$e||pe.WRAP_MODE,l.scaleMode=void 0!==ue?ue:pe.SCALE_MODE,l.format=je||bt.RGBA,l.type=pt||un.UNSIGNED_BYTE,l.target=St||Mt.TEXTURE_2D,l.alphaMode=void 0!==C?C:st.UNPACK,void 0!==i.premultiplyAlpha&&(l.premultiplyAlpha=i.premultiplyAlpha),l.uid=gn(),l.touched=0,l.isPowerOfTwo=!1,l._refreshPOT(),l._glTextures={},l.dirtyId=0,l.dirtyStyleId=0,l.cacheId=null,l.valid=Ee>0&&Ge>0,l.textureCacheIds=[],l.destroyed=!1,l.resource=null,l._batchEnabled=0,l._batchLocation=0,l.parentTextureArray=null,l.setResource(e),l}return wn(r,u),Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(e,i){var l;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,l=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,l=!0),l&&this.dirtyStyleId++,this},r.prototype.setSize=function(e,i,l){return this.resolution=l||this.resolution,this.width=e,this.height=i,this._refreshPOT(),this.update(),this},r.prototype.setRealSize=function(e,i,l){return this.resolution=l||this.resolution,this.width=e/this.resolution,this.height=i/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=dr(this.realWidth)&&dr(this.realHeight)},r.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=this.width*i/e,this.height=this.height*i/e,this.emit("update",this)),this._refreshPOT()),this},r.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(e){this.emit("error",this,e)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ti[this.cacheId],delete ai[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(e,i,l){void 0===l&&(l=pe.STRICT_TEXTURE_CACHE);var C="string"==typeof e,T=null;C?T=e:(e._pixiId||(e._pixiId="pixiid_"+gn()),T=e._pixiId);var V=ti[T];if(C&&l&&!V)throw new Error('The cacheId "'+T+'" does not exist in BaseTextureCache.');return V||((V=new r(e,i)).cacheId=T,r.addToCache(V,T)),V},r.fromBuffer=function(e,i,l,C){e=e||new Float32Array(i*l*4);var T=new Yi(e,{width:i,height:l}),V=e instanceof Float32Array?un.FLOAT:un.UNSIGNED_BYTE;return new r(T,Object.assign(_i,C||{width:i,height:l,type:V}))},r.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),ti[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),ti[i]=e)},r.removeFromCache=function(e){if("string"==typeof e){var i=ti[e];if(i){var l=i.textureCacheIds.indexOf(e);return l>-1&&i.textureCacheIds.splice(l,1),delete ti[e],i}}else if(e&&e.textureCacheIds){for(var C=0;C<e.textureCacheIds.length;++C)delete ti[e.textureCacheIds[C]];return e.textureCacheIds.length=0,e}return null},r._globalBatch=0,r}(xe()),Tr=function(u){function r(e,i){var l=this,C=i||{};(l=u.call(this,C.width,C.height)||this).items=[],l.itemDirtyIds=[];for(var ue=0;ue<e;ue++){var Ee=new mi;l.items.push(Ee),l.itemDirtyIds.push(-2)}return l.length=e,l._load=null,l.baseTexture=null,l}return wn(r,u),r.prototype.initFromArray=function(e,i){for(var l=0;l<this.length;l++)e[l]&&(e[l].castToBaseTexture?this.addBaseTextureAt(e[l].castToBaseTexture(),l):this.addResourceAt(e[l]instanceof ei?e[l]:Tn(e[l],i),l))},r.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},r.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},r.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");u.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},r.prototype.unbind=function(e){u.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},r.prototype.load=function(){var e=this;if(this._load)return this._load;var l=this.items.map(function(C){return C.resource}).filter(function(C){return C}).map(function(C){return C.load()});return this._load=Promise.all(l).then(function(){var C=e.items[0];return e.resize(C.realWidth,C.realHeight),Promise.resolve(e)}),this._load},r}(ei),Ur=function(u){function r(e,i){var ue,Ee,l=this,C=i||{},T=C.width,V=C.height;return Array.isArray(e)?(ue=e,Ee=e.length):Ee=e,l=u.call(this,Ee,{width:T,height:V})||this,ue&&l.initFromArray(ue,i),l}return wn(r,u),r.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},r.prototype.bind=function(e){u.prototype.bind.call(this,e),e.target=Mt.TEXTURE_2D_ARRAY},r.prototype.upload=function(e,i,l){var C=this,T=C.length,V=C.itemDirtyIds,ue=C.items,Ee=e.gl;l.dirtyId<0&&Ee.texImage3D(Ee.TEXTURE_2D_ARRAY,0,i.format,this._width,this._height,T,0,i.format,i.type,null);for(var Ge=0;Ge<T;Ge++){var $e=ue[Ge];V[Ge]<$e.dirtyId&&(V[Ge]=$e.dirtyId,$e.valid&&Ee.texSubImage3D(Ee.TEXTURE_2D_ARRAY,0,0,0,Ge,$e.resource.width,$e.resource.height,1,i.format,i.type,$e.resource.source))}return!0},r}(Tr),sr=function(u){function r(e){var i=this;return(i=u.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return wn(r,u),r.crossOrigin=function(e,i,l){void 0===l&&0!==i.indexOf("data:")?e.crossOrigin=Un(i):!1!==l&&(e.crossOrigin="string"==typeof l?l:"anonymous")},r.prototype.upload=function(e,i,l,C){var T=e.gl,V=i.realWidth,ue=i.realHeight;return C=C||this.source,T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===st.UNPACK),this.noSubImage||i.target!==T.TEXTURE_2D||l.width!==V||l.height!==ue?(l.width=V,l.height=ue,T.texImage2D(i.target,0,i.format,i.format,i.type,C)):T.texSubImage2D(T.TEXTURE_2D,0,0,0,i.format,i.type,C),!0},r.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),u.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(ei),xr=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return wn(r,u),r.test=function(e){var i=window.OffscreenCanvas;return!!(i&&e instanceof i)||e instanceof HTMLCanvasElement},r}(sr),wi=function(u){function r(e,i){var l=this,C=i||{},T=C.width,V=C.height,ue=C.autoLoad,Ee=C.linkBaseTexture;if(e&&e.length!==r.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");l=u.call(this,6,{width:T,height:V})||this;for(var Ge=0;Ge<r.SIDES;Ge++)l.items[Ge].target=Mt.TEXTURE_CUBE_MAP_POSITIVE_X+Ge;return l.linkBaseTexture=!1!==Ee,e&&l.initFromArray(e,i),!1!==ue&&l.load(),l}return wn(r,u),r.prototype.bind=function(e){u.prototype.bind.call(this,e),e.target=Mt.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(e,i,l){if(void 0===l&&(l=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=Mt.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},r.prototype.upload=function(e,i,l){for(var C=this.itemDirtyIds,T=0;T<r.SIDES;T++){var V=this.items[T];C[T]<V.dirtyId&&(V.valid&&V.resource?(V.resource.upload(e,V,l),C[T]=V.dirtyId):C[T]<-1&&(e.gl.texImage2D(V.target,0,l.internalFormat,i.realWidth,i.realHeight,0,i.format,l.type,null),C[T]=-1))}return!0},r.test=function(e){return Array.isArray(e)&&e.length===r.SIDES},r.SIDES=6,r}(Tr),br=function(u){function r(e,i){var l=this;if(i=i||{},!(e instanceof HTMLImageElement)){var C=new Image;sr.crossOrigin(C,e,i.crossorigin),C.src=e,e=C}return l=u.call(this,e)||this,!e.complete&&l._width&&l._height&&(l._width=0,l._height=0),l.url=e.src,l._process=null,l.preserveBitmap=!1,l.createBitmap=(void 0!==i.createBitmap?i.createBitmap:pe.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,l.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,void 0!==i.premultiplyAlpha&&(l.premultiplyAlpha=i.premultiplyAlpha),l.bitmap=null,l._load=null,!1!==i.autoLoad&&l.load(),l}return wn(r,u),r.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(l,C){var T=i.source;i.url=T.src;var V=function(){i.destroyed||(T.onload=null,T.onerror=null,i.resize(T.width,T.height),i._load=null,l(i.createBitmap?i.process():i))};T.complete&&T.src?V():(T.onload=V,T.onerror=function(ue){C(ue),i.onError.emit(ue)})})),this._load},r.prototype.process=function(){var e=this,i=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(i,0,0,i.width,i.height,{premultiplyAlpha:this.alphaMode===st.UNPACK?"premultiply":"none"}).then(function(l){return e.destroyed?Promise.reject():(e.bitmap=l,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},r.prototype.upload=function(e,i,l){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return u.prototype.upload.call(this,e,i,l);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(u.prototype.upload.call(this,e,i,l,this.bitmap),!this.preserveBitmap){var C=!0,T=i._glTextures;for(var V in T){var ue=T[V];if(ue!==l&&ue.dirtyId!==i.dirtyId){C=!1;break}}C&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,u.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},r}(sr),zn=function(u){function r(e,i){var l=this;return i=i||{},(l=u.call(this,document.createElement("canvas"))||this)._width=0,l._height=0,l.svg=e,l.scale=i.scale||1,l._overrideWidth=i.width,l._overrideHeight=i.height,l._resolve=null,l._crossorigin=i.crossorigin,l._load=null,!1!==i.autoLoad&&l.load(),l}return wn(r,u),r.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},r.prototype._loadSvg=function(){var e=this,i=new Image;sr.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(l){e._resolve&&(i.onerror=null,e.onError.emit(l))},i.onload=function(){if(e._resolve){var l=i.width,C=i.height;if(!l||!C)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var T=l*e.scale,V=C*e.scale;(e._overrideWidth||e._overrideHeight)&&(T=e._overrideWidth||e._overrideHeight/C*l,V=e._overrideHeight||e._overrideWidth/l*C),T=Math.round(T),V=Math.round(V);var ue=e.source;ue.width=T,ue.height=V,ue._pixiId="canvas_"+gn(),ue.getContext("2d").drawImage(i,0,0,l,C,0,0,T,V),e._resolve(),e._resolve=null}}},r.getSize=function(e){var i=r.SVG_SIZE.exec(e),l={};return i&&(l[i[1]]=Math.round(parseFloat(i[3])),l[i[5]]=Math.round(parseFloat(i[7]))),l},r.prototype.dispose=function(){u.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},r.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&0===e.indexOf("<svg")},r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r}(sr),Bi=function(u){function r(e,i){var l=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var C=document.createElement("video");C.setAttribute("preload","auto"),C.setAttribute("webkit-playsinline",""),C.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),sr.crossOrigin(C,e[0].src||e[0],i.crossorigin);for(var V=0;V<e.length;++V){var ue=document.createElement("source"),Ee=e[V],Ge=Ee.src,$e=Ee.mime,je=(Ge=Ge||e[V]).split("?").shift().toLowerCase(),pt=je.substr(je.lastIndexOf(".")+1);$e=$e||r.MIME_TYPES[pt]||"video/"+pt,ue.src=Ge,ue.type=$e,C.appendChild(ue)}e=C}return(l=u.call(this,e)||this).noSubImage=!0,l._autoUpdate=!0,l._isConnectedToTicker=!1,l._updateFPS=i.updateFPS||0,l._msToNextUpdate=0,l.autoPlay=!1!==i.autoPlay,l._load=null,l._resolve=null,l._onCanPlay=l._onCanPlay.bind(l),l._onError=l._onError.bind(l),!1!==i.autoLoad&&l.load(),l}return wn(r,u),r.prototype.update=function(e){void 0===e&&(e=0),this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-mr.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(u.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},r.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(l){e.valid?l(e):(e._resolve=l,i.load())}),this._load},r.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},r.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},r.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},r.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(mr.shared.add(this.update,this),this._isConnectedToTicker=!0)},r.prototype._onPlayStop=function(){this._isConnectedToTicker&&(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},r.prototype.dispose=function(){this._isConnectedToTicker&&mr.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),u.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(mr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),r.test=function(e,i){return e instanceof HTMLVideoElement||r.TYPES.indexOf(i)>-1},r.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],r.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},r}(sr),Mr=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return wn(r,u),r.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},r}(sr);Fn.push(br,Mr,xr,Bi,zn,Yi,wi,Ur);var Gr={Resource:ei,BaseImageResource:sr,INSTALLED:Fn,autoDetectResource:Tn,AbstractMultiResource:Tr,ArrayResource:Ur,BufferResource:Yi,CanvasResource:xr,CubeResource:wi,ImageResource:br,SVGResource:zn,VideoResource:Bi,ImageBitmapResource:Mr},vr=function(){function u(r){this.renderer=r}return u.prototype.destroy=function(){this.renderer=null},u}(),go=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return wn(r,u),r.prototype.upload=function(e,i,l){var C=e.gl;return C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===st.UNPACK),l.width===i.width&&l.height===i.height?C.texSubImage2D(i.target,0,0,0,i.width,i.height,i.format,i.type,this.data):(l.width=i.width,l.height=i.height,C.texImage2D(i.target,0,1===e.context.webGLVersion?C.DEPTH_COMPONENT:C.DEPTH_COMPONENT16,i.width,i.height,0,i.format,i.type,this.data)),!0},r}(Yi),lo=function(){function u(r,e){this.width=Math.ceil(r||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new cn("disposeFramebuffer"),this.multisample=bn.NONE}return Object.defineProperty(u.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),u.prototype.addColorTexture=function(r,e){return void 0===r&&(r=0),this.colorTextures[r]=e||new mi(null,{scaleMode:En.NEAREST,resolution:1,mipmap:Ct.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},u.prototype.addDepthTexture=function(r){return this.depthTexture=r||new mi(new go(null,{width:this.width,height:this.height}),{scaleMode:En.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ct.OFF,format:bt.DEPTH_COMPONENT,type:un.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},u.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},u.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},u.prototype.resize=function(r,e){if(r=Math.ceil(r),e=Math.ceil(e),r!==this.width||e!==this.height){this.width=r,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var l=this.colorTextures[i];l.setSize(r/(C=l.resolution),e/C)}var C;this.depthTexture&&this.depthTexture.setSize(r/(C=this.depthTexture.resolution),e/C)}},u.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},u.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},u}(),So=function(u){function r(e){var i=this;"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),i=u.call(this,null,e)||this;var ue=e||{},Ee=ue.width,Ge=ue.height;return i.mipmap=0,i.width=Math.ceil(Ee)||100,i.height=Math.ceil(Ge)||100,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new lo(i.width*i.resolution,i.height*i.resolution).addColorTexture(0,i),i.maskStack=[],i.filterStack=[{}],i}return wn(r,u),r.prototype.resize=function(e,i){e=Math.ceil(e),i=Math.ceil(i),this.framebuffer.resize(e*this.resolution,i*this.resolution)},r.prototype.dispose=function(){this.framebuffer.dispose(),u.prototype.dispose.call(this)},r.prototype.destroy=function(){u.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},r}(mi),eo=function(){function u(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return u.prototype.set=function(r,e,i){var l=e.width,C=e.height;if(i){var T=r.width/2/l,V=r.height/2/C,ue=r.x/l+T,Ee=r.y/C+V;i=di.add(i,di.NW),this.x0=ue+T*di.uX(i),this.y0=Ee+V*di.uY(i),i=di.add(i,2),this.x1=ue+T*di.uX(i),this.y1=Ee+V*di.uY(i),i=di.add(i,2),this.x2=ue+T*di.uX(i),this.y2=Ee+V*di.uY(i),i=di.add(i,2),this.x3=ue+T*di.uX(i),this.y3=Ee+V*di.uY(i)}else this.x0=r.x/l,this.y0=r.y/C,this.x1=(r.x+r.width)/l,this.y1=r.y/C,this.x2=(r.x+r.width)/l,this.y2=(r.y+r.height)/C,this.x3=r.x/l,this.y3=(r.y+r.height)/C;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},u}(),qr=new eo,xi=function(u){function r(e,i,l,C,T,V){var ue=u.call(this)||this;if(ue.noFrame=!1,i||(ue.noFrame=!0,i=new Gi(0,0,1,1)),e instanceof r&&(e=e.baseTexture),ue.baseTexture=e,ue._frame=i,ue.trim=C,ue.valid=!1,ue._uvs=qr,ue.uvMatrix=null,ue.orig=l||i,ue._rotate=Number(T||0),!0===T)ue._rotate=2;else if(ue._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return ue.defaultAnchor=V?new yr(V.x,V.y):new yr(0,0),ue._updateID=0,ue.textureCacheIds=[],e.valid?ue.noFrame?e.valid&&ue.onBaseTextureUpdated(e):ue.frame=i:e.once("loaded",ue.onBaseTextureUpdated,ue),ue.noFrame&&e.on("update",ue.onBaseTextureUpdated,ue),ue}return wn(r,u),r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},r.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},r.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture;i&&i.url&&ai[i.url]&&r.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,r.removeFromCache(this),this.textureCacheIds=null},r.prototype.clone=function(){return new r(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},r.prototype.updateUvs=function(){this._uvs===qr&&(this._uvs=new eo),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},r.from=function(e,i,l){void 0===i&&(i={}),void 0===l&&(l=pe.STRICT_TEXTURE_CACHE);var C="string"==typeof e,T=null;C?T=e:(e._pixiId||(e._pixiId="pixiid_"+gn()),T=e._pixiId);var V=ai[T];if(C&&l&&!V)throw new Error('The cacheId "'+T+'" does not exist in TextureCache.');return V||(i.resolution||(i.resolution=Hn(e)),(V=new r(new mi(e,i))).baseTexture.cacheId=T,mi.addToCache(V.baseTexture,T),r.addToCache(V,T)),V},r.fromURL=function(e,i){var l=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),C=r.from(e,Object.assign({resourceOptions:l},i),!1),T=C.baseTexture.resource;return C.baseTexture.valid?Promise.resolve(C):T.load().then(function(){return Promise.resolve(C)})},r.fromBuffer=function(e,i,l,C){return new r(mi.fromBuffer(e,i,l,C))},r.fromLoader=function(e,i,l){var C=new br(e);C.url=i;var V=new r(new mi(C,{scaleMode:pe.SCALE_MODE,resolution:Hn(i)}));return l||(l=i),mi.addToCache(V.baseTexture,l),r.addToCache(V,l),l!==i&&(mi.addToCache(V.baseTexture,i),r.addToCache(V,i)),V},r.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),ai[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),ai[i]=e)},r.removeFromCache=function(e){if("string"==typeof e){var i=ai[e];if(i){var l=i.textureCacheIds.indexOf(e);return l>-1&&i.textureCacheIds.splice(l,1),delete ai[e],i}}else if(e&&e.textureCacheIds){for(var C=0;C<e.textureCacheIds.length;++C)ai[e.textureCacheIds[C]]===e&&delete ai[e.textureCacheIds[C]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,l=e.y,C=e.width,T=e.height,V=i+C>this.baseTexture.width,ue=l+T>this.baseTexture.height;if(V||ue)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+C+" = "+(i+C)+" > "+this.baseTexture.width+" "+(V&&ue?"and":"or")+" Y: "+l+" + "+T+" = "+(l+T)+" > "+this.baseTexture.height);this.valid=C&&T&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),r.prototype.castToBaseTexture=function(){return this.baseTexture},r}(xe());function Vr(u){u.destroy=function(){},u.on=function(){},u.once=function(){},u.emit=function(){}}xi.EMPTY=new xi(new mi),Vr(xi.EMPTY),Vr(xi.EMPTY.baseTexture),xi.WHITE=function yo(){var u=document.createElement("canvas");u.width=16,u.height=16;var r=u.getContext("2d");return r.fillStyle="white",r.fillRect(0,0,16,16),new xi(new mi(new xr(u)))}(),Vr(xi.WHITE),Vr(xi.WHITE.baseTexture);var ro=function(u){function r(e,i){var l=this,C=null;if(!(e instanceof So)){var T=arguments[1],V=arguments[2],ue=arguments[3],Ee=arguments[4];console.warn("Please use RenderTexture.create("+T+", "+V+") instead of the ctor directly."),C=arguments[0],i=null,e=new So({width:T,height:V,scaleMode:ue,resolution:Ee})}return(l=u.call(this,e,i)||this).legacyRenderer=C,l.valid=!0,l.filterFrame=null,l.filterPoolKey=null,l.updateUvs(),l}return wn(r,u),Object.defineProperty(r.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,i,l){void 0===l&&(l=!0),e=Math.ceil(e),i=Math.ceil(i),this.valid=e>0&&i>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=i,l&&this.baseTexture.resize(e,i),this.updateUvs()},r.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},r.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new r(new So(e))},r}(xi),Hr=function(){function u(r){this.texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return u.prototype.createTexture=function(r,e){var i=new So(Object.assign({width:r,height:e,resolution:1},this.textureOptions));return new ro(i)},u.prototype.getOptimalTexture=function(r,e,i){void 0===i&&(i=1);var l=u.SCREEN_KEY;r*=i,e*=i,(!this.enableFullScreen||r!==this._pixelsWidth||e!==this._pixelsHeight)&&(l=(65535&(r=Qn(r)))<<16|65535&(e=Qn(e))),this.texturePool[l]||(this.texturePool[l]=[]);var C=this.texturePool[l].pop();return C||(C=this.createTexture(r,e)),C.filterPoolKey=l,C.setResolution(i),C},u.prototype.getFilterTexture=function(r,e){var i=this.getOptimalTexture(r.width,r.height,e||r.resolution);return i.filterFrame=r.filterFrame,i},u.prototype.returnTexture=function(r){var e=r.filterPoolKey;r.filterFrame=null,this.texturePool[e].push(r)},u.prototype.returnFilterTexture=function(r){this.returnTexture(r)},u.prototype.clear=function(r){if(r=!1!==r)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var l=0;l<i.length;l++)i[l].destroy(!0)}this.texturePool={}},u.prototype.setScreenSize=function(r){if(r.width!==this._pixelsWidth||r.height!==this._pixelsHeight){var e=u.SCREEN_KEY,i=this.texturePool[e];if(this.enableFullScreen=r.width>0&&r.height>0,i)for(var l=0;l<i.length;l++)i[l].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=r.width,this._pixelsHeight=r.height}},u.SCREEN_KEY="screen",u}(),Po=function(){function u(r,e,i,l,C,T,V){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===l&&(l=5126),this.buffer=r,this.size=e,this.normalized=i,this.type=l,this.stride=C,this.start=T,this.instance=V}return u.prototype.destroy=function(){this.buffer=null},u.from=function(r,e,i,l,C){return new u(r,e,i,l,C)},u}(),Lo=0,wr=function(){function u(r,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=r||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=Lo++,this.disposeRunner=new cn("disposeBuffer")}return u.prototype.update=function(r){this.data=r||this.data,this._updateID++},u.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},u.prototype.destroy=function(){this.dispose(),this.data=null},u.from=function(r){return r instanceof Array&&(r=new Float32Array(r)),new u(r)},u}();function $o(u){if(4===u.BYTES_PER_ELEMENT)return u instanceof Float32Array?"Float32Array":u instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===u.BYTES_PER_ELEMENT){if(u instanceof Uint16Array)return"Uint16Array"}else if(1===u.BYTES_PER_ELEMENT&&u instanceof Uint8Array)return"Uint8Array";return null}var No={Float32Array,Uint32Array,Int32Array,Uint8Array},ko={5126:4,5123:2,5121:1},Xr=0,Bo={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},zo=function(){function u(r,e){void 0===r&&(r=[]),void 0===e&&(e={}),this.buffers=r,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Xr++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new cn("disposeGeometry"),this.refCount=0}return u.prototype.addAttribute=function(r,e,i,l,C,T,V,ue){if(void 0===i&&(i=0),void 0===l&&(l=!1),void 0===ue&&(ue=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof wr||(e instanceof Array&&(e=new Float32Array(e)),e=new wr(e));var Ee=r.split("|");if(Ee.length>1){for(var Ge=0;Ge<Ee.length;Ge++)this.addAttribute(Ee[Ge],e,i,l,C);return this}var $e=this.buffers.indexOf(e);return-1===$e&&(this.buffers.push(e),$e=this.buffers.length-1),this.attributes[r]=new Po($e,i,l,C,T,V,ue),this.instanced=this.instanced||ue,this},u.prototype.getAttribute=function(r){return this.attributes[r]},u.prototype.getBuffer=function(r){return this.buffers[this.getAttribute(r).buffer]},u.prototype.addIndex=function(r){return r instanceof wr||(r instanceof Array&&(r=new Uint16Array(r)),r=new wr(r)),r.index=!0,this.indexBuffer=r,-1===this.buffers.indexOf(r)&&this.buffers.push(r),this},u.prototype.getIndex=function(){return this.indexBuffer},u.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var l,r=[],e=[],i=new wr;for(l in this.attributes){var C=this.attributes[l];r.push(this.buffers[C.buffer].data),e.push(C.size*ko[C.type]/4),C.buffer=0}for(i.data=function Go(u,r){for(var e=0,i=0,l={},C=0;C<u.length;C++)i+=r[C],e+=u[C].length;var T=new ArrayBuffer(4*e),V=null,ue=0;for(C=0;C<u.length;C++){var Ee=r[C],Ge=u[C],$e=$o(Ge);l[$e]||(l[$e]=new No[$e](T)),V=l[$e];for(var je=0;je<Ge.length;je++)V[(je/Ee|0)*i+ue+je%Ee]=Ge[je];ue+=Ee}return new Float32Array(T)}(r,e),l=0;l<this.buffers.length;l++)this.buffers[l]!==this.indexBuffer&&this.buffers[l].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},u.prototype.getSize=function(){for(var r in this.attributes){var e=this.attributes[r];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},u.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},u.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},u.prototype.clone=function(){for(var r=new u,e=0;e<this.buffers.length;e++)r.buffers[e]=new wr(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];r.attributes[e]=new Po(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(r.indexBuffer=r.buffers[this.buffers.indexOf(this.indexBuffer)],r.indexBuffer.index=!0),r},u.merge=function(r){for(var T,e=new u,i=[],l=[],C=[],V=0;V<r.length;V++){T=r[V];for(var ue=0;ue<T.buffers.length;ue++)l[ue]=l[ue]||0,l[ue]+=T.buffers[ue].data.length,C[ue]=0}for(V=0;V<T.buffers.length;V++)i[V]=new(Bo[$o(T.buffers[V].data)])(l[V]),e.buffers[V]=new wr(i[V]);for(V=0;V<r.length;V++)for(T=r[V],ue=0;ue<T.buffers.length;ue++)i[ue].set(T.buffers[ue].data,C[ue]),C[ue]+=T.buffers[ue].data.length;if(e.attributes=T.attributes,T.indexBuffer){e.indexBuffer=e.buffers[T.buffers.indexOf(T.indexBuffer)],e.indexBuffer.index=!0;var Ee=0,Ge=0,$e=0,je=0;for(V=0;V<T.buffers.length;V++)if(T.buffers[V]!==T.indexBuffer){je=V;break}for(var V in T.attributes){var pt=T.attributes[V];(0|pt.buffer)===je&&(Ge+=pt.size*ko[pt.type]/4)}for(V=0;V<r.length;V++){var St=r[V].indexBuffer.data;for(ue=0;ue<St.length;ue++)e.indexBuffer.data[ue+$e]+=Ee;Ee+=T.buffers[je].data.length/Ge,$e+=St.length}}return e},u}(),Zr=function(u){function r(){var e=u.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return wn(r,u),r}(zo),Qo=function(u){function r(){var e=u.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new wr(e.vertices),e.uvBuffer=new wr(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return wn(r,u),r.prototype.map=function(e,i){var l=0,C=0;return this.uvs[0]=l,this.uvs[1]=C,this.uvs[2]=l+i.width/e.width,this.uvs[3]=C,this.uvs[4]=l+i.width/e.width,this.uvs[5]=C+i.height/e.height,this.uvs[6]=l,this.uvs[7]=C+i.height/e.height,C=i.y,this.vertices[0]=l=i.x,this.vertices[1]=C,this.vertices[2]=l+i.width,this.vertices[3]=C,this.vertices[4]=l+i.width,this.vertices[5]=C+i.height,this.vertices[6]=l,this.vertices[7]=C+i.height,this.invalidate(),this},r.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},r}(zo),Xo=0,Xi=function(){function u(r,e){this.uniforms=r,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Xo++,this.static=!!e}return u.prototype.update=function(){this.dirtyId++},u.prototype.add=function(r,e,i){this.uniforms[r]=new u(e,i)},u.from=function(r,e){return new u(r,e)},u}(),G=function(){function u(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Gi,this.destinationFrame=new Gi,this.filters=[]}return u.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},u}(),be=function(u){function r(e){var i=u.call(this,e)||this;return i.defaultFilterStack=[{}],i.texturePool=new Hr,i.texturePool.setScreenSize(e.view),i.statePool=[],i.quad=new Zr,i.quadUv=new Qo,i.tempRect=new Gi,i.activeState={},i.globalUniforms=new Xi({outputFrame:i.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),i.forceClear=!1,i.useMaxPadding=!1,i}return wn(r,u),r.prototype.push=function(e,i){for(var l=this.renderer,C=this.defaultFilterStack,T=this.statePool.pop()||new G,V=i[0].resolution,ue=i[0].padding,Ee=i[0].autoFit,Ge=i[0].legacy,$e=1;$e<i.length;$e++){var je=i[$e];V=Math.min(V,je.resolution),ue=this.useMaxPadding?Math.max(ue,je.padding):ue+je.padding,Ee=Ee&&je.autoFit,Ge=Ge||je.legacy}1===C.length&&(this.defaultFilterStack[0].renderTexture=l.renderTexture.current),C.push(T),T.resolution=V,T.legacy=Ge,T.target=e,T.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),T.sourceFrame.pad(ue),Ee&&T.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),T.sourceFrame.ceil(V),T.renderTexture=this.getOptimalFilterTexture(T.sourceFrame.width,T.sourceFrame.height,V),T.filters=i,T.destinationFrame.width=T.renderTexture.width,T.destinationFrame.height=T.renderTexture.height;var pt=this.tempRect;pt.width=T.sourceFrame.width,pt.height=T.sourceFrame.height,T.renderTexture.filterFrame=T.sourceFrame,l.renderTexture.bind(T.renderTexture,T.sourceFrame,pt),l.renderTexture.clear()},r.prototype.pop=function(){var e=this.defaultFilterStack,i=e.pop(),l=i.filters;this.activeState=i;var C=this.globalUniforms.uniforms;C.outputFrame=i.sourceFrame,C.resolution=i.resolution;var T=C.inputSize,V=C.inputPixel,ue=C.inputClamp;if(T[0]=i.destinationFrame.width,T[1]=i.destinationFrame.height,T[2]=1/T[0],T[3]=1/T[1],V[0]=T[0]*i.resolution,V[1]=T[1]*i.resolution,V[2]=1/V[0],V[3]=1/V[1],ue[0]=.5*V[2],ue[1]=.5*V[3],ue[2]=i.sourceFrame.width*T[2]-.5*V[2],ue[3]=i.sourceFrame.height*T[3]-.5*V[3],i.legacy){var Ee=C.filterArea;Ee[0]=i.destinationFrame.width,Ee[1]=i.destinationFrame.height,Ee[2]=i.sourceFrame.x,Ee[3]=i.sourceFrame.y,C.filterClamp=C.inputClamp}this.globalUniforms.update();var Ge=e[e.length-1];if(i.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===l.length)l[0].apply(this,i.renderTexture,Ge.renderTexture,nn.BLEND,i),this.returnFilterTexture(i.renderTexture);else{var $e=i.renderTexture,je=this.getOptimalFilterTexture($e.width,$e.height,i.resolution);je.filterFrame=$e.filterFrame;var pt=0;for(pt=0;pt<l.length-1;++pt){l[pt].apply(this,$e,je,nn.CLEAR,i);var St=$e;$e=je,je=St}l[pt].apply(this,$e,Ge.renderTexture,nn.BLEND,i),this.returnFilterTexture($e),this.returnFilterTexture(je)}i.clear(),this.statePool.push(i)},r.prototype.bindAndClear=function(e,i){if(void 0===i&&(i=nn.CLEAR),e&&e.filterFrame){var l=this.tempRect;l.width=e.filterFrame.width,l.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,l)}else this.renderer.renderTexture.bind(e);"boolean"==typeof i&&(i=i?nn.CLEAR:nn.BLEND,jt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(i===nn.CLEAR||i===nn.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},r.prototype.applyFilter=function(e,i,l,C){var T=this.renderer;this.bindAndClear(l,C),e.uniforms.uSampler=i,e.uniforms.filterGlobals=this.globalUniforms,T.state.set(e.state),T.shader.bind(e),e.legacy?(this.quadUv.map(i._frame,i.filterFrame),T.geometry.bind(this.quadUv),T.geometry.draw(gt.TRIANGLES)):(T.geometry.bind(this.quad),T.geometry.draw(gt.TRIANGLE_STRIP))},r.prototype.calculateSpriteMatrix=function(e,i){var l=this.activeState,C=l.sourceFrame,T=l.destinationFrame,V=i._texture.orig,ue=e.set(T.width,0,0,T.height,C.x,C.y),Ee=i.worldTransform.copyTo(fr.TEMP_MATRIX);return Ee.invert(),ue.prepend(Ee),ue.scale(1/V.width,1/V.height),ue.translate(i.anchor.x,i.anchor.y),ue},r.prototype.destroy=function(){this.texturePool.clear(!1)},r.prototype.getOptimalFilterTexture=function(e,i,l){return void 0===l&&(l=1),this.texturePool.getOptimalTexture(e,i,l)},r.prototype.getFilterTexture=function(e,i){if("number"==typeof e){var l=e;e=i,i=l}var C=this.texturePool.getOptimalTexture((e=e||this.activeState.renderTexture).width,e.height,i||e.resolution);return C.filterFrame=e.filterFrame,C},r.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},r.prototype.emptyPool=function(){this.texturePool.clear(!0)},r.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},r}(vr),Pe=function(){function u(r){this.renderer=r}return u.prototype.flush=function(){},u.prototype.destroy=function(){this.renderer=null},u.prototype.start=function(){},u.prototype.stop=function(){this.flush()},u.prototype.render=function(r){},u}(),et=function(u){function r(e){var i=u.call(this,e)||this;return i.emptyRenderer=new Pe(e),i.currentRenderer=i.emptyRenderer,i}return wn(r,u),r.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},r.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.copyBoundTextures=function(e,i){for(var l=this.renderer.texture.boundTextures,C=i-1;C>=0;--C)e[C]=l[C]||null,e[C]&&(e[C]._batchLocation=C)},r.prototype.boundArray=function(e,i,l,C){for(var T=e.elements,V=e.ids,ue=e.count,Ee=0,Ge=0;Ge<ue;Ge++){var $e=T[Ge],je=$e._batchLocation;if(je>=0&&je<C&&i[je]===$e)V[Ge]=je;else for(;Ee<C;){var pt=i[Ee];if(!pt||pt._batchEnabled!==l||pt._batchLocation!==Ee){V[Ge]=Ee,$e._batchLocation=Ee,i[Ee]=$e;break}Ee++}}},r}(vr),ct=0,Et=function(u){function r(e){var i=u.call(this,e)||this;return i.webGLVersion=1,i.extensions={},i.supports={uint32Indices:!1},i.handleContextLost=i.handleContextLost.bind(i),i.handleContextRestored=i.handleContextRestored.bind(i),e.view.addEventListener("webglcontextlost",i.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",i.handleContextRestored,!1),i}return wn(r,u),Object.defineProperty(r.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),r.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ct++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},r.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ct++,this.renderer.runners.contextChange.emit(e)},r.prototype.initFromOptions=function(e){var i=this.createContext(this.renderer.view,e);this.initFromContext(i)},r.prototype.createContext=function(e,i){var l;if(pe.PREFER_ENV>=we.WEBGL2&&(l=e.getContext("webgl2",i)),l)this.webGLVersion=2;else if(this.webGLVersion=1,!(l=e.getContext("webgl",i)||e.getContext("experimental-webgl",i)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=l,this.getExtensions(),this.gl},r.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},r.prototype.handleContextLost=function(e){e.preventDefault()},r.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},r.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},r.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},r.prototype.validateContext=function(e){var i=e.getContextAttributes(),l="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;l&&(this.webGLVersion=2),i.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var C=l||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=C,C||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},r}(vr),Ft=function u(r){this.framebuffer=r,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=bn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},Ht=new Gi,rn=function(u){function r(e){var i=u.call(this,e)||this;return i.managedFramebuffers=[],i.unknownFramebuffer=new lo(10,10),i.msaaSamples=null,i}return wn(r,u),r.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Gi,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var i=this.renderer.context.extensions.drawBuffers,l=this.renderer.context.extensions.depthTexture;pe.PREFER_ENV===we.WEBGL_LEGACY&&(i=null,l=null),i?e.drawBuffers=function(C){return i.drawBuffersWEBGL(C)}:(this.hasMRT=!1,e.drawBuffers=function(){}),l||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},r.prototype.bind=function(e,i){var l=this.gl;if(e){var C=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,l.bindFramebuffer(l.FRAMEBUFFER,C.framebuffer)),C.dirtyId!==e.dirtyId&&(C.dirtyId=e.dirtyId,C.dirtyFormat!==e.dirtyFormat?(C.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):C.dirtySize!==e.dirtySize&&(C.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var T=0;T<e.colorTextures.length;T++){var V=e.colorTextures[T];this.renderer.texture.unbind(V.parentTextureArray||V)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),i?this.setViewport(i.x,i.y,i.width,i.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,l.bindFramebuffer(l.FRAMEBUFFER,null)),i?this.setViewport(i.x,i.y,i.width,i.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},r.prototype.setViewport=function(e,i,l,C){var T=this.viewport;(T.width!==l||T.height!==C||T.x!==e||T.y!==i)&&(T.x=e,T.y=i,T.width=l,T.height=C,this.gl.viewport(e,i,l,C))},Object.defineProperty(r.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),r.prototype.clear=function(e,i,l,C,T){void 0===T&&(T=Ie.COLOR|Ie.DEPTH);var V=this.gl;V.clearColor(e,i,l,C),V.clear(T)},r.prototype.initFramebuffer=function(e){var l=new Ft(this.gl.createFramebuffer());return l.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=l,this.managedFramebuffers.push(e),e.disposeRunner.add(this),l},r.prototype.resizeFramebuffer=function(e){var i=this.gl,l=e.glFramebuffers[this.CONTEXT_UID];l.stencil&&(i.bindRenderbuffer(i.RENDERBUFFER,l.stencil),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e.width,e.height));for(var C=e.colorTextures,T=0;T<C.length;T++)this.renderer.texture.bind(C[T],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},r.prototype.updateFramebuffer=function(e){var i=this.gl,l=e.glFramebuffers[this.CONTEXT_UID],T=e.colorTextures.length;i.drawBuffers||(T=Math.min(T,1)),l.multisample>1&&(l.msaaBuffer=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,l.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,l.multisample,i.RGBA8,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,l.msaaBuffer));for(var V=[],ue=0;ue<T;ue++)if(!(0===ue&&l.multisample>1)){var Ee=e.colorTextures[ue],Ge=Ee.parentTextureArray||Ee;this.renderer.texture.bind(Ge,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,Ee.target,Ge._glTextures[this.CONTEXT_UID].texture,0),V.push(i.COLOR_ATTACHMENT0+ue)}if(V.length>1&&i.drawBuffers(V),e.depthTexture&&this.writeDepthTexture){var je=e.depthTexture;this.renderer.texture.bind(je,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,je._glTextures[this.CONTEXT_UID].texture,0)}!l.stencil&&(e.stencil||e.depth)&&(l.stencil=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,l.stencil),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e.width,e.height),e.depthTexture||i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,l.stencil))},r.prototype.detectSamples=function(e){var i=this.msaaSamples,l=bn.NONE;if(e<=1||null===i)return l;for(var C=0;C<i.length;C++)if(i[C]<=e){l=i[C];break}return 1===l&&(l=bn.NONE),l},r.prototype.blit=function(e,i,l){var C=this,T=C.current,ue=C.gl;if(2===C.renderer.context.webGLVersion&&T){var Ge=T.glFramebuffers[C.CONTEXT_UID];if(Ge){if(!e){if(Ge.multisample<=1)return;Ge.blitFramebuffer||(Ge.blitFramebuffer=new lo(T.width,T.height),Ge.blitFramebuffer.addColorTexture(0,T.colorTextures[0])),(e=Ge.blitFramebuffer).width=T.width,e.height=T.height}i||((i=Ht).width=T.width,i.height=T.height),l||(l=i);var $e=i.width===l.width&&i.height===l.height;this.bind(e),ue.bindFramebuffer(ue.READ_FRAMEBUFFER,Ge.framebuffer),ue.blitFramebuffer(i.x,i.y,i.width,i.height,l.x,l.y,l.width,l.height,ue.COLOR_BUFFER_BIT,$e?ue.NEAREST:ue.LINEAR)}}},r.prototype.disposeFramebuffer=function(e,i){var l=e.glFramebuffers[this.CONTEXT_UID],C=this.gl;if(l){delete e.glFramebuffers[this.CONTEXT_UID];var T=this.managedFramebuffers.indexOf(e);T>=0&&this.managedFramebuffers.splice(T,1),e.disposeRunner.remove(this),i||(C.deleteFramebuffer(l.framebuffer),l.stencil&&C.deleteRenderbuffer(l.stencil))}},r.prototype.disposeAll=function(e){var i=this.managedFramebuffers;this.managedFramebuffers=[];for(var l=0;l<i.length;l++)this.disposeFramebuffer(i[l],e)},r.prototype.forceStencil=function(){var e=this.current;if(e){var i=e.glFramebuffers[this.CONTEXT_UID];if(i&&!i.stencil){e.enableStencil();var l=e.width,C=e.height,T=this.gl,V=T.createRenderbuffer();T.bindRenderbuffer(T.RENDERBUFFER,V),T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_STENCIL,l,C),i.stencil=V,T.framebufferRenderbuffer(T.FRAMEBUFFER,T.DEPTH_STENCIL_ATTACHMENT,T.RENDERBUFFER,V)}}},r.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Gi},r}(vr),Mn=function u(r){this.buffer=r||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Rn={5126:4,5123:2,5121:1},Ii=function(u){function r(e){var i=u.call(this,e)||this;return i._activeGeometry=null,i._activeVao=null,i.hasVao=!0,i.hasInstance=!0,i.canUseUInt32ElementIndex=!1,i.managedGeometries={},i.managedBuffers={},i}return wn(r,u),r.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==i.webGLVersion){var l=this.renderer.context.extensions.vertexArrayObject;pe.PREFER_ENV===we.WEBGL_LEGACY&&(l=null),l?(e.createVertexArray=function(){return l.createVertexArrayOES()},e.bindVertexArray=function(T){return l.bindVertexArrayOES(T)},e.deleteVertexArray=function(T){return l.deleteVertexArrayOES(T)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==i.webGLVersion){var C=e.getExtension("ANGLE_instanced_arrays");C?(e.vertexAttribDivisor=function(T,V){return C.vertexAttribDivisorANGLE(T,V)},e.drawElementsInstanced=function(T,V,ue,Ee,Ge){return C.drawElementsInstancedANGLE(T,V,ue,Ee,Ge)},e.drawArraysInstanced=function(T,V,ue,Ee){return C.drawArraysInstancedANGLE(T,V,ue,Ee)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===i.webGLVersion||!!i.extensions.uint32ElementIndex},r.prototype.bind=function(e,i){i=i||this.renderer.shader.shader;var l=this.gl,C=e.glVertexArrayObjects[this.CONTEXT_UID],T=!1;C||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=C={},T=!0);var V=C[i.program.id]||this.initGeometryVao(e,i.program,T);this._activeGeometry=e,this._activeVao!==V&&(this._activeVao=V,this.hasVao?l.bindVertexArray(V):this.activateVao(e,i.program)),this.updateBuffers()},r.prototype.reset=function(){this.unbind()},r.prototype.updateBuffers=function(){for(var e=this._activeGeometry,i=this.gl,l=0;l<e.buffers.length;l++){var C=e.buffers[l],T=C._glBuffers[this.CONTEXT_UID];if(C._updateID!==T.updateID){T.updateID=C._updateID;var V=C.index?i.ELEMENT_ARRAY_BUFFER:i.ARRAY_BUFFER;if(i.bindBuffer(V,T.buffer),this._boundBuffer=T,T.byteLength>=C.data.byteLength)i.bufferSubData(V,0,C.data);else{var ue=C.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;T.byteLength=C.data.byteLength,i.bufferData(V,C.data,ue)}}}},r.prototype.checkCompatibility=function(e,i){var l=e.attributes,C=i.attributeData;for(var T in C)if(!l[T])throw new Error('shader and geometry incompatible, geometry missing the "'+T+'" attribute')},r.prototype.getSignature=function(e,i){var l=e.attributes,C=i.attributeData,T=["g",e.id];for(var V in l)C[V]&&T.push(V);return T.join("-")},r.prototype.initGeometryVao=function(e,i,l){void 0===l&&(l=!0),this.checkCompatibility(e,i);var C=this.gl,T=this.CONTEXT_UID,V=this.getSignature(e,i),ue=e.glVertexArrayObjects[this.CONTEXT_UID],Ee=ue[V];if(Ee)return ue[i.id]=Ee,Ee;var Ge=e.buffers,$e=e.attributes,je={},pt={};for(var St in Ge)je[St]=0,pt[St]=0;for(var St in $e)!$e[St].size&&i.attributeData[St]?$e[St].size=i.attributeData[St].size:$e[St].size||console.warn("PIXI Geometry attribute '"+St+"' size cannot be determined (likely the bound shader does not have the attribute)"),je[$e[St].buffer]+=$e[St].size*Rn[$e[St].type];for(var St in $e){var It=$e[St],on=It.size;void 0===It.stride&&(It.stride=je[It.buffer]===on*Rn[It.type]?0:je[It.buffer]),void 0===It.start&&(It.start=pt[It.buffer],pt[It.buffer]+=on*Rn[It.type])}Ee=C.createVertexArray(),C.bindVertexArray(Ee);for(var Pn=0;Pn<Ge.length;Pn++){var Ai=Ge[Pn];Ai._glBuffers[T]||(Ai._glBuffers[T]=new Mn(C.createBuffer()),this.managedBuffers[Ai.id]=Ai,Ai.disposeRunner.add(this)),l&&Ai._glBuffers[T].refCount++}return this.activateVao(e,i),this._activeVao=Ee,ue[i.id]=Ee,ue[V]=Ee,Ee},r.prototype.disposeBuffer=function(e,i){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var l=e._glBuffers[this.CONTEXT_UID],C=this.gl;e.disposeRunner.remove(this),l&&(i||C.deleteBuffer(l.buffer),delete e._glBuffers[this.CONTEXT_UID])}},r.prototype.disposeGeometry=function(e,i){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var l=e.glVertexArrayObjects[this.CONTEXT_UID],C=this.gl,T=e.buffers;if(e.disposeRunner.remove(this),l){for(var V=0;V<T.length;V++){var ue=T[V]._glBuffers[this.CONTEXT_UID];ue.refCount--,0===ue.refCount&&!i&&this.disposeBuffer(T[V],i)}if(!i)for(var Ee in l)if("g"===Ee[0]){var Ge=l[Ee];this._activeVao===Ge&&this.unbind(),C.deleteVertexArray(Ge)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},r.prototype.disposeAll=function(e){for(var i=Object.keys(this.managedGeometries),l=0;l<i.length;l++)this.disposeGeometry(this.managedGeometries[i[l]],e);for(i=Object.keys(this.managedBuffers),l=0;l<i.length;l++)this.disposeBuffer(this.managedBuffers[i[l]],e)},r.prototype.activateVao=function(e,i){var l=this.gl,C=this.CONTEXT_UID,T=e.buffers,V=e.attributes;e.indexBuffer&&l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[C].buffer);var ue=null;for(var Ee in V){var Ge=V[Ee],je=T[Ge.buffer]._glBuffers[C];if(i.attributeData[Ee]){ue!==je&&(l.bindBuffer(l.ARRAY_BUFFER,je.buffer),ue=je);var pt=i.attributeData[Ee].location;if(l.enableVertexAttribArray(pt),l.vertexAttribPointer(pt,Ge.size,Ge.type||l.FLOAT,Ge.normalized,Ge.stride,Ge.start),Ge.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");l.vertexAttribDivisor(pt,1)}}}},r.prototype.draw=function(e,i,l,C){var T=this.gl,V=this._activeGeometry;if(V.indexBuffer){var ue=V.indexBuffer.data.BYTES_PER_ELEMENT,Ee=2===ue?T.UNSIGNED_SHORT:T.UNSIGNED_INT;2===ue||4===ue&&this.canUseUInt32ElementIndex?V.instanced?T.drawElementsInstanced(e,i||V.indexBuffer.data.length,Ee,(l||0)*ue,C||1):T.drawElements(e,i||V.indexBuffer.data.length,Ee,(l||0)*ue):console.warn("unsupported index buffer type: uint32")}else V.instanced?T.drawArraysInstanced(e,l,i||V.getSize(),C||1):T.drawArrays(e,l,i||V.getSize());return this},r.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},r}(vr),ui=function(){function u(r){void 0===r&&(r=null),this.type=Cn.NONE,this.autoDetect=!0,this.maskObject=r||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return u.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Cn.NONE,this.autoDetect=!0),this._target=null},u.prototype.copyCountersOrReset=function(r){r?(this._stencilCounter=r._stencilCounter,this._scissorCounter=r._scissorCounter,this._scissorRect=r._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},u}();function Xn(u,r,e){var i=u.createShader(r);return u.shaderSource(i,e),u.compileShader(i),i}function ye(u,r,e,i){var l=Xn(u,u.VERTEX_SHADER,r),C=Xn(u,u.FRAGMENT_SHADER,e),T=u.createProgram();if(u.attachShader(T,l),u.attachShader(T,C),i)for(var V in i)u.bindAttribLocation(T,i[V],V);return u.linkProgram(T),u.getProgramParameter(T,u.LINK_STATUS)||(u.getShaderParameter(l,u.COMPILE_STATUS)||(console.warn(r),console.error(u.getShaderInfoLog(l))),u.getShaderParameter(C,u.COMPILE_STATUS)||(console.warn(e),console.error(u.getShaderInfoLog(C))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",u.getProgramParameter(T,u.VALIDATE_STATUS)),console.error("gl.getError()",u.getError()),""!==u.getProgramInfoLog(T)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",u.getProgramInfoLog(T)),u.deleteProgram(T),T=null),u.deleteShader(l),u.deleteShader(C),T}function oe(u){for(var r=new Array(u),e=0;e<r.length;e++)r[e]=!1;return r}function M(u,r){switch(u){case"float":case"int":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"bool":return!1;case"bvec2":return oe(2*r);case"bvec3":return oe(3*r);case"bvec4":return oe(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var E,N={},h=N;function I(){if(h===N||h&&h.isContextLost()){var u=document.createElement("canvas"),r=void 0;pe.PREFER_ENV>=we.WEBGL2&&(r=u.getContext("webgl2",{})),r||((r=u.getContext("webgl",{})||u.getContext("experimental-webgl",{}))?r.getExtension("WEBGL_draw_buffers"):r=null),h=r}return h}function Q(u,r,e){if("precision"!==u.substring(0,9)){var i=r;return r===vn.HIGH&&e!==vn.HIGH&&(i=vn.MEDIUM),"precision "+i+" float;\n"+u}return e!==vn.HIGH&&"precision highp"===u.substring(0,15)?u.replace("precision highp","precision mediump"):u}var Ye={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Ot(u){return Ye[u]}var Bt=null,qt={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function $n(u,r){if(!Bt){var e=Object.keys(qt);Bt={};for(var i=0;i<e.length;++i){var l=e[i];Bt[u[l]]=qt[l]}}return Bt[r]}var Er,hi=[{test:function(u){return"float"===u.type&&1===u.size},code:function(u){return'\n            if(uv["'+u+'"] !== ud["'+u+'"].value)\n            {\n                ud["'+u+'"].value = uv["'+u+'"]\n                gl.uniform1f(ud["'+u+'"].location, uv["'+u+'"])\n            }\n            '}},{test:function(u){return("sampler2D"===u.type||"samplerCube"===u.type||"sampler2DArray"===u.type)&&1===u.size&&!u.isArray},code:function(u){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+u+'"], t);\n\n            if(ud["'+u+'"].value !== t)\n            {\n                ud["'+u+'"].value = t;\n                gl.uniform1i(ud["'+u+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(u,r){return"mat3"===u.type&&1===u.size&&void 0!==r.a},code:function(u){return'\n            gl.uniformMatrix3fv(ud["'+u+'"].location, false, uv["'+u+'"].toArray(true));\n            '}},{test:function(u,r){return"vec2"===u.type&&1===u.size&&void 0!==r.x},code:function(u){return'\n                cv = ud["'+u+'"].value;\n                v = uv["'+u+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+u+'"].location, v.x, v.y);\n                }'}},{test:function(u){return"vec2"===u.type&&1===u.size},code:function(u){return'\n                cv = ud["'+u+'"].value;\n                v = uv["'+u+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+u+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(u,r){return"vec4"===u.type&&1===u.size&&void 0!==r.width},code:function(u){return'\n                cv = ud["'+u+'"].value;\n                v = uv["'+u+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+u+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(u){return"vec4"===u.type&&1===u.size},code:function(u){return'\n                cv = ud["'+u+'"].value;\n                v = uv["'+u+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+u+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Ci={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},pi={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},li=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Co(u){for(var r="",e=0;e<u;++e)e>0&&(r+="\nelse "),e<u-1&&(r+="if(test == "+e+".0){}");return r}function Jr(u,r){if(0===u)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=r.createShader(r.FRAGMENT_SHADER);;){var i=li.replace(/%forloop%/gi,Co(u));if(r.shaderSource(e,i),r.compileShader(e),r.getShaderParameter(e,r.COMPILE_STATUS))break;u=u/2|0}return u}var Do=0,fs={},ts=function(){function u(r,e,i){void 0===i&&(i="pixi-shader"),this.id=Do++,this.vertexSrc=r||u.defaultVertexSrc,this.fragmentSrc=e||u.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),fs[i]?(fs[i]++,i+="-"+fs[i]):fs[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=Q(this.vertexSrc,pe.PRECISION_VERTEX,vn.HIGH),this.fragmentSrc=Q(this.fragmentSrc,pe.PRECISION_FRAGMENT,function H(){if(!E){E=vn.MEDIUM;var u=I();if(u&&u.getShaderPrecisionFormat){var r=u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.HIGH_FLOAT);E=r.precision?vn.HIGH:vn.MEDIUM}}return E}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return u.prototype.extractData=function(r,e){var i=I();if(i){var l=ye(i,r,e);this.attributeData=this.getAttributeData(l,i),this.uniformData=this.getUniformData(l,i),i.deleteProgram(l)}else this.uniformData={},this.attributeData={}},u.prototype.getAttributeData=function(r,e){for(var i={},l=[],C=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),T=0;T<C;T++){var V=e.getActiveAttrib(r,T),ue=$n(e,V.type),Ee={type:ue,name:V.name,size:Ot(ue),location:0};i[V.name]=Ee,l.push(Ee)}for(l.sort(function(Ge,$e){return Ge.name>$e.name?1:-1}),T=0;T<l.length;T++)l[T].location=T;return i},u.prototype.getUniformData=function(r,e){for(var i={},l=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),C=0;C<l;C++){var T=e.getActiveUniform(r,C),V=T.name.replace(/\[.*?\]$/,""),ue=T.name.match(/\[.*?\]$/),Ee=$n(e,T.type);i[V]={type:Ee,size:T.size,isArray:ue,value:M(Ee,T.size)}}return i},Object.defineProperty(u,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(u,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),u.from=function(r,e,i){var l=r+e,C=Yn[l];return C||(Yn[l]=C=new u(r,e,i)),C},u}(),ss=function(){function u(r,e){for(var i in this.program=r,this.uniformGroup=e?e instanceof Xi?e:new Xi(e):new Xi({}),r.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))}return u.prototype.checkUniformExists=function(r,e){if(e.uniforms[r])return!0;for(var i in e.uniforms){var l=e.uniforms[i];if(l.group&&this.checkUniformExists(r,l))return!0}return!1},u.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(u.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),u.from=function(r,e,i){return new u(ts.from(r,e),i)},u}(),ms=function(){function u(){this.data=0,this.blendMode=Le.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(u.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(r){!!(1&this.data)!==r&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(r){!!(2&this.data)!==r&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(r){!!(4&this.data)!==r&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(r){!!(8&this.data)!==r&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(r){!!(16&this.data)!==r&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"blendMode",{get:function(){return this._blendMode},set:function(r){this.blend=r!==Le.NONE,this._blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(r){this.offsets=!!r,this._polygonOffset=r},enumerable:!1,configurable:!0}),u.for2d=function(){var r=new u;return r.depthTest=!1,r.blend=!0,r},u}(),is=function(u){function r(e,i,l){var C=this,T=ts.from(e||r.defaultVertexSrc,i||r.defaultFragmentSrc);return(C=u.call(this,T,l)||this).padding=0,C.resolution=pe.FILTER_RESOLUTION,C.enabled=!0,C.autoFit=!0,C.legacy=!!C.program.attributeData.aTextureCoord,C.state=new ms,C}return wn(r,u),r.prototype.apply=function(e,i,l,C,T){e.applyFilter(this,i,l,C)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),r}(ss),Fs="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",ws="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Ns=new fr,as=function(){function u(r,e){this._texture=r,this.mapCoord=new fr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}return Object.defineProperty(u.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture=r,this._textureID=-1},enumerable:!1,configurable:!0}),u.prototype.multiplyUvs=function(r,e){void 0===e&&(e=r);for(var i=this.mapCoord,l=0;l<r.length;l+=2){var C=r[l],T=r[l+1];e[l]=C*i.a+T*i.c+i.tx,e[l+1]=C*i.b+T*i.d+i.ty}return e},u.prototype.update=function(r){var e=this._texture;if(!e||!e.valid||!r&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var l=e.orig,C=e.trim;C&&(Ns.set(l.width/C.width,0,0,l.height/C.height,-C.x/C.width,-C.y/C.height),this.mapCoord.append(Ns));var T=e.baseTexture,V=this.uClampFrame,ue=this.clampMargin/T.resolution,Ee=this.clampOffset;return V[0]=(e._frame.x+ue+Ee)/T.width,V[1]=(e._frame.y+ue+Ee)/T.height,V[2]=(e._frame.x+e._frame.width-ue+Ee)/T.width,V[3]=(e._frame.y+e._frame.height-ue+Ee)/T.height,this.uClampOffset[0]=Ee/T.realWidth,this.uClampOffset[1]=Ee/T.realHeight,this.isSimple=e._frame.width===T.width&&e._frame.height===T.height&&0===e.rotate,!0},u}(),As=function(u){function r(e){var i=this,l=new fr;return i=u.call(this,Fs,ws)||this,e.renderable=!1,i.maskSprite=e,i.maskMatrix=l,i}return wn(r,u),r.prototype.apply=function(e,i,l,C){var T=this.maskSprite,V=T._texture;V.valid&&(V.uvMatrix||(V.uvMatrix=new as(V,0)),V.uvMatrix.update(),this.uniforms.npmAlpha=V.baseTexture.alphaMode?0:1,this.uniforms.mask=V,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,T).prepend(V.uvMatrix.mapCoord),this.uniforms.alpha=T.worldAlpha,this.uniforms.maskClamp=V.uvMatrix.uClampFrame,e.applyFilter(this,i,l,C))},r}(is),Os=function(u){function r(e){var i=u.call(this,e)||this;return i.enableScissor=!1,i.alphaMaskPool=[],i.maskDataPool=[],i.maskStack=[],i.alphaMaskIndex=0,i}return wn(r,u),r.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},r.prototype.push=function(e,i){var l=i;if(!l.isMaskData){var C=this.maskDataPool.pop()||new ui;C.pooled=!0,C.maskObject=i,l=C}switch(l.autoDetect&&this.detect(l),l.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),l._target=e,l.type){case Cn.SCISSOR:this.maskStack.push(l),this.renderer.scissor.push(l);break;case Cn.STENCIL:this.maskStack.push(l),this.renderer.stencil.push(l);break;case Cn.SPRITE:l.copyCountersOrReset(null),this.pushSpriteMask(l),this.maskStack.push(l)}},r.prototype.pop=function(e){var i=this.maskStack.pop();if(i&&i._target===e){switch(i.type){case Cn.SCISSOR:this.renderer.scissor.pop();break;case Cn.STENCIL:this.renderer.stencil.pop(i.maskObject);break;case Cn.SPRITE:this.popSpriteMask()}i.reset(),i.pooled&&this.maskDataPool.push(i)}},r.prototype.detect=function(e){var i=e.maskObject;if(i.isSprite)e.type=Cn.SPRITE;else if(e.type=Cn.STENCIL,this.enableScissor&&i.isFastRect&&i.isFastRect()){var l=i.worldTransform,C=Math.atan2(l.b,l.a),T=Math.atan2(l.d,l.c);C=Math.round(C*(180/Math.PI)*100),T=((T=Math.round(T*(180/Math.PI)*100)-C)%18e3+18e3)%18e3,0==(C=(C%9e3+9e3)%9e3)&&9e3===T&&(e.type=Cn.SCISSOR)}},r.prototype.pushSpriteMask=function(e){var i=e.maskObject,l=e._target,C=this.alphaMaskPool[this.alphaMaskIndex];C||(C=this.alphaMaskPool[this.alphaMaskIndex]=[new As(i)]),C[0].resolution=this.renderer.resolution,C[0].maskSprite=i;var T=l.filterArea;l.filterArea=i.getBounds(!0),this.renderer.filter.push(l,C),l.filterArea=T,this.alphaMaskIndex++},r.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},r}(vr),Ko=function(u){function r(e){var i=u.call(this,e)||this;return i.maskStack=[],i.glConst=0,i}return wn(r,u),r.prototype.getStackLength=function(){return this.maskStack.length},r.prototype.setMaskStack=function(e){var i=this.renderer.gl,l=this.getStackLength();this.maskStack=e;var C=this.getStackLength();C!==l&&(0===C?i.disable(this.glConst):(i.enable(this.glConst),this._useCurrent()))},r.prototype._useCurrent=function(){},r.prototype.destroy=function(){u.prototype.destroy.call(this),this.maskStack=null},r}(vr),ls=function(u){function r(e){var i=u.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return wn(r,u),r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},r.prototype.push=function(e){var i=e.maskObject;i.renderable=!0;var l=e._scissorRect,C=i.getBounds(!0),T=this.renderer.gl;i.renderable=!1,l?C.fit(l):T.enable(T.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=C,this._useCurrent()},r.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},r.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,i=this.renderer.renderTexture.current,l=this.renderer.projection,C=l.transform,T=l.sourceFrame,V=l.destinationFrame,ue=i?i.resolution:this.renderer.resolution,Ee=(e.x-T.x)*ue+V.x,Ge=(e.y-T.y)*ue+V.y,je=e.height*ue;C&&(Ee+=C.tx*ue,Ge+=C.ty*ue),i||(Ge=this.renderer.height-je-Ge),this.renderer.gl.scissor(Ee,Ge,e.width*ue,je)},r}(Ko),Mo=function(u){function r(e){var i=u.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return wn(r,u),r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},r.prototype.push=function(e){var i=e.maskObject,l=this.renderer.gl,C=e._stencilCounter;0===C&&(this.renderer.framebuffer.forceStencil(),l.enable(l.STENCIL_TEST)),e._stencilCounter++,l.colorMask(!1,!1,!1,!1),l.stencilFunc(l.EQUAL,C,this._getBitwiseMask()),l.stencilOp(l.KEEP,l.KEEP,l.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},r.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?(i.disable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),i.clearStencil(0)):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},r.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},r.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},r}(Ko),js=function(u){function r(e){var i=u.call(this,e)||this;return i.destinationFrame=null,i.sourceFrame=null,i.defaultFrame=null,i.projectionMatrix=new fr,i.transform=null,i}return wn(r,u),r.prototype.update=function(e,i,l,C){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,l,C),this.transform&&this.projectionMatrix.append(this.transform);var T=this.renderer;T.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,T.globalUniforms.update(),T.shader.shader&&T.shader.syncUniformGroup(T.shader.shader.uniforms.globals)},r.prototype.calculateProjection=function(e,i,l,C){var T=this.projectionMatrix,V=C?-1:1;T.identity(),T.a=1/i.width*2,T.d=V*(1/i.height*2),T.tx=-1-i.x*T.a,T.ty=-V-i.y*T.d},r.prototype.setTransform=function(e){},r}(vr),ie=new Gi,B=new Gi,v=new Gi,P=function(u){function r(e){var i=u.call(this,e)||this;return i.clearColor=e._backgroundColorRgba,i.defaultMaskStack=[],i.current=null,i.sourceFrame=new Gi,i.destinationFrame=new Gi,i}return wn(r,u),r.prototype.bind=function(e,i,l){void 0===e&&(e=null);var T,V,ue,C=this.renderer;this.current=e,e?(ue=(T=e.baseTexture).resolution,i||(ie.width=e.frame.width,ie.height=e.frame.height,i=ie),l||(B.x=e.frame.x,B.y=e.frame.y,B.width=i.width,B.height=i.height,l=B),V=T.framebuffer):(ue=C.resolution,i||(ie.width=C.screen.width,ie.height=C.screen.height,i=ie),l||((l=ie).width=i.width,l.height=i.height)),v.x=l.x*ue,v.y=l.y*ue,v.width=l.width*ue,v.height=l.height*ue,this.renderer.framebuffer.bind(V,v),this.renderer.projection.update(l,i,ue,!V),this.renderer.mask.setMaskStack(e?T.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(i),this.destinationFrame.copyFrom(l)},r.prototype.clear=function(e,i){this.renderer.framebuffer.clear((e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor)[0],e[1],e[2],e[3],i)},r.prototype.resize=function(){this.bind(null)},r.prototype.reset=function(){this.bind(null)},r}(vr),W=function u(){},me=function(){function u(r,e){this.program=r,this.uniformData=e,this.uniformGroups={}}return u.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},u}(),Fe=0,ft={textureCount:0},Tt=function(u){function r(e){var i=u.call(this,e)||this;return i.destroyed=!1,i.systemCheck(),i.gl=null,i.shader=null,i.program=null,i.cache={},i.id=Fe++,i}return wn(r,u),r.prototype.systemCheck=function(){if(!function _o(){if("boolean"==typeof Er)return Er;try{var u=new Function("param1","param2","param3","return param1[param2] === param3;");Er=!0===u({a:"b"},"a","b")}catch(r){Er=!1}return Er}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},r.prototype.contextChange=function(e){this.gl=e,this.reset()},r.prototype.bind=function(e,i){e.uniforms.globals=this.renderer.globalUniforms;var l=e.program,C=l.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==l&&(this.program=l,this.gl.useProgram(C.program)),i||(ft.textureCount=0,this.syncUniformGroup(e.uniformGroup,ft)),C},r.prototype.setUniforms=function(e){var i=this.shader.program;i.syncUniforms(i.glPrograms[this.renderer.CONTEXT_UID].uniformData,e,this.renderer)},r.prototype.syncUniformGroup=function(e,i){var l=this.getglProgram();(!e.static||e.dirtyId!==l.uniformGroups[e.id])&&(l.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,l,i))},r.prototype.syncUniforms=function(e,i,l){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(i.uniformData,e.uniforms,this.renderer,l)},r.prototype.createSyncGroups=function(e){var i=this.getSignature(e,this.shader.program.uniformData);return this.cache[i]||(this.cache[i]=function rr(u,r){var e=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in u.uniforms){var l=r[i];if(l){for(var C=u.uniforms[i],T=!1,V=0;V<hi.length;V++)if(hi[V].test(l,C)){e.push(hi[V].code(i,C)),T=!0;break}if(!T){var Ee=(1===l.size?Ci:pi)[l.type].replace("location",'ud["'+i+'"].location');e.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+Ee+";")}}else u.uniforms[i].group&&e.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",e.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[i],e.syncUniforms[this.shader.program.id]},r.prototype.getSignature=function(e,i){var l=e.uniforms,C=[];for(var T in l)C.push(T),i[T]&&C.push(i[T].type);return C.join("-")},r.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},r.prototype.generateShader=function(e){var i=this.gl,l=e.program,C={};for(var T in l.attributeData)C[T]=l.attributeData[T].location;var V=ye(i,l.vertexSrc,l.fragmentSrc,C),ue={};for(var T in l.uniformData){var Ee=l.uniformData[T];ue[T]={location:i.getUniformLocation(V,T),value:M(Ee.type,Ee.size)}}var Ge=new me(V,ue);return l.glPrograms[this.renderer.CONTEXT_UID]=Ge,Ge},r.prototype.reset=function(){this.program=null,this.shader=null},r.prototype.destroy=function(){this.destroyed=!0},r}(vr),pn=0,Dn=1,Jn=2,Si=3,Hi=4,Ri=function(u){function r(e){var i=u.call(this,e)||this;return i.gl=null,i.stateId=0,i.polygonOffset=0,i.blendMode=Le.NONE,i._blendEq=!1,i.map=[],i.map[pn]=i.setBlend,i.map[Dn]=i.setOffset,i.map[Jn]=i.setCullFace,i.map[Si]=i.setDepthTest,i.map[Hi]=i.setFrontFace,i.checks=[],i.defaultState=new ms,i.defaultState.blend=!0,i}return wn(r,u),r.prototype.contextChange=function(e){this.gl=e,this.blendModes=function Jt(u,r){return void 0===r&&(r=[]),r[Le.NORMAL]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.ADD]=[u.ONE,u.ONE],r[Le.MULTIPLY]=[u.DST_COLOR,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.SCREEN]=[u.ONE,u.ONE_MINUS_SRC_COLOR,u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.OVERLAY]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.DARKEN]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.LIGHTEN]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.COLOR_DODGE]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.COLOR_BURN]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.HARD_LIGHT]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.SOFT_LIGHT]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.DIFFERENCE]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.EXCLUSION]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.HUE]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.SATURATION]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.COLOR]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.LUMINOSITY]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.NONE]=[0,0],r[Le.NORMAL_NPM]=[u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.ADD_NPM]=[u.SRC_ALPHA,u.ONE,u.ONE,u.ONE],r[Le.SCREEN_NPM]=[u.SRC_ALPHA,u.ONE_MINUS_SRC_COLOR,u.ONE,u.ONE_MINUS_SRC_ALPHA],r[Le.SRC_IN]=[u.DST_ALPHA,u.ZERO],r[Le.SRC_OUT]=[u.ONE_MINUS_DST_ALPHA,u.ZERO],r[Le.SRC_ATOP]=[u.DST_ALPHA,u.ONE_MINUS_SRC_ALPHA],r[Le.DST_OVER]=[u.ONE_MINUS_DST_ALPHA,u.ONE],r[Le.DST_IN]=[u.ZERO,u.SRC_ALPHA],r[Le.DST_OUT]=[u.ZERO,u.ONE_MINUS_SRC_ALPHA],r[Le.DST_ATOP]=[u.ONE_MINUS_DST_ALPHA,u.SRC_ALPHA],r[Le.XOR]=[u.ONE_MINUS_DST_ALPHA,u.ONE_MINUS_SRC_ALPHA],r[Le.SUBTRACT]=[u.ONE,u.ONE,u.ONE,u.ONE,u.FUNC_REVERSE_SUBTRACT,u.FUNC_ADD],r}(e),this.set(this.defaultState),this.reset()},r.prototype.set=function(e){if(this.stateId!==(e=e||this.defaultState).data){for(var i=this.stateId^e.data,l=0;i;)1&i&&this.map[l].call(this,!!(e.data&1<<l)),i>>=1,l++;this.stateId=e.data}for(l=0;l<this.checks.length;l++)this.checks[l](this,e)},r.prototype.forceState=function(e){e=e||this.defaultState;for(var i=0;i<this.map.length;i++)this.map[i].call(this,!!(e.data&1<<i));for(i=0;i<this.checks.length;i++)this.checks[i](this,e);this.stateId=e.data},r.prototype.setBlend=function(e){this.updateCheck(r.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},r.prototype.setOffset=function(e){this.updateCheck(r.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},r.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},r.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},r.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},r.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var i=this.blendModes[e],l=this.gl;2===i.length?l.blendFunc(i[0],i[1]):l.blendFuncSeparate(i[0],i[1],i[2],i[3]),6===i.length?(this._blendEq=!0,l.blendEquationSeparate(i[4],i[5])):this._blendEq&&(this._blendEq=!1,l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD))}},r.prototype.setPolygonOffset=function(e,i){this.gl.polygonOffset(e,i)},r.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},r.prototype.updateCheck=function(e,i){var l=this.checks.indexOf(e);i&&-1===l?this.checks.push(e):!i&&-1!==l&&this.checks.splice(l,1)},r.checkBlendMode=function(e,i){e.setBlendMode(i.blendMode)},r.checkPolygonOffset=function(e,i){e.setPolygonOffset(1,i.polygonOffset)},r}(vr),Li=function(u){function r(e){var i=u.call(this,e)||this;return i.count=0,i.checkCount=0,i.maxIdle=pe.GC_MAX_IDLE,i.checkCountMax=pe.GC_MAX_CHECK_COUNT,i.mode=pe.GC_MODE,i}return wn(r,u),r.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==$t.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},r.prototype.run=function(){for(var e=this.renderer.texture,i=e.managedTextures,l=!1,C=0;C<i.length;C++){var T=i[C];!T.framebuffer&&this.count-T.touched>this.maxIdle&&(e.destroyTexture(T,!0),i[C]=null,l=!0)}if(l){var V=0;for(C=0;C<i.length;C++)null!==i[C]&&(i[V++]=i[C]);i.length=V}},r.prototype.unload=function(e){var l=e._texture;l&&!l.framebuffer&&this.renderer.texture.destroyTexture(l);for(var C=e.children.length-1;C>=0;C--)this.unload(e.children[C])},r}(vr),Sr=function u(r){this.texture=r,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Lr=function(u){function r(e){var i=u.call(this,e)||this;return i.boundTextures=[],i.currentLocation=-1,i.managedTextures=[],i._unknownBoundTextures=!1,i.unknownTexture=new mi,i}return wn(r,u),r.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var i=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(var l=0;l<i;l++)this.boundTextures[l]=null;this.emptyTextures={};var C=new Sr(e.createTexture());for(e.bindTexture(e.TEXTURE_2D,C.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=C,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Sr(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture),l=0;l<6;l++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);for(e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),l=0;l<this.boundTextures.length;l++)this.bind(null,l)},r.prototype.bind=function(e,i){void 0===i&&(i=0);var l=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var C=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[i]!==e&&(this.currentLocation!==i&&(this.currentLocation=i,l.activeTexture(l.TEXTURE0+i)),l.bindTexture(e.target,C.texture)),C.dirtyId!==e.dirtyId&&(this.currentLocation!==i&&(this.currentLocation=i,l.activeTexture(l.TEXTURE0+i)),this.updateTexture(e)),this.boundTextures[i]=e}}else this.currentLocation!==i&&(this.currentLocation=i,l.activeTexture(l.TEXTURE0+i)),l.bindTexture(l.TEXTURE_2D,this.emptyTextures[l.TEXTURE_2D].texture),this.boundTextures[i]=null},r.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},r.prototype.unbind=function(e){var l=this.gl,C=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var T=0;T<C.length;T++)C[T]===this.unknownTexture&&this.bind(null,T)}for(T=0;T<C.length;T++)C[T]===e&&(this.currentLocation!==T&&(l.activeTexture(l.TEXTURE0+T),this.currentLocation=T),l.bindTexture(e.target,this.emptyTextures[e.target].texture),C[T]=null)},r.prototype.initTexture=function(e){var i=new Sr(this.gl.createTexture());return i.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=i,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),i},r.prototype.initTextureType=function(e,i){if(i.internalFormat=e.format,i.type=e.type,2===this.webGLVersion){var l=this.renderer.gl;e.type===l.FLOAT&&e.format===l.RGBA&&(i.internalFormat=l.RGBA32F),e.type===un.HALF_FLOAT&&(i.type=l.HALF_FLOAT),i.type===l.HALF_FLOAT&&e.format===l.RGBA&&(i.internalFormat=l.RGBA16F)}},r.prototype.updateTexture=function(e){var i=e._glTextures[this.CONTEXT_UID];if(i){var l=this.renderer;if(this.initTextureType(e,i),!e.resource||!e.resource.upload(l,e,i)){var C=e.realWidth,T=e.realHeight,V=l.gl;(i.width!==C||i.height!==T||i.dirtyId<0)&&(i.width=C,i.height=T,V.texImage2D(e.target,0,i.internalFormat,C,T,0,e.format,i.type,null))}e.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(e),i.dirtyId=e.dirtyId}},r.prototype.destroyTexture=function(e,i){var l=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),l.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!i)){var C=this.managedTextures.indexOf(e);-1!==C&&Zt(this.managedTextures,C,1)}},r.prototype.updateTextureStyle=function(e){var i=e._glTextures[this.CONTEXT_UID];i&&(i.mipmap=!!(e.mipmap!==Ct.POW2&&2===this.webGLVersion||e.isPowerOfTwo)&&e.mipmap>=1,i.wrapMode=2===this.webGLVersion||e.isPowerOfTwo?e.wrapMode:tn.CLAMP,e.resource&&e.resource.style(this.renderer,e,i)||this.setStyle(e,i),i.dirtyStyleId=e.dirtyStyleId)},r.prototype.setStyle=function(e,i){var l=this.gl;if(i.mipmap&&l.generateMipmap(e.target),l.texParameteri(e.target,l.TEXTURE_WRAP_S,i.wrapMode),l.texParameteri(e.target,l.TEXTURE_WRAP_T,i.wrapMode),i.mipmap){l.texParameteri(e.target,l.TEXTURE_MIN_FILTER,e.scaleMode===En.LINEAR?l.LINEAR_MIPMAP_LINEAR:l.NEAREST_MIPMAP_NEAREST);var C=this.renderer.context.extensions.anisotropicFiltering;if(C&&e.anisotropicLevel>0&&e.scaleMode===En.LINEAR){var T=Math.min(e.anisotropicLevel,l.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT));l.texParameterf(e.target,C.TEXTURE_MAX_ANISOTROPY_EXT,T)}}else l.texParameteri(e.target,l.TEXTURE_MIN_FILTER,e.scaleMode===En.LINEAR?l.LINEAR:l.NEAREST);l.texParameteri(e.target,l.TEXTURE_MAG_FILTER,e.scaleMode===En.LINEAR?l.LINEAR:l.NEAREST)},r}(vr),Io={FilterSystem:be,BatchSystem:et,ContextSystem:Et,FramebufferSystem:rn,GeometrySystem:Ii,MaskSystem:Os,ScissorSystem:ls,StencilSystem:Mo,ProjectionSystem:js,RenderTextureSystem:P,ShaderSystem:Tt,StateSystem:Ri,TextureGCSystem:Li,TextureSystem:Lr},a=new fr,_=function(u){function r(e,i){void 0===e&&(e=Ve.UNKNOWN);var l=u.call(this)||this;return(i=Object.assign({},pe.RENDER_OPTIONS,i)).roundPixels&&(pe.ROUND_PIXELS=i.roundPixels,jt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),l.options=i,l.type=e,l.screen=new Gi(0,0,i.width,i.height),l.view=i.view||document.createElement("canvas"),l.resolution=i.resolution||pe.RESOLUTION,l.transparent=i.transparent,l.autoDensity=i.autoDensity||i.autoResize||!1,l.preserveDrawingBuffer=i.preserveDrawingBuffer,l.clearBeforeRender=i.clearBeforeRender,l._backgroundColor=0,l._backgroundColorRgba=[0,0,0,0],l._backgroundColorString="#000000",l.backgroundColor=i.backgroundColor||l._backgroundColor,l._lastObjectRendered=null,l.plugins={},l}return wn(r,u),r.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,i){this.screen.width=e,this.screen.height=i,this.view.width=e*this.resolution,this.view.height=i*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=i+"px"),this.emit("resize",e,i)},r.prototype.generateTexture=function(e,i,l,C){0===(C=C||e.getLocalBounds(null,!0)).width&&(C.width=1),0===C.height&&(C.height=1);var T=ro.create({width:0|C.width,height:0|C.height,scaleMode:i,resolution:l});return a.tx=-C.x,a.ty=-C.y,this.render(e,T,!1,a,!!e.parent),T},r.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var l=this;l.plugins=null,l.type=Ve.UNKNOWN,l.view=null,l.screen=null,l._tempDisplayObjectParent=null,l.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Qi(e),Fr(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),r}(xe()),F=function(u){function r(e){var i=u.call(this,Ve.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new cn("destroy"),contextChange:new cn("contextChange"),reset:new cn("reset"),update:new cn("update"),postrender:new cn("postrender"),prerender:new cn("prerender"),resize:new cn("resize")},i.globalUniforms=new Xi({projectionMatrix:new fr},!0),i.addSystem(Os,"mask").addSystem(Et,"context").addSystem(Ri,"state").addSystem(Tt,"shader").addSystem(Lr,"texture").addSystem(Ii,"geometry").addSystem(rn,"framebuffer").addSystem(ls,"scissor").addSystem(Mo,"stencil").addSystem(js,"projection").addSystem(Li,"textureGC").addSystem(be,"filter").addSystem(P,"renderTexture").addSystem(et,"batch"),i.initPlugins(r.__plugins),e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.transparent,antialias:e.antialias,premultipliedAlpha:i.transparent&&"notMultiplied"!==i.transparent,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,Ji(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return wn(r,u),r.create=function(e){if(ir())return new r(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.addSystem=function(e,i){i||(i=e.name);var l=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var C in this[i]=l,this.runners)this.runners[C].add(l);return this},r.prototype.render=function(e,i,l,C,T){if(this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=C,!this.context.isLost){if(i||(this._lastObjectRendered=e),!T){var V=e.enableTempParent();e.updateTransform(),e.disableTempParent(V)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(void 0!==l?l:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.resize=function(e,i){u.prototype.resize.call(this,e,i),this.runners.resize.emit(e,i)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();u.prototype.destroy.call(this,e),this.gl=null},r.registerPlugin=function(e,i){(r.__plugins=r.__plugins||{})[e]=i},r}(_);function te(u){return F.create(u)}var _e="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Je="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",kt=function u(){this.texArray=null,this.blend=0,this.type=gt.TRIANGLES,this.start=0,this.size=0,this.data=null},ln=function(){function u(){this.elements=[],this.ids=[],this.count=0}return u.prototype.clear=function(){for(var r=0;r<this.count;r++)this.elements[r]=null;this.count=0},u}(),_n=function(){function u(r){this.rawBinaryData=new ArrayBuffer(r),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(u.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),u.prototype.view=function(r){return this[r+"View"]},u.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},u.sizeOf=function(r){switch(r){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(r+" isn't a valid view type")}},u}(),Ln=function(u){function r(e){var i=u.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=ms.for2d(),i.size=4*pe.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return wn(r,u),r.prototype.contextChange=function(){var e=this.renderer.gl;pe.PREFER_ENV===we.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),pe.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Jr(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var e=r._drawCallPool,i=r._textureArrayPool,l=this.size/4,C=Math.floor(l/this.MAX_TEXTURES)+1;e.length<l;)e.push(new kt);for(;i.length<C;)i.push(new ln);for(var T=0;T<this.MAX_TEXTURES;T++)this._tempBoundTextures[T]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},r.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,l=this.MAX_TEXTURES,C=r._textureArrayPool,T=this.renderer.batch,V=this._tempBoundTextures,ue=this.renderer.textureGC.count,Ee=++mi._globalBatch,Ge=0,$e=C[0],je=0;T.copyBoundTextures(V,l);for(var pt=0;pt<this._bufferSize;++pt){var St=i[pt];i[pt]=null,St._batchEnabled!==Ee&&($e.count>=l&&(T.boundArray($e,V,Ee,l),this.buildDrawCalls($e,je,pt),je=pt,$e=C[++Ge],++Ee),St._batchEnabled=Ee,St.touched=ue,$e.elements[$e.count++]=St)}for($e.count>0&&(T.boundArray($e,V,Ee,l),this.buildDrawCalls($e,je,this._bufferSize),++Ge,++Ee),pt=0;pt<V.length;pt++)V[pt]=null;mi._globalBatch=Ee},r.prototype.buildDrawCalls=function(e,i,l){var C=this,T=C._bufferedElements,V=C._attributeBuffer,ue=C._indexBuffer,Ee=C.vertexSize,Ge=r._drawCallPool,$e=this._dcIndex,je=this._aIndex,pt=this._iIndex,St=Ge[$e];St.start=this._iIndex,St.texArray=e;for(var It=i;It<l;++It){var on=T[It],Ai=Pt[on._texture.baseTexture.alphaMode?1:0][on.blendMode];T[It]=null,i<It&&St.blend!==Ai&&(St.size=pt-St.start,i=It,(St=Ge[++$e]).texArray=e,St.start=pt),this.packInterleavedGeometry(on,V,ue,je,pt),je+=on.vertexData.length/2*Ee,pt+=on.indices.length,St.blend=Ai}i<l&&(St.size=pt-St.start,++$e),this._dcIndex=$e,this._aIndex=je,this._iIndex=pt},r.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,l=0;l<e.count;l++)i.bind(e.elements[l],e.ids[l]),e.elements[l]=null;e.count=0},r.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,l=e._attributeBuffer,C=e._indexBuffer;pe.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(l.rawBinaryData),i[this._flushId]._indexBuffer.update(C),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(l.rawBinaryData),i[this._flushId]._indexBuffer.update(C),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,l=i.gl,C=i.state,T=r._drawCallPool,V=null,ue=0;ue<e;ue++){var Ee=T[ue],Ge=Ee.texArray,$e=Ee.type,je=Ee.size,pt=Ee.start,St=Ee.blend;V!==Ge&&(V=Ge,this.bindAndClearTexArray(Ge)),this.state.blendMode=St,C.set(this.state),l.drawElements($e,je,l.UNSIGNED_SHORT,2*pt)}},r.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),pe.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),u.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(e){var i=Qn(Math.ceil(e/8)),l=Zi(i),C=8*i;this._aBuffers.length<=l&&(this._iBuffers.length=l+1);var T=this._aBuffers[C];return T||(this._aBuffers[C]=T=new _n(C*this.vertexSize*4)),T},r.prototype.getIndexBuffer=function(e){var i=Qn(Math.ceil(e/12)),l=Zi(i),C=12*i;this._iBuffers.length<=l&&(this._iBuffers.length=l+1);var T=this._iBuffers[l];return T||(this._iBuffers[l]=T=new Uint16Array(C)),T},r.prototype.packInterleavedGeometry=function(e,i,l,C,T){for(var V=i.uint32View,ue=i.float32View,Ee=C/this.vertexSize,Ge=e.uvs,$e=e.indices,je=e.vertexData,pt=e._texture.baseTexture._batchLocation,St=Math.min(e.worldAlpha,1),It=St<1&&e._texture.baseTexture.alphaMode?en(e._tintRGB,St):e._tintRGB+(255*St<<24),on=0;on<je.length;on+=2)ue[C++]=je[on],ue[C++]=je[on+1],ue[C++]=Ge[on],ue[C++]=Ge[on+1],V[C++]=It,ue[C++]=pt;for(on=0;on<$e.length;on++)l[T++]=Ee+$e[on]},r._drawCallPool=[],r._textureArrayPool=[],r}(Pe),fi=function(){function u(r,e){if(this.vertexSrc=r,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return u.prototype.generateShader=function(r){if(!this.programCache[r]){for(var e=new Int32Array(r),i=0;i<r;i++)e[i]=i;this.defaultGroupCache[r]=Xi.from({uSamplers:e},!0);var l=this.fragTemplate;l=(l=l.replace(/%count%/gi,""+r)).replace(/%forloop%/gi,this.generateSampleSrc(r)),this.programCache[r]=new ts(this.vertexSrc,l)}var C={tint:new Float32Array([1,1,1,1]),translationMatrix:new fr,default:this.defaultGroupCache[r]};return new ss(this.programCache[r],C)},u.prototype.generateSampleSrc=function(r){var e="";e+="\n",e+="\n";for(var i=0;i<r;i++)i>0&&(e+="\nelse "),i<r-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},u}(),ji=function(u){function r(e){void 0===e&&(e=!1);var i=u.call(this)||this;return i._buffer=new wr(null,e,!1),i._indexBuffer=new wr(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,un.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,un.FLOAT).addAttribute("aColor",i._buffer,4,!0,un.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,un.FLOAT).addIndex(i._indexBuffer),i}return wn(r,u),r}(zo),ur="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ci="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",bi=function(){function u(){}return u.create=function(r){var e=Object.assign({vertex:ur,fragment:ci,geometryClass:ji,vertexSize:6},r),i=e.vertex,l=e.fragment,C=e.vertexSize,T=e.geometryClass;return function(V){function ue(Ee){var Ge=V.call(this,Ee)||this;return Ge.shaderGenerator=new fi(i,l),Ge.geometryClass=T,Ge.vertexSize=C,Ge}return wn(ue,V),ue}(Ln)},Object.defineProperty(u,"defaultVertexSrc",{get:function(){return ur},enumerable:!1,configurable:!0}),Object.defineProperty(u,"defaultFragmentTemplate",{get:function(){return ci},enumerable:!1,configurable:!0}),u}(),Fi=bi.create(),Ui=function(){function u(r){var e=this;r=Object.assign({forceCanvas:!1},r),this.renderer=te(r),this.stage=new Qt,u._plugins.forEach(function(i){i.init.call(e,r)})}return u.registerPlugin=function(r){u._plugins.push(r)},u.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(u.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),u.prototype.destroy=function(r,e){var i=this,l=u._plugins.slice(0);l.reverse(),l.forEach(function(C){C.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(r),this.renderer=null},u}();Ui._plugins=[];var mo=function(){function u(){}return u.init=function(r){var e=this;Object.defineProperty(this,"resizeTo",{set:function(i){window.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var i,l;if(e.cancelResize(),e._resizeTo===window)i=window.innerWidth,l=window.innerHeight;else{var C=e._resizeTo;i=C.clientWidth,l=C.clientHeight}e.renderer.resize(i,l)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=r.resizeTo||null},u.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},u}();Ui.registerPlugin(mo);var us=new Gi,cs=function(){function u(r){this.renderer=r,r.extract=this}return u.prototype.image=function(r,e,i){var l=new Image;return l.src=this.base64(r,e,i),l},u.prototype.base64=function(r,e,i){return this.canvas(r).toDataURL(e,i)},u.prototype.canvas=function(r){var i,l,T,e=this.renderer,C=!1,V=!1;r&&(r instanceof ro?T=r:(T=this.renderer.generateTexture(r),V=!0)),T?(i=T.baseTexture.resolution,l=T.frame,C=!1,e.renderTexture.bind(T)):(i=this.renderer.resolution,C=!0,(l=us).width=this.renderer.width,l.height=this.renderer.height,e.renderTexture.bind(null));var ue=Math.floor(l.width*i+1e-4),Ee=Math.floor(l.height*i+1e-4),Ge=new At(ue,Ee,1),$e=new Uint8Array(4*ue*Ee),je=e.gl;je.readPixels(l.x*i,l.y*i,ue,Ee,je.RGBA,je.UNSIGNED_BYTE,$e);var pt=Ge.context.getImageData(0,0,ue,Ee);if(u.arrayPostDivide($e,pt.data),Ge.context.putImageData(pt,0,0),C){var St=new At(Ge.width,Ge.height,1);St.context.scale(1,-1),St.context.drawImage(Ge.canvas,0,-Ee),Ge.destroy(),Ge=St}return V&&T.destroy(!0),Ge.canvas},u.prototype.pixels=function(r){var i,l,C,e=this.renderer,T=!1;r&&(r instanceof ro?C=r:(C=this.renderer.generateTexture(r),T=!0)),C?(i=C.baseTexture.resolution,l=C.frame,e.renderTexture.bind(C)):(i=e.resolution,(l=us).width=e.width,l.height=e.height,e.renderTexture.bind(null));var V=l.width*i,ue=l.height*i,Ee=new Uint8Array(4*V*ue),Ge=e.gl;return Ge.readPixels(l.x*i,l.y*i,V,ue,Ge.RGBA,Ge.UNSIGNED_BYTE,Ee),T&&C.destroy(!0),u.arrayPostDivide(Ee,Ee),Ee},u.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},u.arrayPostDivide=function(r,e){for(var i=0;i<r.length;i+=4){var l=e[i+3]=r[i+3];0!==l?(e[i]=Math.round(Math.min(255*r[i]/l,255)),e[i+1]=Math.round(Math.min(255*r[i+1]/l,255)),e[i+2]=Math.round(Math.min(255*r[i+2]/l,255))):(e[i]=r[i],e[i+1]=r[i+1],e[i+2]=r[i+2])}},u}(),xo=R(9515),ks=R.n(xo),zs=R(936),Cr=R.n(zs);function oo(){}function Ho(u,r,e,i){var l=0,C=u.length;!function T(V){V||l===C?e&&e(V):i?setTimeout(function(){r(u[l++],T)},1):r(u[l++],T)}()}function Es(u){return function(){if(null===u)throw new Error("Callback was already called.");var e=u;u=null,e.apply(this,arguments)}}var Ss={};function ma(u,r){for(var e=0;e<r.length;e++){var i=r[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(u,i.key,i)}}function Ha(u,r,e){return r&&ma(u.prototype,r),e&&ma(u,e),u}var Gs=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),va=null;function Cs(){}var ar=function(){function u(e,i,l){if("string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");l=l||{},this._flags=0,this._setFlag(u.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===l.crossOrigin?"anonymous":l.crossOrigin,this.timeout=l.timeout||0,this.loadType=l.loadType||this._determineLoadType(),this.xhrType=l.xhrType,this.metadata=l.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=u.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Cs,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(Cr()),this.onProgress=new(Cr()),this.onComplete=new(Cr()),this.onAfterMiddleware=new(Cr())}u.setExtensionLoadType=function(i,l){Js(u._loadTypeMap,i,l)},u.setExtensionXhrType=function(i,l){Js(u._xhrTypeMap,i,l)};var r=u.prototype;return r.complete=function(){this._clearEvents(),this._finish()},r.abort=function(i){if(!this.error){if(this.error=new Error(i),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=u.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},r.load=function(i){var l=this;if(!this.isLoading){if(this.isComplete)return void(i&&setTimeout(function(){return i(l)},1));switch(i&&this.onComplete.once(i),this._setFlag(u.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case u.LOAD_TYPE.IMAGE:this.type=u.TYPE.IMAGE,this._loadElement("image");break;case u.LOAD_TYPE.AUDIO:this.type=u.TYPE.AUDIO,this._loadSourceElement("audio");break;case u.LOAD_TYPE.VIDEO:this.type=u.TYPE.VIDEO,this._loadSourceElement("video");break;default:Gs&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},r._hasFlag=function(i){return 0!=(this._flags&i)},r._setFlag=function(i,l){this._flags=l?this._flags|i:this._flags&~i},r._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},r._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(u.STATUS_FLAGS.COMPLETE,!0),this._setFlag(u.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},r._loadElement=function(i){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===i&&typeof window.Image<"u"?new Image:document.createElement(i),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},r._loadSourceElement=function(i){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===i&&typeof window.Audio<"u"?new Audio:document.createElement(i),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var l=this.metadata.mimeType,C=0;C<this.url.length;++C)this.data.appendChild(this._createSource(i,this.url[C],Array.isArray(l)?l[C]:l));else{var T=this.metadata.mimeType;this.data.appendChild(this._createSource(i,this.url,Array.isArray(T)?T[0]:T))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+i)},r._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var i=this.xhr=new XMLHttpRequest;i.open("GET",this.url,!0),i.timeout=this.timeout,i.responseType=this.xhrType===u.XHR_RESPONSE_TYPE.JSON||this.xhrType===u.XHR_RESPONSE_TYPE.DOCUMENT?u.XHR_RESPONSE_TYPE.TEXT:this.xhrType,i.addEventListener("error",this._boundXhrOnError,!1),i.addEventListener("timeout",this._boundXhrOnTimeout,!1),i.addEventListener("abort",this._boundXhrOnAbort,!1),i.addEventListener("progress",this._boundOnProgress,!1),i.addEventListener("load",this._boundXhrOnLoad,!1),i.send()},r._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var i=this.xhr=new XDomainRequest;i.timeout=this.timeout||5e3,i.onerror=this._boundXhrOnError,i.ontimeout=this._boundXhrOnTimeout,i.onprogress=this._boundOnProgress,i.onload=this._boundXhrOnLoad,i.open("GET",this.url,!0),setTimeout(function(){return i.send()},1)},r._createSource=function(i,l,C){C||(C=i+"/"+this._getExtension(l));var T=document.createElement("source");return T.src=l,T.type=C,T},r._onError=function(i){this.abort("Failed to load element using: "+i.target.nodeName)},r._onProgress=function(i){i&&i.lengthComputable&&this.onProgress.dispatch(this,i.loaded/i.total)},r._onTimeout=function(){this.abort("Load timed out.")},r._xhrOnError=function(){var i=this.xhr;this.abort(ja(i)+" Request failed. Status: "+i.status+', text: "'+i.statusText+'"')},r._xhrOnTimeout=function(){this.abort(ja(this.xhr)+" Request timed out.")},r._xhrOnAbort=function(){this.abort(ja(this.xhr)+" Request was aborted by the user.")},r._xhrOnLoad=function(){var i=this.xhr,l="",C=typeof i.status>"u"?200:i.status;if((""===i.responseType||"text"===i.responseType||typeof i.responseType>"u")&&(l=i.responseText),0===C&&(l.length>0||i.responseType===u.XHR_RESPONSE_TYPE.BUFFER)?C=200:1223===C&&(C=204),2==(C/100|0)){if(this.xhrType===u.XHR_RESPONSE_TYPE.TEXT)this.data=l,this.type=u.TYPE.TEXT;else if(this.xhrType===u.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(l),this.type=u.TYPE.JSON}catch(Ee){return void this.abort("Error trying to parse loaded json: "+Ee)}else if(this.xhrType===u.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var V=new DOMParser;this.data=V.parseFromString(l,"text/xml")}else{var ue=document.createElement("div");ue.innerHTML=l,this.data=ue}this.type=u.TYPE.XML}catch(Ee){return void this.abort("Error trying to parse loaded xml: "+Ee)}else this.data=i.response||l;this.complete()}else this.abort("["+i.status+"] "+i.statusText+": "+i.responseURL)},r._determineCrossOrigin=function(i,l){return 0===i.indexOf("data:")?"":window.origin!==window.location.origin?"anonymous":(l=l||window.location,va||(va=document.createElement("a")),va.href=i,(i=ks()(va.href,{strictMode:!0})).host!==l.hostname||(i.port||""!==l.port)&&i.port!==l.port||(i.protocol?i.protocol+":":"")!==l.protocol?"anonymous":"")},r._determineXhrType=function(){return u._xhrTypeMap[this.extension]||u.XHR_RESPONSE_TYPE.TEXT},r._determineLoadType=function(){return u._loadTypeMap[this.extension]||u.LOAD_TYPE.XHR},r._getExtension=function(){var i=this.url,l="";if(this.isDataUrl){var C=i.indexOf("/");l=i.substring(C+1,i.indexOf(";",C))}else{var T=i.indexOf("?"),V=i.indexOf("#"),ue=Math.min(T>-1?T:i.length,V>-1?V:i.length);l=(i=i.substring(0,ue)).substring(i.lastIndexOf(".")+1)}return l.toLowerCase()},r._getMimeFromXhrType=function(i){switch(i){case u.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case u.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case u.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case u.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},Ha(u,[{key:"isDataUrl",get:function(){return this._hasFlag(u.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(u.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(u.STATUS_FLAGS.LOADING)}}]),u}();function Js(u,r,e){r&&0===r.indexOf(".")&&(r=r.substring(1)),r&&(u[r]=e)}function ja(u){return u.toString().replace("object ","")}ar.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},ar.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},ar.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},ar.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},ar._loadTypeMap={gif:ar.LOAD_TYPE.IMAGE,png:ar.LOAD_TYPE.IMAGE,bmp:ar.LOAD_TYPE.IMAGE,jpg:ar.LOAD_TYPE.IMAGE,jpeg:ar.LOAD_TYPE.IMAGE,tif:ar.LOAD_TYPE.IMAGE,tiff:ar.LOAD_TYPE.IMAGE,webp:ar.LOAD_TYPE.IMAGE,tga:ar.LOAD_TYPE.IMAGE,svg:ar.LOAD_TYPE.IMAGE,"svg+xml":ar.LOAD_TYPE.IMAGE,mp3:ar.LOAD_TYPE.AUDIO,ogg:ar.LOAD_TYPE.AUDIO,wav:ar.LOAD_TYPE.AUDIO,mp4:ar.LOAD_TYPE.VIDEO,webm:ar.LOAD_TYPE.VIDEO},ar._xhrTypeMap={xhtml:ar.XHR_RESPONSE_TYPE.DOCUMENT,html:ar.XHR_RESPONSE_TYPE.DOCUMENT,htm:ar.XHR_RESPONSE_TYPE.DOCUMENT,xml:ar.XHR_RESPONSE_TYPE.DOCUMENT,tmx:ar.XHR_RESPONSE_TYPE.DOCUMENT,svg:ar.XHR_RESPONSE_TYPE.DOCUMENT,tsx:ar.XHR_RESPONSE_TYPE.DOCUMENT,gif:ar.XHR_RESPONSE_TYPE.BLOB,png:ar.XHR_RESPONSE_TYPE.BLOB,bmp:ar.XHR_RESPONSE_TYPE.BLOB,jpg:ar.XHR_RESPONSE_TYPE.BLOB,jpeg:ar.XHR_RESPONSE_TYPE.BLOB,tif:ar.XHR_RESPONSE_TYPE.BLOB,tiff:ar.XHR_RESPONSE_TYPE.BLOB,webp:ar.XHR_RESPONSE_TYPE.BLOB,tga:ar.XHR_RESPONSE_TYPE.BLOB,json:ar.XHR_RESPONSE_TYPE.JSON,text:ar.XHR_RESPONSE_TYPE.TEXT,txt:ar.XHR_RESPONSE_TYPE.TEXT,ttf:ar.XHR_RESPONSE_TYPE.BUFFER,otf:ar.XHR_RESPONSE_TYPE.BUFFER},ar.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ja=window.URL||window.webkitURL,Ao={caching:function ga(u,r){var e=this;Ss[u.url]?(u.data=Ss[u.url],u.complete()):u.onComplete.once(function(){return Ss[e.url]=e.data}),r()},parsing:function Xs(u,r){if(u.data){if(u.xhr&&u.xhrType===ar.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof u.data){if(0===u.data.type.indexOf("image")){var i=Ja.createObjectURL(u.data);return u.blob=u.data,u.data=new Image,u.data.src=i,u.type=ar.TYPE.IMAGE,void(u.data.onload=function(){Ja.revokeObjectURL(i),u.data.onload=null,r()})}}else{var e=u.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return u.data=new Image,u.data.src="data:"+e+";base64,"+function Qs(u){for(var r="",e=0;e<u.length;){for(var i=[0,0,0],l=[0,0,0,0],C=0;C<i.length;++C)i[C]=e<u.length?255&u.charCodeAt(e++):0;switch(l[0]=i[0]>>2,l[1]=(3&i[0])<<4|i[1]>>4,l[2]=(15&i[1])<<2|i[2]>>6,l[3]=63&i[2],e-(u.length-1)){case 2:l[3]=64,l[2]=64;break;case 1:l[3]=64}for(var V=0;V<l.length;++V)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l[V])}return r}(u.xhr.responseText),u.type=ar.TYPE.IMAGE,void(u.data.onload=function(){u.data.onload=null,r()})}r()}else r()}},pl=/(#[\w-]+)?$/,Bs=function(){function u(e,i){var l=this;void 0===e&&(e=""),void 0===i&&(i=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(V,ue){return l._loadResource(V,ue)},this._queue=function $s(u,r){if(null==r)r=1;else if(0===r)throw new Error("Concurrency must not be zero");var e=0,i={_tasks:[],concurrency:r,saturated:oo,unsaturated:oo,buffer:r/4,empty:oo,drain:oo,error:oo,started:!1,paused:!1,push:function(V,ue){l(V,!1,ue)},kill:function(){e=0,i.drain=oo,i.started=!1,i._tasks=[]},unshift:function(V,ue){l(V,!0,ue)},process:function(){for(;!i.paused&&e<i.concurrency&&i._tasks.length;){var V=i._tasks.shift();0===i._tasks.length&&i.empty(),(e+=1)===i.concurrency&&i.saturated(),u(V.data,Es(C(V)))}},length:function(){return i._tasks.length},running:function(){return e},idle:function(){return i._tasks.length+e===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var V=1;V<=i.concurrency;V++)i.process()}}};function l(T,V,ue){if(null!=ue&&"function"!=typeof ue)throw new Error("task callback must be a function");if(i.started=!0,null==T&&i.idle())setTimeout(function(){return i.drain()},1);else{var Ee={data:T,callback:"function"==typeof ue?ue:oo};V?i._tasks.unshift(Ee):i._tasks.push(Ee),setTimeout(function(){return i.process()},1)}}function C(T){return function(){e-=1,T.callback.apply(T,arguments),null!=arguments[0]&&i.error(arguments[0],T.data),e<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new(Cr()),this.onError=new(Cr()),this.onLoad=new(Cr()),this.onStart=new(Cr()),this.onComplete=new(Cr());for(var C=0;C<u._defaultBeforeMiddleware.length;++C)this.pre(u._defaultBeforeMiddleware[C]);for(var T=0;T<u._defaultAfterMiddleware.length;++T)this.use(u._defaultAfterMiddleware[T])}var r=u.prototype;return r.add=function(i,l,C,T){if(Array.isArray(i)){for(var V=0;V<i.length;++V)this.add(i[V]);return this}if("object"==typeof i&&(T=l||i.callback||i.onComplete,C=i,l=i.url,i=i.name||i.key||i.url),"string"!=typeof l&&(T=C,C=l,l=i),"string"!=typeof l)throw new Error("No url passed to add resource to loader.");if("function"==typeof C&&(T=C,C=null),this.loading&&(!C||!C.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[i])throw new Error('Resource named "'+i+'" already exists.');if(l=this._prepareUrl(l),this.resources[i]=new ar(i,l,C),"function"==typeof T&&this.resources[i].onAfterMiddleware.once(T),this.loading){for(var ue=C.parentResource,Ee=[],Ge=0;Ge<ue.children.length;++Ge)ue.children[Ge].isComplete||Ee.push(ue.children[Ge]);var je=ue.progressChunk*(Ee.length+1)/(Ee.length+2);ue.children.push(this.resources[i]),ue.progressChunk=je;for(var pt=0;pt<Ee.length;++pt)Ee[pt].progressChunk=je;this.resources[i].progressChunk=je}return this._queue.push(this.resources[i]),this},r.pre=function(i){return this._beforeMiddleware.push(i),this},r.use=function(i){return this._afterMiddleware.push(i),this},r.reset=function(){for(var i in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var l=this.resources[i];l._onLoadBinding&&l._onLoadBinding.detach(),l.isLoading&&l.abort()}return this.resources={},this},r.load=function(i){if("function"==typeof i&&this.onComplete.once(i),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var C=100/this._queue._tasks.length,T=0;T<this._queue._tasks.length;++T)this._queue._tasks[T].data.progressChunk=C;this._onStart(),this._queue.resume()}return this},r._prepareUrl=function(i){var C,l=ks()(i,{strictMode:!0});if(C=l.protocol||!l.path||0===i.indexOf("//")?i:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==i.charAt(0)?this.baseUrl+"/"+i:this.baseUrl+i,this.defaultQueryString){var T=pl.exec(C)[0];-1!==(C=C.substr(0,C.length-T.length)).indexOf("?")?C+="&"+this.defaultQueryString:C+="?"+this.defaultQueryString,C+=T}return C},r._loadResource=function(i,l){var C=this;i._dequeue=l,Ho(this._beforeMiddleware,function(T,V){T.call(C,i,function(){V(i.isComplete?{}:null)})},function(){i.isComplete?C._onLoad(i):(i._onLoadBinding=i.onComplete.once(C._onLoad,C),i.load())},!0)},r._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},r._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},r._onLoad=function(i){var l=this;i._onLoadBinding=null,this._resourcesParsing.push(i),i._dequeue(),Ho(this._afterMiddleware,function(C,T){C.call(l,i,T)},function(){i.onAfterMiddleware.dispatch(i),l.progress=Math.min(100,l.progress+i.progressChunk),l.onProgress.dispatch(l,i),i.error?l.onError.dispatch(i.error,l,i):l.onLoad.dispatch(l,i),l._resourcesParsing.splice(l._resourcesParsing.indexOf(i),1),l._queue.idle()&&0===l._resourcesParsing.length&&l._onComplete()},!0)},Ha(u,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(i){this._queue.concurrency=i}}]),u}();Bs._defaultBeforeMiddleware=[],Bs._defaultAfterMiddleware=[],Bs.pre=function(r){return Bs._defaultBeforeMiddleware.push(r),Bs},Bs.use=function(r){return Bs._defaultAfterMiddleware.push(r),Bs};var ya=ar,gl=function(u,r){return(gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},ml=function(){function u(){}return u.use=function(r,e){r.data&&r.type===ar.TYPE.IMAGE&&(r.texture=xi.fromLoader(r.data,r.url,r.name)),e()},u}(),ys=function(u){function r(e,i){for(var l=u.call(this,e,i)||this,C=0;C<r._plugins.length;++C){var T=r._plugins[C],V=T.pre,ue=T.use;V&&l.pre(V),ue&&l.use(ue)}return l._protected=!1,l}return function fu(u,r){function e(){this.constructor=u}gl(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),r.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(r,"shared",{get:function(){var e=r._shared;return e||((e=new r)._protected=!0,r._shared=e),e},enumerable:!1,configurable:!0}),r.registerPlugin=function(e){return r._plugins.push(e),e.add&&e.add(),r},r._plugins=[],r}(Bs);ys.registerPlugin({use:Ao.parsing}),ys.registerPlugin(ml);var vl=function(){function u(){}return u.init=function(r){r=Object.assign({sharedLoader:!1},r),this.loader=r.sharedLoader?ys.shared:new ys},u.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},u}(),aa=function(u,r){return(aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)};function Wo(u,r){function e(){this.constructor=u}aa(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var la=function(u){function r(e,i,l,C){void 0===e&&(e=1500),void 0===l&&(l=16384),void 0===C&&(C=!1);var T=u.call(this)||this;return l>16384&&(l=16384),T._properties=[!1,!0,!1,!1,!1],T._maxSize=e,T._batchSize=l,T._buffers=null,T._bufferUpdateIDs=[],T._updateID=0,T.interactiveChildren=!1,T.blendMode=Le.NORMAL,T.autoResize=C,T.roundPixels=!0,T.baseTexture=null,T.setProperties(i),T._tint=0,T.tintRgb=new Float32Array(4),T.tint=16777215,T}return Wo(r,u),r.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Fr(e,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(e){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},r.prototype.onChildrenChange=function(e){for(var i=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},r.prototype.destroy=function(e){u.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r}(Qt),ea=function(){function u(r,e,i){this.geometry=new zo,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var l=0;l<r.length;++l){var C=r[l];C={attributeName:C.attributeName,size:C.size,uploadFunction:C.uploadFunction,type:C.type||un.FLOAT,offset:C.offset},e[l]?this.dynamicProperties.push(C):this.staticProperties.push(C)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return u.prototype.initBuffers=function(){var r=this.geometry,e=0;this.indexBuffer=new wr(at(this.size),!0,!0),r.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i)(l=this.dynamicProperties[i]).offset=e,e+=l.size,this.dynamicStride+=l.size;var C=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(C),this.dynamicDataUint32=new Uint32Array(C),this.dynamicBuffer=new wr(this.dynamicData,!1,!1);var T=0;for(this.staticStride=0,i=0;i<this.staticProperties.length;++i)(l=this.staticProperties[i]).offset=T,T+=l.size,this.staticStride+=l.size;var V=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(V),this.staticDataUint32=new Uint32Array(V),this.staticBuffer=new wr(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i)r.addAttribute((l=this.dynamicProperties[i]).attributeName,this.dynamicBuffer,0,l.type===un.UNSIGNED_BYTE,l.type,4*this.dynamicStride,4*l.offset);for(i=0;i<this.staticProperties.length;++i){var l;r.addAttribute((l=this.staticProperties[i]).attributeName,this.staticBuffer,0,l.type===un.UNSIGNED_BYTE,l.type,4*this.staticStride,4*l.offset)}},u.prototype.uploadDynamic=function(r,e,i){for(var l=0;l<this.dynamicProperties.length;l++){var C=this.dynamicProperties[l];C.uploadFunction(r,e,i,C.type===un.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,C.offset)}this.dynamicBuffer._updateID++},u.prototype.uploadStatic=function(r,e,i){for(var l=0;l<this.staticProperties.length;l++){var C=this.staticProperties[l];C.uploadFunction(r,e,i,C.type===un.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,C.offset)}this.staticBuffer._updateID++},u.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},u}(),yl="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",D="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",f=function(u){function r(e){var i=u.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new fr,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:un.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=ss.from(D,yl,{}),i.state=ms.for2d(),i}return Wo(r,u),r.prototype.render=function(e){var i=e.children,l=e._maxSize,C=e._batchSize,T=this.renderer,V=i.length;if(0!==V){V>l&&!e.autoResize&&(V=l);var ue=e._buffers;ue||(ue=e._buffers=this.generateBuffers(e));var Ee=i[0]._texture.baseTexture;this.state.blendMode=nt(e.blendMode,Ee.alphaMode),T.state.set(this.state);var Ge=T.gl,$e=e.worldTransform.copyTo(this.tempMatrix);$e.prepend(T.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=$e.toArray(!0),this.shader.uniforms.uColor=dn(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,Ee.alphaMode),this.shader.uniforms.uSampler=Ee,this.renderer.shader.bind(this.shader);for(var je=!1,pt=0,St=0;pt<V;pt+=C,St+=1){var It=V-pt;It>C&&(It=C),St>=ue.length&&ue.push(this._generateOneMoreBuffer(e));var on=ue[St];on.uploadDynamic(i,pt,It),(je=je||on._updateID<(e._bufferUpdateIDs[St]||0))&&(on._updateID=e._updateID,on.uploadStatic(i,pt,It)),T.geometry.bind(on.geometry),Ge.drawElements(Ge.TRIANGLES,6*It,Ge.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(e){for(var i=[],l=e._maxSize,C=e._batchSize,T=e._properties,V=0;V<l;V+=C)i.push(new ea(this.properties,T,C));return i},r.prototype._generateOneMoreBuffer=function(e){return new ea(this.properties,e._properties,e._batchSize)},r.prototype.uploadVertices=function(e,i,l,C,T,V){for(var ue=0,Ee=0,Ge=0,$e=0,je=0;je<l;++je){var pt=e[i+je],St=pt._texture,It=pt.scale.x,on=pt.scale.y,Pn=St.trim,Ai=St.orig;Pn?(ue=(Ee=Pn.x-pt.anchor.x*Ai.width)+Pn.width,Ge=($e=Pn.y-pt.anchor.y*Ai.height)+Pn.height):(ue=Ai.width*(1-pt.anchor.x),Ee=Ai.width*-pt.anchor.x,Ge=Ai.height*(1-pt.anchor.y),$e=Ai.height*-pt.anchor.y),C[V]=Ee*It,C[V+1]=$e*on,C[V+T]=ue*It,C[V+T+1]=$e*on,C[V+2*T]=ue*It,C[V+2*T+1]=Ge*on,C[V+3*T]=Ee*It,C[V+3*T+1]=Ge*on,V+=4*T}},r.prototype.uploadPosition=function(e,i,l,C,T,V){for(var ue=0;ue<l;ue++){var Ee=e[i+ue].position;C[V]=Ee.x,C[V+1]=Ee.y,C[V+T]=Ee.x,C[V+T+1]=Ee.y,C[V+2*T]=Ee.x,C[V+2*T+1]=Ee.y,C[V+3*T]=Ee.x,C[V+3*T+1]=Ee.y,V+=4*T}},r.prototype.uploadRotation=function(e,i,l,C,T,V){for(var ue=0;ue<l;ue++){var Ee=e[i+ue].rotation;C[V]=Ee,C[V+T]=Ee,C[V+2*T]=Ee,C[V+3*T]=Ee,V+=4*T}},r.prototype.uploadUvs=function(e,i,l,C,T,V){for(var ue=0;ue<l;++ue){var Ee=e[i+ue]._texture._uvs;Ee?(C[V]=Ee.x0,C[V+1]=Ee.y0,C[V+T]=Ee.x1,C[V+T+1]=Ee.y1,C[V+2*T]=Ee.x2,C[V+2*T+1]=Ee.y2,C[V+3*T]=Ee.x3,C[V+3*T+1]=Ee.y3,V+=4*T):(C[V]=0,C[V+1]=0,C[V+T]=0,C[V+T+1]=0,C[V+2*T]=0,C[V+2*T+1]=0,C[V+3*T]=0,C[V+3*T+1]=0,V+=4*T)}},r.prototype.uploadTint=function(e,i,l,C,T,V){for(var ue=0;ue<l;++ue){var Ee=e[i+ue],$e=Ee.alpha,je=$e<1&&Ee._texture.baseTexture.alphaMode>0?en(Ee._tintRGB,$e):Ee._tintRGB+(255*$e<<24);C[V]=je,C[V+T]=je,C[V+2*T]=je,C[V+3*T]=je,V+=4*T}},r.prototype.destroy=function(){u.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r}(Pe),c=(()=>{return(u=c||(c={})).MITER="miter",u.BEVEL="bevel",u.ROUND="round",c;var u})(),g=(()=>{return(u=g||(g={})).BUTT="butt",u.ROUND="round",u.SQUARE="square",g;var u})(),S={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(u,r){if(void 0===r&&(r=20),!this.adaptive||!u||isNaN(u))return r;var e=Math.ceil(u/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},O=function(){function u(){this.color=16777215,this.alpha=1,this.texture=xi.WHITE,this.matrix=null,this.visible=!1,this.reset()}return u.prototype.clone=function(){var r=new u;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r},u.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=xi.WHITE,this.matrix=null,this.visible=!1},u.prototype.destroy=function(){this.texture=null,this.matrix=null},u}(),k=function(u,r){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)};function p(u,r){function e(){this.constructor=u}k(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var b={build:function(u){u.points=u.shape.points.slice()},triangulate:function(u,r){var e=u.points,i=u.holes,l=r.points,C=r.indices;if(e.length>=6){for(var T=[],V=0;V<i.length;V++){var ue=i[V];T.push(e.length/2),e=e.concat(ue.points)}var Ee=Te()(e,T,2);if(!Ee)return;var Ge=l.length/2;for(V=0;V<Ee.length;V+=3)C.push(Ee[V]+Ge),C.push(Ee[V+1]+Ge),C.push(Ee[V+2]+Ge);for(V=0;V<e.length;V++)l.push(e[V])}}},m={build:function(u){var C,T,r=u.shape,e=u.points,i=r.x,l=r.y;if(e.length=0,u.type===zi.CIRC)C=r.radius,T=r.radius;else{var V=u.shape;C=V.width,T=V.height}if(0!==C&&0!==T){var ue=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(C+T));ue/=2.3;for(var Ee=2*Math.PI/ue,Ge=0;Ge<ue-.5;Ge++)e.push(i+Math.sin(-Ee*Ge)*C,l+Math.cos(-Ee*Ge)*T);e.push(e[0],e[1])}},triangulate:function(u,r){var e=u.points,i=r.points,l=r.indices,C=i.length/2,T=C,V=u.shape,ue=u.matrix,Ee=V.x,Ge=V.y;i.push(u.matrix?ue.a*Ee+ue.c*Ge+ue.tx:Ee,u.matrix?ue.b*Ee+ue.d*Ge+ue.ty:Ge);for(var $e=0;$e<e.length;$e+=2)i.push(e[$e],e[$e+1]),l.push(C++,T,C)}},A={build:function(u){var r=u.shape,e=r.x,i=r.y,l=r.width,C=r.height,T=u.points;T.length=0,T.push(e,i,e+l,i,e+l,i+C,e,i+C)},triangulate:function(u,r){var e=u.points,i=r.points,l=i.length/2;i.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),r.indices.push(l,l+1,l+2,l+1,l+2,l+3)}};function j(u,r,e){return u+(r-u)*e}function ne(u,r,e,i,l,C,T){void 0===T&&(T=[]);for(var ue=T,Ee=0,Ge=0,$e=0,je=0,pt=0,St=0,It=0,on=0;It<=20;++It)Ee=j(u,e,on=It/20),Ge=j(r,i,on),$e=j(e,l,on),je=j(i,C,on),pt=j(Ee,$e,on),St=j(Ge,je,on),ue.push(pt,St);return ue}var de={build:function(u){var r=u.shape,e=u.points,i=r.x,l=r.y,C=r.width,T=r.height,V=Math.max(0,Math.min(r.radius,Math.min(C,T)/2));e.length=0,V?(ne(i,l+V,i,l,i+V,l,e),ne(i+C-V,l,i+C,l,i+C,l+V,e),ne(i+C,l+T-V,i+C,l+T,i+C-V,l+T,e),ne(i+V,l+T,i,l+T,i,l+T-V,e)):e.push(i,l,i+C,l,i+C,l+T,i,l+T)},triangulate:function(u,r){for(var e=u.points,i=r.points,l=r.indices,C=i.length/2,T=Te()(e,null,2),V=0,ue=T.length;V<ue;V+=3)l.push(T[V]+C),l.push(T[V+1]+C),l.push(T[V+2]+C);for(V=0,ue=e.length;V<ue;V++)i.push(e[V],e[++V])}};function He(u,r,e,i,l,C,T,V){var je,pt;T?(je=i,pt=-e):(je=-i,pt=e);var on=u+e*C+je,Pn=r+i*C+pt;return V.push(u-e*l+je,r-i*l+pt),V.push(on,Pn),2}function lt(u,r,e,i,l,C,T,V){var ue=e-u,Ee=i-r,Ge=Math.atan2(ue,Ee),$e=Math.atan2(l-u,C-r);V&&Ge<$e?Ge+=2*Math.PI:!V&&Ge>$e&&($e+=2*Math.PI);var je=Ge,pt=$e-Ge,St=Math.abs(pt),It=Math.sqrt(ue*ue+Ee*Ee),on=1+(15*St*Math.sqrt(It)/Math.PI>>0),Pn=pt/on;if(je+=Pn,V){T.push(u,r),T.push(e,i);for(var Ai=1,Gn=je;Ai<on;Ai++,Gn+=Pn)T.push(u,r),T.push(u+Math.sin(Gn)*It,r+Math.cos(Gn)*It);T.push(u,r),T.push(l,C)}else{for(T.push(e,i),T.push(u,r),Ai=1,Gn=je;Ai<on;Ai++,Gn+=Pn)T.push(u+Math.sin(Gn)*It,r+Math.cos(Gn)*It),T.push(u,r);T.push(l,C),T.push(u,r)}return 2*on}function Kt(u,r){u.lineStyle.native?function an(u,r){var e=0,i=u.shape,l=u.points||i.points,C=i.type!==zi.POLY||i.closeStroke;if(0!==l.length){var T=r.points,V=r.indices,ue=l.length/2,Ee=T.length/2,Ge=Ee;for(T.push(l[0],l[1]),e=1;e<ue;e++)T.push(l[2*e],l[2*e+1]),V.push(Ge,Ge+1),Ge++;C&&V.push(Ge,Ee)}}(u,r):function Dt(u,r){var e=u.shape,i=u.points||e.points.slice(),l=r.closePointEps;if(0!==i.length){var C=u.lineStyle,T=new yr(i[0],i[1]),V=new yr(i[i.length-2],i[i.length-1]),ue=e.type!==zi.POLY||e.closeStroke,Ee=Math.abs(T.x-V.x)<l&&Math.abs(T.y-V.y)<l;if(ue){i=i.slice(),Ee&&(i.pop(),i.pop(),V.set(i[i.length-2],i[i.length-1]));var Ge=.5*(T.x+V.x),$e=.5*(V.y+T.y);i.unshift(Ge,$e),i.push(Ge,$e)}var je=r.points,pt=i.length/2,St=i.length,It=je.length/2,on=C.width/2,Pn=on*on,Ai=C.miterLimit*C.miterLimit,Gn=i[0],or=i[1],ri=i[2],ni=i[3],uo=0,po=0,qi=-(or-ni),pr=Gn-ri,Oo=0,Vo=0,bo=Math.sqrt(qi*qi+pr*pr);qi/=bo,pr/=bo,qi*=on,pr*=on;var Ea=C.alignment,Wr=2*(1-Ea),$r=2*Ea;ue||(C.cap===g.ROUND?St+=lt(Gn-qi*(Wr-$r)*.5,or-pr*(Wr-$r)*.5,Gn-qi*Wr,or-pr*Wr,Gn+qi*$r,or+pr*$r,je,!0)+2:C.cap===g.SQUARE&&(St+=He(Gn,or,qi,pr,Wr,$r,!0,je))),je.push(Gn-qi*Wr,or-pr*Wr),je.push(Gn+qi*$r,or+pr*$r);for(var hr=1;hr<pt-1;++hr){uo=i[2*(hr+1)],po=i[2*(hr+1)+1],qi=-((or=i[2*(hr-1)+1])-(ni=i[2*hr+1])),pr=(Gn=i[2*(hr-1)])-(ri=i[2*hr]),qi/=bo=Math.sqrt(qi*qi+pr*pr),pr/=bo,qi*=on,pr*=on,Oo=-(ni-po),Vo=ri-uo,Oo/=bo=Math.sqrt(Oo*Oo+Vo*Vo),Vo/=bo,Oo*=on,Vo*=on;var ol=ri-Gn,sl=or-ni,al=ri-uo,Fa=po-ni,ia=sl*al-Fa*ol,ll=ia<0;if(Math.abs(ia)<.1)je.push(ri-qi*Wr,ni-pr*Wr),je.push(ri+qi*$r,ni+pr*$r);else{var $l=(-qi+Gn)*(-pr+ni)-(-qi+ri)*(-pr+or),ca=(-Oo+uo)*(-Vo+ni)-(-Oo+ri)*(-Vo+po),da=(ol*ca-al*$l)/ia,ha=(Fa*$l-sl*ca)/ia,Sa=(da-ri)*(da-ri)+(ha-ni)*(ha-ni),Ro=ri+(da-ri)*Wr,Ks=ni+(ha-ni)*Wr,xs=ri-(da-ri)*$r,wo=ni-(ha-ni)*$r,Ca=ll?Wr:$r;Sa<=Math.min(ol*ol+sl*sl,al*al+Fa*Fa)+Ca*Ca*Pn?C.join===c.BEVEL||Sa/Pn>Ai?(ll?(je.push(Ro,Ks),je.push(ri+qi*$r,ni+pr*$r),je.push(Ro,Ks),je.push(ri+Oo*$r,ni+Vo*$r)):(je.push(ri-qi*Wr,ni-pr*Wr),je.push(xs,wo),je.push(ri-Oo*Wr,ni-Vo*Wr),je.push(xs,wo)),St+=2):C.join===c.ROUND?ll?(je.push(Ro,Ks),je.push(ri+qi*$r,ni+pr*$r),St+=lt(ri,ni,ri+qi*$r,ni+pr*$r,ri+Oo*$r,ni+Vo*$r,je,!0)+4,je.push(Ro,Ks),je.push(ri+Oo*$r,ni+Vo*$r)):(je.push(ri-qi*Wr,ni-pr*Wr),je.push(xs,wo),St+=lt(ri,ni,ri-qi*Wr,ni-pr*Wr,ri-Oo*Wr,ni-Vo*Wr,je,!1)+4,je.push(ri-Oo*Wr,ni-Vo*Wr),je.push(xs,wo)):(je.push(Ro,Ks),je.push(xs,wo)):(je.push(ri-qi*Wr,ni-pr*Wr),je.push(ri+qi*$r,ni+pr*$r),C.join===c.BEVEL||Sa/Pn>Ai||(C.join===c.ROUND?St+=ll?lt(ri,ni,ri+qi*$r,ni+pr*$r,ri+Oo*$r,ni+Vo*$r,je,!0)+2:lt(ri,ni,ri-qi*Wr,ni-pr*Wr,ri-Oo*Wr,ni-Vo*Wr,je,!1)+2:(ll?(je.push(xs,wo),je.push(xs,wo)):(je.push(Ro,Ks),je.push(Ro,Ks)),St+=2)),je.push(ri-Oo*Wr,ni-Vo*Wr),je.push(ri+Oo*$r,ni+Vo*$r),St+=2)}}qi=-((or=i[2*(pt-2)+1])-(ni=i[2*(pt-1)+1])),pr=(Gn=i[2*(pt-2)])-(ri=i[2*(pt-1)]),qi/=bo=Math.sqrt(qi*qi+pr*pr),pr/=bo,je.push(ri-(qi*=on)*Wr,ni-(pr*=on)*Wr),je.push(ri+qi*$r,ni+pr*$r),ue||(C.cap===g.ROUND?St+=lt(ri-qi*(Wr-$r)*.5,ni-pr*(Wr-$r)*.5,ri-qi*Wr,ni-pr*Wr,ri+qi*$r,ni+pr*$r,je,!1)+2:C.cap===g.SQUARE&&(St+=He(ri,ni,qi,pr,Wr,$r,!1,je)));var Gl=r.indices,cl=S.epsilon*S.epsilon;for(hr=It;hr<St+It-2;++hr)Gn=je[2*hr],or=je[2*hr+1],ri=je[2*(hr+1)],ni=je[2*(hr+1)+1],uo=je[2*(hr+2)],po=je[2*(hr+2)+1],!(Math.abs(Gn*(ni-po)+ri*(po-or)+uo*(or-ni))<cl)&&Gl.push(hr,hr+1,hr+2)}}(u,r)}var si,In=function(u){function r(e,i,l,C,T,V){void 0===V&&(V=0),T=T||C/2;for(var Ee=-1*Math.PI/2+V,Ge=2*l,$e=ii/Ge,je=[],pt=0;pt<Ge;pt++){var St=pt%2?T:C,It=pt*$e+Ee;je.push(e+St*Math.cos(It),i+St*Math.sin(It))}return u.call(this,je)||this}return p(r,u),r}(Eo),kn=function(){function u(){}return u.curveTo=function(r,e,i,l,C,T){var Ee=T[T.length-1]-e,Ge=T[T.length-2]-r,$e=l-e,je=i-r,pt=Math.abs(Ee*je-Ge*$e);if(pt<1e-8||0===C)return(T[T.length-2]!==r||T[T.length-1]!==e)&&T.push(r,e),null;var St=Ee*Ee+Ge*Ge,It=$e*$e+je*je,on=Ee*$e+Ge*je,Pn=C*Math.sqrt(St)/pt,Ai=C*Math.sqrt(It)/pt,Gn=Pn*on/St,or=Ai*on/It,ri=Pn*je+Ai*Ge,ni=Pn*$e+Ai*Ee,qi=je*(Pn+or),pr=$e*(Pn+or);return{cx:ri+r,cy:ni+e,radius:C,startAngle:Math.atan2(Ee*(Ai+Gn)-ni,Ge*(Ai+Gn)-ri),endAngle:Math.atan2(pr-ni,qi-ri),anticlockwise:Ge*$e>je*Ee}},u.arc=function(r,e,i,l,C,T,V,ue,Ee){for(var Ge=V-T,$e=S._segmentsCount(Math.abs(Ge)*C,40*Math.ceil(Math.abs(Ge)/ii)),je=Ge/(2*$e),pt=2*je,St=Math.cos(je),It=Math.sin(je),on=$e-1,Pn=on%1/on,Ai=0;Ai<=on;++Ai){var or=je+T+pt*(Ai+Pn*Ai),ri=Math.cos(or),ni=-Math.sin(or);Ee.push((St*ri+It*ni)*C+i,(St*-ni+It*ri)*C+l)}},u}(),xn=function(){function u(){}return u.curveLength=function(r,e,i,l,C,T,V,ue){for(var Ge=0,$e=0,je=0,pt=0,St=0,It=0,on=0,Pn=0,Ai=0,Gn=0,or=0,ri=r,ni=e,uo=1;uo<=10;++uo)Gn=ri-(Pn=(on=(It=(St=1-($e=uo/10))*St)*St)*r+3*It*$e*i+3*St*(je=$e*$e)*C+(pt=je*$e)*V),or=ni-(Ai=on*e+3*It*$e*l+3*St*je*T+pt*ue),ri=Pn,ni=Ai,Ge+=Math.sqrt(Gn*Gn+or*or);return Ge},u.curveTo=function(r,e,i,l,C,T,V){var ue=V[V.length-2],Ee=V[V.length-1];V.length-=2;var Ge=S._segmentsCount(u.curveLength(ue,Ee,r,e,i,l,C,T)),$e=0,je=0,pt=0,St=0,It=0;V.push(ue,Ee);for(var on=1,Pn=0;on<=Ge;++on)V.push((pt=(je=($e=1-(Pn=on/Ge))*$e)*$e)*ue+3*je*Pn*r+3*$e*(St=Pn*Pn)*i+(It=St*Pn)*C,pt*Ee+3*je*Pn*e+3*$e*St*l+It*T)},u}(),Wn=function(){function u(){}return u.curveLength=function(r,e,i,l,C,T){var V=r-2*i+C,ue=e-2*l+T,Ee=2*i-2*r,Ge=2*l-2*e,$e=4*(V*V+ue*ue),je=4*(V*Ee+ue*Ge),pt=Ee*Ee+Ge*Ge,St=2*Math.sqrt($e+je+pt),It=Math.sqrt($e),on=2*$e*It,Pn=2*Math.sqrt(pt),Ai=je/It;return(on*St+It*je*(St-Pn)+(4*pt*$e-je*je)*Math.log((2*It+Ai+St)/(Ai+Pn)))/(4*on)},u.curveTo=function(r,e,i,l,C){for(var T=C[C.length-2],V=C[C.length-1],ue=S._segmentsCount(u.curveLength(T,V,r,e,i,l)),Ee=0,Ge=0,$e=1;$e<=ue;++$e){var je=$e/ue;C.push((Ee=T+(r-T)*je)+(r+(i-r)*je-Ee)*je,(Ge=V+(e-V)*je)+(e+(l-e)*je-Ge)*je)}},u}(),gi=function(){function u(){this.reset()}return u.prototype.begin=function(r,e,i){this.reset(),this.style=r,this.start=e,this.attribStart=i},u.prototype.end=function(r,e){this.attribSize=e-this.attribStart,this.size=r-this.start},u.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},u}(),Ni=((si={})[zi.POLY]=b,si[zi.CIRC]=m,si[zi.ELIP]=m,si[zi.RECT]=A,si[zi.RREC]=de,si),zr=[],cr=[],Qr={buildPoly:b,buildCircle:m,buildRectangle:A,buildRoundedRectangle:de,FILL_COMMANDS:Ni,BATCH_POOL:zr,DRAW_CALL_POOL:cr,buildLine:Kt,Star:In,ArcUtils:kn,BezierUtils:xn,QuadraticUtils:Wn,BatchPart:gi},rs=function(){function u(r,e,i,l){void 0===e&&(e=null),void 0===i&&(i=null),void 0===l&&(l=null),this.shape=r,this.lineStyle=i,this.fillStyle=e,this.matrix=l,this.type=r.type,this.points=[],this.holes=[]}return u.prototype.clone=function(){return new u(this.shape,this.fillStyle,this.lineStyle,this.matrix)},u.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},u}(),ds=new yr,Uo=new Dr,Yo=function(u){function r(){var e=u.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Dr,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return p(r,u),Object.defineProperty(r.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),r.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),cr.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var i=this.batches[e];i.reset(),zr.push(i)}this.batches.length=0},r.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},r.prototype.drawShape=function(e,i,l,C){void 0===i&&(i=null),void 0===l&&(l=null),void 0===C&&(C=null);var T=new rs(e,i,l,C);return this.graphicsData.push(T),this.dirty++,this},r.prototype.drawHole=function(e,i){if(void 0===i&&(i=null),!this.graphicsData.length)return null;var l=new rs(e,null,null,i),C=this.graphicsData[this.graphicsData.length-1];return l.lineStyle=C.lineStyle,C.holes.push(l),this.dirty++,this},r.prototype.destroy=function(){u.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},r.prototype.containsPoint=function(e){for(var i=this.graphicsData,l=0;l<i.length;++l){var C=i[l];if(C.fillStyle.visible&&C.shape&&(C.matrix?C.matrix.applyInverse(e,ds):ds.copyFrom(e),C.shape.contains(ds.x,ds.y))){var T=!1;if(C.holes)for(var V=0;V<C.holes.length;V++)if(C.holes[V].shape.contains(ds.x,ds.y)){T=!0;break}if(!T)return!0}}return!1},r.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var i=this.uvs,l=this.graphicsData,C=null,T=null;this.batches.length>0&&(T=(C=this.batches[this.batches.length-1]).style);for(var V=this.shapeIndex;V<l.length;V++){this.shapeIndex++;var ue=l[V],Ee=ue.fillStyle,Ge=ue.lineStyle;Ni[ue.type].build(ue),ue.matrix&&this.transformPoints(ue.points,ue.matrix);for(var je=0;je<2;je++){var pt=0===je?Ee:Ge;if(pt.visible){var It=this.indices.length,on=this.points.length/2;pt.texture.baseTexture.wrapMode=tn.REPEAT,0===je?this.processFill(ue):this.processLine(ue);var Pn=this.points.length/2-on;0!==Pn&&(C&&!this._compareStyles(T,pt)&&(C.end(It,on),C=null),C||((C=zr.pop()||new gi).begin(pt,It,on),this.batches.push(C),T=pt),this.addUvs(this.points,i,pt.texture,on,Pn,pt.matrix))}}}var Gn=this.points.length/2;if(C&&C.end(this.indices.length,Gn),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=Gn>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},r.prototype._compareStyles=function(e,i){return!(!e||!i||e.texture.baseTexture!==i.texture.baseTexture||e.color+e.alpha!==i.color+i.alpha||!!e.native!=!!i.native)},r.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,i=this.graphicsData.length;e<i;e++){var l=this.graphicsData[e],C=l.fillStyle,T=l.lineStyle;if(C&&!C.texture.baseTexture.valid||T&&!T.texture.baseTexture.valid)return!1}return!0},r.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,i=0,l=e.length;i<l;i++)for(var C=e[i],T=0;T<C.size;T++){var V=C.start+T;this.indicesUint16[V]=this.indicesUint16[V]-C.attribStart}},r.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,i=0;i<e.length;i++)if(e[i].style.native)return!1;return this.points.length<2*r.BATCHABLE_SIZE},r.prototype.buildDrawCalls=function(){for(var e=++mi._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),cr.push(this.drawCalls[i]);this.drawCalls.length=0;var l=this.colors,C=this.textureIds,T=cr.pop();T||((T=new kt).texArray=new ln),T.texArray.count=0,T.start=0,T.size=0,T.type=gt.TRIANGLES;var V=0,ue=null,Ee=0,Ge=!1,$e=gt.TRIANGLES,je=0;for(this.drawCalls.push(T),i=0;i<this.batches.length;i++){var pt=this.batches[i],It=pt.style,on=It.texture.baseTexture;Ge!==!!It.native&&($e=(Ge=!!It.native)?gt.LINES:gt.TRIANGLES,ue=null,V=8,e++),ue!==on&&(ue=on,on._batchEnabled!==e&&(8===V&&(e++,V=0,T.size>0&&((T=cr.pop())||((T=new kt).texArray=new ln),this.drawCalls.push(T)),T.start=je,T.size=0,T.texArray.count=0,T.type=$e),on.touched=1,on._batchEnabled=e,on._batchLocation=V,on.wrapMode=10497,T.texArray.elements[T.texArray.count++]=on,V++)),T.size+=pt.size,je+=pt.size,Ee=on._batchLocation,this.addColors(l,It.color,It.alpha,pt.attribSize,pt.attribStart),this.addTextureIds(C,Ee,pt.attribSize,pt.attribStart)}mi._globalBatch=e,this.packAttributes()},r.prototype.packAttributes=function(){for(var e=this.points,i=this.uvs,l=this.colors,C=this.textureIds,T=new ArrayBuffer(3*e.length*4),V=new Float32Array(T),ue=new Uint32Array(T),Ee=0,Ge=0;Ge<e.length/2;Ge++)V[Ee++]=e[2*Ge],V[Ee++]=e[2*Ge+1],V[Ee++]=i[2*Ge],V[Ee++]=i[2*Ge+1],ue[Ee++]=l[Ge],V[Ee++]=C[Ge];this._buffer.update(T),this._indexBuffer.update(this.indicesUint16)},r.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),b.triangulate(e,this)):Ni[e.type].triangulate(e,this)},r.prototype.processLine=function(e){Kt(e,this);for(var i=0;i<e.holes.length;i++)Kt(e.holes[i],this)},r.prototype.processHoles=function(e){for(var i=0;i<e.length;i++){var l=e[i];Ni[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix)}},r.prototype.calculateBounds=function(){var e=this._bounds,i=Uo,l=fr.IDENTITY;this._bounds.clear(),i.clear();for(var C=0;C<this.graphicsData.length;C++){var T=this.graphicsData[C],V=T.shape,ue=T.type,Ee=T.lineStyle,Ge=T.matrix||fr.IDENTITY,$e=0;if(Ee&&Ee.visible){var je=Ee.alignment;$e=Ee.width,$e*=ue===zi.POLY?.5+Math.abs(.5-je):Math.max(0,je)}l!==Ge&&(i.isEmpty()||(e.addBoundsMatrix(i,l),i.clear()),l=Ge),ue===zi.RECT||ue===zi.RREC?i.addFramePad(V.x,V.y,V.x+V.width,V.y+V.height,$e,$e):ue===zi.CIRC?i.addFramePad(V.x,V.y,V.x,V.y,V.radius+$e,V.radius+$e):ue===zi.ELIP?i.addFramePad(V.x,V.y,V.x,V.y,V.width+$e,V.height+$e):e.addVerticesMatrix(l,V.points,0,V.points.length,$e,$e)}i.isEmpty()||e.addBoundsMatrix(i,l),e.pad(this.boundsPadding,this.boundsPadding)},r.prototype.transformPoints=function(e,i){for(var l=0;l<e.length/2;l++){var C=e[2*l],T=e[2*l+1];e[2*l]=i.a*C+i.c*T+i.tx,e[2*l+1]=i.b*C+i.d*T+i.ty}},r.prototype.addColors=function(e,i,l,C,T){void 0===T&&(T=0);var ue=en((i>>16)+(65280&i)+((255&i)<<16),l);e.length=Math.max(e.length,T+C);for(var Ee=0;Ee<C;Ee++)e[T+Ee]=ue},r.prototype.addTextureIds=function(e,i,l,C){void 0===C&&(C=0),e.length=Math.max(e.length,C+l);for(var T=0;T<l;T++)e[C+T]=i},r.prototype.addUvs=function(e,i,l,C,T,V){void 0===V&&(V=null);for(var ue=0,Ee=i.length,Ge=l.frame;ue<T;){var $e=e[2*(C+ue)],je=e[2*(C+ue)+1];if(V){var pt=V.a*$e+V.c*je+V.tx;je=V.b*$e+V.d*je+V.ty,$e=pt}ue++,i.push($e/Ge.width,je/Ge.height)}var St=l.baseTexture;(Ge.width<St.width||Ge.height<St.height)&&this.adjustUvs(i,l,Ee,T)},r.prototype.adjustUvs=function(e,i,l,C){for(var T=i.baseTexture,V=1e-6,ue=l+2*C,Ee=i.frame,Ge=Ee.width/T.width,$e=Ee.height/T.height,je=Ee.x/Ee.width,pt=Ee.y/Ee.height,St=Math.floor(e[l]+V),It=Math.floor(e[l+1]+V),on=l+2;on<ue;on+=2)St=Math.min(St,Math.floor(e[on]+V)),It=Math.min(It,Math.floor(e[on+1]+V));for(je-=St,pt-=It,on=l;on<ue;on+=2)e[on]=(e[on]+je)*Ge,e[on+1]=(e[on+1]+pt)*$e},r.BATCHABLE_SIZE=100,r}(ji),jo=function(u){function r(){var e=null!==u&&u.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=g.BUTT,e.join=c.MITER,e.miterLimit=10,e}return p(r,u),r.prototype.clone=function(){var e=new r;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},r.prototype.reset=function(){u.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(O),Ds=new Float32Array(3),ps={},_a=function(u){function r(e){void 0===e&&(e=null);var i=u.call(this)||this;return i._geometry=e||new Yo,i._geometry.refCount++,i.shader=null,i.state=ms.for2d(),i._fillStyle=new O,i._lineStyle=new jo,i._matrix=null,i._holeMode=!1,i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i.pluginName="batch",i._transformID=-1,i.tint=16777215,i.blendMode=Le.NORMAL,i}return p(r,u),Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.finishPoly(),new r(this._geometry)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),r.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"==typeof e){var i=arguments;e={width:i[0]||0,color:i[1]||0,alpha:void 0!==i[2]?i[2]:1,alignment:void 0!==i[3]?i[3]:.5,native:!!i[4]}}return this.lineTextureStyle(e)},r.prototype.lineTextureStyle=function(e){if("number"==typeof e){jt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var i=arguments;e={width:i[0],texture:i[1],color:i[2],alpha:i[3],matrix:i[4],alignment:i[5],native:i[6]},Object.keys(e).forEach(function(je){return void 0===e[je]&&delete e[je]})}e=Object.assign({width:0,texture:xi.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:g.BUTT,join:c.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var $e=e.width>0&&e.alpha>0;return $e?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:$e},e)):this._lineStyle.reset(),this},r.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new Eo,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[i-2],e[i-1]))}else this.currentPath=new Eo,this.currentPath.closeStroke=!1},r.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},r.prototype.moveTo=function(e,i){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=i,this},r.prototype.lineTo=function(e,i){this.currentPath||this.moveTo(0,0);var l=this.currentPath.points;return(l[l.length-2]!==e||l[l.length-1]!==i)&&l.push(e,i),this},r.prototype._initCurve=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,i]):this.moveTo(e,i)},r.prototype.quadraticCurveTo=function(e,i,l,C){this._initCurve();var T=this.currentPath.points;return 0===T.length&&this.moveTo(0,0),Wn.curveTo(e,i,l,C,T),this},r.prototype.bezierCurveTo=function(e,i,l,C,T,V){return this._initCurve(),xn.curveTo(e,i,l,C,T,V,this.currentPath.points),this},r.prototype.arcTo=function(e,i,l,C,T){this._initCurve(e,i);var ue=kn.curveTo(e,i,l,C,T,this.currentPath.points);return ue&&this.arc(ue.cx,ue.cy,ue.radius,ue.startAngle,ue.endAngle,ue.anticlockwise),this},r.prototype.arc=function(e,i,l,C,T,V){if(void 0===V&&(V=!1),C===T)return this;if(!V&&T<=C?T+=ii:V&&C<=T&&(C+=ii),0==T-C)return this;var Ee=e+Math.cos(C)*l,Ge=i+Math.sin(C)*l,$e=this._geometry.closePointEps,je=this.currentPath?this.currentPath.points:null;if(je){var pt=Math.abs(je[je.length-2]-Ee),St=Math.abs(je[je.length-1]-Ge);pt<$e&&St<$e||je.push(Ee,Ge)}else this.moveTo(Ee,Ge),je=this.currentPath.points;return kn.arc(Ee,Ge,e,i,l,C,T,V,je),this},r.prototype.beginFill=function(e,i){return void 0===e&&(e=0),void 0===i&&(i=1),this.beginTextureFill({texture:xi.WHITE,color:e,alpha:i})},r.prototype.beginTextureFill=function(e){if(e instanceof xi){jt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var i=arguments;e={texture:i[0],color:i[1],alpha:i[2],matrix:i[3]},Object.keys(e).forEach(function(Ee){return void 0===e[Ee]&&delete e[Ee]})}e=Object.assign({texture:xi.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var ue=e.alpha>0;return ue?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:ue},e)):this._fillStyle.reset(),this},r.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},r.prototype.drawRect=function(e,i,l,C){return this.drawShape(new Gi(e,i,l,C))},r.prototype.drawRoundedRect=function(e,i,l,C,T){return this.drawShape(new vo(e,i,l,C,T))},r.prototype.drawCircle=function(e,i,l){return this.drawShape(new Rr(e,i,l))},r.prototype.drawEllipse=function(e,i,l,C){return this.drawShape(new Nr(e,i,l,C))},r.prototype.drawPolygon=function(){for(var e=arguments,i=[],l=0;l<arguments.length;l++)i[l]=e[l];var C,T=!0,V=i[0];V.points?(T=V.closeStroke,C=V.points):C=Array.isArray(i[0])?i[0]:i;var ue=new Eo(C);return ue.closeStroke=T,this.drawShape(ue),this},r.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},r.prototype.drawStar=function(e,i,l,C,T,V){return void 0===V&&(V=0),this.drawPolygon(new In(e,i,l,C,T,V))},r.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},r.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===zi.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},r.prototype._render=function(e){this.finishPoly();var i=this._geometry;i.updateBatches(e.context.supports.uint32Indices),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},r.prototype._populateBatches=function(){var e=this._geometry,i=this.blendMode,l=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=l,this.vertexData=new Float32Array(e.points);for(var C=0;C<l;C++){var T=e.batches[C],V=T.style.color,ue=new Float32Array(this.vertexData.buffer,4*T.attribStart*2,2*T.attribSize),Ee=new Float32Array(e.uvsFloat32.buffer,4*T.attribStart*2,2*T.attribSize),$e={vertexData:ue,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*T.start,T.size),uvs:Ee,_batchRGB:Fr(V),_tintRGB:V,_texture:T.style.texture,alpha:T.style.alpha,worldAlpha:1};this.batches[C]=$e}},r.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var i=0,l=this.batches.length;i<l;i++){var C=this.batches[i];C.worldAlpha=this.worldAlpha*C.alpha,e.plugins[this.pluginName].render(C)}}},r.prototype._renderDirect=function(e){var i=this._resolveDirectShader(e),l=this._geometry,C=this.tint,T=this.worldAlpha,V=i.uniforms,ue=l.drawCalls;V.translationMatrix=this.transform.worldTransform,V.tint[0]=(C>>16&255)/255*T,V.tint[1]=(C>>8&255)/255*T,V.tint[2]=(255&C)/255*T,V.tint[3]=T,e.shader.bind(i),e.geometry.bind(l,i),e.state.set(this.state);for(var Ee=0,Ge=ue.length;Ee<Ge;Ee++)this._renderDrawCallDirect(e,l.drawCalls[Ee])},r.prototype._renderDrawCallDirect=function(e,i){for(var l=i.texArray,C=i.type,T=i.size,V=i.start,ue=l.count,Ee=0;Ee<ue;Ee++)e.texture.bind(l.elements[Ee],Ee);e.geometry.draw(C,T,V)},r.prototype._resolveDirectShader=function(e){var i=this.shader,l=this.pluginName;if(!i){if(!ps[l]){for(var C=e.plugins.batch.MAX_TEXTURES,T=new Int32Array(C),V=0;V<C;V++)T[V]=V;var ue={tint:new Float32Array([1,1,1,1]),translationMatrix:new fr,default:Xi.from({uSamplers:T},!0)};ps[l]=new ss(e.plugins[l]._shader.program,ue)}i=ps[l]}return i},r.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var i=e.bounds;this._bounds.addFrame(this.transform,i.minX,i.minY,i.maxX,i.maxY)}},r.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,r._TEMP_POINT),this._geometry.containsPoint(r._TEMP_POINT)},r.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Fr(this.tint,Ds),i=0;i<this.batches.length;i++){var l=this.batches[i],C=l._batchRGB,Ee=(e[0]*C[0]*255<<16)+(e[1]*C[1]*255<<8)+(0|e[2]*C[2]*255);l._tintRGB=(Ee>>16)+(65280&Ee)+((255&Ee)<<16)}}},r.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var i=this.transform.worldTransform,l=i.a,C=i.b,T=i.c,V=i.d,ue=i.tx,Ee=i.ty,Ge=this._geometry.points,$e=this.vertexData,je=0,pt=0;pt<Ge.length;pt+=2){var St=Ge[pt],It=Ge[pt+1];$e[je++]=l*St+T*It+ue,$e[je++]=V*It+C*St+Ee}}},r.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},r.prototype.setMatrix=function(e){return this._matrix=e,this},r.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},r.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},r.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,u.prototype.destroy.call(this,e)},r._TEMP_POINT=new yr,r}(Qt),ba=function(u,r){return(ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},ua=new yr,wa=new Uint16Array([0,1,2,0,2,3]),Zs=function(u){function r(e){var i=u.call(this)||this;return i._anchor=new kr(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=Le.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||xi.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=wa,i.pluginName="batch",i.isSprite=!0,i._roundPixels=pe.ROUND_PIXELS,i}return function Aa(u,r){function e(){this.constructor=u}ba(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=_t(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=_t(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var i=this.transform.worldTransform,l=i.a,C=i.b,T=i.c,V=i.d,ue=i.tx,Ee=i.ty,Ge=this.vertexData,$e=e.trim,je=e.orig,pt=this._anchor,St=0,It=0,on=0,Pn=0;if($e?(St=(It=$e.x-pt._x*je.width)+$e.width,on=(Pn=$e.y-pt._y*je.height)+$e.height):(St=(It=-pt._x*je.width)+je.width,on=(Pn=-pt._y*je.height)+je.height),Ge[0]=l*It+T*Pn+ue,Ge[1]=V*Pn+C*It+Ee,Ge[2]=l*St+T*Pn+ue,Ge[3]=V*Pn+C*St+Ee,Ge[4]=l*St+T*on+ue,Ge[5]=V*on+C*St+Ee,Ge[6]=l*It+T*on+ue,Ge[7]=V*on+C*It+Ee,this._roundPixels)for(var Ai=pe.RESOLUTION,Gn=0;Gn<Ge.length;++Gn)Ge[Gn]=Math.round((Ge[Gn]*Ai|0)/Ai)}},r.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this.vertexTrimmedData,l=this._texture.orig,C=this._anchor,T=this.transform.worldTransform,V=T.a,ue=T.b,Ee=T.c,Ge=T.d,$e=T.tx,je=T.ty,pt=-C._x*l.width,St=pt+l.width,It=-C._y*l.height,on=It+l.height;i[0]=V*pt+Ee*It+$e,i[1]=Ge*It+ue*pt+je,i[2]=V*St+Ee*It+$e,i[3]=Ge*It+ue*St+je,i[4]=V*St+Ee*on+$e,i[5]=Ge*on+ue*St+je,i[6]=V*pt+Ee*on+$e,i[7]=Ge*on+ue*pt+je},r.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var e=this._texture.trim,i=this._texture.orig;!e||e.width===i.width&&e.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Gi),e=this._localBoundsRect),this._bounds.getRectangle(e)):u.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,ua);var i=this._texture.orig.width,l=this._texture.orig.height,C=-i*this.anchor.x,T=0;return ua.x>=C&&ua.x<C+i&&ua.y>=(T=-l*this.anchor.y)&&ua.y<T+l},r.prototype.destroy=function(e){u.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},r.from=function(e,i){return new r(e instanceof xi?e:xi.from(e,i))},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var i=_t(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var i=_t(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||xi.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(Qt),ta=function(u,r){return(ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},Oa=(()=>{return(u=Oa||(Oa={}))[u.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",u[u.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",Oa;var u})(),pu={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Oa.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},dc=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Qa=function(){function u(r){this.styleID=0,this.reset(),mu(this,r,r)}return u.prototype.clone=function(){var r={};return mu(r,this,pu),new u(r)},u.prototype.reset=function(){mu(this,pu,pu)},Object.defineProperty(u.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"breakWords",{get:function(){return this._breakWords},set:function(r){this._breakWords!==r&&(this._breakWords=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(r){this._dropShadow!==r&&(this._dropShadow=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(r){this._dropShadowAlpha!==r&&(this._dropShadowAlpha=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(r){this._dropShadowAngle!==r&&(this._dropShadowAngle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(r){this._dropShadowBlur!==r&&(this._dropShadowBlur=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(r){var e=hc(r);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(r){this._dropShadowDistance!==r&&(this._dropShadowDistance=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fill",{get:function(){return this._fill},set:function(r){var e=hc(r);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(r){this._fillGradientType!==r&&(this._fillGradientType=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(r){(function fd(u,r){if(!Array.isArray(u)||!Array.isArray(r)||u.length!==r.length)return!1;for(var e=0;e<u.length;++e)if(u[e]!==r[e])return!1;return!0})(this._fillGradientStops,r)||(this._fillGradientStops=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(r){this.fontFamily!==r&&(this._fontFamily=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(r){this._fontStyle!==r&&(this._fontStyle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(r){this._fontVariant!==r&&(this._fontVariant=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(r){this._fontWeight!==r&&(this._fontWeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(r){this._lineHeight!==r&&(this._lineHeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"leading",{get:function(){return this._leading},set:function(r){this._leading!==r&&(this._leading=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(r){this._lineJoin!==r&&(this._lineJoin=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(r){this._miterLimit!==r&&(this._miterLimit=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"padding",{get:function(){return this._padding},set:function(r){this._padding!==r&&(this._padding=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stroke",{get:function(){return this._stroke},set:function(r){var e=hc(r);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(r){this._strokeThickness!==r&&(this._strokeThickness=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(r){this._textBaseline!==r&&(this._textBaseline=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"trim",{get:function(){return this._trim},set:function(r){this._trim!==r&&(this._trim=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(r){this._whiteSpace!==r&&(this._whiteSpace=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(r){this._wordWrap!==r&&(this._wordWrap=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(r){this._wordWrapWidth!==r&&(this._wordWrapWidth=r,this.styleID++)},enumerable:!1,configurable:!0}),u.prototype.toFontString=function(){var r="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var l=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(l)&&dc.indexOf(l)<0&&(l='"'+l+'"'),e[i]=l}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+r+" "+e.join(",")},u}();function gu(u){return"number"==typeof u?Qi(u):("string"==typeof u&&0===u.indexOf("0x")&&(u=u.replace("0x","#")),u)}function hc(u){if(Array.isArray(u)){for(var r=0;r<u.length;++r)u[r]=gu(u[r]);return u}return gu(u)}function mu(u,r,e){for(var i in e)u[i]=Array.isArray(r[i])?r[i].slice():r[i]}var Us=function(){function u(r,e,i,l,C,T,V,ue,Ee){this.text=r,this.style=e,this.width=i,this.height=l,this.lines=C,this.lineWidths=T,this.lineHeight=V,this.maxLineWidth=ue,this.fontProperties=Ee}return u.measureText=function(r,e,i,l){void 0===l&&(l=u._canvas),i=null==i?e.wordWrap:i;var C=e.toFontString(),T=u.measureFont(C);0===T.fontSize&&(T.fontSize=e.fontSize,T.ascent=e.fontSize);var V=l.getContext("2d");V.font=C;for(var Ee=(i?u.wordWrap(r,e,l):r).split(/(?:\r\n|\r|\n)/),Ge=new Array(Ee.length),$e=0,je=0;je<Ee.length;je++){var pt=V.measureText(Ee[je]).width+(Ee[je].length-1)*e.letterSpacing;Ge[je]=pt,$e=Math.max($e,pt)}var St=$e+e.strokeThickness;e.dropShadow&&(St+=e.dropShadowDistance);var It=e.lineHeight||T.fontSize+e.strokeThickness,on=Math.max(It,T.fontSize+e.strokeThickness)+(Ee.length-1)*(It+e.leading);return e.dropShadow&&(on+=e.dropShadowDistance),new u(r,e,St,on,Ee,Ge,It+e.leading,$e,T)},u.wordWrap=function(r,e,i){void 0===i&&(i=u._canvas);for(var l=i.getContext("2d"),C=0,T="",V="",ue=Object.create(null),Ee=e.letterSpacing,Ge=e.whiteSpace,$e=u.collapseSpaces(Ge),je=u.collapseNewlines(Ge),pt=!$e,St=e.wordWrapWidth+Ee,It=u.tokenize(r),on=0;on<It.length;on++){var Pn=It[on];if(u.isNewline(Pn)){if(!je){V+=u.addLine(T),pt=!$e,T="",C=0;continue}Pn=" "}if($e){var Ai=u.isBreakingSpace(Pn),Gn=u.isBreakingSpace(T[T.length-1]);if(Ai&&Gn)continue}var or=u.getFromCache(Pn,Ee,ue,l);if(or>St)if(""!==T&&(V+=u.addLine(T),T="",C=0),u.canBreakWords(Pn,e.breakWords))for(var ri=u.wordWrapSplit(Pn),ni=0;ni<ri.length;ni++){for(var uo=ri[ni],po=1;ri[ni+po];){var qi=ri[ni+po];if(u.canBreakChars(uo[uo.length-1],qi,Pn,ni,e.breakWords))break;uo+=qi,po++}ni+=uo.length-1;var Oo=u.getFromCache(uo,Ee,ue,l);Oo+C>St&&(V+=u.addLine(T),pt=!1,T="",C=0),T+=uo,C+=Oo}else T.length>0&&(V+=u.addLine(T),T="",C=0),V+=u.addLine(Pn,!(on===It.length-1)),pt=!1,T="",C=0;else or+C>St&&(pt=!1,V+=u.addLine(T),T="",C=0),(T.length>0||!u.isBreakingSpace(Pn)||pt)&&(T+=Pn,C+=or)}return V+u.addLine(T,!1)},u.addLine=function(r,e){return void 0===e&&(e=!0),r=u.trimRight(r),e?r+"\n":r},u.getFromCache=function(r,e,i,l){var C=i[r];if("number"!=typeof C){var T=r.length*e;C=l.measureText(r).width+T,i[r]=C}return C},u.collapseSpaces=function(r){return"normal"===r||"pre-line"===r},u.collapseNewlines=function(r){return"normal"===r},u.trimRight=function(r){if("string"!=typeof r)return"";for(var e=r.length-1;e>=0&&u.isBreakingSpace(r[e]);e--)r=r.slice(0,-1);return r},u.isNewline=function(r){return"string"==typeof r&&u._newlines.indexOf(r.charCodeAt(0))>=0},u.isBreakingSpace=function(r){return"string"==typeof r&&u._breakingSpaces.indexOf(r.charCodeAt(0))>=0},u.tokenize=function(r){var e=[],i="";if("string"!=typeof r)return e;for(var l=0;l<r.length;l++){var C=r[l];u.isBreakingSpace(C)||u.isNewline(C)?(""!==i&&(e.push(i),i=""),e.push(C)):i+=C}return""!==i&&e.push(i),e},u.canBreakWords=function(r,e){return e},u.canBreakChars=function(r,e,i,l,C){return!0},u.wordWrapSplit=function(r){return r.split("")},u.measureFont=function(r){if(u._fonts[r])return u._fonts[r];var e={ascent:0,descent:0,fontSize:0},i=u._canvas,l=u._context;l.font=r;var C=u.METRICS_STRING+u.BASELINE_SYMBOL,T=Math.ceil(l.measureText(C).width),V=Math.ceil(l.measureText(u.BASELINE_SYMBOL).width),ue=2*V;V=V*u.BASELINE_MULTIPLIER|0,i.width=T,i.height=ue,l.fillStyle="#f00",l.fillRect(0,0,T,ue),l.font=r,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(C,0,V);var Ee=l.getImageData(0,0,T,ue).data,Ge=Ee.length,$e=4*T,je=0,pt=0,St=!1;for(je=0;je<V;++je){for(var It=0;It<$e;It+=4)if(255!==Ee[pt+It]){St=!0;break}if(St)break;pt+=$e}for(e.ascent=V-je,pt=Ge-$e,St=!1,je=ue;je>V;--je){for(It=0;It<$e;It+=4)if(255!==Ee[pt+It]){St=!0;break}if(St)break;pt-=$e}return e.descent=je-V,e.fontSize=e.ascent+e.descent,u._fonts[r]=e,e},u.clearMetrics=function(r){void 0===r&&(r=""),r?delete u._fonts[r]:u._fonts={}},u}(),vu=function(){try{var u=new OffscreenCanvas(0,0),r=u.getContext("2d");return r&&r.measureText?u:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();vu.width=vu.height=10,Us._canvas=vu,Us._context=vu.getContext("2d"),Us._fonts={},Us.METRICS_STRING="|\xc9q\xc5",Us.BASELINE_SYMBOL="M",Us.BASELINE_MULTIPLIER=1.4,Us._newlines=[10,13],Us._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var mf={texture:!0,children:!1,baseTexture:!0},_l=function(u){function r(e,i,l){var C=this,T=!1;l||(l=document.createElement("canvas"),T=!0),l.width=3,l.height=3;var V=xi.from(l);return V.orig=new Gi,V.trim=new Gi,(C=u.call(this,V)||this)._ownCanvas=T,C.canvas=l,C.context=C.canvas.getContext("2d"),C._resolution=pe.RESOLUTION,C._autoResolution=!0,C._text=null,C._style=null,C._styleListener=null,C._font="",C.text=e,C.style=i,C.localStyleID=-1,C}return function Rl(u,r){function e(){this.constructor=u}ta(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),r.prototype.updateText=function(e){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!e){this._font=this._style.toFontString();var l=this.context,C=Us.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),V=C.height,ue=C.lines,Ee=C.lineHeight,Ge=C.lineWidths,$e=C.maxLineWidth,je=C.fontProperties;this.canvas.width=Math.ceil((Math.max(1,C.width)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,V)+2*i.padding)*this._resolution),l.scale(this._resolution,this._resolution),l.clearRect(0,0,this.canvas.width,this.canvas.height),l.font=this._font,l.lineWidth=i.strokeThickness,l.textBaseline=i.textBaseline,l.lineJoin=i.lineJoin,l.miterLimit=i.miterLimit;for(var pt,St,It=i.dropShadow?2:1,on=0;on<It;++on){var Pn=i.dropShadow&&0===on,Ai=Pn?Math.ceil(Math.max(1,V)+2*i.padding):0,Gn=Ai*this._resolution;if(Pn){l.fillStyle="black",l.strokeStyle="black";var or=i.dropShadowColor,ri=Fr("number"==typeof or?or:Sn(or)),ni=i.dropShadowBlur*this._resolution,uo=i.dropShadowDistance*this._resolution;l.shadowColor="rgba("+255*ri[0]+","+255*ri[1]+","+255*ri[2]+","+i.dropShadowAlpha+")",l.shadowBlur=ni,l.shadowOffsetX=Math.cos(i.dropShadowAngle)*uo,l.shadowOffsetY=Math.sin(i.dropShadowAngle)*uo+Gn}else l.fillStyle=this._generateFillStyle(i,ue,C),l.strokeStyle=i.stroke,l.shadowColor="black",l.shadowBlur=0,l.shadowOffsetX=0,l.shadowOffsetY=0;for(var po=0;po<ue.length;po++)pt=i.strokeThickness/2,St=i.strokeThickness/2+po*Ee+je.ascent,"right"===i.align?pt+=$e-Ge[po]:"center"===i.align&&(pt+=($e-Ge[po])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(ue[po],pt+i.padding,St+i.padding-Ai,!0),i.fill&&this.drawLetterSpacing(ue[po],pt+i.padding,St+i.padding-Ai)}this.updateTexture()}},r.prototype.drawLetterSpacing=function(e,i,l,C){void 0===C&&(C=!1);var V=this._style.letterSpacing;if(0!==V)for(var ue=i,Ee=Array.from?Array.from(e):e.split(""),Ge=this.context.measureText(e).width,$e=0,je=0;je<Ee.length;++je){var pt=Ee[je];C?this.context.strokeText(pt,ue,l):this.context.fillText(pt,ue,l),ue+=Ge-($e=this.context.measureText(e.substring(je+1)).width)+V,Ge=$e}else C?this.context.strokeText(e,i,l):this.context.fillText(e,i,l)},r.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var i=Nt(e);i.data&&(e.width=i.width,e.height=i.height,this.context.putImageData(i.data,0,0))}var l=this._texture,C=this._style,T=C.trim?0:C.padding,V=l.baseTexture;l.trim.width=l._frame.width=Math.ceil(e.width/this._resolution),l.trim.height=l._frame.height=Math.ceil(e.height/this._resolution),l.trim.x=-T,l.trim.y=-T,l.orig.width=l._frame.width-2*T,l.orig.height=l._frame.height-2*T,this._onTextureUpdate(),V.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},r.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),u.prototype._render.call(this,e)},r.prototype.getLocalBounds=function(e){return this.updateText(!0),u.prototype.getLocalBounds.call(this,e)},r.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},r.prototype._generateFillStyle=function(e,i,l){var C=e.fill;if(!Array.isArray(C))return C;if(1===C.length)return C[0];var T,V=e.dropShadow?e.dropShadowDistance:0,ue=e.padding||0,Ee=Math.ceil(this.canvas.width/this._resolution)-V-2*ue,Ge=Math.ceil(this.canvas.height/this._resolution)-V-2*ue,$e=C.slice(),je=e.fillGradientStops.slice();if(!je.length)for(var pt=$e.length+1,St=1;St<pt;++St)je.push(St/pt);if($e.unshift(C[0]),je.unshift(0),$e.push(C[C.length-1]),je.push(1),e.fillGradientType===Oa.LINEAR_VERTICAL){T=this.context.createLinearGradient(Ee/2,ue,Ee/2,Ge+ue);var It=0,Pn=(l.fontProperties.fontSize+e.strokeThickness)/Ge;for(St=0;St<i.length;St++)for(var Ai=l.lineHeight*St,Gn=0;Gn<$e.length;Gn++){var ni=Math.max(It,Ai/Ge+("number"==typeof je[Gn]?je[Gn]:Gn/$e.length)*Pn);ni=Math.min(ni,1),T.addColorStop(ni,$e[Gn]),It=ni}}else{T=this.context.createLinearGradient(ue,Ge/2,Ee+ue,Ge/2);var uo=$e.length+1,po=1;for(St=0;St<$e.length;St++)T.addColorStop("number"==typeof je[St]?je[St]:po/uo,$e[St]),po++}return T},r.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},mf,e),u.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var i=_t(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var i=_t(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof Qa?e:new Qa(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),r}(Zs);pe.UPLOADS_PER_FRAME=4;var fc=function(u,r){return(fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},pd=function(){function u(r){this.maxItemsPerFrame=r,this.itemsLeft=0}return u.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},u.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},u}();function yf(u,r){var e=!1;if(u&&u._textures&&u._textures.length)for(var i=0;i<u._textures.length;i++)if(u._textures[i]instanceof xi){var l=u._textures[i].baseTexture;-1===r.indexOf(l)&&(r.push(l),e=!0)}return e}function _f(u,r){if(u.baseTexture instanceof mi){var e=u.baseTexture;return-1===r.indexOf(e)&&r.push(e),!0}return!1}function gd(u,r){if(u._texture&&u._texture instanceof xi){var e=u._texture.baseTexture;return-1===r.indexOf(e)&&r.push(e),!0}return!1}function pc(u,r){return r instanceof _l&&(r.updateText(!0),!0)}function yu(u,r){if(r instanceof Qa){var e=r.toFontString();return Us.measureFont(e),!0}return!1}function gc(u,r){if(u instanceof _l){-1===r.indexOf(u.style)&&r.push(u.style),-1===r.indexOf(u)&&r.push(u);var e=u._texture.baseTexture;return-1===r.indexOf(e)&&r.push(e),!0}return!1}function mc(u,r){return u instanceof Qa&&(-1===r.indexOf(u)&&r.push(u),!0)}var _u=function(){function u(r){var e=this;this.limiter=new pd(pe.UPLOADS_PER_FRAME),this.renderer=r,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(gc),this.registerFindHook(mc),this.registerFindHook(yf),this.registerFindHook(_f),this.registerFindHook(gd),this.registerUploadHook(pc),this.registerUploadHook(yu)}return u.prototype.upload=function(r,e){"function"==typeof r&&(e=r,r=null),r&&this.add(r),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,mr.system.addOnce(this.tick,this,Mi.UTILITY))):e&&e()},u.prototype.tick=function(){setTimeout(this.delayedTick,0)},u.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var r=this.queue[0],e=!1;if(r&&!r._destroyed)for(var i=0,l=this.uploadHooks.length;i<l;i++)if(this.uploadHooks[i](this.uploadHookHelper,r)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)mr.system.addOnce(this.tick,this,Mi.UTILITY);else{this.ticking=!1;var C=this.completes.slice(0);for(this.completes.length=0,i=0,l=C.length;i<l;i++)C[i]()}},u.prototype.registerFindHook=function(r){return r&&this.addHooks.push(r),this},u.prototype.registerUploadHook=function(r){return r&&this.uploadHooks.push(r),this},u.prototype.add=function(r){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](r,this.queue);e++);if(r instanceof Qt)for(e=r.children.length-1;e>=0;e--)this.add(r.children[e]);return this},u.prototype.destroy=function(){this.ticking&&mr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},u}();function na(u,r){return r instanceof mi&&(r._glTextures[u.CONTEXT_UID]||u.texture.bind(r),!0)}function md(u,r){if(!(r instanceof _a))return!1;var e=r.geometry;r.finishPoly(),e.updateBatches();for(var i=e.batches,l=0;l<i.length;l++){var C=i[l].style.texture;C&&na(u,C.baseTexture)}return e.batchable||u.geometry.bind(e,r._resolveDirectShader(u)),!0}function vd(u,r){return u instanceof _a&&(r.push(u),!0)}var vc=function(u){function r(e){var i=u.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(vd),i.registerUploadHook(na),i.registerUploadHook(md),i}return function vf(u,r){function e(){this.constructor=u}fc(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),r}(_u),yc=function(){function u(r){this.maxMilliseconds=r,this.frameStart=0}return u.prototype.beginFrame=function(){this.frameStart=Date.now()},u.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},u}(),Ll=function(){function u(r,e,i){void 0===i&&(i=null),this._texture=r instanceof xi?r:null,this.baseTexture=r instanceof mi?r:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var l=this.baseTexture.resource;this.resolution=this._updateResolution(i||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return u.prototype._updateResolution=function(r){void 0===r&&(r=null);var e=this.data.meta.scale,i=Hn(r,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},u.prototype.parse=function(r){this._batchIndex=0,this._callback=r,this._frameKeys.length<=u.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},u.prototype._processFrames=function(r){for(var e=r,i=u.BATCH_SIZE;e-r<i&&e<this._frameKeys.length;){var l=this._frameKeys[e],C=this._frames[l],T=C.frame;if(T){var V,ue=null,Ee=!1!==C.trimmed&&C.sourceSize?C.sourceSize:C.frame,Ge=new Gi(0,0,Math.floor(Ee.w)/this.resolution,Math.floor(Ee.h)/this.resolution);V=C.rotated?new Gi(Math.floor(T.x)/this.resolution,Math.floor(T.y)/this.resolution,Math.floor(T.h)/this.resolution,Math.floor(T.w)/this.resolution):new Gi(Math.floor(T.x)/this.resolution,Math.floor(T.y)/this.resolution,Math.floor(T.w)/this.resolution,Math.floor(T.h)/this.resolution),!1!==C.trimmed&&C.spriteSourceSize&&(ue=new Gi(Math.floor(C.spriteSourceSize.x)/this.resolution,Math.floor(C.spriteSourceSize.y)/this.resolution,Math.floor(T.w)/this.resolution,Math.floor(T.h)/this.resolution)),this.textures[l]=new xi(this.baseTexture,V,Ge,ue,C.rotated?2:0,C.anchor),xi.addToCache(this.textures[l],l)}e++}},u.prototype._processAnimations=function(){var r=this.data.animations||{};for(var e in r){this.animations[e]=[];for(var i=0;i<r[e].length;i++)this.animations[e].push(this.textures[r[e][i]])}},u.prototype._parseComplete=function(){var r=this._callback;this._callback=null,this._batchIndex=0,r.call(this,this.textures)},u.prototype._nextBatch=function(){var r=this;this._processFrames(this._batchIndex*u.BATCH_SIZE),this._batchIndex++,setTimeout(function(){r._batchIndex*u.BATCH_SIZE<r._frameKeys.length?r._nextBatch():(r._processAnimations(),r._parseComplete())},0)},u.prototype.destroy=function(r){var e;for(var i in void 0===r&&(r=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,r&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},u.BATCH_SIZE=1e3,u}(),_c=function(){function u(){}return u.use=function(r,e){var i=this,l=r.name+"_image";if(r.data&&r.type===ya.TYPE.JSON&&r.data.frames&&!i.resources[l]){var C={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},T=u.getResourcePath(r,i.baseUrl);i.add(l,T,C,function(ue){if(ue.error)e(ue.error);else{var Ee=new Ll(ue.texture,r.data,r.url);Ee.parse(function(){r.spritesheet=Ee,r.textures=Ee.textures,e()})}})}else e()},u.getResourcePath=function(r,e){return r.isDataUrl?r.data.meta.image:Ne.resolve(r.url.replace(e,""),r.data.meta.image)},u}(),bu=function(u,r){return(bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)};function bc(u,r){function e(){this.constructor=u}bu(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var el=new yr,yd=function(u){function r(e,i,l){void 0===i&&(i=100),void 0===l&&(l=100);var C=u.call(this,e)||this;return C.tileTransform=new Br,C._width=i,C._height=l,C.uvMatrix=C.texture.uvMatrix||new as(e),C.pluginName="tilingSprite",C.uvRespectAnchor=!1,C}return bc(r,u),Object.defineProperty(r.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),r.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},r.prototype._render=function(e){var i=this._texture;!i||!i.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},r.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},r.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Gi),e=this._localBoundsRect),this._bounds.getRectangle(e)):u.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,el);var i=this._width,l=this._height,C=-i*this.anchor._x;if(el.x>=C&&el.x<C+i){var T=-l*this.anchor._y;if(el.y>=T&&el.y<T+l)return!0}return!1},r.prototype.destroy=function(e){u.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},r.from=function(e,i){return"number"==typeof i&&(jt("5.3.0","TilingSprite.from use options instead of width and height args"),i={width:i,height:arguments[2]}),new r(xi.from(e,i),i.width,i.height)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),r}(Zs),wc="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Vs="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",wu="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",bl=new fr,Fl=function(u){function r(e){var i=u.call(this,e)||this,l={globals:i.renderer.globalUniforms};return i.shader=ss.from(wc,Vs,l),i.simpleShader=ss.from(wc,wu,l),i.quad=new Qo,i.state=ms.for2d(),i}return bc(r,u),r.prototype.render=function(e){var i=this.renderer,l=this.quad,C=l.vertices;C[0]=C[6]=e._width*-e.anchor.x,C[1]=C[3]=e._height*-e.anchor.y,C[2]=C[4]=e._width*(1-e.anchor.x),C[5]=C[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((C=l.uvs)[0]=C[6]=-e.anchor.x,C[1]=C[3]=-e.anchor.y,C[2]=C[4]=1-e.anchor.x,C[5]=C[7]=1-e.anchor.y),l.invalidate();var T=e._texture,V=T.baseTexture,ue=e.tileTransform.localTransform,Ee=e.uvMatrix,Ge=V.isPowerOfTwo&&T.frame.width===V.width&&T.frame.height===V.height;Ge&&(V._glTextures[i.CONTEXT_UID]?Ge=V.wrapMode!==tn.CLAMP:V.wrapMode===tn.CLAMP&&(V.wrapMode=tn.REPEAT));var $e=Ge?this.simpleShader:this.shader,je=T.width,pt=T.height,St=e._width,It=e._height;bl.set(ue.a*je/St,ue.b*je/It,ue.c*pt/St,ue.d*pt/It,ue.tx/St,ue.ty/It),bl.invert(),Ge?bl.prepend(Ee.mapCoord):($e.uniforms.uMapCoord=Ee.mapCoord.toArray(!0),$e.uniforms.uClampFrame=Ee.uClampFrame,$e.uniforms.uClampOffset=Ee.uClampOffset),$e.uniforms.uTransform=bl.toArray(!0),$e.uniforms.uColor=Lt(e.tint,e.worldAlpha,$e.uniforms.uColor,V.alphaMode),$e.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),$e.uniforms.uSampler=T,i.shader.bind($e),i.geometry.bind(l),this.state.blendMode=nt(e.blendMode,V.alphaMode),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r}(Pe),bs=function(u,r){return(bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)};function $a(u,r){function e(){this.constructor=u}bs(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var Eu=function(){function u(r,e){this.uvBuffer=r,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return u.prototype.update=function(r){if(r||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},u}(),Nl=new yr,Ec=new Eo,Ga=function(u){function r(e,i,l,C){void 0===C&&(C=gt.TRIANGLES);var T=u.call(this)||this;return T.geometry=e,e.refCount++,T.shader=i,T.state=l||ms.for2d(),T.drawMode=C,T.start=0,T.size=0,T.uvs=null,T.indices=null,T.vertexData=new Float32Array(1),T.vertexDirty=0,T._transformID=-1,T._roundPixels=pe.ROUND_PIXELS,T.batchUvs=null,T}return $a(r,u),Object.defineProperty(r.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this.shader.batchable&&this.drawMode===gt.TRIANGLES&&this.geometry.buffers[0].data.length<2*r.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},r.prototype._renderDefault=function(e){var i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),e.batch.flush(),i.program.uniformData.translationMatrix&&(i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(i),e.state.set(this.state),e.geometry.bind(this.geometry,i),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},r.prototype._renderToBatch=function(e){var i=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var l=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[l]),e.plugins[l].render(this)},r.prototype.calculateVertices=function(){var e=this.geometry,i=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var l=this.transform.worldTransform,C=l.a,T=l.b,V=l.c,ue=l.d,Ee=l.tx,Ge=l.ty,$e=this.vertexData,je=0;je<$e.length/2;je++){var pt=i[2*je],St=i[2*je+1];$e[2*je]=C*pt+V*St+Ee,$e[2*je+1]=T*pt+ue*St+Ge}if(this._roundPixels){var It=pe.RESOLUTION;for(je=0;je<$e.length;++je)$e[je]=Math.round(($e[je]*It|0)/It)}this.vertexDirty=e.vertexDirtyId}},r.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Eu(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},r.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Nl);for(var i=this.geometry.getBuffer("aVertexPosition").data,l=Ec.points,C=this.geometry.getIndex().data,T=C.length,V=4===this.drawMode?3:1,ue=0;ue+2<T;ue+=V){var Ee=2*C[ue],Ge=2*C[ue+1],$e=2*C[ue+2];if(l[0]=i[Ee],l[1]=i[Ee+1],l[2]=i[Ge],l[3]=i[Ge+1],l[4]=i[$e],l[5]=i[$e+1],Ec.contains(Nl.x,Nl.y))return!0}return!1},r.prototype.destroy=function(e){u.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},r.BATCHABLE_SIZE=100,r}(Qt),_d="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",Sc="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",wl=function(u){function r(e,i){var l=this,C={uSampler:e,alpha:1,uTextureMatrix:fr.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(C,i.uniforms),(l=u.call(this,i.program||ts.from(Sc,_d),C)||this)._colorDirty=!1,l.uvMatrix=new as(e),l.batchable=void 0===i.program,l.pluginName=i.pluginName,l.tint=i.tint,l.alpha=i.alpha,l}return $a(r,u),Object.defineProperty(r.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),r.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,Lt(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},r}(ss),tl=function(u){function r(e,i,l){var C=u.call(this)||this,T=new wr(e),V=new wr(i,!0),ue=new wr(l,!0,!0);return C.addAttribute("aVertexPosition",T,2,!1,un.FLOAT).addAttribute("aTextureCoord",V,2,!1,un.FLOAT).addIndex(ue),C._updateId=-1,C}return $a(r,u),Object.defineProperty(r.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),r}(zo),Su=function(u,r){return(Su=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},Wa=function u(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Cu=function(){function u(){}return u.test=function(r){return"string"==typeof r&&0===r.indexOf("info face=")},u.parse=function(r){var e=r.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var l in e){var C=e[l].match(/^[a-z]+/gm)[0],T=e[l].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),V={};for(var ue in T){var Ee=T[ue].split("="),Ge=Ee[0],$e=Ee[1].replace(/"/gm,""),je=parseFloat($e),pt=isNaN(je)?$e:je;V[Ge]=pt}i[C].push(V)}var St=new Wa;return i.info.forEach(function(It){return St.info.push({face:It.face,size:parseInt(It.size,10)})}),i.common.forEach(function(It){return St.common.push({lineHeight:parseInt(It.lineHeight,10)})}),i.page.forEach(function(It){return St.page.push({id:parseInt(It.id,10),file:It.file})}),i.char.forEach(function(It){return St.char.push({id:parseInt(It.id,10),page:parseInt(It.page,10),x:parseInt(It.x,10),y:parseInt(It.y,10),width:parseInt(It.width,10),height:parseInt(It.height,10),xoffset:parseInt(It.xoffset,10),yoffset:parseInt(It.yoffset,10),xadvance:parseInt(It.xadvance,10)})}),i.kerning.forEach(function(It){return St.kerning.push({first:parseInt(It.first,10),second:parseInt(It.second,10),amount:parseInt(It.amount,10)})}),St},u}(),Du=function(){function u(){}return u.test=function(r){return r instanceof XMLDocument&&r.getElementsByTagName("page").length&&null!==r.getElementsByTagName("info")[0].getAttribute("face")},u.parse=function(r){for(var e=new Wa,i=r.getElementsByTagName("info"),l=r.getElementsByTagName("common"),C=r.getElementsByTagName("page"),T=r.getElementsByTagName("char"),V=r.getElementsByTagName("kerning"),ue=0;ue<i.length;ue++)e.info.push({face:i[ue].getAttribute("face"),size:parseInt(i[ue].getAttribute("size"),10)});for(ue=0;ue<l.length;ue++)e.common.push({lineHeight:parseInt(l[ue].getAttribute("lineHeight"),10)});for(ue=0;ue<C.length;ue++)e.page.push({id:parseInt(C[ue].getAttribute("id"),10)||0,file:C[ue].getAttribute("file")});for(ue=0;ue<T.length;ue++){var Ee=T[ue];e.char.push({id:parseInt(Ee.getAttribute("id"),10),page:parseInt(Ee.getAttribute("page"),10)||0,x:parseInt(Ee.getAttribute("x"),10),y:parseInt(Ee.getAttribute("y"),10),width:parseInt(Ee.getAttribute("width"),10),height:parseInt(Ee.getAttribute("height"),10),xoffset:parseInt(Ee.getAttribute("xoffset"),10),yoffset:parseInt(Ee.getAttribute("yoffset"),10),xadvance:parseInt(Ee.getAttribute("xadvance"),10)})}for(ue=0;ue<V.length;ue++)e.kerning.push({first:parseInt(V[ue].getAttribute("first"),10),second:parseInt(V[ue].getAttribute("second"),10),amount:parseInt(V[ue].getAttribute("amount"),10)});return e},u}(),El=function(){function u(){}return u.test=function(r){if("string"==typeof r&&r.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(r,"text/xml");return Du.test(e)}return!1},u.parse=function(r){var e=(new window.DOMParser).parseFromString(r,"text/xml");return Du.parse(e)},u}(),Tu=[Cu,Du,El];function Cc(u){for(var r=0;r<Tu.length;r++)if(Tu[r].test(u))return Tu[r];return null}function Pu(u,r,e,i,l,C,T){var V=e.text,ue=e.fontProperties;r.translate(i,l),r.scale(C,C);var Ee=T.strokeThickness/2,Ge=-T.strokeThickness/2;if(r.font=T.toFontString(),r.lineWidth=T.strokeThickness,r.textBaseline=T.textBaseline,r.lineJoin=T.lineJoin,r.miterLimit=T.miterLimit,r.fillStyle=function xu(u,r,e,i,l,C){var T=e.fill;if(!Array.isArray(T))return T;if(1===T.length)return T[0];var V,ue=e.dropShadow?e.dropShadowDistance:0,Ee=e.padding||0,Ge=Math.ceil(u.width/i)-ue-2*Ee,$e=Math.ceil(u.height/i)-ue-2*Ee,je=T.slice(),pt=e.fillGradientStops.slice();if(!pt.length)for(var St=je.length+1,It=1;It<St;++It)pt.push(It/St);if(je.unshift(T[0]),pt.unshift(0),je.push(T[T.length-1]),pt.push(1),e.fillGradientType===Oa.LINEAR_VERTICAL){V=r.createLinearGradient(Ge/2,Ee,Ge/2,$e+Ee);var on=0,Ai=(C.fontProperties.fontSize+e.strokeThickness)/$e;for(It=0;It<l.length;It++)for(var Gn=C.lineHeight*It,or=0;or<je.length;or++){var uo=Math.max(on,Gn/$e+("number"==typeof pt[or]?pt[or]:or/je.length)*Ai);uo=Math.min(uo,1),V.addColorStop(uo,je[or]),on=uo}}else{V=r.createLinearGradient(Ee,$e/2,Ge+Ee,$e/2);var po=je.length+1,qi=1;for(It=0;It<je.length;It++)V.addColorStop("number"==typeof pt[It]?pt[It]:qi/po,je[It]),qi++}return V}(u,r,T,C,[V],e),r.strokeStyle=T.stroke,T.dropShadow){var $e=T.dropShadowColor,je=Fr("number"==typeof $e?$e:Sn($e)),pt=T.dropShadowBlur*C,St=T.dropShadowDistance*C;r.shadowColor="rgba("+255*je[0]+","+255*je[1]+","+255*je[2]+","+T.dropShadowAlpha+")",r.shadowBlur=pt,r.shadowOffsetX=Math.cos(T.dropShadowAngle)*St,r.shadowOffsetY=Math.sin(T.dropShadowAngle)*St}else r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;T.stroke&&T.strokeThickness&&r.strokeText(V,Ee,Ge+e.lineHeight-ue.descent),T.fill&&r.fillText(V,Ee,Ge+e.lineHeight-ue.descent),r.setTransform(1,0,0,1,0,0),r.fillStyle="rgba(0, 0, 0, 0)"}var Ws=function(){function u(r,e,i){var l=r.info[0],C=r.common[0],V=Hn(r.page[0].file),ue={};this._ownsTextures=i,this.font=l.face,this.size=l.size,this.lineHeight=C.lineHeight/V,this.chars={},this.pageTextures=ue;for(var Ee=0;Ee<r.page.length;Ee++){var Ge=r.page[Ee];ue[$e=Ge.id]=e instanceof Array?e[Ee]:e[Ge.file]}for(Ee=0;Ee<r.char.length;Ee++){var pt=r.char[Ee],$e=pt.id,St=pt.page,It=r.char[Ee],on=It.x,Pn=It.y,Ai=It.width,Gn=It.height,or=It.xoffset,ri=It.yoffset,ni=It.xadvance;or/=V,ri/=V,ni/=V;var uo=new Gi((on/=V)+ue[St].frame.x/V,(Pn/=V)+ue[St].frame.y/V,Ai/=V,Gn/=V);this.chars[$e]={xOffset:or,yOffset:ri,xAdvance:ni,kerning:{},texture:new xi(ue[St].baseTexture,uo),page:St}}for(Ee=0;Ee<r.kerning.length;Ee++){var po=r.kerning[Ee],qi=po.first,pr=po.second,Oo=po.amount;qi/=V,Oo/=V,this.chars[pr/=V]&&(this.chars[pr].kerning[qi]=Oo)}}return u.prototype.destroy=function(){for(var r in this.chars)this.chars[r].texture.destroy(),this.chars[r].texture=null;for(var r in this.pageTextures)this._ownsTextures&&this.pageTextures[r].destroy(!0),this.pageTextures[r]=null;this.chars=null,this.pageTextures=null},u.install=function(r,e,i){var l;if(r instanceof Wa)l=r;else{var C=Cc(r);if(!C)throw new Error("Unrecognized data format for font.");l=C.parse(r)}e instanceof xi&&(e=[e]);var T=new u(l,e,i);return u.available[T.font]=T,T},u.uninstall=function(r){var e=u.available[r];if(!e)throw new Error("No font found named '"+r+"'");e.destroy(),delete u.available[r]},u.from=function(r,e,i){if(!r)throw new Error("[BitmapFont] Property `name` is required.");var l=Object.assign({},u.defaultOptions,i),T=l.padding,V=l.resolution,ue=l.textureWidth,Ee=l.textureHeight,Ge=function Dc(u){"string"==typeof u&&(u=[u]);for(var r=[],e=0,i=u.length;e<i;e++){var l=u[e];if(Array.isArray(l)){if(2!==l.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+l.length+".");var C=l[0].charCodeAt(0),T=l[1].charCodeAt(0);if(T<C)throw new Error("[BitmapFont]: Invalid character range.");for(var V=C,ue=T;V<=ue;V++)r.push(String.fromCharCode(V))}else r.push.apply(r,l.split(""))}if(0===r.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return r}(l.chars),$e=e instanceof Qa?e:new Qa(e),je=ue,pt=new Wa;pt.info[0]={face:$e.fontFamily,size:$e.fontSize},pt.common[0]={lineHeight:$e.fontSize};for(var on,Pn,Ai,St=0,It=0,Gn=0,or=[],ri=0;ri<Ge.length;ri++){on||((on=document.createElement("canvas")).width=ue,on.height=Ee,Pn=on.getContext("2d"),Ai=new mi(on,{resolution:V}),or.push(new xi(Ai)),pt.page.push({id:or.length-1,file:""}));var ni=Us.measureText(Ge[ri],$e,!1,on),uo=ni.width,po=Math.ceil(ni.height),qi=Math.ceil(("italic"===$e.fontStyle?2:1)*uo);if(It>=Ee-po*V){if(0===It)throw new Error("[BitmapFont] textureHeight "+Ee+"px is too small for "+$e.fontSize+"px fonts");--ri,on=null,Pn=null,Ai=null,It=0,St=0,Gn=0}else if(Gn=Math.max(po+ni.fontProperties.descent,Gn),qi*V+St>=je)--ri,It+=Gn*V,It=Math.ceil(It),St=0,Gn=0;else{Pu(on,Pn,ni,St,It,V,$e);var pr=ni.text.charCodeAt(0);pt.char.push({id:pr,page:or.length-1,x:St/V,y:It/V,width:qi,height:po,xoffset:0,yoffset:0,xadvance:Math.ceil(uo-($e.dropShadow?$e.dropShadowDistance:0)-($e.stroke?$e.strokeThickness:0))}),St+=(qi+2*T)*V,St=Math.ceil(St)}}var Oo=new u(pt,or,!0);return void 0!==u.available[r]&&u.uninstall(r),u.available[r]=Oo,Oo},u.ALPHA=[["a","z"],["A","Z"]," "],u.NUMERIC=[["0","9"]],u.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],u.ASCII=[[" ","~"]],u.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:u.ALPHANUMERIC},u.available={},u}(),kl=[],Mu=[],wd=function(u){function r(e,i){void 0===i&&(i={});var l=u.call(this)||this;l._tint=16777215,i.font&&(jt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),l._upgradeStyle(i));var C=Object.assign({},r.styleDefaults,i),T=C.align,V=C.tint,ue=C.maxWidth,Ee=C.letterSpacing,Ge=C.fontName,$e=C.fontSize;if(!Ws.available[Ge])throw new Error('Missing BitmapFont "'+Ge+'"');return l._activePagesMeshData=[],l._textWidth=0,l._textHeight=0,l._align=T,l._tint=V,l._fontName=Ge,l._fontSize=$e||Ws.available[Ge].size,l._text=e,l._maxWidth=ue,l._maxLineHeight=0,l._letterSpacing=Ee,l._anchor=new kr(function(){l.dirty=!0},l,0,0),l._roundPixels=pe.ROUND_PIXELS,l.dirty=!0,l._textureCache={},l}return function bd(u,r){function e(){this.constructor=u}Su(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),r.prototype.updateText=function(){for(var e,i=Ws.available[this._fontName],l=this._fontSize/i.size,C=new yr,T=[],V=[],ue=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",Ee=ue.length,Ge=this._maxWidth*i.size/this._fontSize,$e=null,je=0,pt=0,St=0,It=-1,on=0,Pn=0,Ai=0,Gn=0;Gn<Ee;Gn++){var or=ue.charCodeAt(Gn),ri=ue.charAt(Gn);if(/(?:\s)/.test(ri)&&(It=Gn,on=je),"\r"!==ri&&"\n"!==ri){var ni=i.chars[or];if(ni){$e&&ni.kerning[$e]&&(C.x+=ni.kerning[$e]);var uo=Mu.pop()||{texture:xi.EMPTY,line:0,charCode:0,position:new yr};uo.texture=ni.texture,uo.line=St,uo.charCode=or,uo.position.x=C.x+ni.xOffset+this._letterSpacing/2,uo.position.y=C.y+ni.yOffset,T.push(uo),C.x+=ni.xAdvance+this._letterSpacing,je=C.x,Ai=Math.max(Ai,ni.yOffset+ni.texture.height),$e=or,-1!==It&&Ge>0&&C.x>Ge&&(Zt(T,1+It-++Pn,1+Gn-It),Gn=It,It=-1,V.push(on),pt=Math.max(pt,on),St++,C.x=0,C.y+=i.lineHeight,$e=null)}}else V.push(je),pt=Math.max(pt,je),++St,++Pn,C.x=0,C.y+=i.lineHeight,$e=null}var po=ue.charAt(ue.length-1);"\r"!==po&&"\n"!==po&&(/(?:\s)/.test(po)&&(je=on),V.push(je),pt=Math.max(pt,je));var qi=[];for(Gn=0;Gn<=St;Gn++){var pr=0;"right"===this._align?pr=pt-V[Gn]:"center"===this._align&&(pr=(pt-V[Gn])/2),qi.push(pr)}var Oo=T.length,Vo={},bo=[],Ea=this._activePagesMeshData;for(Gn=0;Gn<Ea.length;Gn++)kl.push(Ea[Gn]);for(Gn=0;Gn<Oo;Gn++){var $r=(Wr=T[Gn].texture).baseTexture.uid;if(!Vo[$r]){if(!(hr=kl.pop())){var ol=new tl,sl=new wl(xi.EMPTY);hr={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Ga(ol,sl),vertices:null,uvs:null,indices:null}}hr.index=0,hr.indexCount=0,hr.vertexCount=0,hr.uvsCount=0,hr.total=0;var Fa=this._textureCache;Fa[$r]=Fa[$r]||new xi(Wr.baseTexture),hr.mesh.texture=Fa[$r],hr.mesh.tint=this._tint,bo.push(hr),Vo[$r]=hr}Vo[$r].total++}for(Gn=0;Gn<Ea.length;Gn++)-1===bo.indexOf(Ea[Gn])&&this.removeChild(Ea[Gn].mesh);for(Gn=0;Gn<bo.length;Gn++)bo[Gn].mesh.parent!==this&&this.addChild(bo[Gn].mesh);for(var Gn in this._activePagesMeshData=bo,Vo){var ia=(hr=Vo[Gn]).total;if(!((null===(e=hr.indices)||void 0===e?void 0:e.length)>6*ia)||hr.vertices.length<2*Ga.BATCHABLE_SIZE)hr.vertices=new Float32Array(8*ia),hr.uvs=new Float32Array(8*ia),hr.indices=new Uint16Array(6*ia);else for(var $l=hr.vertices,ca=4*hr.total*2;ca<$l.length;ca++)$l[ca]=0;hr.mesh.size=6*ia}for(Gn=0;Gn<Oo;Gn++){var da=(ri=T[Gn]).position.x+qi[ri.line];this._roundPixels&&(da=Math.round(da));var Wr,ha=da*l,Sa=ri.position.y*l,Ro=Vo[(Wr=ri.texture).baseTexture.uid],Ks=Wr.frame,xs=Wr._uvs,wo=Ro.index++;Ro.indices[6*wo+0]=0+4*wo,Ro.indices[6*wo+1]=1+4*wo,Ro.indices[6*wo+2]=2+4*wo,Ro.indices[6*wo+3]=0+4*wo,Ro.indices[6*wo+4]=2+4*wo,Ro.indices[6*wo+5]=3+4*wo,Ro.vertices[8*wo+0]=ha,Ro.vertices[8*wo+1]=Sa,Ro.vertices[8*wo+2]=ha+Ks.width*l,Ro.vertices[8*wo+3]=Sa,Ro.vertices[8*wo+4]=ha+Ks.width*l,Ro.vertices[8*wo+5]=Sa+Ks.height*l,Ro.vertices[8*wo+6]=ha,Ro.vertices[8*wo+7]=Sa+Ks.height*l,Ro.uvs[8*wo+0]=xs.x0,Ro.uvs[8*wo+1]=xs.y0,Ro.uvs[8*wo+2]=xs.x1,Ro.uvs[8*wo+3]=xs.y1,Ro.uvs[8*wo+4]=xs.x2,Ro.uvs[8*wo+5]=xs.y2,Ro.uvs[8*wo+6]=xs.x3,Ro.uvs[8*wo+7]=xs.y3}for(var Gn in this._textWidth=pt*l,this._textHeight=(C.y+i.lineHeight)*l,Vo){var hr=Vo[Gn];if(0!==this.anchor.x||0!==this.anchor.y)for(var ra=0,Ca=this._textWidth*this.anchor.x,Dl=this._textHeight*this.anchor.y,ul=0;ul<hr.total;ul++)hr.vertices[ra++]-=Ca,hr.vertices[ra++]-=Dl,hr.vertices[ra++]-=Ca,hr.vertices[ra++]-=Dl,hr.vertices[ra++]-=Ca,hr.vertices[ra++]-=Dl,hr.vertices[ra++]-=Ca,hr.vertices[ra++]-=Dl;this._maxLineHeight=Ai*l;var Gl=hr.mesh.geometry.getBuffer("aVertexPosition"),cl=hr.mesh.geometry.getBuffer("aTextureCoord"),Yu=hr.mesh.geometry.getIndex();Gl.data=hr.vertices,cl.data=hr.uvs,Yu.data=hr.indices,Gl.update(),cl.update(),Yu.update()}for(Gn=0;Gn<T.length;Gn++)Mu.push(T[Gn])},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype.getLocalBounds=function(){return this.validate(),u.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Ws.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),r.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var i=e.font.split(" ");e.fontName=1===i.length?i[0]:i.slice(1).join(" "),i.length>=2&&(e.fontSize=parseInt(i[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},r.prototype.destroy=function(e){var i=this._textureCache;for(var l in i)i[l].destroy(),delete i[l];this._textureCache=null,u.prototype.destroy.call(this,e)},r.registerFont=function(e,i){return jt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Ws.install(e,i)},Object.defineProperty(r,"fonts",{get:function(){return jt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Ws.available},enumerable:!1,configurable:!0}),r.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},r}(Qt),Bl=function(){function u(){}return u.add=function(){ya.setExtensionXhrType("fnt",ya.XHR_RESPONSE_TYPE.TEXT)},u.use=function(r,e){var i=Cc(r.data);if(i)for(var l=u.getBaseUrl(this,r),C=i.parse(r.data),T={},V=function(It){T[It.metadata.pageFile]=It.texture,Object.keys(T).length===C.page.length&&(r.bitmapFont=Ws.install(C,T,!0),e())},ue=0;ue<C.page.length;++ue){var Ee=C.page[ue].file,Ge=l+Ee,$e=!1;for(var je in this.resources){var pt=this.resources[je];if(pt.url===Ge){pt.metadata.pageFile=Ee,pt.texture?V(pt):pt.onAfterMiddleware.add(V),$e=!0;break}}if(!$e){var St={crossOrigin:r.crossOrigin,loadType:ya.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:Ee},r.metadata.imageMetadata),parentResource:r};this.add(Ge,St,V)}}else e()},u.getBaseUrl=function(r,e){var i=e.isDataUrl?"":u.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),r.baseUrl&&i&&"/"===r.baseUrl.charAt(r.baseUrl.length-1)&&(i+="/")),(i=i.replace(r.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},u.dirname=function(r){var e=r.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===r?".":""===e?"/":e},u}(),Iu=function(u,r){return(Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},Sd="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",Cd=function(u){function r(e){void 0===e&&(e=1);var i=u.call(this,_e,Sd,{uAlpha:1})||this;return i.alpha=e,i}return function Ed(u,r){function e(){this.constructor=u}Iu(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),r}(is),Au=function(u,r){return(Au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)};function Tc(u,r){function e(){this.constructor=u}Au(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var xc="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",Pc={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ru=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),Ya=(()=>{return(u=Ya||(Ya={}))[u.NO=0]="NO",u[u.YES=1]="YES",u[u.AUTO=2]="AUTO",u[u.BLEND=0]="BLEND",u[u.CLEAR=1]="CLEAR",u[u.BLIT=2]="BLIT",Ya;var u})(),Ul=function(u){function r(e,i,l,C,T){void 0===i&&(i=8),void 0===l&&(l=4),void 0===C&&(C=pe.FILTER_RESOLUTION),void 0===T&&(T=5);var V=this,ue=function Ou(u,r){var C,e=Math.ceil(u/2),i=xc,l="";C=r?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var T=0;T<u;T++){var V=C.replace("%index%",T.toString());l+=V=V.replace("%sampleIndex%",T-(e-1)+".0"),l+="\n"}return(i=i.replace("%blur%",l)).replace("%size%",u.toString())}(T,e),Ee=function Dd(u){for(var T,r=Pc[u],e=r.length,i=Ru,l="",V=0;V<u;V++){var ue="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",V.toString());T=V,V>=e&&(T=u-V-1),l+=ue=ue.replace("%value%",r[T].toString()),l+="\n"}return(i=i.replace("%blur%",l)).replace("%size%",u.toString())}(T);return(V=u.call(this,ue,Ee)||this).horizontal=e,V.resolution=C,V._quality=0,V.quality=l,V.blur=i,V}return Tc(r,u),r.prototype.apply=function(e,i,l,C){if(this.uniforms.strength=l?this.horizontal?1/l.width*(l.width/i.width):1/l.height*(l.height/i.height):this.horizontal?1/e.renderer.width*(e.renderer.width/i.width):1/e.renderer.height*(e.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,i,l,C);else{var T=e.getFilterTexture(),V=e.renderer,ue=i,Ee=T;this.state.blend=!1,e.applyFilter(this,ue,Ee,Ya.CLEAR);for(var Ge=1;Ge<this.passes-1;Ge++){e.bindAndClear(ue,Ya.BLIT),this.uniforms.uSampler=Ee;var $e=Ee;Ee=ue,ue=$e,V.shader.bind(this),V.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,Ee,l,C),e.returnFilterTexture(T)}},Object.defineProperty(r.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),r}(is),ku=function(u){function r(e,i,l,C){void 0===e&&(e=8),void 0===i&&(i=4),void 0===l&&(l=pe.FILTER_RESOLUTION),void 0===C&&(C=5);var T=u.call(this)||this;return T.blurXFilter=new Ul(!0,e,i,l,C),T.blurYFilter=new Ul(!1,e,i,l,C),T.resolution=l,T.quality=i,T.blur=e,T.repeatEdgePixels=!1,T}return Tc(r,u),r.prototype.apply=function(e,i,l,C){var T=Math.abs(this.blurXFilter.strength),V=Math.abs(this.blurYFilter.strength);if(T&&V){var ue=e.getFilterTexture();this.blurXFilter.apply(e,i,ue,Ya.CLEAR),this.blurYFilter.apply(e,ue,l,C),e.returnFilterTexture(ue)}else V?this.blurYFilter.apply(e,i,l,C):this.blurXFilter.apply(e,i,l,C)},r.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(r.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),r}(is),Sl=function(u,r){return(Sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},Cl="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",Uu=function(u){function r(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=u.call(this,Je,Cl,i)||this).alpha=1,e}return function Bu(u,r){function e(){this.constructor=u}Sl(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),r.prototype._loadMatrix=function(e,i){void 0===i&&(i=!1);var l=e;i&&(this._multiply(l,this.uniforms.m,e),l=this._colorMatrix(l)),this.uniforms.m=l},r.prototype._multiply=function(e,i,l){return e[0]=i[0]*l[0]+i[1]*l[5]+i[2]*l[10]+i[3]*l[15],e[1]=i[0]*l[1]+i[1]*l[6]+i[2]*l[11]+i[3]*l[16],e[2]=i[0]*l[2]+i[1]*l[7]+i[2]*l[12]+i[3]*l[17],e[3]=i[0]*l[3]+i[1]*l[8]+i[2]*l[13]+i[3]*l[18],e[4]=i[0]*l[4]+i[1]*l[9]+i[2]*l[14]+i[3]*l[19]+i[4],e[5]=i[5]*l[0]+i[6]*l[5]+i[7]*l[10]+i[8]*l[15],e[6]=i[5]*l[1]+i[6]*l[6]+i[7]*l[11]+i[8]*l[16],e[7]=i[5]*l[2]+i[6]*l[7]+i[7]*l[12]+i[8]*l[17],e[8]=i[5]*l[3]+i[6]*l[8]+i[7]*l[13]+i[8]*l[18],e[9]=i[5]*l[4]+i[6]*l[9]+i[7]*l[14]+i[8]*l[19]+i[9],e[10]=i[10]*l[0]+i[11]*l[5]+i[12]*l[10]+i[13]*l[15],e[11]=i[10]*l[1]+i[11]*l[6]+i[12]*l[11]+i[13]*l[16],e[12]=i[10]*l[2]+i[11]*l[7]+i[12]*l[12]+i[13]*l[17],e[13]=i[10]*l[3]+i[11]*l[8]+i[12]*l[13]+i[13]*l[18],e[14]=i[10]*l[4]+i[11]*l[9]+i[12]*l[14]+i[13]*l[19]+i[14],e[15]=i[15]*l[0]+i[16]*l[5]+i[17]*l[10]+i[18]*l[15],e[16]=i[15]*l[1]+i[16]*l[6]+i[17]*l[11]+i[18]*l[16],e[17]=i[15]*l[2]+i[16]*l[7]+i[17]*l[12]+i[18]*l[17],e[18]=i[15]*l[3]+i[16]*l[8]+i[17]*l[13]+i[18]*l[18],e[19]=i[15]*l[4]+i[16]*l[9]+i[17]*l[14]+i[18]*l[19]+i[19],e},r.prototype._colorMatrix=function(e){var i=new Float32Array(e);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},r.prototype.brightness=function(e,i){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],i)},r.prototype.greyscale=function(e,i){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],i)},r.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},r.prototype.hue=function(e,i){e=(e||0)/180*Math.PI;var l=Math.cos(e),C=Math.sin(e),V=1/3,ue=(0,Math.sqrt)(V);this._loadMatrix([l+(1-l)*V,V*(1-l)-ue*C,V*(1-l)+ue*C,0,0,V*(1-l)+ue*C,l+V*(1-l),V*(1-l)-ue*C,0,0,V*(1-l)-ue*C,V*(1-l)+ue*C,l+V*(1-l),0,0,0,0,0,1,0],i)},r.prototype.contrast=function(e,i){var l=(e||0)+1,C=-.5*(l-1);this._loadMatrix([l,0,0,0,C,0,l,0,0,C,0,0,l,0,C,0,0,0,1,0],i)},r.prototype.saturate=function(e,i){void 0===e&&(e=0);var l=2*e/3+1,C=-.5*(l-1);this._loadMatrix([l,C,C,0,0,C,l,C,0,0,C,C,l,0,0,0,0,0,1,0],i)},r.prototype.desaturate=function(){this.saturate(-1)},r.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},r.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},r.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},r.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},r.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},r.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},r.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},r.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},r.prototype.colorTone=function(e,i,l,C,T){var V=((l=l||16770432)>>16&255)/255,ue=(l>>8&255)/255,Ee=(255&l)/255,Ge=((C=C||3375104)>>16&255)/255,$e=(C>>8&255)/255,je=(255&C)/255;this._loadMatrix([.3,.59,.11,0,0,V,ue,Ee,e=e||.2,0,Ge,$e,je,i=i||.15,0,V-Ge,ue-$e,Ee-je,0,0],T)},r.prototype.night=function(e,i){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],i)},r.prototype.predator=function(e,i){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],i)},r.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},r.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(r.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),r}(is);Uu.prototype.grayscale=Uu.prototype.greyscale;var Vl=function(u,r){return(Vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},Ld="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",Fd="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",Ic=function(u){function r(e,i){var l=this,C=new fr;return e.renderable=!1,(l=u.call(this,Fd,Ld,{mapSampler:e._texture,filterMatrix:C,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,l.maskMatrix=C,null==i&&(i=20),l.scale=new yr(i,i),l}return function Rd(u,r){function e(){this.constructor=u}Vl(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),r.prototype.apply=function(e,i,l,C){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var T=this.maskSprite.worldTransform,V=Math.sqrt(T.a*T.a+T.b*T.b),ue=Math.sqrt(T.c*T.c+T.d*T.d);0!==V&&0!==ue&&(this.uniforms.rotation[0]=T.a/V,this.uniforms.rotation[1]=T.b/V,this.uniforms.rotation[2]=T.c/ue,this.uniforms.rotation[3]=T.d/ue),e.applyFilter(this,i,l,C)},Object.defineProperty(r.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),r}(is),Hl=function(u,r){return(Hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},Vu="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",il='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Nd=function(u){function r(){return u.call(this,Vu,il)||this}return function jl(u,r){function e(){this.constructor=u}Hl(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),r}(is),Hu=function(u,r){return(Hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},kd="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",ju=function(u){function r(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random());var l=u.call(this,Je,kd,{uNoise:0,uSeed:0})||this;return l.noise=e,l.seed=i,l}return function Sf(u,r){function e(){this.constructor=u}Hu(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),Object.defineProperty(r.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),r}(is),Ac=new fr;tt.prototype._cacheAsBitmap=!1,tt.prototype._cacheData=null;var Oc=function u(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(tt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(u){var r;this._cacheAsBitmap!==u&&(this._cacheAsBitmap=u,u?(this._cacheData||(this._cacheData=new Oc),(r=this._cacheData).originalRender=this.render,r.originalRenderCanvas=this.renderCanvas,r.originalUpdateTransform=this.updateTransform,r.originalCalculateBounds=this.calculateBounds,r.originalGetLocalBounds=this.getLocalBounds,r.originalDestroy=this.destroy,r.originalContainsPoint=this.containsPoint,r.originalMask=this._mask,r.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((r=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=r.originalRender,this.renderCanvas=r.originalRenderCanvas,this.calculateBounds=r.originalCalculateBounds,this.getLocalBounds=r.originalGetLocalBounds,this.destroy=r.originalDestroy,this.updateTransform=r.originalUpdateTransform,this.containsPoint=r.originalContainsPoint,this._mask=r.originalMask,this.filterArea=r.originalFilterArea))}}}),tt.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))},tt.prototype._initCachedDisplayObject=function(r){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,r.batch.flush();var i=this.getLocalBounds(null,!0).clone();this.filters&&i.pad(this.filters[0].padding),i.ceil(pe.RESOLUTION);var C=r.renderTexture.current,T=r.renderTexture.sourceFrame.clone(),V=r.renderTexture.destinationFrame.clone(),ue=r.projection.transform,Ee=ro.create({width:i.width,height:i.height}),Ge="cacheAsBitmap_"+gn();this._cacheData.textureCacheId=Ge,mi.addToCache(Ee.baseTexture,Ge),xi.addToCache(Ee,Ge);var $e=this.transform.localTransform.copyTo(Ac).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,r.render(this,Ee,!0,$e,!1),r.projection.transform=ue,r.renderTexture.bind(C,T,V),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var je=new Zs(Ee);je.transform.worldTransform=this.transform.worldTransform,je.anchor.x=-i.x/i.width,je.anchor.y=-i.y/i.height,je.alpha=e,je._bounds=this._bounds,this._cacheData.sprite=je,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=je.containsPoint.bind(je)}},tt.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))},tt.prototype._initCachedDisplayObjectCanvas=function(r){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var l=r.context,C=r._projTransform;e.ceil(pe.RESOLUTION);var T=ro.create({width:e.width,height:e.height}),V="cacheAsBitmap_"+gn();this._cacheData.textureCacheId=V,mi.addToCache(T.baseTexture,V),xi.addToCache(T,V);var ue=Ac;this.transform.localTransform.copyTo(ue),ue.invert(),ue.tx-=e.x,ue.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,T,!0,ue,!1),r.context=l,r._projTransform=C,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var Ee=new Zs(T);Ee.transform.worldTransform=this.transform.worldTransform,Ee.anchor.x=-e.x/e.width,Ee.anchor.y=-e.y/e.height,Ee.alpha=i,Ee._bounds=this._bounds,this._cacheData.sprite=Ee,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=Ee.containsPoint.bind(Ee)}},tt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},tt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},tt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,mi.removeFromCache(this._cacheData.textureCacheId),xi.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},tt.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)},tt.prototype.name=null,Qt.prototype.getChildByName=function(r,e){for(var i=0,l=this.children.length;i<l;i++)if(this.children[i].name===r)return this.children[i];if(e)for(i=0,l=this.children.length;i<l;i++)if(this.children[i].getChildByName){var T=this.children[i].getChildByName(r,!0);if(T)return T}return null},tt.prototype.getGlobalPosition=function(r,e){return void 0===r&&(r=new yr),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};var rl=function(u,r){return(rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)};function Ra(u,r){function e(){this.constructor=u}rl(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var zu=function(u){function r(e,i,l,C){void 0===e&&(e=100),void 0===i&&(i=100),void 0===l&&(l=10),void 0===C&&(C=10);var T=u.call(this)||this;return T.segWidth=l,T.segHeight=C,T.width=e,T.height=i,T.build(),T}return Ra(r,u),r.prototype.build=function(){for(var e=this.segWidth*this.segHeight,i=[],l=[],C=[],T=this.segWidth-1,V=this.segHeight-1,ue=this.width/T,Ee=this.height/V,Ge=0;Ge<e;Ge++){var $e=Ge%this.segWidth,je=Ge/this.segWidth|0;i.push($e*ue,je*Ee),l.push($e/T,je/V)}var pt=T*V;for(Ge=0;Ge<pt;Ge++){var St=Ge%T,It=Ge/T|0,Pn=It*this.segWidth+St+1,Ai=(It+1)*this.segWidth+St;C.push(It*this.segWidth+St,Pn,Ai,Pn,(It+1)*this.segWidth+St+1,Ai)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(l),this.indexBuffer.data=new Uint16Array(C),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},r}(tl),$u=function(u){function r(e,i,l){void 0===e&&(e=200),void 0===l&&(l=0);var C=u.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return C.points=i,C._width=e,C.textureScale=l,C.build(),C}return Ra(r,u),Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),r.prototype.build=function(){var e=this.points;if(e){var i=this.getBuffer("aVertexPosition"),l=this.getBuffer("aTextureCoord"),C=this.getIndex();if(!(e.length<1)){i.data.length/4!==e.length&&(i.data=new Float32Array(4*e.length),l.data=new Float32Array(4*e.length),C.data=new Uint16Array(6*(e.length-1)));var T=l.data,V=C.data;T[0]=0,T[1]=0,T[2]=0,T[3]=1;for(var ue=0,Ee=e[0],Ge=this._width*this.textureScale,$e=e.length,je=0;je<$e;je++){var pt=4*je;if(this.textureScale>0){var St=Ee.x-e[je].x,It=Ee.y-e[je].y,on=Math.sqrt(St*St+It*It);Ee=e[je],ue+=on/Ge}else ue=je/($e-1);T[pt]=ue,T[pt+1]=0,T[pt+2]=ue,T[pt+3]=1}var Pn=0;for(je=0;je<$e-1;je++)V[Pn++]=pt=2*je,V[Pn++]=pt+1,V[Pn++]=pt+2,V[Pn++]=pt+2,V[Pn++]=pt+1,V[Pn++]=pt+3;l.update(),C.update(),this.updateVertices()}}},r.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var l,i=e[0],C=0,T=0,V=this.buffers[0].data,ue=e.length,Ee=0;Ee<ue;Ee++){var Ge=e[Ee],$e=4*Ee;T=-((l=Ee<e.length-1?e[Ee+1]:Ge).x-i.x),C=l.y-i.y;var je=Math.sqrt(C*C+T*T),pt=this.textureScale>0?this.textureScale*this._width/2:this._width/2;C/=je,T/=je,T*=pt,V[$e]=Ge.x+(C*=pt),V[$e+1]=Ge.y+T,V[$e+2]=Ge.x-C,V[$e+3]=Ge.y-T,i=Ge}this.buffers[0].update()}},r.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},r}(tl),Rc=function(u){function r(e,i,l){void 0===l&&(l=0);var C=this,T=new $u(e.height,i,l),V=new wl(e);return l>0&&(e.baseTexture.wrapMode=tn.REPEAT),(C=u.call(this,T,V)||this).autoUpdate=!0,C}return Ra(r,u),r.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),u.prototype._render.call(this,e)},r}(Ga),Gu=function(u){function r(e,i,l){var C=this,T=new zu(e.width,e.height,i,l),V=new wl(xi.WHITE);return(C=u.call(this,T,V)||this).texture=e,C}return Ra(r,u),r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),u.prototype._render.call(this,e)},r.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),u.prototype.destroy.call(this,e)},r}(Ga),Bd=function(u){function r(e,i,l,C,T){void 0===e&&(e=xi.EMPTY);var V=this,ue=new tl(i,l,C);ue.getBuffer("aVertexPosition").static=!1;var Ee=new wl(e);return(V=u.call(this,ue,Ee,null,T)||this).autoUpdate=!0,V}return Ra(r,u),Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),u.prototype._render.call(this,e)},r}(Ga),zl=10,Ud=function(u){function r(e,i,l,C,T){void 0===i&&(i=zl),void 0===l&&(l=zl),void 0===C&&(C=zl),void 0===T&&(T=zl);var V=u.call(this,xi.WHITE,4,4)||this;return V._origWidth=e.orig.width,V._origHeight=e.orig.height,V._width=V._origWidth,V._height=V._origHeight,V._leftWidth=i,V._rightWidth=C,V._topHeight=l,V._bottomHeight=T,V.texture=e,V}return Ra(r,u),r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),r.prototype.updateHorizontalVertices=function(){var e=this.vertices,i=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*i,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*i,e[25]=e[27]=e[29]=e[31]=this._height},r.prototype.updateVerticalVertices=function(){var e=this.vertices,i=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*i,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*i,e[6]=e[14]=e[22]=e[30]=this._width},r.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,l=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>l?1:this._height/l)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),r.prototype._refresh=function(){var e=this.texture,i=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var l=1/this._origWidth,C=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0,i[1]=i[3]=i[5]=i[7]=0,i[6]=i[14]=i[22]=i[30]=1,i[25]=i[27]=i[29]=i[31]=1,i[2]=i[10]=i[18]=i[26]=l*this._leftWidth,i[4]=i[12]=i[20]=i[28]=1-l*this._rightWidth,i[9]=i[11]=i[13]=i[15]=C*this._topHeight,i[17]=i[19]=i[21]=i[23]=1-C*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},r}(Gu),Wu=function(u,r){return(Wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)},La=function(u){function r(e,i){void 0===i&&(i=!0);var l=u.call(this,e[0]instanceof xi?e[0]:e[0].texture)||this;return l._textures=null,l._durations=null,l._autoUpdate=i,l._isConnectedToTicker=!1,l.animationSpeed=1,l.loop=!0,l.updateAnchor=!1,l.onComplete=null,l.onFrameChange=null,l.onLoop=null,l._currentTime=0,l._playing=!1,l._previousFrame=null,l.textures=e,l}return function Vd(u,r){function e(){this.constructor=u}Wu(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(r,u),r.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(mr.shared.add(this.update,this,Mi.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(e){this.stop();var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(e){var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(e){if(this._playing){var i=this.animationSpeed*e,l=this.currentFrame;if(null!==this._durations){var C=this._currentTime%1*this._durations[this.currentFrame];for(C+=i/60*1e3;C<0;)this._currentTime--,C+=this._durations[this.currentFrame];var T=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);C>=this._durations[this.currentFrame];)C-=this._durations[this.currentFrame]*T,this._currentTime+=T;this._currentTime+=C/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):l!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<l||this.animationSpeed<0&&this.currentFrame>l)&&this.onLoop(),this.updateTexture())}},r.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},r.prototype.destroy=function(e){this.stop(),u.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(e){for(var i=[],l=0;l<e.length;++l)i.push(xi.from(e[l]));return new r(i)},r.fromImages=function(e){for(var i=[],l=0;l<e.length;++l)i.push(xi.from(e[l]));return new r(i)},Object.defineProperty(r.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof xi)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<e.length;i++)this._textures.push(e[i].texture),this._durations.push(e[i].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(mr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(mr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),r}(Zs),Xa=function(u,r){return(Xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var l in i)i.hasOwnProperty(l)&&(e[l]=i[l])})(u,r)};function Lc(u,r){function e(){this.constructor=u}Xa(u,r),u.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}var ki="5.0.0";function Cf(){var u=this;Object.defineProperties(u,{SVG_SIZE:{get:function(){return jt(ki,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),u.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return jt(ki,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),u.Transform}},TransformBase:{get:function(){return jt(ki,"PIXI.TransformBase class has been removed, use PIXI.Transform"),u.Transform}},TRANSFORM_MODE:{get:function(){return jt(ki,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return jt(ki,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),u.Renderer}},CanvasRenderTarget:{get:function(){return jt(ki,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),u.utils.CanvasRenderTarget}},loader:{get:function(){return jt(ki,"PIXI.loader instance has moved to PIXI.Loader.shared"),u.Loader.shared}},FilterManager:{get:function(){return jt(ki,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),u.systems.FilterSystem}},CanvasTinter:{get:function(){return jt("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),u.canvasUtils}},GroupD8:{get:function(){return jt("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),u.groupD8}}}),u.accessibility={},Object.defineProperties(u.accessibility,{AccessibilityManager:{get:function(){return jt("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),u.AccessibilityManager}}}),u.interaction={},Object.defineProperties(u.interaction,{InteractionManager:{get:function(){return jt("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),u.InteractionManager}},InteractionData:{get:function(){return jt("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),u.InteractionData}},InteractionEvent:{get:function(){return jt("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),u.InteractionEvent}}}),u.prepare={},Object.defineProperties(u.prepare,{BasePrepare:{get:function(){return jt("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),u.BasePrepare}},Prepare:{get:function(){return jt("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),u.Prepare}},CanvasPrepare:{get:function(){return jt("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),u.CanvasPrepare}}}),u.extract={},Object.defineProperties(u.extract,{Extract:{get:function(){return jt("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),u.Extract}},CanvasExtract:{get:function(){return jt("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),u.CanvasExtract}}}),u.extras={},Object.defineProperties(u.extras,{TilingSprite:{get:function(){return jt(ki,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),u.TilingSprite}},TilingSpriteRenderer:{get:function(){return jt(ki,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),u.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return jt(ki,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),u.AnimatedSprite}},BitmapText:{get:function(){return jt(ki,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),u.BitmapText}}}),u.TilingSprite.fromFrame=function(je,pt,St){return jt("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),u.TilingSprite.from(je,{width:pt,height:St})},u.TilingSprite.fromImage=function(je,pt,St,It){return void 0===It&&(It={}),jt("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),It&&"object"!=typeof It&&(It={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),It.width=pt,It.height=St,u.TilingSprite.from(je,It)},Object.defineProperties(u.utils,{getSvgSize:{get:function(){return jt(ki,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),u.resources.SVGResource.getSize}}}),u.mesh={},Object.defineProperties(u.mesh,{Mesh:{get:function(){return jt(ki,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),u.SimpleMesh}},NineSlicePlane:{get:function(){return jt(ki,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),u.NineSlicePlane}},Plane:{get:function(){return jt(ki,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),u.SimplePlane}},Rope:{get:function(){return jt(ki,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),u.SimpleRope}},RawMesh:{get:function(){return jt(ki,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),u.Mesh}},CanvasMeshRenderer:{get:function(){return jt(ki,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),u.CanvasMeshRenderer}},MeshRenderer:{get:function(){return jt(ki,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),u.MeshRenderer}}}),u.particles={},Object.defineProperties(u.particles,{ParticleContainer:{get:function(){return jt(ki,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),u.ParticleContainer}},ParticleRenderer:{get:function(){return jt(ki,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),u.ParticleRenderer}}}),u.ticker={},Object.defineProperties(u.ticker,{Ticker:{get:function(){return jt(ki,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),u.Ticker}},shared:{get:function(){return jt(ki,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),u.Ticker.shared}}}),u.loaders={},Object.defineProperties(u.loaders,{Loader:{get:function(){return jt(ki,"PIXI.loaders.Loader class has moved to PIXI.Loader"),u.Loader}},Resource:{get:function(){return jt(ki,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),u.LoaderResource}},bitmapFontParser:{get:function(){return jt(ki,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),u.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){jt(ki,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return jt(ki,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),u.SpritesheetLoader.use}},getResourcePath:{get:function(){return jt(ki,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),u.SpritesheetLoader.getResourcePath}}}),u.Loader.addPixiMiddleware=function(je){return jt(ki,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),u.loaders.Loader.registerPlugin({use:je()})};var r=function($e){return"on"+$e.charAt(0).toUpperCase()+$e.slice(1)};Object.assign(u.Loader.prototype,{on:function($e){var je=r($e);jt(ki,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+je+".add")},once:function($e){var je=r($e);jt(ki,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+je+".once")},off:function($e){var je=r($e);jt(ki,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+je+".detach")}}),Object.defineProperty(u.extract,"WebGLExtract",{get:function(){return jt(ki,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),u.Extract}}),Object.defineProperty(u.prepare,"WebGLPrepare",{get:function(){return jt(ki,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),u.Prepare}}),u.Container.prototype._renderWebGL=function(je){jt(ki,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(je)},u.Container.prototype.renderWebGL=function(je){jt(ki,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(je)},u.DisplayObject.prototype.renderWebGL=function(je){jt(ki,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(je)},u.Container.prototype.renderAdvancedWebGL=function(je){jt(ki,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(je)},Object.defineProperties(u.settings,{TRANSFORM_MODE:{get:function(){return jt(ki,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){jt(ki,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=u.BaseTexture;e.prototype.loadSource=function(je){jt(ki,"PIXI.BaseTexture.loadSource method has been deprecated");var pt=u.resources.autoDetectResource(je);pt.internal=!0,this.setResource(pt),this.update()};var i=!1;Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return jt(ki,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var $e;return jt(ki,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===($e=this.resource)||void 0===$e?void 0:$e.url},set:function($e){jt(ki,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=$e)}},source:{get:function(){return jt(ki,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function($e){jt(ki,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=$e)}},premultiplyAlpha:{get:function(){return jt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function($e){jt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number($e)}},_id:{get:function(){return i||(jt("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),i=!0),this._batchLocation},set:function($e){this._batchLocation=$e}}}),e.fromImage=function(je,pt,St,It){return jt(ki,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from"),e.from(je,{scaleMode:St,resourceOptions:{scale:It,crossorigin:pt}})},e.fromCanvas=function(je,pt){return jt(ki,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(je,{scaleMode:pt})},e.fromSVG=function(je,pt,St,It){return jt(ki,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from"),e.from(je,{scaleMode:St,resourceOptions:{scale:It,crossorigin:pt}})},Object.defineProperties(u.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return jt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function($e){jt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number($e)}}}),u.Point.prototype.copy=function(je){return jt(ki,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(je)},u.ObservablePoint.prototype.copy=function(je){return jt(ki,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(je)},u.Rectangle.prototype.copy=function(je){return jt(ki,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(je)},u.Matrix.prototype.copy=function(je){return jt(ki,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(je)},u.systems.StateSystem.prototype.setState=function(je){return jt("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(je)},Object.assign(u.systems.FilterSystem.prototype,{getRenderTarget:function($e,je){return jt(ki,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,je)},returnRenderTarget:function($e){jt(ki,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture($e)},calculateScreenSpaceMatrix:function($e){jt(ki,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var je=$e.identity(),pt=this.activeState,St=pt.sourceFrame,It=pt.destinationFrame;return je.translate(St.x/It.width,St.y/It.height),je.scale(It.width,It.height),je},calculateNormalizedScreenSpaceMatrix:function($e){jt(ki,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var je=this.activeState,pt=je.sourceFrame,St=je.destinationFrame,It=$e.identity();return It.translate(pt.x/St.width,pt.y/St.height),It.scale(St.width/pt.width,St.height/pt.height),It}}),Object.defineProperties(u.RenderTexture.prototype,{sourceFrame:{get:function(){return jt(ki,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return jt(ki,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var l=function($e){function je(pt,St,It,on){return jt(ki,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),$e.call(this,!0,pt,St,It,on)||this}return Lc(je,$e),je}(u.filters.BlurFilterPass),C=function($e){function je(pt,St,It,on){return jt(ki,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),$e.call(this,!1,pt,St,It,on)||this}return Lc(je,$e),je}(u.filters.BlurFilterPass);Object.assign(u.filters,{BlurXFilter:l,BlurYFilter:C});var T=u.Sprite,V=u.Texture,ue=u.Graphics;function Ee($e,je,pt,St){return jt(ki,"PIXI.Sprite."+$e+" method is deprecated, use PIXI.Sprite.from"),T.from(je,{resourceOptions:{scale:St,crossorigin:pt}})}function Ge($e,je,pt,St){return jt(ki,"PIXI.Texture."+$e+" method is deprecated, use PIXI.Texture.from"),V.from(je,{resourceOptions:{scale:St,crossorigin:pt}})}ue.prototype.generateCanvasTexture||(ue.prototype.generateCanvasTexture=function(){jt(ki,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(ue.prototype,"graphicsData",{get:function(){return jt(ki,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),T.fromImage=Ee.bind(null,"fromImage"),T.fromSVG=Ee.bind(null,"fromSVG"),T.fromCanvas=Ee.bind(null,"fromCanvas"),T.fromVideo=Ee.bind(null,"fromVideo"),T.fromFrame=Ee.bind(null,"fromFrame"),V.fromImage=Ge.bind(null,"fromImage"),V.fromSVG=Ge.bind(null,"fromSVG"),V.fromCanvas=Ge.bind(null,"fromCanvas"),V.fromVideo=Ge.bind(null,"fromVideo"),V.fromFrame=Ge.bind(null,"fromFrame"),Object.defineProperty(u.AbstractRenderer.prototype,"autoResize",{get:function(){return jt(ki,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function($e){jt(ki,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=$e}}),Object.defineProperty(u.Renderer.prototype,"textureManager",{get:function(){return jt(ki,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),u.utils.mixins={mixin:function(){jt(ki,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){jt(ki,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){jt(ki,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(u.BitmapText.prototype,"font",{get:function(){return jt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function($e){if(jt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),$e){var je={font:$e};this._upgradeStyle(je),je.fontSize=je.fontSize||u.BitmapFont.available[je.fontName].size,this._fontName=je.fontName,this._fontSize=je.fontSize,this.dirty=!0}}})}F.registerPlugin("accessibility",fo),F.registerPlugin("extract",cs),F.registerPlugin("interaction",Gt),F.registerPlugin("particle",f),F.registerPlugin("prepare",vc),F.registerPlugin("batch",Fi),F.registerPlugin("tilingSprite",Fl),ys.registerPlugin(Bl),ys.registerPlugin(_c),Ui.registerPlugin(io),Ui.registerPlugin(vl);var Df="5.3.12",Tf={AlphaFilter:Cd,BlurFilter:ku,BlurFilterPass:Ul,ColorMatrixFilter:Uu,DisplacementFilter:Ic,FXAAFilter:Nd,NoiseFilter:ju}},6117:function(yt,U,R){var o;yt=R.nmd(yt),function(y){"object"==typeof global&&global;var X,Z=2147483647,Y=36,q=1,ce=26,ae=38,se=700,re=72,le=128,ke="-",Ce=/^xn--/,fe=/[^\x20-\x7E]/,ve=/[\x2E\u3002\uFF0E\uFF61]/g,De={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Be=Y-q,qe=Math.floor,Oe=String.fromCharCode;function Me(Te){throw new RangeError(De[Te])}function Xe(Te,Ne){for(var we=Te.length,Ve=[];we--;)Ve[we]=Ne(Te[we]);return Ve}function Ke(Te,Ne){var we=Te.split("@"),Ve="";return we.length>1&&(Ve=we[0]+"@",Te=we[1]),Ve+Xe((Te=Te.replace(ve,".")).split("."),Ne).join(".")}function Qe(Te){for(var Ie,Le,Ne=[],we=0,Ve=Te.length;we<Ve;)(Ie=Te.charCodeAt(we++))>=55296&&Ie<=56319&&we<Ve?56320==(64512&(Le=Te.charCodeAt(we++)))?Ne.push(((1023&Ie)<<10)+(1023&Le)+65536):(Ne.push(Ie),we--):Ne.push(Ie);return Ne}function ut(Te){return Xe(Te,function(Ne){var we="";return Ne>65535&&(we+=Oe((Ne-=65536)>>>10&1023|55296),Ne=56320|1023&Ne),we+Oe(Ne)}).join("")}function ze(Te){return Te-48<10?Te-22:Te-65<26?Te-65:Te-97<26?Te-97:Y}function Ze(Te,Ne){return Te+22+75*(Te<26)-((0!=Ne)<<5)}function ge(Te,Ne,we){var Ve=0;for(Te=we?qe(Te/se):Te>>1,Te+=qe(Te/Ne);Te>Be*ce>>1;Ve+=Y)Te=qe(Te/Be);return qe(Ve+(Be+1)*Te/(Te+ae))}function pe(Te){var Ve,bt,Mt,un,En,tn,Ct,st,nn,$t,Ne=[],we=Te.length,Ie=0,Le=le,gt=re;for((bt=Te.lastIndexOf(ke))<0&&(bt=0),Mt=0;Mt<bt;++Mt)Te.charCodeAt(Mt)>=128&&Me("not-basic"),Ne.push(Te.charCodeAt(Mt));for(un=bt>0?bt+1:0;un<we;){for(En=Ie,tn=1,Ct=Y;un>=we&&Me("invalid-input"),((st=ze(Te.charCodeAt(un++)))>=Y||st>qe((Z-Ie)/tn))&&Me("overflow"),Ie+=st*tn,!(st<(nn=Ct<=gt?q:Ct>=gt+ce?ce:Ct-gt));Ct+=Y)tn>qe(Z/($t=Y-nn))&&Me("overflow"),tn*=$t;gt=ge(Ie-En,Ve=Ne.length+1,0==En),qe(Ie/Ve)>Z-Le&&Me("overflow"),Le+=qe(Ie/Ve),Ie%=Ve,Ne.splice(Ie++,0,Le)}return ut(Ne)}function Se(Te){var Ne,we,Ve,Ie,Le,gt,bt,Mt,un,En,tn,st,nn,$t,vn,Ct=[];for(st=(Te=Qe(Te)).length,Ne=le,we=0,Le=re,gt=0;gt<st;++gt)(tn=Te[gt])<128&&Ct.push(Oe(tn));for(Ve=Ie=Ct.length,Ie&&Ct.push(ke);Ve<st;){for(bt=Z,gt=0;gt<st;++gt)(tn=Te[gt])>=Ne&&tn<bt&&(bt=tn);for(bt-Ne>qe((Z-we)/(nn=Ve+1))&&Me("overflow"),we+=(bt-Ne)*nn,Ne=bt,gt=0;gt<st;++gt)if((tn=Te[gt])<Ne&&++we>Z&&Me("overflow"),tn==Ne){for(Mt=we,un=Y;!(Mt<(En=un<=Le?q:un>=Le+ce?ce:un-Le));un+=Y)Ct.push(Oe(Ze(En+(vn=Mt-En)%($t=Y-En),0))),Mt=qe(vn/$t);Ct.push(Oe(Ze(Mt,0))),Le=ge(we,nn,Ve==Ie),we=0,++Ve}++we,++Ne}return Ct.join("")}X={version:"1.4.1",ucs2:{decode:Qe,encode:ut},decode:pe,encode:Se,toASCII:function Ae(Te){return Ke(Te,function(Ne){return fe.test(Ne)?"xn--"+Se(Ne):Ne})},toUnicode:function xe(Te){return Ke(Te,function(Ne){return Ce.test(Ne)?pe(Ne.slice(4).toLowerCase()):Ne})}},void 0!==(o=function(){return X}.call(U,R,U,yt))&&(yt.exports=o)}()},9165:yt=>{"use strict";var U=String.prototype.replace,R=/%20/g;yt.exports={default:"RFC3986",formatters:{RFC1738:function(y){return U.call(y,R,"+")},RFC3986:function(y){return String(y)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},1781:(yt,U,R)=>{"use strict";var o=R(3726),y=R(6954),K=R(9165);yt.exports={formats:K,parse:y,stringify:o}},6954:(yt,U,R)=>{"use strict";var o=R(4393),y=Object.prototype.hasOwnProperty,K=Array.isArray,z={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:o.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},X=function(re,le){return re&&"string"==typeof re&&le.comma&&re.indexOf(",")>-1?re.split(","):re},ae=function(le,ke,Ce,fe){if(le){var ve=Ce.allowDots?le.replace(/\.([^.[]+)/g,"[$1]"):le,Be=/(\[[^[\]]*])/g,qe=Ce.depth>0&&/(\[[^[\]]*])/.exec(ve),Oe=qe?ve.slice(0,qe.index):ve,mt=[];if(Oe){if(!Ce.plainObjects&&y.call(Object.prototype,Oe)&&!Ce.allowPrototypes)return;mt.push(Oe)}for(var Me=0;Ce.depth>0&&null!==(qe=Be.exec(ve))&&Me<Ce.depth;){if(Me+=1,!Ce.plainObjects&&y.call(Object.prototype,qe[1].slice(1,-1))&&!Ce.allowPrototypes)return;mt.push(qe[1])}if(qe){if(!0===Ce.strictDepth)throw new RangeError("Input depth exceeded depth option of "+Ce.depth+" and strictDepth is true");mt.push("["+ve.slice(qe.index)+"]")}return function(re,le,ke,Ce){for(var fe=Ce?le:X(le,ke),ve=re.length-1;ve>=0;--ve){var De,Be=re[ve];if("[]"===Be&&ke.parseArrays)De=ke.allowEmptyArrays&&(""===fe||ke.strictNullHandling&&null===fe)?[]:[].concat(fe);else{De=ke.plainObjects?Object.create(null):{};var qe="["===Be.charAt(0)&&"]"===Be.charAt(Be.length-1)?Be.slice(1,-1):Be,Oe=ke.decodeDotInKeys?qe.replace(/%2E/g,"."):qe,mt=parseInt(Oe,10);ke.parseArrays||""!==Oe?!isNaN(mt)&&Be!==Oe&&String(mt)===Oe&&mt>=0&&ke.parseArrays&&mt<=ke.arrayLimit?(De=[])[mt]=fe:"__proto__"!==Oe&&(De[Oe]=fe):De={0:fe}}fe=De}return fe}(mt,ke,Ce,fe)}};yt.exports=function(re,le){var ke=function(le){if(!le)return z;if(typeof le.allowEmptyArrays<"u"&&"boolean"!=typeof le.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof le.decodeDotInKeys<"u"&&"boolean"!=typeof le.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==le.decoder&&typeof le.decoder<"u"&&"function"!=typeof le.decoder)throw new TypeError("Decoder has to be a function.");if(typeof le.charset<"u"&&"utf-8"!==le.charset&&"iso-8859-1"!==le.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var ke=typeof le.charset>"u"?z.charset:le.charset,Ce=typeof le.duplicates>"u"?z.duplicates:le.duplicates;if("combine"!==Ce&&"first"!==Ce&&"last"!==Ce)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof le.allowDots>"u"?!0===le.decodeDotInKeys||z.allowDots:!!le.allowDots,allowEmptyArrays:"boolean"==typeof le.allowEmptyArrays?!!le.allowEmptyArrays:z.allowEmptyArrays,allowPrototypes:"boolean"==typeof le.allowPrototypes?le.allowPrototypes:z.allowPrototypes,allowSparse:"boolean"==typeof le.allowSparse?le.allowSparse:z.allowSparse,arrayLimit:"number"==typeof le.arrayLimit?le.arrayLimit:z.arrayLimit,charset:ke,charsetSentinel:"boolean"==typeof le.charsetSentinel?le.charsetSentinel:z.charsetSentinel,comma:"boolean"==typeof le.comma?le.comma:z.comma,decodeDotInKeys:"boolean"==typeof le.decodeDotInKeys?le.decodeDotInKeys:z.decodeDotInKeys,decoder:"function"==typeof le.decoder?le.decoder:z.decoder,delimiter:"string"==typeof le.delimiter||o.isRegExp(le.delimiter)?le.delimiter:z.delimiter,depth:"number"==typeof le.depth||!1===le.depth?+le.depth:z.depth,duplicates:Ce,ignoreQueryPrefix:!0===le.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof le.interpretNumericEntities?le.interpretNumericEntities:z.interpretNumericEntities,parameterLimit:"number"==typeof le.parameterLimit?le.parameterLimit:z.parameterLimit,parseArrays:!1!==le.parseArrays,plainObjects:"boolean"==typeof le.plainObjects?le.plainObjects:z.plainObjects,strictDepth:"boolean"==typeof le.strictDepth?!!le.strictDepth:z.strictDepth,strictNullHandling:"boolean"==typeof le.strictNullHandling?le.strictNullHandling:z.strictNullHandling}}(le);if(""===re||null===re||typeof re>"u")return ke.plainObjects?Object.create(null):{};for(var Ce="string"==typeof re?function(le,ke){var qe,Ce={__proto__:null},fe=ke.ignoreQueryPrefix?le.replace(/^\?/,""):le,De=(fe=fe.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split(ke.delimiter,ke.parameterLimit===1/0?void 0:ke.parameterLimit),Be=-1,Oe=ke.charset;if(ke.charsetSentinel)for(qe=0;qe<De.length;++qe)0===De[qe].indexOf("utf8=")&&("utf8=%E2%9C%93"===De[qe]?Oe="utf-8":"utf8=%26%2310003%3B"===De[qe]&&(Oe="iso-8859-1"),Be=qe,qe=De.length);for(qe=0;qe<De.length;++qe)if(qe!==Be){var Ke,Qe,mt=De[qe],Me=mt.indexOf("]="),Xe=-1===Me?mt.indexOf("="):Me+1;-1===Xe?(Ke=ke.decoder(mt,z.decoder,Oe,"key"),Qe=ke.strictNullHandling?null:""):(Ke=ke.decoder(mt.slice(0,Xe),z.decoder,Oe,"key"),Qe=o.maybeMap(X(mt.slice(Xe+1),ke),function(ze){return ke.decoder(ze,z.decoder,Oe,"value")})),Qe&&ke.interpretNumericEntities&&"iso-8859-1"===Oe&&(Qe=Qe.replace(/&#(\d+);/g,function(le,ke){return String.fromCharCode(parseInt(ke,10))})),mt.indexOf("[]=")>-1&&(Qe=K(Qe)?[Qe]:Qe);var ut=y.call(Ce,Ke);ut&&"combine"===ke.duplicates?Ce[Ke]=o.combine(Ce[Ke],Qe):(!ut||"last"===ke.duplicates)&&(Ce[Ke]=Qe)}return Ce}(re,ke):re,fe=ke.plainObjects?Object.create(null):{},ve=Object.keys(Ce),De=0;De<ve.length;++De){var Be=ve[De],qe=ae(Be,Ce[Be],ke,"string"==typeof re);fe=o.merge(fe,qe,ke)}return!0===ke.allowSparse?fe:o.compact(fe)}},3726:(yt,U,R)=>{"use strict";var o=R(8475),y=R(4393),K=R(9165),z=Object.prototype.hasOwnProperty,J={brackets:function(fe){return fe+"[]"},comma:"comma",indices:function(fe,ve){return fe+"["+ve+"]"},repeat:function(fe){return fe}},X=Array.isArray,Z=Array.prototype.push,Y=function(Ce,fe){Z.apply(Ce,X(fe)?fe:[fe])},q=Date.prototype.toISOString,ce=K.default,ae={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:y.encode,encodeValuesOnly:!1,format:ce,formatter:K.formatters[ce],indices:!1,serializeDate:function(fe){return q.call(fe)},skipNulls:!1,strictNullHandling:!1},re={},le=function Ce(fe,ve,De,Be,qe,Oe,mt,Me,Xe,Ke,Qe,ut,ze,Ze,ge,pe,Se,xe){for(var Ae=fe,Te=xe,Ne=0,we=!1;void 0!==(Te=Te.get(re))&&!we;){var Ve=Te.get(fe);if(Ne+=1,typeof Ve<"u"){if(Ve===Ne)throw new RangeError("Cyclic object value");we=!0}typeof Te.get(re)>"u"&&(Ne=0)}if("function"==typeof Ke?Ae=Ke(ve,Ae):Ae instanceof Date?Ae=ze(Ae):"comma"===De&&X(Ae)&&(Ae=y.maybeMap(Ae,function(vn){return vn instanceof Date?ze(vn):vn})),null===Ae){if(Oe)return Xe&&!pe?Xe(ve,ae.encoder,Se,"key",Ze):ve;Ae=""}if(function(fe){return"string"==typeof fe||"number"==typeof fe||"boolean"==typeof fe||"symbol"==typeof fe||"bigint"==typeof fe}(Ae)||y.isBuffer(Ae))return Xe?[ge(pe?ve:Xe(ve,ae.encoder,Se,"key",Ze))+"="+ge(Xe(Ae,ae.encoder,Se,"value",Ze))]:[ge(ve)+"="+ge(String(Ae))];var gt,Le=[];if(typeof Ae>"u")return Le;if("comma"===De&&X(Ae))pe&&Xe&&(Ae=y.maybeMap(Ae,Xe)),gt=[{value:Ae.length>0?Ae.join(",")||null:void 0}];else if(X(Ke))gt=Ke;else{var bt=Object.keys(Ae);gt=Qe?bt.sort(Qe):bt}var Mt=Me?ve.replace(/\./g,"%2E"):ve,un=Be&&X(Ae)&&1===Ae.length?Mt+"[]":Mt;if(qe&&X(Ae)&&0===Ae.length)return un+"[]";for(var En=0;En<gt.length;++En){var tn=gt[En],Ct="object"==typeof tn&&typeof tn.value<"u"?tn.value:Ae[tn];if(!mt||null!==Ct){var st=ut&&Me?tn.replace(/\./g,"%2E"):tn,nn=X(Ae)?"function"==typeof De?De(un,st):un:un+(ut?"."+st:"["+st+"]");xe.set(fe,Ne);var $t=o();$t.set(re,xe),Y(Le,Ce(Ct,nn,De,Be,qe,Oe,mt,Me,"comma"===De&&pe&&X(Ae)?null:Xe,Ke,Qe,ut,ze,Ze,ge,pe,Se,$t))}}return Le};yt.exports=function(Ce,fe){var Be,ve=Ce,De=function(fe){if(!fe)return ae;if(typeof fe.allowEmptyArrays<"u"&&"boolean"!=typeof fe.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof fe.encodeDotInKeys<"u"&&"boolean"!=typeof fe.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==fe.encoder&&typeof fe.encoder<"u"&&"function"!=typeof fe.encoder)throw new TypeError("Encoder has to be a function.");var ve=fe.charset||ae.charset;if(typeof fe.charset<"u"&&"utf-8"!==fe.charset&&"iso-8859-1"!==fe.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var De=K.default;if(typeof fe.format<"u"){if(!z.call(K.formatters,fe.format))throw new TypeError("Unknown format option provided.");De=fe.format}var Oe,Be=K.formatters[De],qe=ae.filter;if(("function"==typeof fe.filter||X(fe.filter))&&(qe=fe.filter),Oe=fe.arrayFormat in J?fe.arrayFormat:"indices"in fe?fe.indices?"indices":"repeat":ae.arrayFormat,"commaRoundTrip"in fe&&"boolean"!=typeof fe.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof fe.addQueryPrefix?fe.addQueryPrefix:ae.addQueryPrefix,allowDots:typeof fe.allowDots>"u"?!0===fe.encodeDotInKeys||ae.allowDots:!!fe.allowDots,allowEmptyArrays:"boolean"==typeof fe.allowEmptyArrays?!!fe.allowEmptyArrays:ae.allowEmptyArrays,arrayFormat:Oe,charset:ve,charsetSentinel:"boolean"==typeof fe.charsetSentinel?fe.charsetSentinel:ae.charsetSentinel,commaRoundTrip:fe.commaRoundTrip,delimiter:typeof fe.delimiter>"u"?ae.delimiter:fe.delimiter,encode:"boolean"==typeof fe.encode?fe.encode:ae.encode,encodeDotInKeys:"boolean"==typeof fe.encodeDotInKeys?fe.encodeDotInKeys:ae.encodeDotInKeys,encoder:"function"==typeof fe.encoder?fe.encoder:ae.encoder,encodeValuesOnly:"boolean"==typeof fe.encodeValuesOnly?fe.encodeValuesOnly:ae.encodeValuesOnly,filter:qe,format:De,formatter:Be,serializeDate:"function"==typeof fe.serializeDate?fe.serializeDate:ae.serializeDate,skipNulls:"boolean"==typeof fe.skipNulls?fe.skipNulls:ae.skipNulls,sort:"function"==typeof fe.sort?fe.sort:null,strictNullHandling:"boolean"==typeof fe.strictNullHandling?fe.strictNullHandling:ae.strictNullHandling}}(fe);"function"==typeof De.filter?ve=(0,De.filter)("",ve):X(De.filter)&&(Be=De.filter);var Oe=[];if("object"!=typeof ve||null===ve)return"";var mt=J[De.arrayFormat],Me="comma"===mt&&De.commaRoundTrip;Be||(Be=Object.keys(ve)),De.sort&&Be.sort(De.sort);for(var Xe=o(),Ke=0;Ke<Be.length;++Ke){var Qe=Be[Ke];De.skipNulls&&null===ve[Qe]||Y(Oe,le(ve[Qe],Qe,mt,Me,De.allowEmptyArrays,De.strictNullHandling,De.skipNulls,De.encodeDotInKeys,De.encode?De.encoder:null,De.filter,De.sort,De.allowDots,De.serializeDate,De.format,De.formatter,De.encodeValuesOnly,De.charset,Xe))}var ut=Oe.join(De.delimiter),ze=!0===De.addQueryPrefix?"?":"";return De.charsetSentinel&&(ze+="iso-8859-1"===De.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),ut.length>0?ze+ut:""}},4393:(yt,U,R)=>{"use strict";var o=R(9165),y=Object.prototype.hasOwnProperty,K=Array.isArray,z=function(){for(var fe=[],ve=0;ve<256;++ve)fe.push("%"+((ve<16?"0":"")+ve.toString(16)).toUpperCase());return fe}(),X=function(ve,De){for(var Be=De&&De.plainObjects?Object.create(null):{},qe=0;qe<ve.length;++qe)typeof ve[qe]<"u"&&(Be[qe]=ve[qe]);return Be};yt.exports={arrayToObject:X,assign:function(ve,De){return Object.keys(De).reduce(function(Be,qe){return Be[qe]=De[qe],Be},ve)},combine:function(ve,De){return[].concat(ve,De)},compact:function(ve){for(var De=[{obj:{o:ve},prop:"o"}],Be=[],qe=0;qe<De.length;++qe)for(var Oe=De[qe],mt=Oe.obj[Oe.prop],Me=Object.keys(mt),Xe=0;Xe<Me.length;++Xe){var Ke=Me[Xe],Qe=mt[Ke];"object"==typeof Qe&&null!==Qe&&-1===Be.indexOf(Qe)&&(De.push({obj:mt,prop:Ke}),Be.push(Qe))}return function(ve){for(;ve.length>1;){var De=ve.pop(),Be=De.obj[De.prop];if(K(Be)){for(var qe=[],Oe=0;Oe<Be.length;++Oe)typeof Be[Oe]<"u"&&qe.push(Be[Oe]);De.obj[De.prop]=qe}}}(De),ve},decode:function(fe,ve,De){var Be=fe.replace(/\+/g," ");if("iso-8859-1"===De)return Be.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Be)}catch(qe){return Be}},encode:function(ve,De,Be,qe,Oe){if(0===ve.length)return ve;var mt=ve;if("symbol"==typeof ve?mt=Symbol.prototype.toString.call(ve):"string"!=typeof ve&&(mt=String(ve)),"iso-8859-1"===Be)return escape(mt).replace(/%u[0-9a-f]{4}/gi,function(Ze){return"%26%23"+parseInt(Ze.slice(2),16)+"%3B"});for(var Me="",Xe=0;Xe<mt.length;Xe+=1024){for(var Ke=mt.length>=1024?mt.slice(Xe,Xe+1024):mt,Qe=[],ut=0;ut<Ke.length;++ut){var ze=Ke.charCodeAt(ut);45===ze||46===ze||95===ze||126===ze||ze>=48&&ze<=57||ze>=65&&ze<=90||ze>=97&&ze<=122||Oe===o.RFC1738&&(40===ze||41===ze)?Qe[Qe.length]=Ke.charAt(ut):ze<128?Qe[Qe.length]=z[ze]:ze<2048?Qe[Qe.length]=z[192|ze>>6]+z[128|63&ze]:ze<55296||ze>=57344?Qe[Qe.length]=z[224|ze>>12]+z[128|ze>>6&63]+z[128|63&ze]:(ze=65536+((1023&ze)<<10|1023&Ke.charCodeAt(ut+=1)),Qe[Qe.length]=z[240|ze>>18]+z[128|ze>>12&63]+z[128|ze>>6&63]+z[128|63&ze])}Me+=Qe.join("")}return Me},isBuffer:function(ve){return!(!ve||"object"!=typeof ve||!(ve.constructor&&ve.constructor.isBuffer&&ve.constructor.isBuffer(ve)))},isRegExp:function(ve){return"[object RegExp]"===Object.prototype.toString.call(ve)},maybeMap:function(ve,De){if(K(ve)){for(var Be=[],qe=0;qe<ve.length;qe+=1)Be.push(De(ve[qe]));return Be}return De(ve)},merge:function fe(ve,De,Be){if(!De)return ve;if("object"!=typeof De){if(K(ve))ve.push(De);else{if(!ve||"object"!=typeof ve)return[ve,De];(Be&&(Be.plainObjects||Be.allowPrototypes)||!y.call(Object.prototype,De))&&(ve[De]=!0)}return ve}if(!ve||"object"!=typeof ve)return[ve].concat(De);var qe=ve;return K(ve)&&!K(De)&&(qe=X(ve,Be)),K(ve)&&K(De)?(De.forEach(function(Oe,mt){if(y.call(ve,mt)){var Me=ve[mt];Me&&"object"==typeof Me&&Oe&&"object"==typeof Oe?ve[mt]=fe(Me,Oe,Be):ve.push(Oe)}else ve[mt]=Oe}),ve):Object.keys(De).reduce(function(Oe,mt){var Me=De[mt];return Oe[mt]=y.call(Oe,mt)?fe(Oe[mt],Me,Be):Me,Oe},qe)}}},5990:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CartesianMeasureValue=void 0;const o=R(1788),y=R(4442);class K{constructor(J){if(null==J||!J.cartesianValues||null==J||!J.cartesianPixelWidth)throw new Error("CartesianMeasureValue needs cartesianValues && cartesianPixelWidth");this.setCartesianValuesAsAny(J.cartesianValues),this.setCartesianPixelWidth(J.cartesianPixelWidth)}static From(J){const X=new K({cartesianValues:[],cartesianPixelWidth:{lat:0,lng:0}});return typeof J.cartesianValues<"u"&&X.setCartesianValuesAsAny(J.cartesianValues),typeof J.cartesianPixelWidth<"u"&&typeof J.cartesianPixelWidth.lat<"u"&&typeof J.cartesianPixelWidth.lng<"u"&&X.setCartesianPixelWidth(J.cartesianPixelWidth),X}getCartesianValuesStringified(){return JSON.stringify({cartesianValues:this.cartesianValues})}getCartesianValues(){return this.cartesianValues}setCartesianValues(J){this.cartesianValues=J}setCartesianValuesAsString(J){let X=JSON.parse(J);X.cartesianValues&&(X=X.cartesianValues),Array.isArray(X)&&(this.cartesianValues=[],X.forEach(Z=>{this.cartesianValues.push(new o.CartesianValue(Z))}))}toJSON(J=!1){let X=this.cartesianValues;return J&&(X=JSON.stringify(this.cartesianValues)),{cartesianValues:X,cartesianPixelWidth:this.cartesianPixelWidth}}toJSONWithCartesianValuesStringified(){return{cartesianValues:JSON.stringify(this.cartesianValues),cartesianPixelWidth:this.cartesianPixelWidth}}getCartesianValue(J){for(const X of this.cartesianValues)if(X.lat===J.lat&&X.lng===J.lng)return X;return null}getCartesianValueRounded(J){for(const X of this.cartesianValues){const Z=Math.round(J.lat/J.scale.lat)*J.scale.lat,Y=Math.round(J.lng/J.scale.lng)*J.scale.lng,q=Math.round(X.lat/J.scale.lat)*J.scale.lat,ce=Math.round(X.lng/J.scale.lng)*J.scale.lng;if(Z===q&&Y===ce)return X}return null}setCartesianValue(J){this.cartesianValues.push(new o.CartesianValue(J))}getCartesianPixelWidth(){return this.cartesianPixelWidth}setCartesianPixelWidth(J){this.cartesianPixelWidth=new y.LatLng(J)}setCartesianValuesAsAny(J){"string"==typeof J?this.setCartesianValuesAsString(J):this.setCartesianValues(J)}}U.CartesianMeasureValue=K},1788:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CartesianValue=void 0;const o=R(4442);U.CartesianValue=class y extends o.LatLng{constructor(z){super(z),this.value=z.value}toJSON(){const z=super.toJSON();return z.value=this.value,z}}},1101:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0})},4442:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.LatLng=void 0;const o=R(7307);U.LatLng=class y{constructor(z){if(typeof(null==z?void 0:z.lat)>"u"||typeof(null==z?void 0:z.lng)>"u")throw new Error("LatLng needs valid latitude && longitude");this.lat=z.lat,this.lng=z.lng}equals(z){return this.lat===z.lat&&this.lng===z.lng}setPrecision(z=12){const J=Math.pow(10,z);this.lat=Math.round(this.lat*J)/J,this.lng=Math.round(this.lng*J)/J}rounded(z){this.lat=o.QualityTools.RoundLatLng(this.lat,z.lat,!0),this.lng=o.QualityTools.RoundLatLng(this.lng,z.lng,!0)}limitPrecision(z=12){this.lat=o.QualityTools.LimitWithPrecision(this.lat,z),this.lng=o.QualityTools.LimitWithPrecision(this.lng,z)}toJSON(){return{lat:this.lat,lng:this.lng}}}},7349:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RadarCartesianMeasureValue=void 0;const o=R(5990);U.RadarCartesianMeasureValue=class y extends o.CartesianMeasureValue{constructor(z){super(z),this.angle=z.angle,this.axis=z.axis}toJSON(z=!1){const J=super.toJSON(z);return J.angle=this.angle,J.axis=this.axis,J}toJSONWithCartesianValuesStringified(){const z=super.toJSONWithCartesianValuesStringified();return z.angle=this.angle,z.axis=this.axis,z}}},6695:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RainCartesianMeasureValue=void 0;const o=R(5990);U.RainCartesianMeasureValue=class y extends o.CartesianMeasureValue{constructor(z){super(z),this.version=z.version}getVersion(){return this.version}toJSON(z=!1){const J=super.toJSON(z);return J.version=this.getVersion(),J}toJSONWithCartesianValuesStringified(){const z=super.toJSONWithCartesianValuesStringified();return z.version=this.getVersion(),z}}},4749:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.GaugeMeasure=void 0;const o=R(2482),y=R(4376);U.GaugeMeasure=(()=>{class z extends o.Measure{constructor(X){super(X),X.gauge&&this.addLinks([new y.GaugeNode({id:X.gauge,latitude:NaN,longitude:NaN,team:null,name:null})])}toJSON(X){const Z=super.toJSON(X);return Z.gauge=this.getLinkId(y.GaugeNode.TYPE),Z}getLinkType(){return z.TYPE}}return z.TYPE="gauge-measure",z})()},4376:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.GaugeNode=void 0;const o=R(3975);U.GaugeNode=(()=>{class K extends o.RaainNode{constructor(J){super(J),this.latitude=J.latitude,this.longitude=J.longitude,this.name=J.name,this.description=J.description,this.team=J.team,this.setConfiguration(J.configurationAsJSON)}setConfiguration(J){let X=J;try{X=JSON.parse(J)}catch(Z){}X&&(this.configurationAsJSON=JSON.stringify(X))}getConfiguration(){try{return JSON.parse(this.configurationAsJSON)}catch(J){}return null}toJSON(){var J;const X=super.toJSON();return X.name=this.name,X.description=this.description,X.latitude=this.latitude,X.longitude=this.longitude,X.team=(null===(J=this.team)||void 0===J?void 0:J.id)||this.team,X.configurationAsJSON=this.configurationAsJSON,X}getLinkType(){return K.TYPE}}return K.TYPE="gauge",K})()},9834:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.GaugeNodeMap=void 0;const o=R(4376);U.GaugeNodeMap=class y extends o.GaugeNode{constructor(z){super(z),this.setMapData(z.map)}toJSON(){const z=super.toJSON();return z.map=this.map,z}setMapData(z){if(!z)return;let J=z;try{"string"!=typeof z&&(J=JSON.stringify(z))}catch(X){}this.map=J.toString()}getMapData(){return this.map?JSON.parse(this.map):[]}}},4718:function(yt,U,R){"use strict";var o=this&&this.__createBinding||(Object.create?function(K,z,J,X){void 0===X&&(X=J);var Z=Object.getOwnPropertyDescriptor(z,J);(!Z||("get"in Z?!z.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return z[J]}}),Object.defineProperty(K,X,Z)}:function(K,z,J,X){void 0===X&&(X=J),K[X]=z[J]}),y=this&&this.__exportStar||function(K,z){for(var J in K)"default"!==J&&!Object.prototype.hasOwnProperty.call(z,J)&&o(z,K,J)};Object.defineProperty(U,"__esModule",{value:!0}),y(R(2482),U),y(R(6705),U),y(R(8799),U),y(R(3400),U),y(R(3975),U),y(R(2366),U),y(R(4257),U),y(R(6874),U),y(R(2775),U),y(R(9912),U),y(R(7264),U),y(R(8077),U),y(R(7307),U),y(R(3192),U),y(R(4228),U),y(R(4376),U),y(R(4749),U),y(R(9834),U),y(R(3640),U),y(R(7621),U),y(R(156),U),y(R(130),U),y(R(1106),U),y(R(5342),U),y(R(8040),U),y(R(8772),U),y(R(2317),U),y(R(6759),U),y(R(1965),U),y(R(2502),U),y(R(8408),U),y(R(8298),U),y(R(5438),U),y(R(4442),U),y(R(1788),U),y(R(5990),U),y(R(7349),U),y(R(6695),U),y(R(1101),U)},6705:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.EventNode=void 0,U.EventNode=class R{constructor(y){this.id=y.id,this.title=y.title,this.status=y.status,this.red=y.red,this.description=y.description,this.created=y.created,this.modified=y.modified}toJSON(){return{id:this.id,title:this.title,status:this.status,red:this.red,description:this.description,created:this.created,modified:this.modified}}}},3400:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Link=void 0;class R{constructor(y,K){this.rel=y,this.href=K}static isCloneable(y){return y&&y.rel&&y.href}static clone(y){return new R(y.rel,y.href)}getId(){const y=this.href.split("/");return y[y.length-1]}getLinkType(){return this.rel}}U.Link=R},2482:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Measure=void 0;const o=R(3975);U.Measure=class y extends o.RaainNode{constructor(z){super(z),this.values=z.values?z.values:[],this.date=z.date?new Date(z.date):void 0,this.validity=z.validity>=0?z.validity:-1,this.setConfiguration(z.configurationAsJSON)}setConfiguration(z){let J=z;try{J=JSON.parse(z)}catch(X){}J&&(this.configurationAsJSON=JSON.stringify(J))}toJSON(z={}){var J;const X=super.toJSON();return X.date=null===(J=this.date)||void 0===J?void 0:J.toISOString(),X.validity=this.validity,X.configurationAsJSON=this.configurationAsJSON,null!=z&&z.removeValues||(X.values=this.values),X}}},8799:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PeopleNode=void 0,U.PeopleNode=class R{constructor(y){this.id=y.id,this.roles=y.roles,this.email=y.email,this.name=y.name}toJSON(){return{id:this.id,roles:this.roles,email:this.email,name:this.name}}hasRole(y){return this.roles.indexOf(y)>=0}addRole(y){this.hasRole(y)||this.roles.push(y)}}},3975:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RaainNode=void 0;const o=R(3400);class y{constructor(z){if(null==z||!z.id)throw new Error("RaainNode needs a valid Object or ID");this.id=z.id,this.setLinks(z.links?z.links:[]),this.version=z.version?z.version:void 0}static _getPurifiedLinks(z){return z&&0!==z.length?function X(Z,Y){const q={};return Z.filter(ce=>{if(!ce)return!1;const ae=Y(ce);return!q.hasOwnProperty(ae)&&(q[ae]=!0)})}(z.map(Z=>{if(Z instanceof o.Link||o.Link.isCloneable(Z))return o.Link.clone(Z);if(Z&&Z.getLinkType&&Z.id){let Y="../"+Z.getLinkType()+"s";const q=Z;return q.date&&q.date.toISOString&&(Y+="/"+q.date.toISOString(),q.version&&(Y+="/"+q.version)),Y+="/"+Z.id,new o.Link(Z.getLinkType(),Y)}}),JSON.stringify):[]}toJSON(){return{id:this.id,links:this.links,version:this.version}}getId(){return this.id.toString()}setLinks(z){this.links=y._getPurifiedLinks(z)}addLinks(z){this.links||(this.links=[]);const J=this.links.concat(z);this.links=y._getPurifiedLinks(J)}getLinks(z){return this.links?z?this.links.filter(J=>J.getLinkType()===z):this.links:[]}getLink(z,J){J=J||0;const X=this.getLinks(z);return X.length<=J?null:X[J]}getLinkId(z,J){const X=this.getLink(z,J=J||0);return X?X.getId():null}getLinkIds(z,J){return this.getLinks(z).map(Z=>Z.getId())}getLinksCount(z){return this.getLinks(z).length}getVersion(){return this.version}getLinkType(){throw new Error("to implement")}}U.RaainNode=y},2366:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.TeamNode=void 0;const o=R(3975);U.TeamNode=(()=>{class K extends o.RaainNode{constructor(J){super(J),this.id=J.id,this.name=J.name,this.description=J.description,this.contracts=J.contracts,this.contacts=J.contacts}toJSON(){return{id:this.id,name:this.name,description:this.description,contracts:this.contracts,contacts:this.contacts}}getLinkType(){return K.TYPE}}return K.TYPE="team",K})()},5721:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.AbstractPolarMeasureValue=void 0;const o=R(1965);class y{constructor(z){if(null==z||!z.polarMeasureValue)throw new Error("PolarMeasureValue needs polarMeasureValue");let J=z.polarMeasureValue;if("string"==typeof J){if(!(J.indexOf("polarMeasureValue")>0))return void this.setPolarsAsString(J);J=JSON.parse(J)}if(J instanceof y||J instanceof o.PolarMeasureValue)return void this.setPolarsAsContainer(J.getPolars());let X=J;J&&typeof J.polarMeasureValue<"u"&&(X=J.polarMeasureValue);let Z=X;if(X&&X.measureValuePolarContainers&&(Z=X.measureValuePolarContainers),Z instanceof y||Z instanceof o.PolarMeasureValue)this.setPolarsAsContainer(Z.getPolars());else if("string"!=typeof Z){if(!Array.isArray(Z))throw new Error("PolarMeasureValue needs valid typed polarMeasureValue");this.setPolarsAsContainer(Z)}else this.setPolarsAsString(Z)}getPolarsStringified(){return this.polarMeasureValue.getPolarsStringified()}getPolars(){return this.polarMeasureValue.getPolars()}setPolarsAsString(z){this.polarMeasureValue=new o.PolarMeasureValue({measureValuePolarContainers:z})}setPolarsAsContainer(z){this.polarMeasureValue=new o.PolarMeasureValue({measureValuePolarContainers:z})}getPolarValue(z){return this.polarMeasureValue.getPolarValue(z)}setPolarValue(z){return this.polarMeasureValue.setPolarValue(z)}getAzimuthsCount(){return this.polarMeasureValue.getPolars().length}getPolarEdgesCount(){const z=this.polarMeasureValue.getPolars();return z.length>0?z[0].polarEdges.length:0}getDistance(){const z=this.polarMeasureValue.getPolars();return z.length>0?z[0].distance:1}toJSON(z=!1){let J=this.polarMeasureValue;return z&&(J=JSON.stringify(this.polarMeasureValue.toJSONWithPolarStringified())),{polarMeasureValue:J}}toJSONWithPolarStringified(){return{polarMeasureValue:JSON.stringify(this.polarMeasureValue.toJSONWithPolarStringified())}}}U.AbstractPolarMeasureValue=y},2317:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.GaugePolarMeasureValue=void 0;const o=R(5721);U.GaugePolarMeasureValue=class y extends o.AbstractPolarMeasureValue{constructor(z){super(z)}}},5438:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0})},6759:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.MeasureValuePolarContainer=void 0,U.MeasureValuePolarContainer=class R{constructor(y){if(typeof(null==y?void 0:y.azimuth)>"u")throw new Error("MeasureValuePolarContainer needs a valid Object");this.azimuth=y.azimuth,this.distance=y.distance,this.polarEdges=y.polarEdges}toJSON(){return{azimuth:this.azimuth,distance:this.distance,polarEdges:this.polarEdges}}}},1965:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PolarMeasureValue=void 0;const o=R(6759),y=R(2502),K=R(5721);class z{constructor(X){"string"!=typeof X.measureValuePolarContainers?this.setPolarsAsContainer(X.measureValuePolarContainers instanceof K.AbstractPolarMeasureValue||X.measureValuePolarContainers instanceof z?X.measureValuePolarContainers.getPolars():X.measureValuePolarContainers):this.setPolarsAsString(X.measureValuePolarContainers)}getPolarsStringified(){return JSON.stringify(this.getPolars())}getPolars(){return this.measureValuePolarContainers}setPolarsAsString(X){try{let Z=JSON.parse(X);Z&&Z.measureValuePolarContainers&&(Z=Z.measureValuePolarContainers),"string"==typeof Z&&(Z=JSON.parse(Z)),this.measureValuePolarContainers=Z.map(Y=>new o.MeasureValuePolarContainer(Y))}catch(Z){this.measureValuePolarContainers=[]}}setPolarsAsContainer(X){let Z=X||[];"length"in Z||(Z=[]),this.measureValuePolarContainers=Z}getPolarValue(X){let Z=X.azimuthIndex;X.strict||(Z=this.updateIndex(this.measureValuePolarContainers,X.azimuthIndex));const Y=this.measureValuePolarContainers[Z];if(!Y)return null;let q=X.edgeIndex;X.strict||(q=this.updateIndex(Y.polarEdges,X.edgeIndex));const ce=Y.polarEdges[q];return typeof ce>"u"?null:new y.PolarValue({value:ce,polarAzimuthInDegrees:Y.azimuth,polarDistanceInMeters:Y.distance*q})}setPolarValue(X){const Z=this.updateIndex(this.measureValuePolarContainers,X.azimuthIndex),Y=this.measureValuePolarContainers[Z];if(!Y)return null;const q=this.updateIndex(Y.polarEdges,X.edgeIndex);Y.polarEdges[q]=X.value}toJSON(){return{measureValuePolarContainers:this.measureValuePolarContainers}}toJSONWithPolarStringified(){return{measureValuePolarContainers:this.getPolarsStringified()}}updateIndex(X,Z){return X.length<=Z?Z-=X.length:Z<0&&(Z=X.length+Z),Z}}U.PolarMeasureValue=z},2502:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PolarValue=void 0,U.PolarValue=class R{constructor(y){this.value=y.value,this.polarAzimuthInDegrees=y.polarAzimuthInDegrees,this.polarDistanceInMeters=y.polarDistanceInMeters}}},8408:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RadarPolarMeasureValue=void 0;const o=R(5721);class y extends o.AbstractPolarMeasureValue{constructor(z){if(super(z),z.polarMeasureValue instanceof y)return this.angle=z.polarMeasureValue.angle,void(this.axis=z.polarMeasureValue.axis);if("string"==typeof z.polarMeasureValue){const J=JSON.parse(z.polarMeasureValue);return this.angle=typeof z.angle<"u"?z.angle:J.angle,void(this.axis=typeof z.axis<"u"?z.axis:J.axis)}this.angle=z.angle,this.axis=z.axis}static BuildFakeRadarPolarMeasureValues(z=0){const J=[],X=(Z,Y)=>{Math.sin(Z*(Math.PI/180));let ae=0;const se=Math.abs(Z-z),re=Math.abs(Y-100);return se<20&&re<20&&(ae=56-se*Math.random()*2),ae};for(let Z=0;Z<=90;Z+=90)for(let Y=.4;Y<3;Y++){const q={polarMeasureValue:null,axis:Z,angle:Y},ce=[];for(let se=0;se<360;se+=.5){const re=[];for(let ke=0;ke<250;ke++){const Ce=Math.round(Y*X(se,ke));re.push(Ce)}ce.push({azimuth:se,distance:1e3,polarEdges:re})}q.polarMeasureValue=ce;const ae=new y(q);J.push(ae)}return J}toJSON(z=!1){const J=super.toJSON(z);return J.angle=this.angle,J.axis=this.axis,J}toJSONWithPolarStringified(){const z=super.toJSONWithPolarStringified();return z.angle=this.angle,z.axis=this.axis,z}}U.RadarPolarMeasureValue=y},8298:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RainPolarMeasureValue=void 0;const o=R(5721),y=R(1965);class K extends o.AbstractPolarMeasureValue{constructor(J){super(J),this.version=J.polarMeasureValue instanceof K?J.polarMeasureValue.version:J.version}static From(J){let X,Z;return"string"==typeof J.version&&(X=J.version),typeof J.polarMeasureValue<"u"&&(Z=J.polarMeasureValue),typeof J.measureValuePolarContainers<"u"&&(Z=new y.PolarMeasureValue({measureValuePolarContainers:J.measureValuePolarContainers})),new K({polarMeasureValue:Z,version:X})}toJSON(J=!1){const X=super.toJSON(J);return X.version=this.version,X}toJSONWithPolarStringified(){const J=super.toJSONWithPolarStringified();return J.version=this.version,J}getVersion(){return this.version}}U.RainPolarMeasureValue=K},4257:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.QualityPoint=void 0;const o=R(1788);class y{constructor(z){this.gaugeId=z.gaugeId,this.gaugeLabel=z.gaugeLabel,this.gaugeDate=new Date(z.gaugeDate),this.rainDate=new Date(z.rainDate),this.gaugeCartesianValue=z.gaugeCartesianValue,this.rainCartesianValues=z.rainCartesianValues,this.speed=z.speed,this.remark=z.remark}static CreateFromJSON(z){var J,X;return new y({gaugeId:z.gaugeId,gaugeLabel:z.gaugeLabel,gaugeDate:new Date(z.gaugeDate),rainDate:new Date(z.rainDate),gaugeCartesianValue:new o.CartesianValue(z.gaugeCartesianValue),rainCartesianValues:z.rainCartesianValues.map(Z=>new o.CartesianValue(Z)),speed:{x:null===(J=z.speed)||void 0===J?void 0:J.x,y:null===(X=z.speed)||void 0===X?void 0:X.y},remark:z.remark})}getGaugeValue(){var z;return null===(z=this.gaugeCartesianValue)||void 0===z?void 0:z.value}getRainValue(){const z=this.rainCartesianValues.reduce((J,X)=>J+X.value,0);return this.rainCartesianValues.length?z/this.rainCartesianValues.length:0}getRainLat(){var z;return null===(z=this.getMiddleValue())||void 0===z?void 0:z.lat}getRainLng(){var z;return null===(z=this.getMiddleValue())||void 0===z?void 0:z.lng}getDelta(){return Math.abs(this.getRainValue()-this.getGaugeValue())}getRatio(){let z=0;return 0===this.getRainValue()||(z=this.getGaugeValue()>this.getRainValue()?this.getRainValue()/this.getGaugeValue():this.getGaugeValue()/this.getRainValue()),z}getTimeDeltaInMinutes(){const z=this.rainDate.getTime()-this.gaugeDate.getTime();return Math.round(z/6e4)}accumulateValues(z){this.gaugeCartesianValue.value+=z.getGaugeValue(),0===this.rainCartesianValues.length?this.rainCartesianValues=z.rainCartesianValues.map(J=>J):this.rainCartesianValues.forEach(J=>J.value+=z.getRainValue())}getMiddleValue(){if(!this.rainCartesianValues||0===this.rainCartesianValues.length)return null;const z=this.rainCartesianValues.sort((X,Z)=>(X.lat-Z.lat)*(X.lng-Z.lng));return z[Math.floor(z.length/2)]}}U.QualityPoint=y},6874:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.SpeedMatrix=void 0;const o=R(8077),y=R(4228),K=R(7307),z=R(3192),J=R(4257),X=R(1788),Z=R(4442);U.SpeedMatrix=(()=>{class q{constructor(ae,se,re,le={angleInDegrees:0,pixelsPerPeriod:0},ke=q.DEFAULT_TRUSTED_INDICATOR,Ce={xMin:-q.DEFAULT_MATRIX_RANGE,xMax:q.DEFAULT_MATRIX_RANGE,yMin:-q.DEFAULT_MATRIX_RANGE,yMax:q.DEFAULT_MATRIX_RANGE},fe=new z.Position({x:K.QualityTools.DEFAULT_SCALE,y:K.QualityTools.DEFAULT_SCALE})){this.name=ae,this.remarks=se,this.qualityPoints=re,this.speed=le,this.trustedTechnicalIndicator=ke,this.flattenPositionRange=Ce,this.roundScale=fe}static CreateFromJson(ae){const se=new q(ae.name,ae.remarks,ae.qualityPoints,ae.speed,ae.trustedTechnicalIndicator,ae.flattenPositionRange,ae.roundScale);return ae.flattenPositionHistory&&(se.flattenPositionHistory=ae.flattenPositionHistory),se}static ComputeQualityIndicator(ae){let se=0;for(const re of ae)se+=re.getDelta();return ae.length>0&&(se/=ae.length),se}static LogPositionValues(ae,se,re={xMin:-q.DEFAULT_MATRIX_RANGE,xMax:q.DEFAULT_MATRIX_RANGE,yMin:-q.DEFAULT_MATRIX_RANGE,yMax:q.DEFAULT_MATRIX_RANGE},le=console){const ke=De=>De<0?""+De:0===De?" 0":"+"+De,Ce=De=>"x"+ke(De-re.xMax),fe=De=>"y"+ke(De-re.yMax),ve={};for(let De=re.yMax-re.yMin;De>=0;De--){const Be={};for(let qe=0;qe<=re.xMax-re.xMin;qe++)Be[Ce(qe)]=se(new o.PositionHistory({id:"id",label:"label",date:new Date,x:qe,y:De,value:0,valueFromGauge:0,valueFromRain:0}));ve[fe(De)]=Be}for(let De=re.xMin;De<=re.xMax;De++)for(let Be=re.yMin;Be<=re.yMax;Be++){const qe=ae.filter(Me=>Me.x===De&&Me.y===Be)[0],mt=De-re.xMin;ve[fe(Be-re.yMin)][Ce(mt)]=se(qe)}le.table(ve)}static Normalize(ae){const se=[];let re=Number.EPSILON;for(const le of ae)re=Math.max(re,le.value);for(const le of ae)se.push(new y.PositionValue({x:le.x,y:le.y,value:le.value/re}));return se}renderFlatten(ae){const se=this.getFlatten();if(0===se.length)return[];const re=[];let le=0;for(const[ke,Ce]of se.entries())for(const[fe,ve]of Ce.entries()){const De=ke+this.flattenPositionRange.xMin,Be=fe+this.flattenPositionRange.yMin;le=Math.max(le,ve),re.push(new y.PositionValue({x:De,y:Be,value:ve}))}return le&&ae.normalize&&re.forEach(ke=>{ke.value=ke.value/le}),re}getGaugeIdRelatedValues(ae){const se=this.qualityPoints.filter(re=>re.gaugeId===ae);return 1===se.length?se[0]:null}getQualityPoints(){return this.qualityPoints.map(ae=>new J.QualityPoint(ae))}getMaxRain(){const ae=this.getQualityPoints();let se=-1;for(const re of ae)se=Math.max(se,re.getRainValue());return se}getMaxGauge(){const ae=this.getQualityPoints();let se=-1;for(const re of ae)se=Math.max(se,re.getGaugeValue());return se}getTrustedTechnicalIndicator(){return this.trustedTechnicalIndicator}isConsistent(){return this.trustedTechnicalIndicator>q.DEFAULT_TRUSTED_INDICATOR/2}toJSON(){return{name:this.name,remarks:this.remarks,flattenPositionHistory:this.flattenPositionHistory,flattenPositionRange:this.flattenPositionRange,speed:this.speed,qualityPoints:this.qualityPoints,trustedTechnicalIndicator:this.trustedTechnicalIndicator,roundScale:this.roundScale}}logFlatten(ae={overridingLogger:null,simplify:!1}){let se=ae.overridingLogger;se||(se=console);const le=this.renderFlatten({normalize:!1}).map(Ce=>new o.PositionHistory({id:"-",label:"-",date:null,x:Ce.x,y:Ce.y,value:Ce.value,valueFromGauge:-1,valueFromRain:-1}));q.LogPositionValues(le,Ce=>{const fe=Ce.value;return ae.simplify?1===fe?"##":fe>=.8?"#":fe>=.5?"=":fe>=.2?"_":" ":""+Math.round(1e3*fe)/1e3},this.flattenPositionRange,se)}getSpeed(){return this.speed?this.speed:{angleInDegrees:0,pixelsPerPeriod:0}}getFlatten(){if(this.flattenPositionHistory)return this.flattenPositionHistory;this.flattenPositionHistory=[];const ae=this.flattenPositionRange.yMax-this.flattenPositionRange.yMin+1,se=this.flattenPositionRange.xMax-this.flattenPositionRange.xMin+1;for(let re=0;re<ae;re++)this.flattenPositionHistory.push(new Array(se).fill(0));for(const re of this.qualityPoints){const le=re.getRatio(),ke=re.getRainLat()-re.gaugeCartesianValue.lat,Ce=re.getRainLng()-re.gaugeCartesianValue.lng,fe=new X.CartesianValue({value:le,lat:ke,lng:Ce}),ve=K.QualityTools.MapLatLngToPosition(fe,!1,new Z.LatLng({lat:K.QualityTools.DEFAULT_SCALE,lng:K.QualityTools.DEFAULT_SCALE})),De=Math.round(ve.x/this.roundScale.x-this.flattenPositionRange.xMin),Be=Math.round(ve.y/this.roundScale.y-this.flattenPositionRange.yMin);if(!(0<=De&&De<se&&0<=Be&&Be<ae))throw new Error("Matrix ranges and positions are not consistent.");this.flattenPositionHistory[De][Be]+=fe.value}return this.flattenPositionHistory}}return q.DEFAULT_MATRIX_RANGE=16,q.DEFAULT_TRUSTED_INDICATOR=1,q})()},2775:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.SpeedMatrixContainer=void 0;const o=R(6874),y=R(4228),K=R(8077),z=R(4257),J=R(1788);class X{constructor(Y){this.qualityPoints={},this.trustedIndicators=[],this.flattenMatrices=[],this.matrices=Y.matrices}static CreateFromJson(Y){const q=new X({matrices:[]});return null!=Y&&Y.qualityPoints&&(q.qualityPoints=Y.qualityPoints),null!=Y&&Y.matrices&&(q.matrices=Y.matrices.map(ce=>o.SpeedMatrix.CreateFromJson(ce))),null!=Y&&Y.trustedIndicators&&(q.trustedIndicators=Y.trustedIndicators),null!=Y&&Y.flattenMatrices&&(q.flattenMatrices=Y.flattenMatrices),q}static BuildCompares(Y,q=!0){var ce;const ae=Y.sort((qe,Oe)=>qe.date.getTime()-Oe.date.getTime()),se=[],re={name:"cumulative_"+Y.reduce((qe,Oe)=>qe+"_"+Oe.date.toISOString(),""),date:null===(ce=Y[0])||void 0===ce?void 0:ce.date,qualityPointsLegacy:[],qualityPoints:[],maxValue:0,remarks:""},le={};let ke=new Date,Ce=new Date;ae.length>0&&(ke=ae[0].date,Ce=ae[ae.length-1].date);for(const qe of ae){const Oe=X.BuildCompareTimeline(qe,ke,Ce);se.push({date:qe.date,rainComputationQuality:qe,compareTimeline:Oe});const mt=Oe.reduce((Me,Xe)=>Me.concat(Xe.qualityPoints),[]);for(const Me of mt){const Xe=Me.gaugeDate.toISOString()+"_"+Me.gaugeId;le[Xe]||(le[Xe]=Me.getDelta()),le[Xe]=Math.min(le[Xe],Me.getDelta())}}const fe={};se.forEach(qe=>{qe.compareTimeline.forEach(Oe=>{for(let mt=Oe.qualityPoints.length-1;mt>=0;mt--){const Me=Oe.qualityPoints[mt],Xe=Me.gaugeDate.toISOString()+"_"+Me.gaugeId;!fe[Xe]&&le[Xe]&&le[Xe]===Me.getDelta()?fe[Xe]=Me:q&&Oe.qualityPoints.splice(mt,1)}})});const ve={};for(const qe of Object.values(fe)){const Oe=qe;ve[Oe.gaugeId]?ve[Oe.gaugeId].accumulateValues(Oe):ve[Oe.gaugeId]=z.QualityPoint.CreateFromJSON(Oe)}re.qualityPoints=Object.values(ve),re.qualityPointsLegacy=Object.values(ve);const De=Math.max(...re.qualityPoints.map(qe=>qe.getRainValue())),Be=Math.max(...re.qualityPoints.map(qe=>qe.getGaugeValue()));return re.maxValue=Math.max(De,Be),{comparesPerDate:se,compareCumulative:re}}static BuildCompareTimeline(Y,q,ce){var ae;const se=[],re=Y.qualitySpeedMatrixContainer;if(!re)return se;const le=re.getMatrices().map(ke=>ke.name).sort((ke,Ce)=>parseInt(ke,10)-parseInt(Ce,10));for(const[ke,Ce]of le.entries()){const fe=re.getQualityPoints(Ce),ve=Math.max(re.getMaxGauge(),re.getMaxRain()),De=null===(ae=re.getMatrix(ke))||void 0===ae?void 0:ae.remarks,Be=parseInt(Ce,10),qe=new Date(Y.date.getTime()-60*Be*1e3);if(q.getTime()<=qe.getTime()&&qe.getTime()<=ce.getTime()){let Oe=qe.toLocaleString();Oe+=Be>0?" since ":" in ",Oe+=Math.abs(Be)+" minutes";const mt=fe.filter(Xe=>Xe);se.push({name:Oe,date:qe,qualityPointsLegacy:fe,qualityPoints:mt,maxValue:ve,remarks:De})}}return se}static mergeStillComputed(Y,q){if(Y||q)return Y?q?null:Y:q}static mergeDateMin(Y,q){const ce=this.mergeStillComputed(Y,q);return null===ce?new Date(Math.min(new Date(Y).getTime(),new Date(q).getTime())):void 0!==ce?new Date(ce):ce}static mergeDateMax(Y,q){const ce=this.mergeStillComputed(Y,q);return null===ce?new Date(Math.max(new Date(Y).getTime(),new Date(q).getTime())):void 0!==ce?new Date(ce):ce}static mergeAvg(Y,q){if(0===Y&&0===q)return 0;const ce=this.mergeStillComputed(Y,q);return null===ce?(Y+q)/2:ce}static mergeMin(Y,q){const ce=this.mergeStillComputed(Y,q);return null===ce?Math.min(Y,q):ce}static mergeConcat(Y,q){const ce=this.mergeStillComputed(Y,q);return null===ce?Y.concat(q):ce}static mergeReduce(Y,q){const ce=this.mergeStillComputed(Y,q);if(null===ce){const ae=new Map,se=Y.concat(q);for(const re of se){const le={gaugeValue:0,rainValue:0};ae.set(re.gaugeId,{gaugeLabel:re.gaugeLabel,gaugeValue:re.getGaugeValue()+le.gaugeValue,gaugeLat:re.gaugeCartesianValue.lat,gaugeLng:re.gaugeCartesianValue.lng,rainValue:re.getRainValue()+le.rainValue,rainLat:re.getRainLat(),rainLng:re.getRainLng(),gaugeDate:re.gaugeDate,rainDate:re.rainDate,rainCartesianValues:re.rainCartesianValues,remark:re.remark})}return[...ae].map(([re,le])=>new z.QualityPoint({gaugeId:re,gaugeLabel:le.gaugeLabel,gaugeDate:le.gaugeDate,rainDate:le.rainDate,gaugeCartesianValue:new J.CartesianValue({value:le.gaugeValue,lat:le.gaugeLat,lng:le.gaugeLng}),rainCartesianValues:le.rainCartesianValues,speed:null,remark:le.remark}))}return ce}getMatrix(Y=0){return this.matrices.length<=Y?null:this.matrices[Y]}getMatrixByName(Y){const q=this.matrices.filter(ce=>ce.name===Y);return 1===q.length?q[0]:null}getMatrices(){return this.matrices}getQualityPoints(Y){var q;if(0===this.matrices.length)return[];this.storeFlattenMatrices();let ce=[Y];if(Y){if((null===(q=this.qualityPoints[Y])||void 0===q?void 0:q.length)>0&&this.flattenMatrices.length>0)return this.qualityPoints[Y]}else ce=this.matrices.map(se=>se.name);let ae=[];for(const se of ce){const re=this.matrices.filter(le=>le.name===se);if(1===re.length){const le=re[0].getQualityPoints().map(ke=>new z.QualityPoint(ke));ae=ae.concat(le),this.qualityPoints[se]=le}}return ae}getQualityPointsByHistoricalPosition(Y=0){if(this.matrices.length<=1)return[];const q=this.matrices.sort((ce,ae)=>parseInt(ce.name,10)-parseInt(ae.name,10)).filter((ce,ae)=>ae===Y);return 1===q.length?this.getQualityPoints(q[0].name):[]}getMaxGauge(Y){const q=this.getQualityPoints(Y);let ce=-1;for(const ae of q)ce=Math.max(ce,ae.getGaugeValue());return ce}getMaxRain(Y){const q=this.getQualityPoints(Y);let ce=-1;for(const ae of q)ce=Math.max(ce,ae.getRainValue());return ce}getQuality(Y){const q=this.getQualityPoints(Y);return o.SpeedMatrix.ComputeQualityIndicator(q)}getTrustedIndicators(){if(this.trustedIndicators.length>0)return this.trustedIndicators;this.trustedIndicators=[];for(const Y of this.matrices)this.trustedIndicators.push(Y.getTrustedTechnicalIndicator());return this.trustedIndicators}getSpeed(){let Y;for(const q of this.matrices)Y=Y?{angleInDegrees:X.mergeAvg(Y.angleInDegrees,q.getSpeed().angleInDegrees),pixelsPerPeriod:X.mergeAvg(Y.pixelsPerPeriod,q.getSpeed().pixelsPerPeriod)}:q.getSpeed();return Y||(Y={angleInDegrees:0,pixelsPerPeriod:0}),Y}isConsistent(){const Y=this.getTrustedIndicators();let q=0;for(const ce of Y)q+=ce;return q/=Y.length?Y.length:1,q>o.SpeedMatrix.DEFAULT_TRUSTED_INDICATOR/2}getFlattenMatrixCount(){return this.flattenMatrices.length}renderFlattenMatrix(Y=0,q={normalize:!0}){let ce;return this.flattenMatrices&&this.flattenMatrices[Y]||this.getQualityPoints(),ce=this.flattenMatrices[Y],q.normalize&&(ce=o.SpeedMatrix.Normalize(ce)),ce}renderMergedMatrix(Y={normalize:!0}){var q;const ce=this.flattenMatrices.length,se=(Math.sqrt(null===(q=this.flattenMatrices[0])||void 0===q?void 0:q.length)-1)/2;let re=0,le=[];for(let ke=-se;ke<=se;ke++)for(let Ce=-se;Ce<=se;Ce++){let fe=0;for(const ve of this.flattenMatrices)fe+=ve.filter(Be=>Be.x===ke&&Be.y===Ce)[0].value,re=Math.max(re,fe);fe/=ce,le.push(new y.PositionValue({x:ke,y:Ce,value:fe}))}return Y.normalize&&(le=o.SpeedMatrix.Normalize(le)),le}toJSON(Y){const q={qualityPoints:this.getQualityPoints(),trustedIndicators:this.getTrustedIndicators(),flattenMatrices:this.flattenMatrices,speed:this.getSpeed(),matrices:this.matrices.filter(ce=>!!ce).map(ce=>ce.toJSON())};return null!=Y&&Y.removeMatrices&&delete q.matrices,null!=Y&&Y.removeFlatten&&delete q.flattenMatrices,null!=Y&&Y.removeIndicators&&delete q.trustedIndicators,q}merge(Y){return this.trustedIndicators=X.mergeConcat(this.getTrustedIndicators(),Y.getTrustedIndicators()),this.matrices=X.mergeConcat(this.matrices,Y.matrices),this.flattenMatrices=X.mergeConcat(this.flattenMatrices,Y.flattenMatrices),this}logMergedMatrix(Y={normalize:!0}){const ce=this.renderMergedMatrix(Y).map(se=>new K.PositionHistory({id:"-",label:"-",date:null,x:se.x,y:se.y,value:se.value,valueFromGauge:-1,valueFromRain:-1}));o.SpeedMatrix.LogPositionValues(ce,se=>se?""+Math.round(1e3*se.value)/1e3:"")}storeFlattenMatrices(){if(this.flattenMatrices.length===this.matrices.length)return this.flattenMatrices;const Y=[];for(const q of this.matrices)q.isConsistent()&&Y.push(q.renderFlatten({normalize:!0}));this.flattenMatrices=Y}}U.SpeedMatrixContainer=X},9912:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CartesianGaugeHistory=void 0,U.CartesianGaugeHistory=class R{constructor(y){this.gaugeId=y.gaugeId,this.gaugeLabel=y.gaugeLabel,this.date=y.date,this.value=y.value,this.configurationAsJSON=y.configurationAsJSON}}},7264:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CartesianRainHistory=void 0,U.CartesianRainHistory=class R{constructor(y){this.date=y.date,this.computedValue=y.computedValue}}},8077:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PositionHistory=void 0;const o=R(4228);U.PositionHistory=class y extends o.PositionValue{constructor(z){super(z),this.id=z.id,this.label=z.label,this.date=z.date,this.valueFromGauge=z.valueFromGauge,this.valueFromRain=z.valueFromRain,this.configurationAsJSON=z.configurationAsJSON}}},3192:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Position=void 0,U.Position=(()=>{class o{constructor(K){this.x=K.x,this.y=K.y,this.precision=o.DEFAULT_PRECISION}setPrecision(K=o.DEFAULT_PRECISION){Math.pow(10,K);const J=this.getXY(K);this.x=J.x,this.y=J.y}getXY(K){if(typeof K>"u")return{x:this.x,y:this.y};const z=Math.pow(10,K);return{x:Math.round(this.x*z)/z,y:Math.round(this.y*z)/z}}samePosition(K,z){const J=this.getXY(z);return J.x===K.x&&J.y===K.y}getPrecision(){return this.precision}getXYScaled(K){const z=Math.round(Math.log10(1/K));return this.getXY(z)}}return o.DEFAULT_PRECISION=6,o.uniq=y=>{const K=[];for(const z of y)K.filter(X=>X.x===z.x&&X.y===z.y).length<=0&&K.push(z);return K},o})()},4228:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PositionValue=void 0;const o=R(3192);U.PositionValue=class y extends o.Position{constructor(z){super(z),this.value=z.value}}},7307:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.QualityTools=void 0;const o=R(4442),y=R(3192);U.QualityTools=(()=>{class z{static IndexOfDualArray(X,Z){for(const[Y,q]of X.entries())if(q[0]===Z[0]&&q[1]===Z[1])return Y;return-1}static Precision(X){if(!isFinite(X))return 0;let Z=1,Y=0;for(;Math.round(X*Z)/Z!==X;)Z*=10,Y++;return Y}static RoundLatLng(X,Z=z.DEFAULT_SCALE,Y=!1){const q=Math.round(X/Z)*Z;return Y?parseFloat(parseFloat(""+q).toPrecision(12)):q}static LimitWithPrecision(X,Z=12){return parseFloat(parseFloat(""+X).toPrecision(Z))}static IsEqualsLatLng(X,Z,Y=z.DEFAULT_SCALE){return z.RoundLatLng(X,Y,!0)===z.RoundLatLng(Z,Y,!0)}static IsAroundLatLng(X,Z,Y,q=z.DEFAULT_SCALE){let ce=!1;const ae=-Y*q,se=Y*q;for(let re=ae;!ce&&re<=se;re+=q)for(let le=ae;!ce&&le<=se;le+=q)ce=z.RoundLatLng(X.lat,q,!0)===z.RoundLatLng(Z.lat+re,q,!0),ce&&(ce=z.RoundLatLng(X.lng,q,!0)===z.RoundLatLng(Z.lng+le,q,!0));return ce}static IsNotAroundLatLng(X,Z,Y,q=z.DEFAULT_SCALE){const ce=Y*q+Number.EPSILON;let ae=z.RoundLatLng(X.lat,q)>z.RoundLatLng(Z.lat+ce,q)||z.RoundLatLng(X.lat,q)<z.RoundLatLng(Z.lat-ce,q);return ae||(ae=z.RoundLatLng(X.lng,q)>z.RoundLatLng(Z.lng+ce,q)||z.RoundLatLng(X.lng,q)<z.RoundLatLng(Z.lng-ce,q)),ae}static MapLatLngToPosition(X,Z,Y){let q=X.lng,ce=X.lat;if(Z){if(!Y)throw new Error("need cartesianPixelWidth to MapLatLngToPosition");q=z.RoundLatLng(q,Y.lng,!0),ce=z.RoundLatLng(ce,Y.lat,!0)}return new y.Position({x:q,y:ce})}static MapPositionToLatLng(X){return new o.LatLng({lat:X.y,lng:X.x})}static DegToRad(X){return X*Math.PI/180}static GetAzimuthRad(X){return z.DegToRad(90-X)}static ComputeLatSteps(X){const Z=X.map(Y=>Y.lat).sort((Y,q)=>Y-q);return z.UniqNum(Z)}static ComputeLngSteps(X){const Z=X.map(Y=>Y.lng).sort((Y,q)=>Y-q);return z.UniqNum(Z)}static LogCartesianValues(X,Z=console){Z.log(">> raain-quality ### logCartesianValues with",X.length,z.DEFAULT_SCALE," in progress...");const Y={},q=z.ComputeLatSteps(X),ce=z.ComputeLngSteps(X),ae=le=>z.LabelWithSign(le),se=le=>z.LabelWithSign(le),re=le=>""+Math.round(100*le)/100;for(let le of q){const ke={};for(let Ce of ce){const fe=new o.LatLng({lat:le,lng:Ce});fe.setPrecision(12),le=fe.lat,Ce=fe.lng,ke[ae(Ce)]=re(0)}Y[se(le)]=ke}for(const[le,ke]of X.entries()){let Ce=re(ke.value);"0"!==Y[se(ke.lat)][ae(ke.lng)]&&(Ce=Ce+"?"+Y[se(ke.lat)][ae(ke.lng)]),Y[se(ke.lat)][ae(ke.lng)]=Ce}Z.table(Y)}static UniqNum(X){return[...new Set(X)]}static UniqStr(X){return[...new Set(X)]}static CreateNDimArray(X,Z){if(X.length>0){const Y=X[0],q=X.slice(1),ce=[];for(let ae=0;ae<Y;ae++)ce[ae]=z.CreateNDimArray(q,Z),typeof ce[ae]>"u"&&(ce[ae]=Z&&JSON.parse(JSON.stringify(Z)));return ce}}static LabelWithSign(X){return X<0?""+X:0===X?" 0":"+"+X}}return z.DEFAULT_SCALE=.01,z})()},3640:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RadarMeasure=void 0;const o=R(2482),y=R(156);U.RadarMeasure=(()=>{class z extends o.Measure{constructor(X){super(X),X.radar&&this.addLinks([new y.RadarNode({id:X.radar,latitude:NaN,longitude:NaN,team:null,name:null})])}toJSON(X){const Z=super.toJSON(X),Y=this.getLinkId(y.RadarNode.TYPE);return Y&&(Z.radar=Y),Z}getLinkType(){return z.TYPE}}return z.TYPE="radar-measure",z})()},156:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RadarNode=void 0;const o=R(3975);U.RadarNode=(()=>{class K extends o.RaainNode{constructor(J){super(J),this.latitude=J.latitude,this.longitude=J.longitude,this.name=J.name,this.description=J.description,this.technicalInfos=J.technicalInfos,this.team=J.team,this.setConfiguration(J.configurationAsJSON)}toJSON(){var J;const X=super.toJSON();return X.name=this.name,X.description=this.description,X.technicalInfos=this.technicalInfos,X.latitude=this.latitude,X.longitude=this.longitude,X.team=(null===(J=this.team)||void 0===J?void 0:J.id)||this.team,X.configurationAsJSON=this.configurationAsJSON,X}setConfiguration(J){let X=J;try{X=JSON.parse(J)}catch(Z){}X&&(this.configurationAsJSON=JSON.stringify(X))}getConfiguration(){try{return JSON.parse(this.configurationAsJSON)}catch(J){}return null}getLinkType(){return K.TYPE}}return K.TYPE="radar",K})()},7621:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RadarNodeMap=void 0;const o=R(156);U.RadarNodeMap=class y extends o.RadarNode{constructor(z){super(z),this.date=new Date(z.date),this.setMapData(z.map)}toJSON(){const z=super.toJSON();return this.map&&(z.map=this.map),z.date=this.date.toISOString(),z}setMapData(z){if(!z)return;let J=z;try{"string"!=typeof z&&(J=JSON.stringify(z))}catch(X){}this.map=J.toString()}getMapData(){return this.map?JSON.parse(this.map):[]}}},8040:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RainComputation=void 0;const o=R(8298),y=R(6695),K=R(7816);U.RainComputation=(()=>{class J extends K.RainComputationAbstract{constructor(Z){super(Z),this.setResults(Z.results)}toJSON(Z=!1){const Y=super.toJSON();return Y.results=this.results.map(q=>q.toJSON(Z)),Y}getLinkType(){return J.TYPE}setResults(Z){"string"==typeof Z&&(Z=JSON.parse(Z)),this.results=Z&&0!==Z.length&&Array.isArray(Z)?Z.map(Y=>"string"==typeof Y&&Y.indexOf("polarMeasureValue")>=0?new o.RainPolarMeasureValue(JSON.parse(Y)):Y.polarMeasureValue?new o.RainPolarMeasureValue(Y):"string"==typeof Y&&Y.indexOf("cartesian")>=0?new y.RainCartesianMeasureValue(JSON.parse(Y)):Y.cartesianValues?new y.RainCartesianMeasureValue(Y):Y):[]}}return J.TYPE="rain-computation",J})()},7816:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RainComputationAbstract=void 0;const o=R(3975),y=R(3400),K=R(156),z=R(1106),J=R(3640);class X extends o.RaainNode{constructor(Y){super(Y),this.date=Y.date?new Date(Y.date):null,this.quality=Y.quality>=0?Y.quality:-1,this.progressIngest=Y.progressIngest>=0?Y.progressIngest:-1,this.progressComputing=Y.progressComputing>=0?Y.progressComputing:-1,this.timeSpentInMs=Y.timeSpentInMs,this.isReady=!!Y.isReady,this.isDoneDate=Y.isDoneDate?new Date(Y.isDoneDate):void 0,this.launchedBy=Y.launchedBy,this.replaceRainLink(Y.links),this.replaceRainLink(Y.rain),this.addRadarLinks(Y.links),this.addRadarLinks(Y.radars)}static _getRadarLinks(Y){return Y&&0!==Y.length?Y.map(q=>q instanceof y.Link?q:q&&q._id?new K.RadarNode({id:q._id.toString(),latitude:0,longitude:0,name:q.name,team:q.team}):q&&q.id?new K.RadarNode({id:q.id.toString(),latitude:0,longitude:0,name:q.name,team:q.team}):void 0):[]}static _getRadarMeasureLinks(Y){return Y&&0!==Y.length?Y.map(q=>q instanceof y.Link?q:q&&q._id?new J.RadarMeasure({id:q._id.toString(),values:[]}):q&&q.id?new J.RadarMeasure({id:q.id.toString(),values:[]}):void 0):[]}static _getRainLink(Y){return Y&&Y.id?new z.RainNode({id:Y.id.toString(),name:Y.id.toString(),team:null}):null}toJSON(){var Y;const q=super.toJSON();return q.date=this.date.toISOString(),q.quality=this.quality,q.progressIngest=this.progressIngest,q.progressComputing=this.progressComputing,q.timeSpentInMs=this.timeSpentInMs,q.isReady=this.isReady,q.isDoneDate=null===(Y=this.isDoneDate)||void 0===Y?void 0:Y.toISOString(),q.launchedBy=this.launchedBy,q.name=this.name,q}addRadarLinks(Y){this.addLinks(X._getRadarLinks(Y))}replaceRainLink(Y){this.addLinks([X._getRainLink(Y)])}addRadarMeasureLinks(Y){this.addLinks(X._getRadarMeasureLinks(Y))}getLinkType(){throw Error("abstract")}}U.RainComputationAbstract=X},8772:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RainComputationMap=void 0;const o=R(7816);U.RainComputationMap=class y extends o.RainComputationAbstract{constructor(z){super(z),this.setMapData(z.map)}toJSON(){const z=super.toJSON();return this.map&&(z.map=this.map,delete z.results),z}setMapData(z){if(!z)return;let J=z;try{"string"!=typeof z&&(J=JSON.stringify(z))}catch(X){}this.map=J.toString()}getMapData(){return this.map?JSON.parse(this.map):[]}}},5342:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RainComputationQuality=void 0;const o=R(7816),y=R(3400),K=R(8040);class z extends o.RainComputationAbstract{constructor(X){super(X),this.qualitySpeedMatrixContainer=X.qualitySpeedMatrixContainer,this.addRainComputationLink(X.rainComputation),this.error=X.error}static _getRainComputationLinks(X){return X?X instanceof y.Link?[X]:X._id?[new K.RainComputation({id:X._id.toString(),date:X.date,version:X.version,isReady:!0,results:[]})]:X.id?[new K.RainComputation({id:X.id.toString(),date:X.date,version:X.version,isReady:!0,results:[]})]:[]:[]}addRainComputationLink(X){this.addLinks(z._getRainComputationLinks(X))}merge(X){this.date=this.mergeDateMin(this.date,X.date),this.quality=this.mergeAvg(this.quality,X.quality),this.progressIngest=this.mergeMin(this.progressIngest,X.progressIngest),this.progressComputing=this.mergeMin(this.progressComputing,X.progressComputing),this.timeSpentInMs=this.mergeSum(this.timeSpentInMs,X.timeSpentInMs),this.qualitySpeedMatrixContainer&&this.qualitySpeedMatrixContainer.merge&&(this.qualitySpeedMatrixContainer=this.qualitySpeedMatrixContainer.merge(X.qualitySpeedMatrixContainer))}toJSON(X){const Z=super.toJSON();this.qualitySpeedMatrixContainer&&this.qualitySpeedMatrixContainer.toJSON?Z.qualitySpeedMatrixContainer=this.qualitySpeedMatrixContainer.toJSON(X):this.qualitySpeedMatrixContainer&&(Z.qualitySpeedMatrixContainer=this.qualitySpeedMatrixContainer);const Y=this.getLinkId(K.RainComputation.TYPE);return Y&&(Z.rainComputation=Y),this.error&&(Z.error=this.error),Z}mergeStillComputed(X,Z){if(X||Z)return X?Z?null:X:Z}mergeDateMin(X,Z){const Y=this.mergeStillComputed(X,Z);return null===Y?new Date(Math.min(new Date(X).getTime(),new Date(Z).getTime())):void 0!==Y?new Date(Y):Y}mergeDateMax(X,Z){const Y=this.mergeStillComputed(X,Z);return null===Y?new Date(Math.max(new Date(X).getTime(),new Date(Z).getTime())):void 0!==Y?new Date(Y):Y}mergeAvg(X,Z){const Y=this.mergeStillComputed(X,Z);return null===Y?(X+Z)/2:Y}mergeMin(X,Z){const Y=this.mergeStillComputed(X,Z);return null===Y?Math.min(X,Z):Y}mergeMax(X,Z){const Y=this.mergeStillComputed(X,Z);return null===Y?Math.max(X,Z):Y}mergeSum(X,Z){const Y=this.mergeStillComputed(X,Z);return null===Y?X+Z:Y}mergeConcat(X,Z){const Y=this.mergeStillComputed(X,Z);return null===Y?X.concat(Z):Y}}U.RainComputationQuality=z},130:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RainMeasure=void 0;const o=R(2482);U.RainMeasure=(()=>{class K extends o.Measure{constructor(J){super(J)}getLinkType(){return K.TYPE}}return K.TYPE="rain-measure",K})()},1106:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.RainNode=void 0;const o=R(3975),y=R(3400),K=R(156),z=R(8040),J=R(4376),X=R(4442);U.RainNode=(()=>{class Y extends o.RaainNode{constructor(ce){super(ce);const ae=null!=ce&&ce.links?ce.links:[];this.name=ce.name,this.description=ce.description,this.team=ce.team,this.status=ce.status>=0?ce.status:-1,this.quality=ce.quality>=0?ce.quality:-1,this.latLngRectsAsJSON=ce.latLngRectsAsJSON,this.addRadars(ae.filter(se=>se instanceof K.RadarNode)),this.addRadars(ce.radars),this.addGauges(ae.filter(se=>se instanceof J.GaugeNode)),this.addGauges(ce.gauges),this.setConfiguration(ce.configurationAsJSON),this.addCompletedComputations(ae.filter(se=>se instanceof z.RainComputation)),this.addCompletedComputations(ce.lastCompletedComputations)}static _getRadarLinks(ce){return ce&&0!==ce.length?ce.map(se=>se instanceof y.Link?se:se&&se._id?new K.RadarNode({id:se._id.toString(),latitude:se.latitude,longitude:se.latitude,name:se.name,team:se.team}):se&&se.id?new K.RadarNode({id:se.id.toString(),latitude:se.latitude,longitude:se.longitude,name:se.name,team:se.team}):void 0).filter(se=>!!se):[]}static _getRainComputationLinks(ce){return ce&&0!==ce.length?ce.map(se=>se instanceof y.Link?se:se&&se._id?new z.RainComputation({id:se._id.toString(),date:se.date,version:se.version,isReady:null,results:null}):se&&se.id?new z.RainComputation({id:se.id.toString(),date:se.date,version:se.version,isReady:null,results:null}):void 0).filter(se=>!!se):[]}static _getGaugeLinks(ce){return ce&&0!==ce.length?ce.map(se=>se instanceof y.Link?se:se&&se._id?new J.GaugeNode({id:se._id.toString(),latitude:se.latitude,longitude:se.longitude,name:se.name,team:se.team}):se&&se.id?new J.GaugeNode({id:se.id.toString(),latitude:se.latitude,longitude:se.longitude,name:se.name,team:se.team}):void 0).filter(se=>!!se):[]}setConfiguration(ce){let ae=ce;try{ae=JSON.parse(ce)}catch(se){}ae&&(this.configurationAsJSON=JSON.stringify(ae))}getConfiguration(){try{return JSON.parse(this.configurationAsJSON)}catch(ce){}return null}toJSON(){var ce;const ae=super.toJSON();return ae.name=this.name,ae.description=this.description,ae.status=this.status,ae.quality=this.quality,ae.team=(null===(ce=this.team)||void 0===ce?void 0:ce.id)||this.team,ae.latLngRectsAsJSON=this.latLngRectsAsJSON,ae.configurationAsJSON=this.configurationAsJSON,ae.radars=this.getLinks().filter(se=>se.getLinkType()===K.RadarNode.TYPE).map(se=>se.getId()),ae.gauges=this.getLinks().filter(se=>se.getLinkType()===J.GaugeNode.TYPE).map(se=>se.getId()),ae.lastCompletedComputations=this.getLinks().filter(se=>se.getLinkType()===z.RainComputation.TYPE).map(se=>se.getId()),ae}addRadars(ce){this.addLinks(Y._getRadarLinks(ce)),this.setDefaultLatLng(ce)}addCompletedComputations(ce){this.addLinks(Y._getRainComputationLinks(ce))}addGauges(ce){this.addLinks(Y._getGaugeLinks(ce))}getCenter(){let ce=new X.LatLng({lat:0,lng:0});if(this.setDefaultLatLng(this.radars),this.latLngRectsAsJSON&&"[]"!==this.latLngRectsAsJSON){const ae=JSON.parse(this.latLngRectsAsJSON);let se,re,le,ke;for(const Ce of ae){const fe=Ce[0],ve=Ce[1];se=typeof se>"u"?fe.lat:Math.max(fe.lat,se),ke=typeof ke>"u"?fe.lng:Math.min(fe.lng,ke),le=typeof le>"u"?ve.lat:Math.min(ve.lat,le),re=typeof re>"u"?ve.lng:Math.max(ve.lng,re)}ce=new X.LatLng({lat:(se-le)/2+le,lng:(re-ke)/2+ke})}return ce}getLinkType(){return Y.TYPE}setDefaultLatLng(ce){if(null!=ce&&ce.length&&(!this.latLngRectsAsJSON||"[]"===this.latLngRectsAsJSON)){const ae=[];for(const se of ce)se instanceof K.RadarNode&&ae.push([new X.LatLng({lat:se.latitude+1,lng:se.longitude-1}),new X.LatLng({lat:se.latitude-1,lng:se.longitude+1})]);this.latLngRectsAsJSON=JSON.stringify(ae)}}}return Y.TYPE="rain",Y})()},890:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CartesianDrawer=void 0;const o=R(8407),y=R(6684),K=R(822),z=R(516);U.CartesianDrawer=class J{constructor(Z,Y,q,ce){this.cartesianMap2Points=Z,this.cartesianMap2Display=Y,this.cartesianMapZoom=q,this.type=ce,this.geoValues=[],this.distanceRatio=0,this.centerPoint=new o.Point(0,0),this.optimizations=z.CartesianDrawerOptimization.Defaults()}getVersion(){return this.version}setConfiguration(Z,Y,q){this.optimizations=q}getOptimization(){const Z=this.optimizations.filter(Y=>this.type.toLowerCase().indexOf(Y.type.toLowerCase())>0);return 1===Z.length?Z[0]:(console.warn("no optimization found for cartesian drawer - please consider to use one"),z.CartesianDrawerOptimization.Defaults()[0])}updateValues(Z,Y){this.geoValues=Z,this.version=Y}hasChanged(Z,Y){return!Y.equals(this.centerPoint)||this.distanceRatio!==this.getDistanceRatio(Z)}getExecOfVisiblePoints(Z,Y){return Y(this.getOptimization().filteringValues(this.cartesianMapZoom(),Z,this.cartesianMap2Display))}renderCartesianMapValues(Z,Y,q){let ce=0;this.distanceRatio=this.getDistanceRatio(Z),this.centerPoint=Y;const ae=this.getOptimization(),se=ae.filteringValues(this.cartesianMapZoom(),this.geoValues,this.cartesianMap2Display);for(const re of se){if(ce>ae.hardLimit){console.warn("cartesian hard limit reached ",ae.hardLimit);break}const le=this.cartesianMap2Points(re);q(this.createGridValue(re,le,Y))&&ce++}return ce}createGridValue(Z,Y,q){return K.CartesianGridValue.Create(Z,Y,q,this.distanceRatio,this.getOptimization())}getDistanceRatio(Z){return y.MapTools.getCartesianDistanceRatio(Z,this.geoValues,this.cartesianMap2Points)}}},516:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CartesianDrawerOptimization=void 0;class R{constructor(y,K,z,J){this.type=y,this.hardLimit=K,this.bypass=z,this.considerZoom=J}static Defaults(){return[new R("default",6e4,!1,!1),new R("radar",6e4,!0,!0),new R("rain",6e4,!1,!1),new R("zoom",6e4,!1,!0)]}filteringValues(y,K,z){let J=K.filter(X=>X.value>.4);if(z&&(J=J.filter(z)),this.considerZoom&&y<8){const Z=9-y;let Y=0;J=J.filter(q=>++Y>=Z&&(Y=0,!0))}return J}}U.CartesianDrawerOptimization=R},822:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CartesianGridValue=void 0;const o=R(7782),y=R(1070);class K extends o.GridValue{constructor(J,X,Z,Y,q,ce,ae){super(J,X,ae),this.x=Z,this.y=Y,this.width=q,this.height=ce}static Create(J,X,Z,Y,q){let{transparency:ce,value:ae}=o.GridValue.translateColor(J.value);null!=q&&q.bypass&&.2<=J.value&&(ae="#000000",ce=.6);const se=X.p1.x,re=X.p1.y,le=X.p2.x-X.p1.x,ke=X.p2.y-X.p1.y;return new K(y.MapTools.hexStringToNumber(ae),ce,se,re,le,ke,""+Math.round(100*J.value)/100)}}U.CartesianGridValue=K},7782:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.GridValue=void 0,U.GridValue=class R{constructor(y,K,z){this.color=y,this.transparency=K,this.id=z}static translateColor(y){let K="#000000",z=1;return 0<y&&y<.4?(K="#000e98",z=.9):y<1?(K="#0013C0",z=.7):y<3?(K="#00CEF9",z=.65):y<10?(K="#009A0F",z=.6):y<20?(K="#6DED00",z=.55):y<30?(K="#FFF300",z=.5):y<50?(K="#ffc022",z=.45):y<100?(K="#fe8a1f",z=.4):y<150?(K="#ff531f",z=.3):y<200?(K="#db1f26",z=.3):y<250?(K="#821d37",z=.3):y<300?(K="#7e0321",z=.3):300<=y&&(K="#000000",z=.3),{value:K,transparency:z}}getColor(y=1){return Math.round(this.color*y)}getTransparency(y=1){return this.transparency*y}}},138:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.IconDrawer=void 0;const o=R(890),y=R(516),K=R(554);U.IconDrawer=class z extends o.CartesianDrawer{constructor(X,Z,Y,q){super(X,Z,Y,q),this.optimizations=[new y.CartesianDrawerOptimization("default",6e4,!1,!1)]}createGridValue(X,Z,Y){return K.IconGridValue.Create(X,Z.p1)}}},554:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.IconGridValue=void 0;const o=R(6684),y=R(7782),K=R(4718);class z extends y.GridValue{constructor(X,Z,Y,q,ce,ae,se){super(X,Z,Y),this.centerX=q,this.centerY=ce,this.speed=ae,this.angle=se}static Create(X,Z){return new z(o.MapTools.hexStringToNumber("#393636"),0,""+Math.round(100*X.value)/100,Z.x,Z.y,X.speed,X.angle)}getPoints(X=1){const Z=K.QualityTools.GetAzimuthRad(-this.angle),Y={x:this.centerX,y:this.centerY};return{start:{x:X*this.speed*Math.cos(Z),y:X*this.speed*Math.sin(Z)},end:{x:-X*this.speed*Math.cos(Z),y:-X*this.speed*Math.sin(Z)},center:Y}}}U.IconGridValue=z},9497:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PolarDrawer=void 0;const o=R(8407),y=R(3673),K=R(6684),z=R(3328);U.PolarDrawer=class J{constructor(Z,Y,q,ce){this.polarMap2Point=Z,this.polarMap2Display=Y,this.polarMapZoom=q,this.type=ce,this.geoValues=[],this.possibleDrawing=0,this.distanceRatio=0,this.centerPoint=new o.Point(0,0),this.optimizations=z.PolarDrawerOptimization.Defaults()}getVersion(){return this.version}setConfiguration(Z,Y,q){this.optimizations=q}getOptimization(){const Z=this.optimizations.filter(Y=>this.type.toLowerCase().indexOf(Y.type.toLowerCase())>0);return 1===Z.length?Z[0]:(console.warn("no optimization found for polar drawer - please consider to use one"),z.PolarDrawerOptimization.Defaults()[0])}updateValues(Z,Y){this.geoValues=Z,this.version=Y}hasChanged(Z,Y){return!Y.equals(this.centerPoint)||this.distanceRatio!==this.getDistanceRatio(Y)||this.possibleDrawing!==this.getPossibleDrawing()}getExecOfVisiblePoints(Z,Y){return Y(this.getOptimization().filteringValues(this.polarMapZoom(),Z,this.polarMap2Display))}renderPolarMapValues(Z,Y,q){let ce=0;const ae=this.getEdgeCount(),se=this.getDistanceRatio(Y),re=this.getAzimuthStepInDegrees(),le={x1:null,x2:null};if(se<=0)return console.warn("polar distanceRatio is 0 - no sense ? ",Z,Y),0;const ke=this.getOptimization();this.possibleDrawing=this.getPossibleDrawing(),this.distanceRatio=se,this.centerPoint=Y;const Ce=ke.filteringValues(this.polarMapZoom(),this.geoValues,this.polarMap2Display);for(let[fe,ve]of Ce.entries()){if(ce>ke.hardLimit){console.warn("polar hard limit reached ",ke.hardLimit);break}if(ve=K.PolarMapValue.Duplicate(ve),ve.setCenter({latitude:Z.lat,longitude:Z.lng}),ke.groupAzimuths()){const De=(Be,qe,Oe)=>{if(!Be||!qe)return!1;const mt=y.PolarGridValue.Create(qe,se,ke);mt.polarAzimuthInDegrees=Be.polarAzimuthInDegrees+re;let Me=!1;return Oe||mt.getTransparency()!==Be.getTransparency()?(Me=!(Be.getTransparency()<1)||q(Be,mt),le.x2=null,Me&&ce++):le.x2=mt,Me};this.polarMap2Display(ve)?fe%ae==ae-1?(De(le.x1,ve,!0),le.x1=null,fe=this._getNextOffset(fe,ae)-1):(De(le.x1,ve)||!le.x1)&&(le.x1=y.PolarGridValue.Create(ve,se,ke)):(De(le.x1,ve,!0),le.x1=null)}else{const De=y.PolarGridValue.Create(ve,se,ke);ce+=q(De)?1:0}}return ce}_getNextOffset(Z,Y){const q=(Z+1)/Y,ce=Math.floor(q);let ae=(ce+1)*Y;return q===ce&&(ae=ce*Y),ae}getPossibleDrawing(){let Z=0;const Y=this.geoValues.filter(q=>q.value);for(const q of Y)this.polarMap2Display(q)&&Z++;return Z}getDistanceRatio(Z){return this.geoValues.length<1?0:K.MapTools.getPolarDistanceRatio(Z,this.geoValues[this.geoValues.length-1],this.polarMap2Point)}getAzimuthStepInDegrees(){if(this.geoValues.length<=1)return 360;let Y=360;const q=this.geoValues[0].polarAzimuthInDegrees;for(const ce of this.geoValues)if(q!==ce.polarAzimuthInDegrees){Y=ce.polarAzimuthInDegrees-q;break}return Y}getEdgeCount(){if(this.geoValues.length<=1)return 1;let Z=0;const Y=this.geoValues[0];for(const q of this.geoValues){if(Y.polarAzimuthInDegrees!==q.polarAzimuthInDegrees)break;Z++}return Z}}},3328:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PolarDrawerOptimization=void 0;class R{constructor(y,K,z,J,X,Z,Y){this.type=y,this.hardLimit=K,this.min=z,this.max=J,this.step=X,this.bypass=Z,this.considerZoom=Y}static Defaults(){return[new R("default",40001,0,100,10,!1,!1),new R("radar",40002,.2,100,5,!0,!0),new R("rain",40003,0,76,10,!1,!0),new R("zoom",40003,0,76,10,!1,!0)]}filteringValues(y,K,z){let J=K.filter(X=>X.value>0);if(z&&(J=J.filter(z)),this.considerZoom&&y<10){const Z=11-y;let Y=0;J=J.filter(q=>++Y>=Z&&(Y=0,!0))}return J}groupAzimuths(){return"???"===this.type}}U.PolarDrawerOptimization=R},3673:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PolarGridValue=void 0;const o=R(8407),y=R(1070),K=R(7782);class z extends K.GridValue{constructor(X,Z,Y,q,ce){super(X,Z,ce),this.polarAzimuthInDegrees=Y,this.polarDistanceRelative=q}static Create(X,Z,Y){let{transparency:q,value:ce}=K.GridValue.translateColor(X.value);if("rain"!==Y.type){const se=Y.max-Y.min+1,re=Math.floor(se/Y.step)+1;for(let le=0;le<re;le++){const ke=Y.min+le*Y.step;X.value>=ke&&(q=(se-ke)/(2*se))}}Y.bypass&&.2<=X.value&&(ce="#000000",q=Math.min(1,2*q));const ae=Math.round(100*X.polarDistanceInMeters*Z)/100;return new z(y.MapTools.hexStringToNumber(ce),q,X.polarAzimuthInDegrees,ae,X.id)}getPolarDistanceRelative(){return this.polarDistanceRelative}setPolarDistanceRelative(X){this.polarDistanceRelative=X}getPositionFrom(X){const Z=this.polarAzimuthInDegrees*(Math.PI/180),Y=Math.sin(Z)*this.polarDistanceRelative,q=Math.cos(Z)*this.polarDistanceRelative,ce=1e5,ae=Math.round((Y+X.x)*ce)/ce,se=Math.round((X.y-q)*ce)/ce;return new o.Point(ae,se)}}U.PolarGridValue=z},9206:function(yt,U,R){"use strict";var o=this&&this.__createBinding||(Object.create?function(K,z,J,X){void 0===X&&(X=J);var Z=Object.getOwnPropertyDescriptor(z,J);(!Z||("get"in Z?!z.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return z[J]}}),Object.defineProperty(K,X,Z)}:function(K,z,J,X){void 0===X&&(X=J),K[X]=z[J]}),y=this&&this.__exportStar||function(K,z){for(var J in K)"default"!==J&&!Object.prototype.hasOwnProperty.call(z,J)&&o(z,K,J)};Object.defineProperty(U,"__esModule",{value:!0}),y(R(9497),U),y(R(3328),U),y(R(3673),U),y(R(890),U),y(R(516),U),y(R(822),U),y(R(554),U),y(R(138),U)},7015:function(yt,U,R){"use strict";var o=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(U,"__esModule",{value:!0}),U.CompareElement=U.CompareElementInput=void 0;const y=o(R(3593)),K=R(5101);U.CompareElementInput=class z{constructor(Z=[],Y={x:100,y:100},q){this.points=Z,this.topPoint=Y,this.clickCallback=q}},U.CompareElement=class J{constructor(Z=!1){this.addSomeDebugInfos=Z}build(Z,Y){const q=[{x:0,y:0},{x:Y.topPoint.x,y:Y.topPoint.y}],ce={datasets:[{type:"bubble",data:Y.points,borderColor:K.Tools.getTransparency(K.ChartColors.grey,.2),backgroundColor:K.Tools.getTransparency(K.ChartColors.grey,.7),pointStyle:"circle",pointHoverRadius:15},{type:"line",data:q,borderColor:K.ChartColors.red,backgroundColor:K.Tools.getTransparency(K.ChartColors.red,.9),pointStyle:!1,borderDash:[2,2]}],selectedPoint:void 0};this.chart=new y.default(Z,{data:ce,options:{responsive:!0,aspectRatio:2,plugins:{legend:{display:!1},tooltip:{callbacks:{label:se=>{let re="";return se.dataset.data[se.dataIndex]&&(ce.selectedPoint=se.dataset.data[se.dataIndex],re=se.dataset.data[se.dataIndex].name,re||(re="")),re}}}},onClick(se){ce.selectedPoint&&Y.clickCallback&&Y.clickCallback(ce.selectedPoint)}}})}}},4754:function(yt,U,R){"use strict";var o=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(U,"__esModule",{value:!0}),U.ConfigurationElement=U.ConfigurationElementInput=void 0;const y=o(R(3593)),K=o(R(4252)),z=R(5101);U.ConfigurationElementInput=class J{constructor(Y=[],q={x:0,y:0},ce={x:100,y:100},ae){this.points=Y,this.minPoint=q,this.maxPoint=ce,this.dragCallback=ae}},U.ConfigurationElement=class X{constructor(Y=!1){this.addSomeDebugInfos=Y}build(Y,q){const ae={data:{datasets:[{type:"scatter",data:q.points,borderColor:z.Tools.getTransparency(z.ChartColors.blue,.5)},{type:"line",data:q.points,borderColor:z.ChartColors.blue,fill:!1,tension:0}]},options:{responsive:!0,plugins:{legend:{display:!1},dragData:{magnet:{to:se=>({x:se.x,y:Math.round(10*se.y)/10})},showTooltip:!1,dragX:!0,onDrag:(se,re,le,ke)=>(q.dragCallback&&q.dragCallback(se),!0)},tooltip:{enabled:!0,filter:se=>0===se.datasetIndex}},scales:{x:{display:!0,suggestedMin:q.minPoint.x,suggestedMax:q.maxPoint.x},y:{display:!0,suggestedMin:q.minPoint.y,suggestedMax:q.maxPoint.y}}},plugins:[K.default]};this.chart=new y.default(Y,ae)}}},3871:function(yt,U,R){"use strict";var o=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(U,"__esModule",{value:!0}),U.DateStatusElement=U.DateStatusElementInput=void 0;const y=o(R(3593)),K=R(5101),z=R(666);U.DateStatusElementInput=class J{constructor(Y=[],q=new Date,ce=K.DateRange.CENTURY){this.setOfData=Y,this.focusDate=q,this.focusRange=ce}};class X{constructor(Y=!1){this.addSomeDebugInfos=Y,this.focusReset=()=>{},this.focusPrevious=()=>{},this.focusNext=()=>{}}static filterFocus(Y,q,ce){return Y.filter(ae=>{let se=!0;return se&&ce>=K.DateRange.YEAR&&(se=ae.date.getFullYear()===q.getFullYear()),se&&ce>=K.DateRange.MONTH&&(se=ae.date.getMonth()===q.getMonth()),se&&ce>=K.DateRange.DAY&&(se=ae.date.getDate()===q.getDate()),se&&ce>=K.DateRange.HOUR&&(se=ae.date.getHours()===q.getHours()),se}).sort((ae,se)=>ae.date.getTime()-se.date.getTime())}static groupFocus(Y,q,ce,ae,se){const re=X.filterFocus(Y,q,ce);if(ce===K.DateRange.CENTURY){const le=[];for(let ke=ae.getFullYear();ke<=se.getFullYear();ke++){const Ce=new Date(q);Ce.setFullYear(ke);const fe=X.filterFocus(re,Ce,K.DateRange.YEAR).reduce((ve,De)=>ve+De.value,0);le.push(fe)}return le}if(ce===K.DateRange.YEAR){const le=[];for(let ke=0;ke<12;ke++){const Ce=new Date(q);Ce.setMonth(ke);const fe=X.filterFocus(re,Ce,K.DateRange.MONTH).reduce((ve,De)=>ve+De.value,0);le.push(fe)}return le}if(ce===K.DateRange.MONTH){const le=[],ke=new Date(q.getFullYear(),q.getMonth(),0).getDate();for(let Ce=0;Ce<ke;Ce++){const fe=new Date(q);fe.setDate(Ce);const ve=X.filterFocus(re,fe,K.DateRange.DAY).reduce((De,Be)=>De+Be.value,0);le.push(ve)}return le}if(ce===K.DateRange.DAY){const le=[];for(let ke=0;ke<24;ke++){const Ce=new Date(q);Ce.setHours(ke);const fe=X.filterFocus(re,Ce,K.DateRange.HOUR).reduce((ve,De)=>ve+De.value,0);le.push(fe)}return le}return re.map(le=>le.value)}static focusLabels(Y,q,ce,ae,se){if(q===K.DateRange.CENTURY){const Ce=[];for(let fe=ce.getFullYear();fe<=ae.getFullYear();fe++)Ce.push(X.buildLabelYear(new Date(Y),fe));return Ce}if(q===K.DateRange.YEAR){const Ce=[];for(let fe=0;fe<12;fe++)Ce.push(X.buildLabelMonth(new Date(Y),fe));return Ce}if(q===K.DateRange.MONTH){const Ce=[],fe=new Date(Y.getFullYear(),Y.getMonth(),0).getDate();for(let ve=0;ve<fe;ve++)Ce.push(X.buildLabelDay(new Date(Y),ve));return Ce}if(q===K.DateRange.DAY){const Ce=[];for(let fe=0;fe<24;fe++)Ce.push(X.buildLabelHour(new Date(Y),fe));return Ce}let re=[];return se.forEach(Ce=>{re=re.concat(Ce.values)}),X.filterFocus(re,Y,K.DateRange.HOUR).map(Ce=>X.buildLabel(Ce.date)).filter((Ce,fe,ve)=>ve.indexOf(Ce)===fe)}static getFocusDateAndTitle(Y,q,ce,ae,se){const re=new Date(Y);let le="...";return q===K.DateRange.YEAR?le=X.buildLabelYear(re,ae.getFullYear()+ce):q===K.DateRange.MONTH?le=X.buildLabelMonth(re,ce):q===K.DateRange.DAY?le=X.buildLabelDay(re,ce):q===K.DateRange.HOUR?le=X.buildLabelHour(re,ce):q===K.DateRange.MINUTE&&(le=X.buildLabel(re)),{newFocusDate:re,newTitle:le}}static buildLabel(Y){return K.Tools.formatDate(Y,K.DateRange.MINUTE)}static buildLabelYear(Y,q){return Y.setFullYear(q),K.Tools.formatDate(Y,K.DateRange.YEAR)}static buildLabelMonth(Y,q){return Y.setMonth(q),K.Tools.formatDate(Y,K.DateRange.MONTH)}static buildLabelDay(Y,q){return Y.setDate(q+1),K.Tools.formatDate(Y,K.DateRange.DAY)}static buildLabelHour(Y,q){return Y.setHours(q),K.Tools.formatDate(Y,K.DateRange.HOUR)}build(Y,q){if(q.setOfData.length>7)return null;const ce=[],ae=[K.Tools.getTransparency(K.ChartColors.blue,.5),K.Tools.getTransparency(K.ChartColors.red,.5),K.Tools.getTransparency(K.ChartColors.green,.5),K.Tools.getTransparency(K.ChartColors.grey,.5),K.Tools.getTransparency(K.ChartColors.orange,.5),K.Tools.getTransparency(K.ChartColors.purple,.5),K.Tools.getTransparency(K.ChartColors.yellow,.5)],se=[];let re,le;q.setOfData.forEach(De=>{De.values.forEach(Be=>{re=re?Math.min(re,Be.date.getTime()):Be.date.getTime(),le=le?Math.max(le,Be.date.getTime()):Be.date.getTime()})}),re=new Date(re),le=new Date(le);for(const[De,Be]of q.setOfData.entries()){const qe=ae[De],Oe=X.groupFocus(Be.values,q.focusDate,q.focusRange,re,le);ce.push({label:Be.label,type:Be.style,data:Oe,borderColor:qe,backgroundColor:qe}),se.push(Oe)}const ke={datasets:ce,labels:X.focusLabels(q.focusDate,q.focusRange,re,le,q.setOfData)};this.focusClick=De=>{const Be=null!=De&&De.chart?De.chart:fe,qe=Be.focusRange+1,Oe=this.getFocusPosRelative(De,Be),{newFocusDate:mt,newTitle:Me}=X.getFocusDateAndTitle(Be.focusDate,qe,Oe,Be.focusDateMin,Be.focusDateMax);Be.focusPos=Oe,Be.focusRange=qe,Be.focusDate=new Date(mt),Be.config._config.options.plugins.title.text=""+Me,Be.data.datasets.forEach((Xe,Ke)=>{Xe.data=X.groupFocus(q.setOfData[Ke].values,Be.focusDate,Be.focusRange,Be.focusDateMin,Be.focusDateMax)}),Be.data.labels=X.focusLabels(Be.focusDate,Be.focusRange,Be.focusDateMin,Be.focusDateMax,q.setOfData),Be.update()};const fe=new y.default(Y,{data:ke,options:{responsive:!0,plugins:{legend:{},tooltip:{callbacks:{label:De=>{}}},title:{display:!0,text:" "}},onClick:this.focusClick}});fe.focusPos=this.getInitialFocusPos(q.focusDate,q.focusRange,re),fe.focusDate=q.focusDate,fe.focusRange=q.focusRange,fe.focusDateMin=re,fe.focusDateMax=le,this.focusReset=()=>{fe.config._config.options.plugins.title.text="...",fe.focusPos=0,fe.focusDate=q.focusDate,fe.focusRange=K.DateRange.CENTURY,fe.data.datasets.forEach((De,Be)=>{De.data=se[Be]}),fe.data.labels=X.focusLabels(fe.focusDate,fe.focusRange,fe.focusDateMin,fe.focusDateMax,q.setOfData),fe.update()};const ve=(De,Be,qe,Oe)=>{const{newFocusDate:mt,newTitle:Me}=X.getFocusDateAndTitle(Oe,Be,qe,De.focusDateMin,De.focusDateMax);De.focusPos=qe,De.focusDate=new Date(mt),De.config._config.options.plugins.title.text=""+Me,De.data.datasets.forEach((Xe,Ke)=>{Xe.data=X.groupFocus(q.setOfData[Ke].values,De.focusDate,De.focusRange,De.focusDateMin,De.focusDateMax)}),De.data.labels=X.focusLabels(De.focusDate,De.focusRange,De.focusDateMin,De.focusDateMax,q.setOfData),De.update()};this.focusNext=()=>{const De=fe.focusRange,{pos:Be,newFocusDate:qe}=this.getFocusPosAdded(fe,De,1,fe.focusDate,re);ve(fe,De,Be,qe)},this.focusPrevious=()=>{const De=fe.focusRange,{pos:Be,newFocusDate:qe}=this.getFocusPosAdded(fe,De,-1,fe.focusDate,re);ve(fe,De,Be,qe)},this.chart=fe}getFocusPosRelative(Y,q){const ce=(0,z.getRelativePosition)(Y,q);return q.scales.x.getValueForPixel(ce.x)}getInitialFocusPos(Y,q,ce){let ae=0;return q===K.DateRange.YEAR?ae=Y.getFullYear()-ce.getFullYear():q===K.DateRange.MONTH?ae=Y.getMonth():q===K.DateRange.DAY?ae=Y.getDate()-1:q===K.DateRange.HOUR?ae=Y.getHours():q===K.DateRange.MINUTE&&(ae=Y.getMinutes()),ae}getFocusPosAdded(Y,q,ce,ae,se){let re=Y.focusPos||0;const le=new Date(ae);return q===K.DateRange.YEAR?(le.setFullYear(ae.getFullYear()+ce),re=le.getFullYear()-se.getFullYear()):q===K.DateRange.MONTH?(le.setMonth(ae.getMonth()+ce),re=le.getMonth()):q===K.DateRange.DAY?(le.setDate(ae.getDate()+ce),re=le.getDate()-1):q===K.DateRange.HOUR?(le.setHours(ae.getHours()+ce),re=le.getHours()):q===K.DateRange.MINUTE&&(le.setMinutes(ae.getMinutes()+ce),re=le.getMinutes()),{pos:re,newFocusDate:le}}}U.DateStatusElement=X},7002:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.ElementsFactory=void 0;const o=R(847),y=R(3342),K=R(7015),z=R(4754),J=R(3871),X=R(1988),Z=R(6531),Y=R(2046);U.ElementsFactory=class q{constructor(ae={lat:0,lng:0},se=!1){this.center=ae,this.addSomeDebugInfos=se,this.center=new o.MapLatLng(typeof this.center.lat<"u"?this.center.lat:this.center.latitude,typeof this.center.lng<"u"?this.center.lng:this.center.longitude)}createMap(ae,se){const re=new y.MapElement(this.center,this.addSomeDebugInfos);return re.build(ae,se),re}createCompare(ae,se){const re=new K.CompareElement(this.addSomeDebugInfos);return re.build(ae,se),re}createConfiguration(ae,se){const re=new z.ConfigurationElement(this.addSomeDebugInfos);return re.build(ae,se),re}createDateStatus(ae,se){const re=new J.DateStatusElement(this.addSomeDebugInfos);return re.build(ae,se),re}createSpeedMatrixIndicator(ae,se){const re=new X.SpeedMatrixElement(this.addSomeDebugInfos);return re.build(ae,se),re}createMonitoringBars(ae,se){const re=new Z.MonitoringBarsElement(this.addSomeDebugInfos);return re.build(ae,se),re}createMonitoringLines(ae,se){const re=new Y.MonitoringLinesElement(this.addSomeDebugInfos);return re.build(ae,se),re}}},3342:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.MapElement=U.MapElementInput=void 0;const o=R(8407),y=R(6684),K=R(7439);U.MapElementInput=class z{constructor(Z,Y){this.timeframeContainers=Z,this.markers=Y}},U.MapElement=class J{constructor(Z={lat:0,lng:0},Y=!1){this.center=Z,this.addSomeDebugInfos=Y,this.center=new y.MapLatLng(typeof this.center.lat<"u"?this.center.lat:this.center.latitude,typeof this.center.lng<"u"?this.center.lng:this.center.longitude)}build(Z,Y){var q;let ce,ae;const se=Z.offsetWidth,re=Z.offsetHeight,le=new K.CompositeLayer("composite1",se,re);let ke;if(ce=(0,o.map)(Z,{preferCanvas:!0,zoomControl:!0,zoomAnimation:!0,trackResize:!1,boxZoom:!1,scrollWheelZoom:!1,renderer:(0,o.canvas)()}).setView([this.center.lat,this.center.lng],10),(0,o.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy;<a href="https://www.openstreetmap.org/copyright">osm</a>'}).addTo(ce),null!==(q=Y.timeframeContainers)&&void 0!==q&&q.containers.length)for(const fe of Y.timeframeContainers.containers){const ve=this.addCompositeLayer(ce,le,fe);!ke&&ve.length&&(ke=ve[0])}le.addToMap(ce),le.showAll();let Ce=[];ae=new K.MarkersLayer,ae.setCurrentWidth(se),ae.setCurrentHeight(re),Ce=ae.render(Y.markers).markers,ae.addToMap(ce),ce.invalidateSize({animate:!0}),this.mapLeaflet=ce,this.markersLayer=ae,this.compositeLayer=le,this.markersProduced=Ce}updateMapTimeframe(Z){if(!this.compositeLayer||null==Z||!Z.containers.length)return;let Y;this.compositeLayer.removeAllLayers();for(const q of Z.containers){const ce=this.addCompositeLayer(this.mapLeaflet,this.compositeLayer,q);!Y&&ce.length&&(Y=ce[0])}this.compositeLayer.showAll(),this.compositeLayer.redraw(),this.mapLeaflet.invalidateSize({animate:!0})}addCompositeLayer(Z,Y,q){const ce=[];q.setCompositeLayer(Y);for(const ae of q.timeframe){const se=q.getFrameId(ae),re=ae.values;let le;ae.isPolar?(le=new K.PolarLayer(se,q.name,Z,this.addSomeDebugInfos),le.setValues(this.center,re,new K.PolarLayerConfig,q.version)):ae.isCartesian?(le=new K.CartesianLayer(se,q.name,Z,this.addSomeDebugInfos),le.setValues(this.center,re,null,q.version)):ae.isIcon&&(le=new K.IconLayer(se,q.name,Z,this.addSomeDebugInfos),le.setValues(this.center,re,null,q.version)),Y.addLayer(le),ce.push(se)}return ce}}},6531:function(yt,U,R){"use strict";var o=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(U,"__esModule",{value:!0}),U.MonitoringBarsElement=U.MonitoringBarsElementInput=void 0;const y=o(R(3593)),K=R(5101);U.MonitoringBarsElementInput=class z{constructor(Z=[]){this.bars=Z}},U.MonitoringBarsElement=class J{constructor(Z=!1){this.addSomeDebugInfos=Z}build(Z,Y){const q=Y.bars.map(se=>se.label),ce=Y.bars.map(se=>se.percentage);this.chart=new y.default(Z,{type:"bar",data:{labels:q,datasets:[{data:ce,borderColor:K.ChartColors.greenCpu,backgroundColor:K.ChartColors.greenCpu}]},options:{responsive:!0,aspectRatio:1,scales:{x:{grid:{display:!1}},y:{min:0,beginAtZero:!0,max:100,display:!1}},grid:{display:!1,drawTicks:!1},plugins:{legend:{display:!1}}}})}add(Z){this.chart.data.datasets[0].data=Z.map(Y=>Y.percentage),this.chart.update()}}},2046:function(yt,U,R){"use strict";var o=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(U,"__esModule",{value:!0}),U.MonitoringLinesElement=U.MonitoringLinesElementInput=void 0;const y=o(R(3593)),K=R(5101);U.MonitoringLinesElementInput=class z{constructor(Z=[],Y=100){this.pointsLines=Z,this.limit=Y}},U.MonitoringLinesElement=class J{constructor(Z=!1){this.addSomeDebugInfos=Z}build(Z,Y){if(this.limit=Y.limit,0===Y.pointsLines.length)throw new Error("No point lines found.");const q=Y.pointsLines[0].points.map(se=>se.date.toISOString()),ce=Y.pointsLines.map((se,re)=>{const le=se.points.map(ke=>ke.percentage);return{label:se.label,data:le,borderColor:K.ChartColors[re],tension:.4}});this.chart=new y.default(Z,{type:"line",data:{labels:q,datasets:ce},options:{responsive:!0,scales:{x:{grid:{},ticks:{display:!1}},y:{min:0,beginAtZero:!0,max:100,grid:{},ticks:{display:!1}}},grid:{display:!0},elements:{point:{pointBorderWidth:0,pointRadius:0}},plugins:{legend:{display:!0}}}})}add(Z,Y=new Date){let q=JSON.parse(JSON.stringify(this.chart.data.labels));const ce=this.chart.data.datasets;return q.length>=this.limit&&(q=q.slice(1)),q.push(Y.toISOString()),ce.forEach((ae,se)=>{let re=JSON.parse(JSON.stringify(ae.data));re.length>=this.limit&&(re=re.slice(1));const le=Z.filter(ke=>ke.label===ae.label);re.push(1===le.length?le[0].percentage:0),ae.data=re}),this.chart.data.labels=q,this.chart.update(),ce.map(ae=>{const se=ae.data.map((re,le)=>({date:new Date(q[le]),percentage:re}));return{label:ae.label,points:se}})}}},1988:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.SpeedMatrixElement=U.SpeedMatrixElementInput=void 0;const o=R(4520),y=R(1070);U.SpeedMatrixElementInput=class K{constructor(X,Z=1){this.positionValuesMatrix=X,this.trustIndicator=Z}},U.SpeedMatrixElement=class z{constructor(X=!1){this.addSomeDebugInfos=X}build(X,Z){let q,ce,ae,se,re,le;for(const Me of Z.positionValuesMatrix)(!q||q!==Math.min(Me.x,q))&&(q=Me.x),(!ce||ce!==Math.max(Me.x,ce))&&(ce=Me.x),(!ae||ae!==Math.min(Me.x,ae))&&(ae=Me.y),(!se||se!==Math.max(Me.x,se))&&(se=Me.y),(!re||re!==Math.min(Me.value,re))&&(re=Me.value),(!le||le!==Math.max(Me.value,le))&&(le=Me.value);this.pixiApp=new o.Application({width:10*(ce-q+1),height:10*(se-ae+1),view:X,backgroundColor:y.MapTools.hexStringToNumber("#FFFFFF")}),this.pixiApp.stage.removeChildren();const ve=Me=>10*(Me-q),De=Me=>10*(se-ae-(Me-ae)),Be=Me=>{const Xe=le?Me/le:0;return Xe>=1?"#01d331":Xe>=.85?"#1bc041":Xe>=.7?"#30a64b":Xe>=.55?"#3f884f":Xe>=.4?"#487953":Xe>=.25?"#4b6751":Xe>=.1?"#48544a":"#484848"},qe=new o.Graphics;qe.lineStyle(0);for(const Me of Z.positionValuesMatrix)qe.beginFill(y.MapTools.hexStringToNumber(Be(Me.value))),qe.drawRect(ve(Me.x),De(Me.y),10,10),qe.endFill();let Oe=" ";Z.trustIndicator<.5&&(Oe="No trust in "+Z.trustIndicator);const mt=new o.Text(Oe,{fontFamily:"Arial",fontSize:20,fill:16715792,align:"center"});qe.addChild(mt),this.pixiApp.stage.addChild(qe)}}},5101:function(yt,U,R){"use strict";var o=this&&this.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(U,"__esModule",{value:!0}),U.Tools=U.DateRange=U.ChartColors=void 0;const y=o(R(9128));U.ChartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",greenCpu:"rgb(58,241,10)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(163,163,164)",dark:"rgb(68,72,80)"};var K=(()=>{return(J=K||(U.DateRange=K={}))[J.CENTURY=0]="CENTURY",J[J.YEAR=1]="YEAR",J[J.MONTH=2]="MONTH",J[J.DAY=3]="DAY",J[J.HOUR=4]="HOUR",J[J.MINUTE=5]="MINUTE",K;var J})();U.Tools=class z{static getTransparency(X,Z){const Y=void 0===Z?.5:1-Z;return(0,y.default)(X).alpha(Y).rgbString()}static formatDate(X,Z){const Y=X.getFullYear(),q=String(X.getMonth()+1).padStart(2,"0"),ce=String(X.getDate()).padStart(2,"0"),ae=String(X.getHours()).padStart(2,"0"),se=String(X.getMinutes()).padStart(2,"0");return Z===K.CENTURY||Z===K.YEAR?`${Y}`:Z===K.MONTH?`${Y}-${q}`:Z===K.DAY?`${Y}-${q}-${ce}`:Z===K.HOUR?`${Y}-${q}-${ce} ${ae}h`:`${Y}-${q}-${ce} ${ae}:${se}`}}},3517:function(yt,U,R){"use strict";var o=this&&this.__createBinding||(Object.create?function(K,z,J,X){void 0===X&&(X=J);var Z=Object.getOwnPropertyDescriptor(z,J);(!Z||("get"in Z?!z.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return z[J]}}),Object.defineProperty(K,X,Z)}:function(K,z,J,X){void 0===X&&(X=J),K[X]=z[J]}),y=this&&this.__exportStar||function(K,z){for(var J in K)"default"!==J&&!Object.prototype.hasOwnProperty.call(z,J)&&o(z,K,J)};Object.defineProperty(U,"__esModule",{value:!0}),y(R(7002),U),y(R(5101),U),y(R(3342),U),y(R(7015),U),y(R(4754),U),y(R(3871),U),y(R(1988),U),y(R(6531),U),y(R(2046),U)},3471:function(yt,U,R){"use strict";var o=this&&this.__createBinding||(Object.create?function(K,z,J,X){void 0===X&&(X=J);var Z=Object.getOwnPropertyDescriptor(z,J);(!Z||("get"in Z?!z.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return z[J]}}),Object.defineProperty(K,X,Z)}:function(K,z,J,X){void 0===X&&(X=J),K[X]=z[J]}),y=this&&this.__exportStar||function(K,z){for(var J in K)"default"!==J&&!Object.prototype.hasOwnProperty.call(z,J)&&o(z,K,J)};Object.defineProperty(U,"__esModule",{value:!0}),y(R(6684),U),y(R(3517),U),y(R(9206),U),y(R(7439),U),y(R(9658),U)},3616:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CartesianLayer=void 0;const o=R(8407),y=R(4520),K=R(6684),z=R(9206);U.CartesianLayer=class J{constructor(Z,Y,q,ce=!1){this.id=Z,this.type=Y,this.gridMap=q,this.addSomeDebugInfos=ce,this.mapGraph=new y.Graphics}getId(){return this.id}hide(){this.mapGraph.alpha=0}show(){this.mapGraph.alpha=1}isVisible(){return 1===this.mapGraph.alpha}setValues(Z,Y,q,ce){this.center=new K.MapLatLng(Z.lat,Z.lng),this.cartesianDrawer=new z.CartesianDrawer(ae=>{try{const{point1:se,point2:re}=ae.getPoints();return{p1:this.gridMap.latLngToContainerPoint(se),p2:this.gridMap.latLngToContainerPoint(re)}}catch(se){return{p1:new o.Point(0,0),p2:new o.Point(10,10)}}},ae=>this.gridMap.getBounds().contains(ae),()=>this.gridMap.getZoom(),this.type),this.cartesianDrawer.updateValues(Y,ce)}render(Z){var Y;const q=this.gridMap.latLngToContainerPoint(this.center);if(null===(Y=this.cartesianDrawer)||void 0===Y||!Y.hasChanged(this.center,q))return 0;if(this.mapGraph.removeChildren(),this.cartesianDrawer.renderCartesianMapValues(this.center,q,ae=>{const se=new y.Graphics;return se.beginFill(ae.getColor(),1-ae.getTransparency()),se.drawRect(0,0,ae.width,ae.height),se.endFill(),se.x=ae.x,se.y=ae.y,this.mapGraph.addChild(se),!0}),Z&&!this.addedInContainer&&(Z.addChild(this.mapGraph),this.addedInContainer=!0),this.addSomeDebugInfos){const ae=this.cartesianDrawer.getOptimization(),se=new y.Text("Car-"+(null==ae?void 0:ae.type)+"-"+this.cartesianDrawer.getVersion(),{fontFamily:"Arial",fontSize:16,fill:K.MapTools.hexStringToNumber("#ff1010"),align:"center"});this.mapGraph.addChild(se)}return 0}setPixiApp(Z){}getDrawer(){return this.cartesianDrawer}}},6276:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CompositeLayer=void 0;const o=R(9295);U.CompositeLayer=class y extends o.PixiGridLayer{constructor(z,J,X){super(z),this.id=z,this.removeAllLayers(),this.setCurrentWidth(J),this.setCurrentHeight(X),this.setRenderFn(this.renderVisibleLayers.bind(this)),this._initializeLayer()}addToMap(z){z.hasLayer(this)||(z.addLayer(this),this._update())}removeFromMap(z){z.hasLayer(this)&&z.removeLayer(this),this.removeAllLayers()}getId(){return this.id}addLayer(z){z.setPixiApp(this.pixiApp),this.layers.push(z)}removeAllLayers(){this.layers=[],this._pixiContainer&&this._pixiContainer.removeChildren()}showTheFistMatchingId(z){let J=!1,X=!1,Z=null;for(const Y of this.layers)J||(J=Y.getId().indexOf(z)>=0),J&&!X?(Y.show(),X=!0,Z=Y):Y.hide();return this.renderVisibleLayers(),Z}show(z){const J=this.layers.filter(X=>X.getId().indexOf(z)>=0);return J.forEach(X=>X.show()),this.renderVisibleLayers(),J}showAll(){const z=this.layers;return z.forEach(J=>J.show()),this.renderVisibleLayers(),z}getFirstDrawer(){for(const z of this.layers)if(z.getDrawer())return z.getDrawer();return null}renderVisibleLayers(){let z=0;for(const J of this.layers)J.isVisible()&&(z+=J.render(this._pixiContainer));return z}}},6379:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0})},7527:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0})},4413:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.IconLayer=void 0;const o=R(4520),y=R(6684),K=R(9206);U.IconLayer=class z{constructor(X,Z,Y,q=!1){this.id=X,this.type=Z,this.gridMap=Y,this.addSomeDebugInfos=q,this.mapGraph=new o.Graphics}getId(){return this.id}hide(){this.mapGraph.alpha=0}show(){this.mapGraph.alpha=1}isVisible(){return 1===this.mapGraph.alpha}setValues(X,Z,Y,q){this.center=new y.MapLatLng(X.lat,X.lng),this.iconDrawer=new K.IconDrawer(ce=>{try{const ae=this.gridMap.latLngToContainerPoint(ce);return{p1:ae,p2:ae}}catch(ae){return null}},ce=>this.gridMap.getBounds().contains(ce),()=>this.gridMap.getZoom(),this.type),this.iconDrawer.updateValues(Z,q)}render(X){var Z;if(!this.center)return-1;const Y=this.gridMap.latLngToContainerPoint(this.center);return!(null===(Z=this.iconDrawer)||void 0===Z)&&Z.hasChanged(this.center,Y)&&(this.mapGraph.removeChildren(),this.iconDrawer.renderCartesianMapValues(this.center,Y,ce=>{const ae=new o.Graphics,{center:re,start:le,end:ke}=ce.getPoints(5),Ce_x=ke.x-le.x,Ce_y=ke.y-le.y;return ae.lineStyle(5,ce.getColor(1),1-ce.getTransparency()),ae.moveTo(le.x,le.y),ae.lineTo(ke.x-Ce_x/7,ke.y-Ce_y/7),ae.drawCircle(ke.x-Ce_x/7,ke.y-Ce_y/7,5),ae.lineStyle(2.5,ce.getColor(.9),1-ce.getTransparency()),ae.moveTo(le.x,le.y),ae.lineTo(ke.x,ke.y),ae.x=re.x,ae.y=re.y,this.mapGraph.addChild(ae),!0}),X&&!this.addedInContainer&&(X.addChild(this.mapGraph),this.addedInContainer=!0)),0}setPixiApp(X){}getDrawer(){return this.iconDrawer}}},5633:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.MarkersLayer=void 0;const o=R(8407);U.MarkersLayer=class y{constructor(){this._layerGroup=null,this._width=0,this._height=0}addToMap(z){this._layerGroup&&(z.hasLayer(this._layerGroup)||z.addLayer(this._layerGroup))}removeFromMap(z){this._layerGroup&&z.hasLayer(this._layerGroup)&&z.removeLayer(this._layerGroup)}setCurrentWidth(z){this._width=z}setCurrentHeight(z){this._height=z}render(z){if(this._layerGroup&&this._layerGroup.clearLayers(),!z)return{markers:[]};const J=[];let X,Z;for(const Y of z){let q;Y.iconOptions&&(q=(0,o.icon)(Y.iconOptions));for(const ce of Y.iconsLatLng)if(X=ce.lat,Z=ce.lng,void 0===X||isNaN(X)||void 0===Z||isNaN(Z))console.error("MARKER ERROR: ",ce.id,"x: ",X," y: ",Z);else{const ae={title:ce.name,alt:ce.id};q&&(ae.icon=q),J.push((0,o.marker)([X,Z],ae))}}return this._layerGroup=(0,o.layerGroup)(J),{markers:J}}}},9295:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PixiGridLayer=void 0;const o=R(8407),y=R(4520),K=R(6684);U.PixiGridLayer=class X extends o.GridLayer{constructor(Y){super(),this._id=Y,this._lastUpdate=new Date("01-01-01"),this._gridOptions={padding:0,forceCanvas:!0,doubleBuffering:!1,resolution:o.Browser.retina?2:1,projectionZoom:q=>(q.getMaxZoom()+q.getMinZoom())/2,destroyInteractionManager:!1,autoPreventDefault:!0,preserveDrawingBuffer:!1,clearBeforeRender:!0,shouldRedrawOnMove:()=>!1},this.renderFn=q=>{}}onAdd(Y){return super.onAdd(Y),this._gridMap=Y,this._gridZoomAnimated=Y._gridZoomAnimated,!this._gridContainer&&this._pixiRenderer&&(this._gridContainer=o.DomUtil.create("div","leaflet-pixi-overlay"),this._gridContainer.appendChild(this._pixiRenderer.view),this._gridMap.getPanes()[this._getPaneName()].appendChild(this._gridContainer),this._setEvents()),this._gridInitialZoom=this._gridOptions.projectionZoom(this._gridMap),this._gridWgsOrigin=new K.MapLatLng(0,0),this._gridWgsInitialShift=this._gridMap.project(this._gridWgsOrigin,this._gridInitialZoom),this._gridMapInitialZoom=this._gridMap.getZoom(),this}onRemove(Y){super.onRemove(Y);const q=this._gridMap.getPanes()[this._getPaneName()];q&&q.children.length>0&&q.removeChild(this._gridContainer);const ce=this.getEvents();for(const ae in ce)this._gridMap.off(ae,ce[ae],this);return this.pixiApp.destroy(),this.pixiApp=null,this._gridContainer=null,this._pixiContainer=null,this._pixiRenderer=null,this}setCurrentWidth(Y){this.currentWidth=Y}setCurrentHeight(Y){this.currentHeight=Y}_initializeLayer(){this._gridRendererOptions={transparent:!0,width:this.currentWidth,height:this.currentHeight,sharedTicker:!0},this._gridDoubleBuffering=!1,this.pixiApp=new y.Application(this._gridRendererOptions),this._pixiContainer=this.pixiApp.stage,this._pixiRenderer=this.pixiApp.renderer}setRenderFn(Y){this.renderFn=Y}_update(){if(super._update(),!this._gridMap||!this._gridContainer)return;const Y=this._gridMap.getPixelBounds().min.subtract(this._gridMap.getPixelOrigin());o.DomUtil.setPosition(this._gridContainer,Y),this._layerRedraw()}setMeAsFirst(){for(const Y of Object.getOwnPropertyNames(this._gridMap.getPanes())){this._gridMap.getPanes()[Y].style.visibility=Y===this._getPaneName()?"visible":"hidden"}}isFirst(){return this._gridMap.getPanes()[this._getPaneName()].childNodes[0].nodeName===this._getPaneName()}_addContainer(){}_setEvents(){const Y=["zoomend","viewreset"];for(const q in Y)this._gridMap.on(q,this._update,this)}_getPaneName(){return this._gridOptions.pane||"overlayPane"}_layerRedraw(Y){this.renderFn(this._pixiContainer)}}},6962:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PolarLayer=void 0;const o=R(4520),y=R(9497),K=R(645),z=R(3328),J=R(1070),X=R(847);U.PolarLayer=class Z{constructor(q,ce,ae,se=!1){this.id=q,this.type=ce,this.gridMap=ae,this.addSomeDebugInfos=se,this.mapGraph=new o.Graphics,this.config=new K.PolarLayerConfig}getId(){return this.id}hide(){this.mapGraph.alpha=0}show(){this.mapGraph.alpha=1}isVisible(){return 1===this.mapGraph.alpha}setValues(q,ce,ae,se){this.center=new X.MapLatLng(q.lat,q.lng),this.config.copy(ae),this.polarDrawer=new y.PolarDrawer(le=>{le.setCenter({latitude:q.lat,longitude:q.lng});const ke=new X.MapLatLng(le.getLatitude(),le.getLongitude());return this.gridMap.latLngToContainerPoint(ke)},le=>{if(this.config.minValueToDisplay>le.value)return!1;le.setCenter({latitude:q.lat,longitude:q.lng});const ke=new X.MapLatLng(le.getLatitude(),le.getLongitude());return this.gridMap.getBounds().contains(ke)},()=>this.gridMap.getZoom(),this.type);const re=z.PolarDrawerOptimization.Defaults();this.polarDrawer.setConfiguration(this.config.theme,this.config.range,re),this.polarDrawer.updateValues(ce,se)}render(q){var ce;const ae=this.gridMap.latLngToContainerPoint(this.center);if(null===(ce=this.polarDrawer)||void 0===ce||!ce.hasChanged(this.center,ae))return 0;this.mapGraph.removeChildren();const se=ke=>{let Ce=ke.polarAzimuthInDegrees-90;return Ce<0&&(Ce+=360),Ce*(Math.PI/180)},le=this.polarDrawer.renderPolarMapValues(this.center,ae,(ke,Ce)=>{const fe=new o.Graphics;if(!Ce){const Me=ke.getPositionFrom(ae),Xe=1-ke.getTransparency(this.config.opacity);return fe.lineStyle(10,ke.getColor(),Xe),fe.drawCircle(Me.x,Me.y,1),this.mapGraph.addChild(fe),!0}const ve=ke.getPolarDistanceRelative(),De=Ce.getPolarDistanceRelative(),Be=Math.abs(De-ve);if(Be<=0)return!1;const qe=1-ke.getTransparency(this.config.opacity);fe.lineStyle(1,ke.getColor(),qe);let Oe=se(ke),mt=se(Ce);return(Oe===mt||Oe===mt+2*Math.PI)&&(Oe=0,mt=2*Math.PI),fe.arc(0,0,Be/2,Oe,mt),fe.position.x=ae.x,fe.position.y=ae.y,this.mapGraph.addChild(fe),!0});if(q&&!this.addedInContainer&&(q.addChild(this.mapGraph),this.addedInContainer=!0),this.addSomeDebugInfos){const ke=this.polarDrawer.getOptimization(),Ce=new o.Text("Pol-"+(null==ke?void 0:ke.type)+"-"+this.polarDrawer.getVersion(),{fontFamily:"Arial",fontSize:16,fill:J.MapTools.hexStringToNumber("#3cff10"),align:"center"});this.mapGraph.addChild(Ce)}return le}setPixiApp(q){}getDrawer(){return this.polarDrawer}}},645:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PolarLayerConfig=void 0,U.PolarLayerConfig=class R{constructor(y,K,z,J,X){this.optimization=y,this.theme=K,this.range=z,this.opacity=J,this.minValueToDisplay=X}copy(y){return typeof y.optimization<"u"&&(this.optimization=y.optimization),typeof y.theme<"u"&&(this.theme=y.theme),typeof y.range<"u"&&(this.range=y.range),typeof y.opacity<"u"&&(this.opacity=y.opacity),typeof y.minValueToDisplay<"u"&&(this.minValueToDisplay=y.minValueToDisplay),this}}},7439:function(yt,U,R){"use strict";var o=this&&this.__createBinding||(Object.create?function(K,z,J,X){void 0===X&&(X=J);var Z=Object.getOwnPropertyDescriptor(z,J);(!Z||("get"in Z?!z.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return z[J]}}),Object.defineProperty(K,X,Z)}:function(K,z,J,X){void 0===X&&(X=J),K[X]=z[J]}),y=this&&this.__exportStar||function(K,z){for(var J in K)"default"!==J&&!Object.prototype.hasOwnProperty.call(z,J)&&o(z,K,J)};Object.defineProperty(U,"__esModule",{value:!0}),y(R(6962),U),y(R(645),U),y(R(6276),U),y(R(5633),U),y(R(9295),U),y(R(6379),U),y(R(7527),U),y(R(3616),U),y(R(4413),U)},9177:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.FrameContainer=void 0,U.FrameContainer=class R{constructor(y,K,z=!1,J=!1,X=!1){this.date=y,this.values=K,this.isPolar=z,this.isCartesian=J,this.isIcon=X}}},6385:(yt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.TimeframeContainer=void 0,U.TimeframeContainer=class R{constructor(y,K,z){this.name=y,this.timeframe=K,this.version=z}setCompositeLayer(y){this.compositeLayer=y}showTimeframes(y){if(!this.compositeLayer)return[{layers:[],frameContainer:null}];let K=[];return this.timeframe.forEach(z=>{K=K.concat({layers:this.compositeLayer.show(y.toISOString()),frameContainer:z})}),K}getFrameId(y){var K;return this.name+"_"+new Date(y.date).toISOString()+"_"+(null===(K=y.values)||void 0===K?void 0:K.length)}}},6604:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.TimeframeContainers=void 0;const o=R(6385),y=R(4718),K=R(9177),z=R(6684);U.TimeframeContainers=class J{constructor(Z){this.containers=Z}addFromRadarNodeMap(Z,Y){const q=Z.getMapData(),ce=this.computeFrames(q,Y);this.containers.push(new o.TimeframeContainer(Z.name,ce,Z.getVersion()))}addFromRainComputationMap(Z,Y){const q=Z.getMapData(),ce=this.computeFrames(q,Y);this.containers.push(new o.TimeframeContainer(Z.name,ce,Z.getVersion()))}showTimeframes(Z,Y){let q=[];for(const ce of this.containers)ce.name===Z&&(q=q.concat(ce.showTimeframes(Y)));return q}computeFrames(Z,Y){let q;return q=Z.map(Y?ce=>{let ae=[];return ce.values&&ce.values.forEach(se=>{const re=y.RainPolarMeasureValue.From(se);ae=ae.concat(z.PolarMapValue.From(re.getPolars()))}),new K.FrameContainer(ce.date,ae,!0,!1)}:ce=>{let ae=[];return ce.values&&ce.values.forEach(se=>{const re=y.CartesianMeasureValue.From(se);ae=ae.concat(z.CartesianMapValue.From(re.getCartesianValues(),re.getCartesianPixelWidth()))}),new K.FrameContainer(ce.date,ae,!1,!0)}),q}}},9658:function(yt,U,R){"use strict";var o=this&&this.__createBinding||(Object.create?function(K,z,J,X){void 0===X&&(X=J);var Z=Object.getOwnPropertyDescriptor(z,J);(!Z||("get"in Z?!z.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return z[J]}}),Object.defineProperty(K,X,Z)}:function(K,z,J,X){void 0===X&&(X=J),K[X]=z[J]}),y=this&&this.__exportStar||function(K,z){for(var J in K)"default"!==J&&!Object.prototype.hasOwnProperty.call(z,J)&&o(z,K,J)};Object.defineProperty(U,"__esModule",{value:!0}),y(R(9177),U),y(R(6385),U),y(R(6604),U)},6238:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CartesianMapValue=void 0;const o=R(847),y=R(8407);class K extends o.MapLatLng{constructor(J,X,Z,Y,q,ce,ae){super(X,Z,void 0,ce,ae,J),this.lat2=Y,this.lng2=q}static Duplicate(J){return new K(J.value,J.lat,J.lng,J.lat2,J.lng2,J.id,J.name)}static From(J,X){const Z=[];return J.forEach(Y=>{Z.push(new K(Y.value,Y.lat,Y.lng,Y.lat+X.lat,Y.lng+X.lng,""+Math.random(),""))}),Z}getPoints(){return{point1:new y.LatLng(this.lat,this.lng),point2:new y.LatLng(this.lat2,this.lng2)}}}U.CartesianMapValue=K},1393:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.IconMapValue=void 0;const o=R(6238);U.IconMapValue=class y extends o.CartesianMapValue{constructor(z,J,X,Z,Y,q){super(X,z,J,z,J,Y,q),this.speed=X,this.angle=Z}}},847:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.MapLatLng=void 0;const o=R(8407);U.MapLatLng=class y extends o.LatLng{constructor(z,J,X,Z,Y,q){super(z,J,X),this.lat=z,this.lng=J,this.alt=X,this.id=Z,this.name=Y,this.value=q}}},1070:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.MapTools=void 0;const o=R(2803),y=R(6238);U.MapTools=class K{static getPolarDistanceRatio(J,X,Z){const Y=o.PolarMapValue.Duplicate(X),q=Z(Y);return Math.sqrt(Math.pow(J.x-q.x,2)+Math.pow(J.y-q.y,2))/Y.polarDistanceInMeters}static getCartesianDistanceRatio(J,X,Z){if(X.length<=1)return 1;const q=Z(new y.CartesianMapValue(0,J.lat,J.lng,0,0,"","")).p1,ce=X[X.length-1],ae=ce.distanceTo(J),se=Z(ce);return Math.sqrt(Math.pow(q.x-se.p1.x,2)+Math.pow(q.y-se.p1.y,2))/ae}static hexStringToNumber(J){const X=J.substring(1,3)+J.substring(3,5)+J.substring(5,7);return parseInt(X,16)}}},2803:(yt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PolarMapValue=void 0;const o=R(5175),y=R(847);class K extends y.MapLatLng{constructor(J,X,Z,Y,q,ce){super(0,0,Y,q,ce,J),this.polarAzimuthInDegrees=X,this.polarDistanceInMeters=Z,this.altitude=Y,this.center=new y.MapLatLng(0,0),this.setLatLngConsistentWithPolar()}static Duplicate(J){const X=new K(J.value,J.polarAzimuthInDegrees,J.polarDistanceInMeters,J.altitude,J.id,J.name);return X.setCenter({latitude:J.center.lat,longitude:J.center.lng}),X}static From(J){const X=[];return J.forEach(Z=>{Z.polarEdges.forEach((Y,q)=>{X.push(new K(Y,Z.azimuth,Z.distance*(q+1)))})}),X}static GetLatLngFromPolar(J,X,Z){const Y=(0,o.computeDestinationPoint)(J,Z,X);return{lat:Y.latitude,lng:Y.longitude}}setCenter(J){this.center=new y.MapLatLng(J.latitude,J.longitude),this.setLatLngConsistentWithPolar()}setPolarAzimuthInDegrees(J){this.polarAzimuthInDegrees=J,this.setLatLngConsistentWithPolar()}setPolarDistanceInMeters(J){this.polarDistanceInMeters=J,this.setLatLngConsistentWithPolar()}getLatitude(){return this.setLatLngConsistentWithPolar(),this.lat}getLongitude(){return this.setLatLngConsistentWithPolar(),this.lng}setLatLngConsistentWithPolar(){if(0===this.center.lat&&0===this.center.lng)return;const J=K.GetLatLngFromPolar(this.center,this.polarAzimuthInDegrees,this.polarDistanceInMeters);this.lat=J.lat,this.lng=J.lng}}U.PolarMapValue=K},6684:function(yt,U,R){"use strict";var o=this&&this.__createBinding||(Object.create?function(K,z,J,X){void 0===X&&(X=J);var Z=Object.getOwnPropertyDescriptor(z,J);(!Z||("get"in Z?!z.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return z[J]}}),Object.defineProperty(K,X,Z)}:function(K,z,J,X){void 0===X&&(X=J),K[X]=z[J]}),y=this&&this.__exportStar||function(K,z){for(var J in K)"default"!==J&&!Object.prototype.hasOwnProperty.call(z,J)&&o(z,K,J)};Object.defineProperty(U,"__esModule",{value:!0}),y(R(2803),U),y(R(6238),U),y(R(1070),U),y(R(847),U),y(R(1393),U)},1135:(yt,U,R)=>{"use strict";R.d(U,{X:()=>y});var o=R(7579);class y extends o.x{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const J=super._subscribe(z);return!J.closed&&z.next(this._value),J}getValue(){const{hasError:z,thrownError:J,_value:X}=this;if(z)throw J;return this._throwIfClosed(),X}next(z){super.next(this._value=z)}}},9751:(yt,U,R)=>{"use strict";R.d(U,{y:()=>Y});var o=R(930),y=R(727),K=R(8822),z=R(9635),J=R(2416),X=R(576),Z=R(2806);let Y=(()=>{class se{constructor(le){le&&(this._subscribe=le)}lift(le){const ke=new se;return ke.source=this,ke.operator=le,ke}subscribe(le,ke,Ce){const fe=function ae(se){return se&&se instanceof o.Lv||function ce(se){return se&&(0,X.m)(se.next)&&(0,X.m)(se.error)&&(0,X.m)(se.complete)}(se)&&(0,y.Nn)(se)}(le)?le:new o.Hp(le,ke,Ce);return(0,Z.x)(()=>{const{operator:ve,source:De}=this;fe.add(ve?ve.call(fe,De):De?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(le){try{return this._subscribe(le)}catch(ke){le.error(ke)}}forEach(le,ke){return new(ke=q(ke))((Ce,fe)=>{const ve=new o.Hp({next:De=>{try{le(De)}catch(Be){fe(Be),ve.unsubscribe()}},error:fe,complete:Ce});this.subscribe(ve)})}_subscribe(le){var ke;return null===(ke=this.source)||void 0===ke?void 0:ke.subscribe(le)}[K.L](){return this}pipe(...le){return(0,z.U)(le)(this)}toPromise(le){return new(le=q(le))((ke,Ce)=>{let fe;this.subscribe(ve=>fe=ve,ve=>Ce(ve),()=>ke(fe))})}}return se.create=re=>new se(re),se})();function q(se){var re;return null!==(re=null!=se?se:J.v.Promise)&&void 0!==re?re:Promise}},7579:(yt,U,R)=>{"use strict";R.d(U,{x:()=>Z});var o=R(9751),y=R(727);const z=(0,R(3888).d)(q=>function(){q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=R(8737),X=R(2806);let Z=(()=>{class q extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const se=new Y(this,this);return se.operator=ae,se}_throwIfClosed(){if(this.closed)throw new z}next(ae){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(ae)}})}error(ae){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:se}=this;for(;se.length;)se.shift().error(ae)}})}complete(){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:se,isStopped:re,observers:le}=this;return se||re?y.Lc:(this.currentObservers=null,le.push(ae),new y.w0(()=>{this.currentObservers=null,(0,J.P)(le,ae)}))}_checkFinalizedStatuses(ae){const{hasError:se,thrownError:re,isStopped:le}=this;se?ae.error(re):le&&ae.complete()}asObservable(){const ae=new o.y;return ae.source=this,ae}}return q.create=(ce,ae)=>new Y(ce,ae),q})();class Y extends Z{constructor(ce,ae){super(),this.destination=ce,this.source=ae}next(ce){var ae,se;null===(se=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===se||se.call(ae,ce)}error(ce){var ae,se;null===(se=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===se||se.call(ae,ce)}complete(){var ce,ae;null===(ae=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===ae||ae.call(ce)}_subscribe(ce){var ae,se;return null!==(se=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(ce))&&void 0!==se?se:y.Lc}}},930:(yt,U,R)=>{"use strict";R.d(U,{Hp:()=>Ce,Lv:()=>se});var o=R(576),y=R(727),K=R(2416),z=R(7849),J=R(5032);const X=q("C",void 0,void 0);function q(qe,Oe,mt){return{kind:qe,value:Oe,error:mt}}var ce=R(3410),ae=R(2806);class se extends y.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,y.Nn)(Oe)&&Oe.add(this)):this.destination=Be}static create(Oe,mt,Me){return new Ce(Oe,mt,Me)}next(Oe){this.isStopped?De(function Y(qe){return q("N",qe,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?De(function Z(qe){return q("E",void 0,qe)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?De(X,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const re=Function.prototype.bind;function le(qe,Oe){return re.call(qe,Oe)}class ke{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:mt}=this;if(mt.next)try{mt.next(Oe)}catch(Me){fe(Me)}}error(Oe){const{partialObserver:mt}=this;if(mt.error)try{mt.error(Oe)}catch(Me){fe(Me)}else fe(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(mt){fe(mt)}}}class Ce extends se{constructor(Oe,mt,Me){let Xe;if(super(),(0,o.m)(Oe)||!Oe)Xe={next:null!=Oe?Oe:void 0,error:null!=mt?mt:void 0,complete:null!=Me?Me:void 0};else{let Ke;this&&K.v.useDeprecatedNextContext?(Ke=Object.create(Oe),Ke.unsubscribe=()=>this.unsubscribe(),Xe={next:Oe.next&&le(Oe.next,Ke),error:Oe.error&&le(Oe.error,Ke),complete:Oe.complete&&le(Oe.complete,Ke)}):Xe=Oe}this.destination=new ke(Xe)}}function fe(qe){K.v.useDeprecatedSynchronousErrorHandling?(0,ae.O)(qe):(0,z.h)(qe)}function De(qe,Oe){const{onStoppedNotification:mt}=K.v;mt&&ce.z.setTimeout(()=>mt(qe,Oe))}const Be={closed:!0,next:J.Z,error:function ve(qe){throw qe},complete:J.Z}},727:(yt,U,R)=>{"use strict";R.d(U,{Lc:()=>X,w0:()=>J,Nn:()=>Z});var o=R(576);const K=(0,R(3888).d)(q=>function(ae){q(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((se,re)=>`${re+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var z=R(8737);class J{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const le of ae)le.remove(this);else ae.remove(this);const{initialTeardown:se}=this;if((0,o.m)(se))try{se()}catch(le){ce=le instanceof K?le.errors:[le]}const{_finalizers:re}=this;if(re){this._finalizers=null;for(const le of re)try{Y(le)}catch(ke){ce=null!=ce?ce:[],ke instanceof K?ce=[...ce,...ke.errors]:ce.push(ke)}}if(ce)throw new K(ce)}}add(ce){var ae;if(ce&&ce!==this)if(this.closed)Y(ce);else{if(ce instanceof J){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(ce)}}_hasParent(ce){const{_parentage:ae}=this;return ae===ce||Array.isArray(ae)&&ae.includes(ce)}_addParent(ce){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(ce),ae):ae?[ae,ce]:ce}_removeParent(ce){const{_parentage:ae}=this;ae===ce?this._parentage=null:Array.isArray(ae)&&(0,z.P)(ae,ce)}remove(ce){const{_finalizers:ae}=this;ae&&(0,z.P)(ae,ce),ce instanceof J&&ce._removeParent(this)}}J.EMPTY=(()=>{const q=new J;return q.closed=!0,q})();const X=J.EMPTY;function Z(q){return q instanceof J||q&&"closed"in q&&(0,o.m)(q.remove)&&(0,o.m)(q.add)&&(0,o.m)(q.unsubscribe)}function Y(q){(0,o.m)(q)?q():q.unsubscribe()}},2416:(yt,U,R)=>{"use strict";R.d(U,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,U,R)=>{"use strict";R.d(U,{E:()=>y});const y=new(R(9751).y)(J=>J.complete())},2076:(yt,U,R)=>{"use strict";R.d(U,{D:()=>Me});var o=R(8421),y=R(9672),K=R(4482),z=R(5403);function J(Xe,Ke=0){return(0,K.e)((Qe,ut)=>{Qe.subscribe((0,z.x)(ut,ze=>(0,y.f)(ut,Xe,()=>ut.next(ze),Ke),()=>(0,y.f)(ut,Xe,()=>ut.complete(),Ke),ze=>(0,y.f)(ut,Xe,()=>ut.error(ze),Ke)))})}function X(Xe,Ke=0){return(0,K.e)((Qe,ut)=>{ut.add(Xe.schedule(()=>Qe.subscribe(ut),Ke))})}var q=R(9751),ae=R(2202),se=R(576);function le(Xe,Ke){if(!Xe)throw new Error("Iterable cannot be null");return new q.y(Qe=>{(0,y.f)(Qe,Ke,()=>{const ut=Xe[Symbol.asyncIterator]();(0,y.f)(Qe,Ke,()=>{ut.next().then(ze=>{ze.done?Qe.complete():Qe.next(ze.value)})},0,!0)})})}var ke=R(3670),Ce=R(8239),fe=R(1144),ve=R(6495),De=R(2206),Be=R(4532),qe=R(3260);function Me(Xe,Ke){return Ke?function mt(Xe,Ke){if(null!=Xe){if((0,ke.c)(Xe))return function Z(Xe,Ke){return(0,o.Xf)(Xe).pipe(X(Ke),J(Ke))}(Xe,Ke);if((0,fe.z)(Xe))return function ce(Xe,Ke){return new q.y(Qe=>{let ut=0;return Ke.schedule(function(){ut===Xe.length?Qe.complete():(Qe.next(Xe[ut++]),Qe.closed||this.schedule())})})}(Xe,Ke);if((0,Ce.t)(Xe))return function Y(Xe,Ke){return(0,o.Xf)(Xe).pipe(X(Ke),J(Ke))}(Xe,Ke);if((0,De.D)(Xe))return le(Xe,Ke);if((0,ve.T)(Xe))return function re(Xe,Ke){return new q.y(Qe=>{let ut;return(0,y.f)(Qe,Ke,()=>{ut=Xe[ae.h](),(0,y.f)(Qe,Ke,()=>{let ze,Ze;try{({value:ze,done:Ze}=ut.next())}catch(ge){return void Qe.error(ge)}Ze?Qe.complete():Qe.next(ze)},0,!0)}),()=>(0,se.m)(null==ut?void 0:ut.return)&&ut.return()})}(Xe,Ke);if((0,qe.L)(Xe))return function Oe(Xe,Ke){return le((0,qe.Q)(Xe),Ke)}(Xe,Ke)}throw(0,Be.z)(Xe)}(Xe,Ke):(0,o.Xf)(Xe)}},8421:(yt,U,R)=>{"use strict";R.d(U,{Xf:()=>re});var o=R(7582),y=R(1144),K=R(8239),z=R(9751),J=R(3670),X=R(2206),Z=R(4532),Y=R(6495),q=R(3260),ce=R(576),ae=R(7849),se=R(8822);function re(qe){if(qe instanceof z.y)return qe;if(null!=qe){if((0,J.c)(qe))return function le(qe){return new z.y(Oe=>{const mt=qe[se.L]();if((0,ce.m)(mt.subscribe))return mt.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(qe);if((0,y.z)(qe))return function ke(qe){return new z.y(Oe=>{for(let mt=0;mt<qe.length&&!Oe.closed;mt++)Oe.next(qe[mt]);Oe.complete()})}(qe);if((0,K.t)(qe))return function Ce(qe){return new z.y(Oe=>{qe.then(mt=>{Oe.closed||(Oe.next(mt),Oe.complete())},mt=>Oe.error(mt)).then(null,ae.h)})}(qe);if((0,X.D)(qe))return ve(qe);if((0,Y.T)(qe))return function fe(qe){return new z.y(Oe=>{for(const mt of qe)if(Oe.next(mt),Oe.closed)return;Oe.complete()})}(qe);if((0,q.L)(qe))return function De(qe){return ve((0,q.Q)(qe))}(qe)}throw(0,Z.z)(qe)}function ve(qe){return new z.y(Oe=>{(function Be(qe,Oe){var mt,Me,Xe,Ke;return(0,o.mG)(this,void 0,void 0,function*(){try{for(mt=(0,o.KL)(qe);!(Me=yield mt.next()).done;)if(Oe.next(Me.value),Oe.closed)return}catch(Qe){Xe={error:Qe}}finally{try{Me&&!Me.done&&(Ke=mt.return)&&(yield Ke.call(mt))}finally{if(Xe)throw Xe.error}}Oe.complete()})})(qe,Oe).catch(mt=>Oe.error(mt))})}},9646:(yt,U,R)=>{"use strict";R.d(U,{of:()=>K});var o=R(3269),y=R(2076);function K(...z){const J=(0,o.yG)(z);return(0,y.D)(z,J)}},5403:(yt,U,R)=>{"use strict";R.d(U,{x:()=>y});var o=R(930);function y(z,J,X,Z,Y){return new K(z,J,X,Z,Y)}class K extends o.Lv{constructor(J,X,Z,Y,q,ce){super(J),this.onFinalize=q,this.shouldUnsubscribe=ce,this._next=X?function(ae){try{X(ae)}catch(se){J.error(se)}}:super._next,this._error=Y?function(ae){try{Y(ae)}catch(se){J.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(ae){J.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:X}=this;super.unsubscribe(),!X&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4351:(yt,U,R)=>{"use strict";R.d(U,{b:()=>K});var o=R(5577),y=R(576);function K(z,J){return(0,y.m)(J)?(0,o.z)(z,J,1):(0,o.z)(z,1)}},9300:(yt,U,R)=>{"use strict";R.d(U,{h:()=>K});var o=R(4482),y=R(5403);function K(z,J){return(0,o.e)((X,Z)=>{let Y=0;X.subscribe((0,y.x)(Z,q=>z.call(J,q,Y++)&&Z.next(q)))})}},4004:(yt,U,R)=>{"use strict";R.d(U,{U:()=>K});var o=R(4482),y=R(5403);function K(z,J){return(0,o.e)((X,Z)=>{let Y=0;X.subscribe((0,y.x)(Z,q=>{Z.next(z.call(J,q,Y++))}))})}},8189:(yt,U,R)=>{"use strict";R.d(U,{J:()=>K});var o=R(5577),y=R(4671);function K(z=1/0){return(0,o.z)(y.y,z)}},5577:(yt,U,R)=>{"use strict";R.d(U,{z:()=>Y});var o=R(4004),y=R(8421),K=R(4482),z=R(9672),J=R(5403),Z=R(576);function Y(q,ce,ae=1/0){return(0,Z.m)(ce)?Y((se,re)=>(0,o.U)((le,ke)=>ce(se,le,re,ke))((0,y.Xf)(q(se,re))),ae):("number"==typeof ce&&(ae=ce),(0,K.e)((se,re)=>function X(q,ce,ae,se,re,le,ke,Ce){const fe=[];let ve=0,De=0,Be=!1;const qe=()=>{Be&&!fe.length&&!ve&&ce.complete()},Oe=Me=>ve<se?mt(Me):fe.push(Me),mt=Me=>{le&&ce.next(Me),ve++;let Xe=!1;(0,y.Xf)(ae(Me,De++)).subscribe((0,J.x)(ce,Ke=>{null==re||re(Ke),le?Oe(Ke):ce.next(Ke)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(ve--;fe.length&&ve<se;){const Ke=fe.shift();ke?(0,z.f)(ce,ke,()=>mt(Ke)):mt(Ke)}qe()}catch(Ke){ce.error(Ke)}}))};return q.subscribe((0,J.x)(ce,Oe,()=>{Be=!0,qe()})),()=>{null==Ce||Ce()}}(se,re,q,ae)))}},3900:(yt,U,R)=>{"use strict";R.d(U,{w:()=>z});var o=R(8421),y=R(4482),K=R(5403);function z(J,X){return(0,y.e)((Z,Y)=>{let q=null,ce=0,ae=!1;const se=()=>ae&&!q&&Y.complete();Z.subscribe((0,K.x)(Y,re=>{null==q||q.unsubscribe();let le=0;const ke=ce++;(0,o.Xf)(J(re,ke)).subscribe(q=(0,K.x)(Y,Ce=>Y.next(X?X(re,Ce,ke,le++):Ce),()=>{q=null,se()}))},()=>{ae=!0,se()}))})}},3410:(yt,U,R)=>{"use strict";R.d(U,{z:()=>o});const o={setTimeout(y,K,...z){const{delegate:J}=o;return null!=J&&J.setTimeout?J.setTimeout(y,K,...z):setTimeout(y,K,...z)},clearTimeout(y){const{delegate:K}=o;return((null==K?void 0:K.clearTimeout)||clearTimeout)(y)},delegate:void 0}},2202:(yt,U,R)=>{"use strict";R.d(U,{h:()=>y});const y=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,U,R)=>{"use strict";R.d(U,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(yt,U,R)=>{"use strict";R.d(U,{_6:()=>X,jO:()=>z,yG:()=>J});var o=R(576),y=R(3532);function K(Z){return Z[Z.length-1]}function z(Z){return(0,o.m)(K(Z))?Z.pop():void 0}function J(Z){return(0,y.K)(K(Z))?Z.pop():void 0}function X(Z,Y){return"number"==typeof K(Z)?Z.pop():Y}},4742:(yt,U,R)=>{"use strict";R.d(U,{D:()=>J});const{isArray:o}=Array,{getPrototypeOf:y,prototype:K,keys:z}=Object;function J(Z){if(1===Z.length){const Y=Z[0];if(o(Y))return{args:Y,keys:null};if(function X(Z){return Z&&"object"==typeof Z&&y(Z)===K}(Y)){const q=z(Y);return{args:q.map(ce=>Y[ce]),keys:q}}}return{args:Z,keys:null}}},8737:(yt,U,R)=>{"use strict";function o(y,K){if(y){const z=y.indexOf(K);0<=z&&y.splice(z,1)}}R.d(U,{P:()=>o})},3888:(yt,U,R)=>{"use strict";function o(y){const z=y(J=>{Error.call(J),J.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}R.d(U,{d:()=>o})},1810:(yt,U,R)=>{"use strict";function o(y,K){return y.reduce((z,J,X)=>(z[J]=K[X],z),{})}R.d(U,{n:()=>o})},2806:(yt,U,R)=>{"use strict";R.d(U,{O:()=>z,x:()=>K});var o=R(2416);let y=null;function K(J){if(o.v.useDeprecatedSynchronousErrorHandling){const X=!y;if(X&&(y={errorThrown:!1,error:null}),J(),X){const{errorThrown:Z,error:Y}=y;if(y=null,Z)throw Y}}else J()}function z(J){o.v.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=J)}},9672:(yt,U,R)=>{"use strict";function o(y,K,z,J=0,X=!1){const Z=K.schedule(function(){z(),X?y.add(this.schedule(null,J)):this.unsubscribe()},J);if(y.add(Z),!X)return Z}R.d(U,{f:()=>o})},4671:(yt,U,R)=>{"use strict";function o(y){return y}R.d(U,{y:()=>o})},1144:(yt,U,R)=>{"use strict";R.d(U,{z:()=>o});const o=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(yt,U,R)=>{"use strict";R.d(U,{D:()=>y});var o=R(576);function y(K){return Symbol.asyncIterator&&(0,o.m)(null==K?void 0:K[Symbol.asyncIterator])}},576:(yt,U,R)=>{"use strict";function o(y){return"function"==typeof y}R.d(U,{m:()=>o})},3670:(yt,U,R)=>{"use strict";R.d(U,{c:()=>K});var o=R(8822),y=R(576);function K(z){return(0,y.m)(z[o.L])}},6495:(yt,U,R)=>{"use strict";R.d(U,{T:()=>K});var o=R(2202),y=R(576);function K(z){return(0,y.m)(null==z?void 0:z[o.h])}},8239:(yt,U,R)=>{"use strict";R.d(U,{t:()=>y});var o=R(576);function y(K){return(0,o.m)(null==K?void 0:K.then)}},3260:(yt,U,R)=>{"use strict";R.d(U,{L:()=>z,Q:()=>K});var o=R(7582),y=R(576);function K(J){return(0,o.FC)(this,arguments,function*(){const Z=J.getReader();try{for(;;){const{value:Y,done:q}=yield(0,o.qq)(Z.read());if(q)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Y)}}finally{Z.releaseLock()}})}function z(J){return(0,y.m)(null==J?void 0:J.getReader)}},3532:(yt,U,R)=>{"use strict";R.d(U,{K:()=>y});var o=R(576);function y(K){return K&&(0,o.m)(K.schedule)}},4482:(yt,U,R)=>{"use strict";R.d(U,{A:()=>y,e:()=>K});var o=R(576);function y(z){return(0,o.m)(null==z?void 0:z.lift)}function K(z){return J=>{if(y(J))return J.lift(function(X){try{return z(X,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(yt,U,R)=>{"use strict";R.d(U,{Z:()=>z});var o=R(4004);const{isArray:y}=Array;function z(J){return(0,o.U)(X=>function K(J,X){return y(X)?J(...X):J(X)}(J,X))}},5032:(yt,U,R)=>{"use strict";function o(){}R.d(U,{Z:()=>o})},9635:(yt,U,R)=>{"use strict";R.d(U,{U:()=>K,z:()=>y});var o=R(4671);function y(...z){return K(z)}function K(z){return 0===z.length?o.y:1===z.length?z[0]:function(X){return z.reduce((Z,Y)=>Y(Z),X)}}},7849:(yt,U,R)=>{"use strict";R.d(U,{h:()=>K});var o=R(2416),y=R(3410);function K(z){y.z.setTimeout(()=>{const{onUnhandledError:J}=o.v;if(!J)throw z;J(z)})}},4532:(yt,U,R)=>{"use strict";function o(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(U,{z:()=>o})},9511:(yt,U,R)=>{"use strict";var o=R(5203),y=R(7484),K=R(7027)(),z=R(7378),J=R(2844),X=o("%Math.floor%");yt.exports=function(Y,q){if("function"!=typeof Y)throw new J("`fn` is not a function");if("number"!=typeof q||q<0||q>4294967295||X(q)!==q)throw new J("`length` must be a positive 32-bit integer");var ce=arguments.length>2&&!!arguments[2],ae=!0,se=!0;if("length"in Y&&z){var re=z(Y,"length");re&&!re.configurable&&(ae=!1),re&&!re.writable&&(se=!1)}return(ae||se||!ce)&&(K?y(Y,"length",q,!0,!0):y(Y,"length",q)),Y}},8475:(yt,U,R)=>{"use strict";var o=R(5203),y=R(5834),K=R(7024),z=R(2844),J=o("%WeakMap%",!0),X=o("%Map%",!0),Z=y("WeakMap.prototype.get",!0),Y=y("WeakMap.prototype.set",!0),q=y("WeakMap.prototype.has",!0),ce=y("Map.prototype.get",!0),ae=y("Map.prototype.set",!0),se=y("Map.prototype.has",!0),re=function(fe,ve){for(var Be,De=fe;null!==(Be=De.next);De=Be)if(Be.key===ve)return De.next=Be.next,Be.next=fe.next,fe.next=Be,Be};yt.exports=function(){var ve,De,Be,qe={assert:function(Oe){if(!qe.has(Oe))throw new z("Side channel does not contain "+K(Oe))},get:function(Oe){if(J&&Oe&&("object"==typeof Oe||"function"==typeof Oe)){if(ve)return Z(ve,Oe)}else if(X){if(De)return ce(De,Oe)}else if(Be)return function(fe,ve){var De=re(fe,ve);return De&&De.value}(Be,Oe)},has:function(Oe){if(J&&Oe&&("object"==typeof Oe||"function"==typeof Oe)){if(ve)return q(ve,Oe)}else if(X){if(De)return se(De,Oe)}else if(Be)return function(fe,ve){return!!re(fe,ve)}(Be,Oe);return!1},set:function(Oe,mt){J&&Oe&&("object"==typeof Oe||"function"==typeof Oe)?(ve||(ve=new J),Y(ve,Oe,mt)):X?(De||(De=new X),ae(De,Oe,mt)):(Be||(Be={key:{},next:null}),function(fe,ve,De){var Be=re(fe,ve);Be?Be.value=De:fe.next={key:ve,next:fe.next,value:De}}(Be,Oe,mt))}};return qe}},3692:function(yt,U,R){var o,y,J;J=function(){return function(){return function K(z){var J=[];if(0===z.length)return"";if("string"!=typeof z[0])throw new TypeError("Url must be a string. Received "+z[0]);if(z[0].match(/^[^/:]+:\/*$/)&&z.length>1){var X=z.shift();z[0]=X+z[0]}z[0]=z[0].match(/^file:\/\/\//)?z[0].replace(/^([^/:]+):\/*/,"$1:///"):z[0].replace(/^([^/:]+):\/*/,"$1://");for(var Z=0;Z<z.length;Z++){var Y=z[Z];if("string"!=typeof Y)throw new TypeError("Url must be a string. Received "+Y);""!==Y&&(Z>0&&(Y=Y.replace(/^[\/]+/,"")),Y=Y.replace(/[\/]+$/,Z<z.length-1?"":"/"),J.push(Y))}var q=J.join("/"),ce=(q=q.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return ce.shift()+(ce.length>0?"?":"")+ce.join("&")}("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},yt.exports?yt.exports=J():void 0!==(y="function"==typeof(o=J)?o.call(U,R,U,yt):o)&&(yt.exports=y)},8762:(yt,U,R)=>{"use strict";var o=R(6117);function y(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var K=/^([a-z0-9.+-]+:)/i,z=/:[0-9]*$/,J=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Z=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Y=["'"].concat(Z),q=["%","/","?",";","#"].concat(Y),ce=["/","?","#"],se=/^[+a-z0-9A-Z_-]{0,63}$/,re=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,le={javascript:!0,"javascript:":!0},ke={javascript:!0,"javascript:":!0},Ce={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},fe=R(1781);function ve(Oe,mt,Me){if(Oe&&"object"==typeof Oe&&Oe instanceof y)return Oe;var Xe=new y;return Xe.parse(Oe,mt,Me),Xe}y.prototype.parse=function(Oe,mt,Me){if("string"!=typeof Oe)throw new TypeError("Parameter 'url' must be a string, not "+typeof Oe);var Xe=Oe.indexOf("?"),Ke=-1!==Xe&&Xe<Oe.indexOf("#")?"?":"#",Qe=Oe.split(Ke);Qe[0]=Qe[0].replace(/\\/g,"/");var ze=Oe=Qe.join(Ke);if(ze=ze.trim(),!Me&&1===Oe.split("#").length){var Ze=J.exec(ze);if(Ze)return this.path=ze,this.href=ze,this.pathname=Ze[1],Ze[2]?(this.search=Ze[2],this.query=mt?fe.parse(this.search.substr(1)):this.search.substr(1)):mt&&(this.search="",this.query={}),this}var ge=K.exec(ze);if(ge){var pe=(ge=ge[0]).toLowerCase();this.protocol=pe,ze=ze.substr(ge.length)}if(Me||ge||ze.match(/^\/\/[^@/]+@[^@/]+/)){var Se="//"===ze.substr(0,2);Se&&(!ge||!ke[ge])&&(ze=ze.substr(2),this.slashes=!0)}if(!ke[ge]&&(Se||ge&&!Ce[ge])){for(var xe=-1,Ae=0;Ae<ce.length;Ae++)-1!==(Te=ze.indexOf(ce[Ae]))&&(-1===xe||Te<xe)&&(xe=Te);var Ne,we;for(-1!==(we=-1===xe?ze.lastIndexOf("@"):ze.lastIndexOf("@",xe))&&(Ne=ze.slice(0,we),ze=ze.slice(we+1),this.auth=decodeURIComponent(Ne)),xe=-1,Ae=0;Ae<q.length;Ae++){var Te;-1!==(Te=ze.indexOf(q[Ae]))&&(-1===xe||Te<xe)&&(xe=Te)}-1===xe&&(xe=ze.length),this.host=ze.slice(0,xe),ze=ze.slice(xe),this.parseHost(),this.hostname=this.hostname||"";var Ve="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Ve)for(var Ie=this.hostname.split(/\./),Le=(Ae=0,Ie.length);Ae<Le;Ae++){var gt=Ie[Ae];if(gt&&!gt.match(se)){for(var bt="",Mt=0,un=gt.length;Mt<un;Mt++)gt.charCodeAt(Mt)>127?bt+="x":bt+=gt[Mt];if(!bt.match(se)){var En=Ie.slice(0,Ae),tn=Ie.slice(Ae+1),Ct=gt.match(re);Ct&&(En.push(Ct[1]),tn.unshift(Ct[2])),tn.length&&(ze="/"+tn.join(".")+ze),this.hostname=En.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Ve||(this.hostname=o.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Ve&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ze[0]&&(ze="/"+ze))}if(!le[pe])for(Ae=0,Le=Y.length;Ae<Le;Ae++){var $t=Y[Ae];if(-1!==ze.indexOf($t)){var vn=encodeURIComponent($t);vn===$t&&(vn=escape($t)),ze=ze.split($t).join(vn)}}var Cn=ze.indexOf("#");-1!==Cn&&(this.hash=ze.substr(Cn),ze=ze.slice(0,Cn));var bn=ze.indexOf("?");return-1!==bn?(this.search=ze.substr(bn),this.query=ze.substr(bn+1),mt&&(this.query=fe.parse(this.query)),ze=ze.slice(0,bn)):mt&&(this.search="",this.query={}),ze&&(this.pathname=ze),Ce[pe]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},y.prototype.format=function(){var Oe=this.auth||"";Oe&&(Oe=(Oe=encodeURIComponent(Oe)).replace(/%3A/i,":"),Oe+="@");var mt=this.protocol||"",Me=this.pathname||"",Xe=this.hash||"",Ke=!1,Qe="";this.host?Ke=Oe+this.host:this.hostname&&(Ke=Oe+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Ke+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(Qe=fe.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var ut=this.search||Qe&&"?"+Qe||"";return mt&&":"!==mt.substr(-1)&&(mt+=":"),this.slashes||(!mt||Ce[mt])&&!1!==Ke?(Ke="//"+(Ke||""),Me&&"/"!==Me.charAt(0)&&(Me="/"+Me)):Ke||(Ke=""),Xe&&"#"!==Xe.charAt(0)&&(Xe="#"+Xe),ut&&"?"!==ut.charAt(0)&&(ut="?"+ut),mt+Ke+(Me=Me.replace(/[?#]/g,function(ze){return encodeURIComponent(ze)}))+(ut=ut.replace("#","%23"))+Xe},y.prototype.resolve=function(Oe){return this.resolveObject(ve(Oe,!1,!0)).format()},y.prototype.resolveObject=function(Oe){if("string"==typeof Oe){var mt=new y;mt.parse(Oe,!1,!0),Oe=mt}for(var Me=new y,Xe=Object.keys(this),Ke=0;Ke<Xe.length;Ke++){var Qe=Xe[Ke];Me[Qe]=this[Qe]}if(Me.hash=Oe.hash,""===Oe.href)return Me.href=Me.format(),Me;if(Oe.slashes&&!Oe.protocol){for(var ut=Object.keys(Oe),ze=0;ze<ut.length;ze++){var Ze=ut[ze];"protocol"!==Ze&&(Me[Ze]=Oe[Ze])}return Ce[Me.protocol]&&Me.hostname&&!Me.pathname&&(Me.pathname="/",Me.path=Me.pathname),Me.href=Me.format(),Me}if(Oe.protocol&&Oe.protocol!==Me.protocol){if(!Ce[Oe.protocol]){for(var ge=Object.keys(Oe),pe=0;pe<ge.length;pe++){var Se=ge[pe];Me[Se]=Oe[Se]}return Me.href=Me.format(),Me}if(Me.protocol=Oe.protocol,Oe.host||ke[Oe.protocol])Me.pathname=Oe.pathname;else{for(var Le=(Oe.pathname||"").split("/");Le.length&&!(Oe.host=Le.shift()););Oe.host||(Oe.host=""),Oe.hostname||(Oe.hostname=""),""!==Le[0]&&Le.unshift(""),Le.length<2&&Le.unshift(""),Me.pathname=Le.join("/")}return Me.search=Oe.search,Me.query=Oe.query,Me.host=Oe.host||"",Me.auth=Oe.auth,Me.hostname=Oe.hostname||Oe.host,Me.port=Oe.port,(Me.pathname||Me.search)&&(Me.path=(Me.pathname||"")+(Me.search||"")),Me.slashes=Me.slashes||Oe.slashes,Me.href=Me.format(),Me}var Te=Me.pathname&&"/"===Me.pathname.charAt(0),Ne=Oe.host||Oe.pathname&&"/"===Oe.pathname.charAt(0),we=Ne||Te||Me.host&&Oe.pathname,Ve=we,Ie=Me.pathname&&Me.pathname.split("/")||[],gt=(Le=Oe.pathname&&Oe.pathname.split("/")||[],Me.protocol&&!Ce[Me.protocol]);if(gt&&(Me.hostname="",Me.port=null,Me.host&&(""===Ie[0]?Ie[0]=Me.host:Ie.unshift(Me.host)),Me.host="",Oe.protocol&&(Oe.hostname=null,Oe.port=null,Oe.host&&(""===Le[0]?Le[0]=Oe.host:Le.unshift(Oe.host)),Oe.host=null),we=we&&(""===Le[0]||""===Ie[0])),Ne)Me.host=Oe.host||""===Oe.host?Oe.host:Me.host,Me.hostname=Oe.hostname||""===Oe.hostname?Oe.hostname:Me.hostname,Me.search=Oe.search,Me.query=Oe.query,Ie=Le;else if(Le.length)Ie||(Ie=[]),Ie.pop(),Ie=Ie.concat(Le),Me.search=Oe.search,Me.query=Oe.query;else if(null!=Oe.search)return gt&&(Me.host=Ie.shift(),Me.hostname=Me.host,(bt=!!(Me.host&&Me.host.indexOf("@")>0)&&Me.host.split("@"))&&(Me.auth=bt.shift(),Me.hostname=bt.shift(),Me.host=Me.hostname)),Me.search=Oe.search,Me.query=Oe.query,(null!==Me.pathname||null!==Me.search)&&(Me.path=(Me.pathname?Me.pathname:"")+(Me.search?Me.search:"")),Me.href=Me.format(),Me;if(!Ie.length)return Me.pathname=null,Me.path=Me.search?"/"+Me.search:null,Me.href=Me.format(),Me;for(var Mt=Ie.slice(-1)[0],un=(Me.host||Oe.host||Ie.length>1)&&("."===Mt||".."===Mt)||""===Mt,En=0,tn=Ie.length;tn>=0;tn--)"."===(Mt=Ie[tn])?Ie.splice(tn,1):".."===Mt?(Ie.splice(tn,1),En++):En&&(Ie.splice(tn,1),En--);if(!we&&!Ve)for(;En--;En)Ie.unshift("..");we&&""!==Ie[0]&&(!Ie[0]||"/"!==Ie[0].charAt(0))&&Ie.unshift(""),un&&"/"!==Ie.join("/").substr(-1)&&Ie.push("");var bt,Ct=""===Ie[0]||Ie[0]&&"/"===Ie[0].charAt(0);return gt&&(Me.hostname=Ct?"":Ie.length?Ie.shift():"",Me.host=Me.hostname,(bt=!!(Me.host&&Me.host.indexOf("@")>0)&&Me.host.split("@"))&&(Me.auth=bt.shift(),Me.hostname=bt.shift(),Me.host=Me.hostname)),(we=we||Me.host&&Ie.length)&&!Ct&&Ie.unshift(""),Ie.length>0?Me.pathname=Ie.join("/"):(Me.pathname=null,Me.path=null),(null!==Me.pathname||null!==Me.search)&&(Me.path=(Me.pathname?Me.pathname:"")+(Me.search?Me.search:"")),Me.auth=Oe.auth||Me.auth,Me.slashes=Me.slashes||Oe.slashes,Me.href=Me.format(),Me},y.prototype.parseHost=function(){var Oe=this.host,mt=z.exec(Oe);mt&&(":"!==(mt=mt[0])&&(this.port=mt.substr(1)),Oe=Oe.substr(0,Oe.length-mt.length)),Oe&&(this.hostname=Oe)},U.parse=ve,U.resolve=function Be(Oe,mt){return ve(Oe,!1,!0).resolve(mt)},U.resolveObject=function qe(Oe,mt){return Oe?ve(Oe,!1,!0).resolveObject(mt):mt},U.format=function De(Oe){return"string"==typeof Oe&&(Oe=ve(Oe)),Oe instanceof y?Oe.format():y.prototype.format.call(Oe)},U.Url=y},863:(yt,U,R)=>{var o={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7206,9230],"./ion-datetime_3.entry.js":[4959,7206,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[7336,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function y(K){if(!R.o(o,K))return Promise.resolve().then(()=>{var X=new Error("Cannot find module '"+K+"'");throw X.code="MODULE_NOT_FOUND",X});var z=o[K],J=z[0];return Promise.all(z.slice(1).map(R.e)).then(()=>R(J))}y.keys=()=>Object.keys(o),y.id=863,yt.exports=y},4654:()=>{},9128:function(yt){yt.exports=function(){"use strict";function U(Ct){return Ct+.5|0}const R=(Ct,st,nn)=>Math.max(Math.min(Ct,nn),st);function o(Ct){return R(U(2.55*Ct),0,255)}function K(Ct){return R(U(255*Ct),0,255)}function z(Ct){return R(U(Ct/2.55)/100,0,1)}function J(Ct){return R(U(100*Ct),0,100)}const X={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Z=[..."0123456789ABCDEF"],Y=Ct=>Z[15&Ct],q=Ct=>Z[(240&Ct)>>4]+Z[15&Ct],ce=Ct=>(240&Ct)>>4==(15&Ct),ae=Ct=>ce(Ct.r)&&ce(Ct.g)&&ce(Ct.b)&&ce(Ct.a);function se(Ct){var nn,st=Ct.length;return"#"===Ct[0]&&(4===st||5===st?nn={r:255&17*X[Ct[1]],g:255&17*X[Ct[2]],b:255&17*X[Ct[3]],a:5===st?17*X[Ct[4]]:255}:(7===st||9===st)&&(nn={r:X[Ct[1]]<<4|X[Ct[2]],g:X[Ct[3]]<<4|X[Ct[4]],b:X[Ct[5]]<<4|X[Ct[6]],a:9===st?X[Ct[7]]<<4|X[Ct[8]]:255})),nn}const re=(Ct,st)=>Ct<255?st(Ct):"";function le(Ct){var st=ae(Ct)?Y:q;return Ct?"#"+st(Ct.r)+st(Ct.g)+st(Ct.b)+re(Ct.a,st):void 0}const ke=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ce(Ct,st,nn){const $t=st*Math.min(nn,1-nn),vn=(Cn,bn=(Cn+Ct/30)%12)=>nn-$t*Math.max(Math.min(bn-3,9-bn,1),-1);return[vn(0),vn(8),vn(4)]}function fe(Ct,st,nn){const $t=(vn,Cn=(vn+Ct/60)%6)=>nn-nn*st*Math.max(Math.min(Cn,4-Cn,1),0);return[$t(5),$t(3),$t(1)]}function ve(Ct,st,nn){const $t=Ce(Ct,1,.5);let vn;for(st+nn>1&&(vn=1/(st+nn),st*=vn,nn*=vn),vn=0;vn<3;vn++)$t[vn]*=1-st-nn,$t[vn]+=st;return $t}function Be(Ct){const nn=Ct.r/255,$t=Ct.g/255,vn=Ct.b/255,Cn=Math.max(nn,$t,vn),bn=Math.min(nn,$t,vn),vi=(Cn+bn)/2;let yi,Pi,Ji;return Cn!==bn&&(Ji=Cn-bn,Pi=vi>.5?Ji/(2-Cn-bn):Ji/(Cn+bn),yi=function De(Ct,st,nn,$t,vn){return Ct===vn?(st-nn)/$t+(st<nn?6:0):st===vn?(nn-Ct)/$t+2:(Ct-st)/$t+4}(nn,$t,vn,Ji,Cn),yi=60*yi+.5),[0|yi,Pi||0,vi]}function qe(Ct,st,nn,$t){return(Array.isArray(st)?Ct(st[0],st[1],st[2]):Ct(st,nn,$t)).map(K)}function Oe(Ct,st,nn){return qe(Ce,Ct,st,nn)}function mt(Ct,st,nn){return qe(ve,Ct,st,nn)}function Me(Ct,st,nn){return qe(fe,Ct,st,nn)}function Xe(Ct){return(Ct%360+360)%360}function Ke(Ct){const st=ke.exec(Ct);let $t,nn=255;if(!st)return;st[5]!==$t&&(nn=st[6]?o(+st[5]):K(+st[5]));const vn=Xe(+st[2]),Cn=+st[3]/100,bn=+st[4]/100;return $t="hwb"===st[1]?mt(vn,Cn,bn):"hsv"===st[1]?Me(vn,Cn,bn):Oe(vn,Cn,bn),{r:$t[0],g:$t[1],b:$t[2],a:nn}}function Qe(Ct,st){var nn=Be(Ct);nn[0]=Xe(nn[0]+st),nn=Oe(nn),Ct.r=nn[0],Ct.g=nn[1],Ct.b=nn[2]}function ut(Ct){if(!Ct)return;const st=Be(Ct),nn=st[0],$t=J(st[1]),vn=J(st[2]);return Ct.a<255?`hsla(${nn}, ${$t}%, ${vn}%, ${z(Ct.a)})`:`hsl(${nn}, ${$t}%, ${vn}%)`}const ze={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ze={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let pe;function Se(Ct){pe||(pe=function ge(){const Ct={},st=Object.keys(Ze),nn=Object.keys(ze);let $t,vn,Cn,bn,vi;for($t=0;$t<st.length;$t++){for(bn=vi=st[$t],vn=0;vn<nn.length;vn++)Cn=nn[vn],vi=vi.replace(Cn,ze[Cn]);Cn=parseInt(Ze[bn],16),Ct[vi]=[Cn>>16&255,Cn>>8&255,255&Cn]}return Ct}(),pe.transparent=[0,0,0,0]);const st=pe[Ct.toLowerCase()];return st&&{r:st[0],g:st[1],b:st[2],a:4===st.length?st[3]:255}}const xe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ae(Ct){const st=xe.exec(Ct);let $t,vn,Cn,nn=255;if(st){if(st[7]!==$t){const bn=+st[7];nn=st[8]?o(bn):R(255*bn,0,255)}return $t=+st[1],vn=+st[3],Cn=+st[5],$t=255&(st[2]?o($t):R($t,0,255)),vn=255&(st[4]?o(vn):R(vn,0,255)),Cn=255&(st[6]?o(Cn):R(Cn,0,255)),{r:$t,g:vn,b:Cn,a:nn}}}function Te(Ct){return Ct&&(Ct.a<255?`rgba(${Ct.r}, ${Ct.g}, ${Ct.b}, ${z(Ct.a)})`:`rgb(${Ct.r}, ${Ct.g}, ${Ct.b})`)}const Ne=Ct=>Ct<=.0031308?12.92*Ct:1.055*Math.pow(Ct,1/2.4)-.055,we=Ct=>Ct<=.04045?Ct/12.92:Math.pow((Ct+.055)/1.055,2.4);function Ie(Ct,st,nn){if(Ct){let $t=Be(Ct);$t[st]=Math.max(0,Math.min($t[st]+$t[st]*nn,0===st?360:1)),$t=Oe($t),Ct.r=$t[0],Ct.g=$t[1],Ct.b=$t[2]}}function Le(Ct,st){return Ct&&Object.assign(st||{},Ct)}function gt(Ct){var st={r:0,g:0,b:0,a:255};return Array.isArray(Ct)?Ct.length>=3&&(st={r:Ct[0],g:Ct[1],b:Ct[2],a:255},Ct.length>3&&(st.a=K(Ct[3]))):(st=Le(Ct,{r:0,g:0,b:0,a:1})).a=K(st.a),st}class Mt{constructor(st){if(st instanceof Mt)return st;const nn=typeof st;let $t;"object"===nn?$t=gt(st):"string"===nn&&($t=se(st)||Se(st)||function bt(Ct){return"r"===Ct.charAt(0)?Ae(Ct):Ke(Ct)}(st)),this._rgb=$t,this._valid=!!$t}get valid(){return this._valid}get rgb(){var st=Le(this._rgb);return st&&(st.a=z(st.a)),st}set rgb(st){this._rgb=gt(st)}rgbString(){return this._valid?Te(this._rgb):void 0}hexString(){return this._valid?le(this._rgb):void 0}hslString(){return this._valid?ut(this._rgb):void 0}mix(st,nn){if(st){const $t=this.rgb,vn=st.rgb;let Cn;const bn=nn===Cn?.5:nn,vi=2*bn-1,yi=$t.a-vn.a,Pi=((vi*yi==-1?vi:(vi+yi)/(1+vi*yi))+1)/2;Cn=1-Pi,$t.r=255&Pi*$t.r+Cn*vn.r+.5,$t.g=255&Pi*$t.g+Cn*vn.g+.5,$t.b=255&Pi*$t.b+Cn*vn.b+.5,$t.a=bn*$t.a+(1-bn)*vn.a,this.rgb=$t}return this}interpolate(st,nn){return st&&(this._rgb=function Ve(Ct,st,nn){const $t=we(z(Ct.r)),vn=we(z(Ct.g)),Cn=we(z(Ct.b));return{r:K(Ne($t+nn*(we(z(st.r))-$t))),g:K(Ne(vn+nn*(we(z(st.g))-vn))),b:K(Ne(Cn+nn*(we(z(st.b))-Cn))),a:Ct.a+nn*(st.a-Ct.a)}}(this._rgb,st._rgb,nn)),this}clone(){return new Mt(this.rgb)}alpha(st){return this._rgb.a=K(st),this}clearer(st){return this._rgb.a*=1-st,this}greyscale(){const st=this._rgb,nn=U(.3*st.r+.59*st.g+.11*st.b);return st.r=st.g=st.b=nn,this}opaquer(st){return this._rgb.a*=1+st,this}negate(){const st=this._rgb;return st.r=255-st.r,st.g=255-st.g,st.b=255-st.b,this}lighten(st){return Ie(this._rgb,2,st),this}darken(st){return Ie(this._rgb,2,-st),this}saturate(st){return Ie(this._rgb,1,st),this}desaturate(st){return Ie(this._rgb,1,-st),this}rotate(st){return Qe(this._rgb,st),this}}function un(Ct){return new Mt(Ct)}return Object.assign(un,Object.freeze({__proto__:null,Color:Mt,default:un,round:U,lim:R,p2b:o,b2p:function y(Ct){return R(U(Ct/2.55),0,100)},n2b:K,b2n:z,n2p:J,hexParse:se,hexString:le,rgb2hsl:Be,hsl2rgb:Oe,hwb2rgb:mt,hsv2rgb:Me,hueParse:Ke,rotate:Qe,hslString:ut,nameParse:Se,rgbParse:Ae,rgbString:Te}))}()},3593:(yt,U,R)=>{const o=R(3977),{Chart:y,registerables:K}=o;y.register(...K),yt.exports=Object.assign(y,o)},3977:(yt,U,R)=>{"use strict";var o=R(8416).default,y=R(250);R(9128);class K{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(f,c,g,S){const k=c.duration;c.listeners[S].forEach(p=>p({chart:f,initial:c.initial,numSteps:k,currentStep:Math.min(g-c.start,k)}))}_refresh(){this._request||(this._running=!0,this._request=y.requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(f=Date.now()){let c=0;this._charts.forEach((g,S)=>{if(!g.running||!g.items.length)return;const O=g.items;let b,k=O.length-1,p=!1;for(;k>=0;--k)b=O[k],b._active?(b._total>g.duration&&(g.duration=b._total),b.tick(f),p=!0):(O[k]=O[O.length-1],O.pop());p&&(S.draw(),this._notify(S,g,f,"progress")),O.length||(g.running=!1,this._notify(S,g,f,"complete"),g.initial=!1),c+=O.length}),this._lastDate=f,0===c&&(this._running=!1)}_getAnims(f){const c=this._charts;let g=c.get(f);return g||(g={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},c.set(f,g)),g}listen(f,c,g){this._getAnims(f).listeners[c].push(g)}add(f,c){!c||!c.length||this._getAnims(f).items.push(...c)}has(f){return this._getAnims(f).items.length>0}start(f){const c=this._charts.get(f);c&&(c.running=!0,c.start=Date.now(),c.duration=c.items.reduce((g,S)=>Math.max(g,S._duration),0),this._refresh())}running(f){if(!this._running)return!1;const c=this._charts.get(f);return!(!c||!c.running||!c.items.length)}stop(f){const c=this._charts.get(f);if(!c||!c.items.length)return;const g=c.items;let S=g.length-1;for(;S>=0;--S)g[S].cancel();c.items=[],this._notify(f,c,Date.now(),"complete")}remove(f){return this._charts.delete(f)}}var z=new K;const J="transparent",X={boolean:(D,f,c)=>c>.5?f:D,color(D,f,c){const g=y.color(D||J),S=g.valid&&y.color(f||J);return S&&S.valid?S.mix(g,c).hexString():f},number:(D,f,c)=>D+(f-D)*c};class Z{constructor(f,c,g,S){const O=c[g];S=y.resolve([f.to,S,O,f.from]);const k=y.resolve([f.from,O,S]);this._active=!0,this._fn=f.fn||X[f.type||typeof k],this._easing=y.effects[f.easing]||y.effects.linear,this._start=Math.floor(Date.now()+(f.delay||0)),this._duration=this._total=Math.floor(f.duration),this._loop=!!f.loop,this._target=c,this._prop=g,this._from=k,this._to=S,this._promises=void 0}active(){return this._active}update(f,c,g){if(this._active){this._notify(!1);const S=this._target[this._prop],O=g-this._start,k=this._duration-O;this._start=g,this._duration=Math.floor(Math.max(k,f.duration)),this._total+=O,this._loop=!!f.loop,this._to=y.resolve([f.to,c,S,f.from]),this._from=y.resolve([f.from,S,c])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(f){const c=f-this._start,g=this._duration,S=this._prop,O=this._from,k=this._loop,p=this._to;let b;if(this._active=O!==p&&(k||c<g),!this._active)return this._target[S]=p,void this._notify(!0);c<0?this._target[S]=O:(b=c/g%2,b=k&&b>1?2-b:b,b=this._easing(Math.min(1,Math.max(0,b))),this._target[S]=this._fn(O,p,b))}wait(){const f=this._promises||(this._promises=[]);return new Promise((c,g)=>{f.push({res:c,rej:g})})}_notify(f){const c=f?"res":"rej",g=this._promises||[];for(let S=0;S<g.length;S++)g[S][c]()}}class Y{constructor(f,c){this._chart=f,this._properties=new Map,this.configure(c)}configure(f){if(!y.isObject(f))return;const c=Object.keys(y.defaults.animation),g=this._properties;Object.getOwnPropertyNames(f).forEach(S=>{const O=f[S];if(!y.isObject(O))return;const k={};for(const p of c)k[p]=O[p];(y.isArray(O.properties)&&O.properties||[S]).forEach(p=>{(p===S||!g.has(p))&&g.set(p,k)})})}_animateOptions(f,c){const g=c.options,S=function ce(D,f){if(!f)return;let c=D.options;if(c)return c.$shared&&(D.options=c=Object.assign({},c,{$shared:!1,$animations:{}})),c;D.options=f}(f,g);if(!S)return[];const O=this._createAnimations(S,g);return g.$shared&&function q(D,f){const c=[],g=Object.keys(f);for(let S=0;S<g.length;S++){const O=D[g[S]];O&&O.active()&&c.push(O.wait())}return Promise.all(c)}(f.options.$animations,g).then(()=>{f.options=g},()=>{}),O}_createAnimations(f,c){const g=this._properties,S=[],O=f.$animations||(f.$animations={}),k=Object.keys(c),p=Date.now();let b;for(b=k.length-1;b>=0;--b){const m=k[b];if("$"===m.charAt(0))continue;if("options"===m){S.push(...this._animateOptions(f,c));continue}const A=c[m];let j=O[m];const ne=g.get(m);if(j){if(ne&&j.active()){j.update(ne,A,p);continue}j.cancel()}ne&&ne.duration?(O[m]=j=new Z(ne,f,m,A),S.push(j)):f[m]=A}return S}update(f,c){if(0===this._properties.size)return void Object.assign(f,c);const g=this._createAnimations(f,c);return g.length?(z.add(this._chart,g),!0):void 0}}function ae(D,f){const c=D&&D.options||{},g=c.reverse,S=void 0===c.min?f:0,O=void 0===c.max?f:0;return{start:g?O:S,end:g?S:O}}function le(D,f){const c=[],g=D._getSortedDatasetMetas(f);let S,O;for(S=0,O=g.length;S<O;++S)c.push(g[S].index);return c}function ke(D,f,c,g={}){const S=D.keys,O="single"===g.mode;let k,p,b,m;if(null===f)return;let A=!1;for(k=0,p=S.length;k<p;++k){if(b=+S[k],b===c){if(A=!0,g.all)continue;break}m=D.values[b],y.isNumberFinite(m)&&(O||0===f||y.sign(f)===y.sign(m))&&(f+=m)}return A||g.all?f:0}function fe(D,f){const c=D&&D.options.stacked;return c||void 0===c&&void 0!==f.stack}function Be(D,f,c){const g=D[f]||(D[f]={});return g[c]||(g[c]={})}function qe(D,f,c,g){for(const S of f.getMatchingVisibleMetas(g).reverse()){const O=D[S.index];if(c&&O>0||!c&&O<0)return S.index}return null}function Oe(D,f){const{chart:c,_cachedMeta:g}=D,S=c._stacks||(c._stacks={}),{iScale:O,vScale:k,index:p}=g,b=O.axis,m=k.axis,A=function ve(D,f,c){return`${D.id}.${f.id}.${c.stack||c.type}`}(O,k,g),j=f.length;let ne;for(let de=0;de<j;++de){const He=f[de],{[b]:lt,[m]:Dt}=He;ne=(He._stacks||(He._stacks={}))[m]=Be(S,A,lt),ne[p]=Dt,ne._top=qe(ne,k,!0,g.type),ne._bottom=qe(ne,k,!1,g.type),(ne._visualValues||(ne._visualValues={}))[p]=Dt}}function mt(D,f){const c=D.scales;return Object.keys(c).filter(g=>c[g].axis===f).shift()}function Ke(D,f){const c=D.controller.index,g=D.vScale&&D.vScale.axis;if(g){f=f||D._parsed;for(const S of f){const O=S._stacks;if(!O||void 0===O[g]||void 0===O[g][c])return;delete O[g][c],void 0!==O[g]._visualValues&&void 0!==O[g]._visualValues[c]&&delete O[g]._visualValues[c]}}}const Qe=D=>"reset"===D||"none"===D,ut=(D,f)=>f?D:Object.assign({},D);let Ze=(()=>{class D{constructor(c,g){this.chart=c,this._ctx=c.ctx,this.index=g,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const c=this._cachedMeta;this.configure(),this.linkScales(),c._stacked=fe(c.vScale,c),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(c){this.index!==c&&Ke(this._cachedMeta),this.index=c}linkScales(){const c=this.chart,g=this._cachedMeta,S=this.getDataset(),O=(ne,de,He,lt)=>"x"===ne?de:"r"===ne?lt:He,k=g.xAxisID=y.valueOrDefault(S.xAxisID,mt(c,"x")),p=g.yAxisID=y.valueOrDefault(S.yAxisID,mt(c,"y")),b=g.rAxisID=y.valueOrDefault(S.rAxisID,mt(c,"r")),m=g.indexAxis,A=g.iAxisID=O(m,k,p,b),j=g.vAxisID=O(m,p,k,b);g.xScale=this.getScaleForId(k),g.yScale=this.getScaleForId(p),g.rScale=this.getScaleForId(b),g.iScale=this.getScaleForId(A),g.vScale=this.getScaleForId(j)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(c){return this.chart.scales[c]}_getOtherScale(c){const g=this._cachedMeta;return c===g.iScale?g.vScale:g.iScale}reset(){this._update("reset")}_destroy(){const c=this._cachedMeta;this._data&&y.unlistenArrayEvents(this._data,this),c._stacked&&Ke(c)}_dataCheck(){const c=this.getDataset(),g=c.data||(c.data=[]),S=this._data;if(y.isObject(g))this._data=function Ce(D,f){const{iScale:c,vScale:g}=f,S="x"===c.axis?"x":"y",O="x"===g.axis?"x":"y",k=Object.keys(D),p=new Array(k.length);let b,m,A;for(b=0,m=k.length;b<m;++b)A=k[b],p[b]={[S]:A,[O]:D[A]};return p}(g,this._cachedMeta);else if(S!==g){if(S){y.unlistenArrayEvents(S,this);const O=this._cachedMeta;Ke(O),O._parsed=[]}g&&Object.isExtensible(g)&&y.listenArrayEvents(g,this),this._syncList=[],this._data=g}}addElements(){const c=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(c.dataset=new this.datasetElementType)}buildOrUpdateElements(c){const g=this._cachedMeta,S=this.getDataset();let O=!1;this._dataCheck();const k=g._stacked;g._stacked=fe(g.vScale,g),g.stack!==S.stack&&(O=!0,Ke(g),g.stack=S.stack),this._resyncElements(c),(O||k!==g._stacked)&&(Oe(this,g._parsed),g._stacked=fe(g.vScale,g))}configure(){const c=this.chart.config,g=c.datasetScopeKeys(this._type),S=c.getOptionScopes(this.getDataset(),g,!0);this.options=c.createResolver(S,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(c,g){const{_cachedMeta:S,_data:O}=this,{iScale:k,_stacked:p}=S,b=k.axis;let j,ne,de,m=0===c&&g===O.length||S._sorted,A=c>0&&S._parsed[c-1];if(!1===this._parsing)S._parsed=O,S._sorted=!0,de=O;else{de=y.isArray(O[c])?this.parseArrayData(S,O,c,g):y.isObject(O[c])?this.parseObjectData(S,O,c,g):this.parsePrimitiveData(S,O,c,g);const He=()=>null===ne[b]||A&&ne[b]<A[b];for(j=0;j<g;++j)S._parsed[j+c]=ne=de[j],m&&(He()&&(m=!1),A=ne);S._sorted=m}p&&Oe(this,de)}parsePrimitiveData(c,g,S,O){const{iScale:k,vScale:p}=c,b=k.axis,m=p.axis,A=k.getLabels(),j=k===p,ne=new Array(O);let de,He,lt;for(de=0,He=O;de<He;++de)lt=de+S,ne[de]={[b]:j||k.parse(A[lt],lt),[m]:p.parse(g[lt],lt)};return ne}parseArrayData(c,g,S,O){const{xScale:k,yScale:p}=c,b=new Array(O);let m,A,j,ne;for(m=0,A=O;m<A;++m)j=m+S,ne=g[j],b[m]={x:k.parse(ne[0],j),y:p.parse(ne[1],j)};return b}parseObjectData(c,g,S,O){const{xScale:k,yScale:p}=c,{xAxisKey:b="x",yAxisKey:m="y"}=this._parsing,A=new Array(O);let j,ne,de,He;for(j=0,ne=O;j<ne;++j)de=j+S,He=g[de],A[j]={x:k.parse(y.resolveObjectKey(He,b),de),y:p.parse(y.resolveObjectKey(He,m),de)};return A}getParsed(c){return this._cachedMeta._parsed[c]}getDataElement(c){return this._cachedMeta.data[c]}applyStack(c,g,S){const k=this._cachedMeta,p=g[c.axis];return ke({keys:le(this.chart,!0),values:g._stacks[c.axis]._visualValues},p,k.index,{mode:S})}updateRangeFromParsed(c,g,S,O){const k=S[g.axis];let p=null===k?NaN:k;const b=O&&S._stacks[g.axis];O&&b&&(O.values=b,p=ke(O,k,this._cachedMeta.index)),c.min=Math.min(c.min,p),c.max=Math.max(c.max,p)}getMinMax(c,g){const S=this._cachedMeta,O=S._parsed,k=S._sorted&&c===S.iScale,p=O.length,b=this._getOtherScale(c),m=((D,f,c)=>D&&!f.hidden&&f._stacked&&{keys:le(this.chart,!0),values:null})(g,S),A={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:j,max:ne}=function De(D){const{min:f,max:c,minDefined:g,maxDefined:S}=D.getUserBounds();return{min:g?f:Number.NEGATIVE_INFINITY,max:S?c:Number.POSITIVE_INFINITY}}(b);let de,He;function lt(){He=O[de];const Dt=He[b.axis];return!y.isNumberFinite(He[c.axis])||j>Dt||ne<Dt}for(de=0;de<p&&(lt()||(this.updateRangeFromParsed(A,c,He,m),!k));++de);if(k)for(de=p-1;de>=0;--de)if(!lt()){this.updateRangeFromParsed(A,c,He,m);break}return A}getAllParsedValues(c){const g=this._cachedMeta._parsed,S=[];let O,k,p;for(O=0,k=g.length;O<k;++O)p=g[O][c.axis],y.isNumberFinite(p)&&S.push(p);return S}getMaxOverflow(){return!1}getLabelAndValue(c){const g=this._cachedMeta,S=g.iScale,O=g.vScale,k=this.getParsed(c);return{label:S?""+S.getLabelForValue(k[S.axis]):"",value:O?""+O.getLabelForValue(k[O.axis]):""}}_update(c){const g=this._cachedMeta;this.update(c||"default"),g._clip=function re(D){let f,c,g,S;return y.isObject(D)?(f=D.top,c=D.right,g=D.bottom,S=D.left):f=c=g=S=D,{top:f,right:c,bottom:g,left:S,disabled:!1===D}}(y.valueOrDefault(this.options.clip,function se(D,f,c){if(!1===c)return!1;const g=ae(D,c),S=ae(f,c);return{top:S.end,right:g.end,bottom:S.start,left:g.start}}(g.xScale,g.yScale,this.getMaxOverflow())))}update(c){}draw(){const c=this._ctx,S=this._cachedMeta,O=S.data||[],k=this.chart.chartArea,p=[],b=this._drawStart||0,m=this._drawCount||O.length-b,A=this.options.drawActiveElementsOnTop;let j;for(S.dataset&&S.dataset.draw(c,k,b,m),j=b;j<b+m;++j){const ne=O[j];ne.hidden||(ne.active&&A?p.push(ne):ne.draw(c,k))}for(j=0;j<p.length;++j)p[j].draw(c,k)}getStyle(c,g){const S=g?"active":"default";return void 0===c&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(S):this.resolveDataElementOptions(c||0,S)}getContext(c,g,S){const O=this.getDataset();let k;if(c>=0&&c<this._cachedMeta.data.length){const p=this._cachedMeta.data[c];k=p.$context||(p.$context=function Xe(D,f,c){return y.createContext(D,{active:!1,dataIndex:f,parsed:void 0,raw:void 0,element:c,index:f,mode:"default",type:"data"})}(this.getContext(),c,p)),k.parsed=this.getParsed(c),k.raw=O.data[c],k.index=k.dataIndex=c}else k=this.$context||(this.$context=function Me(D,f){return y.createContext(D,{active:!1,dataset:void 0,datasetIndex:f,index:f,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),k.dataset=O,k.index=k.datasetIndex=this.index;return k.active=!!g,k.mode=S,k}resolveDatasetElementOptions(c){return this._resolveElementOptions(this.datasetElementType.id,c)}resolveDataElementOptions(c,g){return this._resolveElementOptions(this.dataElementType.id,g,c)}_resolveElementOptions(c,g="default",S){const O="active"===g,k=this._cachedDataOpts,p=c+"-"+g,b=k[p],m=this.enableOptionSharing&&y.defined(S);if(b)return ut(b,m);const A=this.chart.config,j=A.datasetElementScopeKeys(this._type,c),ne=O?[`${c}Hover`,"hover",c,""]:[c,""],de=A.getOptionScopes(this.getDataset(),j),He=Object.keys(y.defaults.elements[c]),Dt=A.resolveNamedOptions(de,He,()=>this.getContext(S,O,g),ne);return Dt.$shared&&(Dt.$shared=m,k[p]=Object.freeze(ut(Dt,m))),Dt}_resolveAnimations(c,g,S){const O=this.chart,k=this._cachedDataOpts,p=`animation-${g}`,b=k[p];if(b)return b;let m;if(!1!==O.options.animation){const j=this.chart.config,ne=j.datasetAnimationScopeKeys(this._type,g),de=j.getOptionScopes(this.getDataset(),ne);m=j.createResolver(de,this.getContext(c,S,g))}const A=new Y(O,m&&m.animations);return m&&m._cacheable&&(k[p]=Object.freeze(A)),A}getSharedOptions(c){if(c.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},c))}includeOptions(c,g){return!g||Qe(c)||this.chart._animationsDisabled}_getSharedOptions(c,g){const S=this.resolveDataElementOptions(c,g),O=this._sharedOptions,k=this.getSharedOptions(S),p=this.includeOptions(g,k)||k!==O;return this.updateSharedOptions(k,g,S),{sharedOptions:k,includeOptions:p}}updateElement(c,g,S,O){Qe(O)?Object.assign(c,S):this._resolveAnimations(g,O).update(c,S)}updateSharedOptions(c,g,S){c&&!Qe(g)&&this._resolveAnimations(void 0,g).update(c,S)}_setStyle(c,g,S,O){c.active=O;const k=this.getStyle(g,O);this._resolveAnimations(g,S,O).update(c,{options:!O&&this.getSharedOptions(k)||k})}removeHoverStyle(c,g,S){this._setStyle(c,S,"active",!1)}setHoverStyle(c,g,S){this._setStyle(c,S,"active",!0)}_removeDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!1)}_setDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!0)}_resyncElements(c){const g=this._data,S=this._cachedMeta.data;for(const[b,m,A]of this._syncList)this[b](m,A);this._syncList=[];const O=S.length,k=g.length,p=Math.min(k,O);p&&this.parse(0,p),k>O?this._insertElements(O,k-O,c):k<O&&this._removeElements(k,O-k)}_insertElements(c,g,S=!0){const O=this._cachedMeta,k=O.data,p=c+g;let b;const m=A=>{for(A.length+=g,b=A.length-1;b>=p;b--)A[b]=A[b-g]};for(m(k),b=c;b<p;++b)k[b]=new this.dataElementType;this._parsing&&m(O._parsed),this.parse(c,g),S&&this.updateElements(k,c,g,"reset")}updateElements(c,g,S,O){}_removeElements(c,g){const S=this._cachedMeta;if(this._parsing){const O=S._parsed.splice(c,g);S._stacked&&Ke(S,O)}S.data.splice(c,g)}_sync(c){if(this._parsing)this._syncList.push(c);else{const[g,S,O]=c;this[g](S,O)}this.chart._dataChanges.push([this.index,...c])}_onDataPush(){const c=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-c,c])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(c,g){g&&this._sync(["_removeElements",c,g]);const S=arguments.length-2;S&&this._sync(["_insertElements",c,S])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return o(D,"defaults",{}),o(D,"datasetElementType",null),o(D,"dataElementType",null),D})();function pe(D){const f=D.iScale,c=function ge(D,f){if(!D._cache.$bar){const c=D.getMatchingVisibleMetas(f);let g=[];for(let S=0,O=c.length;S<O;S++)g=g.concat(c[S].controller.getAllParsedValues(D));D._cache.$bar=y._arrayUnique(g.sort((S,O)=>S-O))}return D._cache.$bar}(f,D.type);let S,O,k,p,g=f._length;const b=()=>{32767===k||-32768===k||(y.defined(p)&&(g=Math.min(g,Math.abs(k-p)||g)),p=k)};for(S=0,O=c.length;S<O;++S)k=f.getPixelForValue(c[S]),b();for(p=void 0,S=0,O=f.ticks.length;S<O;++S)k=f.getPixelForTick(S),b();return g}function Te(D,f,c,g){return y.isArray(D)?function Ae(D,f,c,g){const S=c.parse(D[0],g),O=c.parse(D[1],g),k=Math.min(S,O),p=Math.max(S,O);let b=k,m=p;Math.abs(k)>Math.abs(p)&&(b=p,m=k),f[c.axis]=m,f._custom={barStart:b,barEnd:m,start:S,end:O,min:k,max:p}}(D,f,c,g):f[c.axis]=c.parse(D,g),f}function Ne(D,f,c,g){const S=D.iScale,O=D.vScale,k=S.getLabels(),p=S===O,b=[];let m,A,j,ne;for(m=c,A=c+g;m<A;++m)ne=f[m],j={},j[S.axis]=p||S.parse(k[m],m),b.push(Te(ne,j,O,m));return b}function we(D){return D&&void 0!==D.barStart&&void 0!==D.barEnd}function Le(D,f,c,g){let S=f.borderSkipped;const O={};if(!S)return void(D.borderSkipped=O);if(!0===S)return void(D.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:k,end:p,reverse:b,top:m,bottom:A}=function Ie(D){let f,c,g,S,O;return D.horizontal?(f=D.base>D.x,c="left",g="right"):(f=D.base<D.y,c="bottom",g="top"),f?(S="end",O="start"):(S="start",O="end"),{start:c,end:g,reverse:f,top:S,bottom:O}}(D);"middle"===S&&c&&(D.enableBorderRadius=!0,(c._top||0)===g?S=m:(c._bottom||0)===g?S=A:(O[gt(A,k,p,b)]=!0,S=m)),O[gt(S,k,p,b)]=!0,D.borderSkipped=O}function gt(D,f,c,g){return g?(D=function bt(D,f,c){return D===f?c:D===c?f:D}(D,f,c),D=Mt(D,c,f)):D=Mt(D,f,c),D}function Mt(D,f,c){return"start"===D?f:"end"===D?c:D}function un(D,{inflateAmount:f},c){D.inflateAmount="auto"===f?1===c?.33:0:f}let En=(()=>{class D extends Ze{parsePrimitiveData(c,g,S,O){return Ne(c,g,S,O)}parseArrayData(c,g,S,O){return Ne(c,g,S,O)}parseObjectData(c,g,S,O){const{iScale:k,vScale:p}=c,{xAxisKey:b="x",yAxisKey:m="y"}=this._parsing,A="x"===k.axis?b:m,j="x"===p.axis?b:m,ne=[];let de,He,lt,Dt;for(de=S,He=S+O;de<He;++de)Dt=g[de],lt={},lt[k.axis]=k.parse(y.resolveObjectKey(Dt,A),de),ne.push(Te(y.resolveObjectKey(Dt,j),lt,p,de));return ne}updateRangeFromParsed(c,g,S,O){super.updateRangeFromParsed(c,g,S,O);const k=S._custom;k&&g===this._cachedMeta.vScale&&(c.min=Math.min(c.min,k.min),c.max=Math.max(c.max,k.max))}getMaxOverflow(){return 0}getLabelAndValue(c){const g=this._cachedMeta,{iScale:S,vScale:O}=g,k=this.getParsed(c),p=k._custom,b=we(p)?"["+p.start+", "+p.end+"]":""+O.getLabelForValue(k[O.axis]);return{label:""+S.getLabelForValue(k[S.axis]),value:b}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(c){const g=this._cachedMeta;this.updateElements(g.data,0,g.data.length,c)}updateElements(c,g,S,O){const k="reset"===O,{index:p,_cachedMeta:{vScale:b}}=this,m=b.getBasePixel(),A=b.isHorizontal(),j=this._getRuler(),{sharedOptions:ne,includeOptions:de}=this._getSharedOptions(g,O);for(let He=g;He<g+S;He++){const lt=this.getParsed(He),Dt=k||y.isNullOrUndef(lt[b.axis])?{base:m,head:m}:this._calculateBarValuePixels(He),an=this._calculateBarIndexPixels(He,j),Kt=(lt._stacks||{})[b.axis],In={horizontal:A,base:Dt.base,enableBorderRadius:!Kt||we(lt._custom)||p===Kt._top||p===Kt._bottom,x:A?Dt.head:an.center,y:A?an.center:Dt.head,height:A?an.size:Math.abs(Dt.size),width:A?Math.abs(Dt.size):an.size};de&&(In.options=ne||this.resolveDataElementOptions(He,c[He].active?"active":O));const kn=In.options||c[He].options;Le(In,kn,Kt,p),un(In,kn,j.ratio),this.updateElement(c[He],He,In,O)}}_getStacks(c,g){const{iScale:S}=this._cachedMeta,O=S.getMatchingVisibleMetas(this._type).filter(j=>j.controller.options.grouped),k=S.options.stacked,p=[],b=this._cachedMeta.controller.getParsed(g),m=b&&b[S.axis],A=j=>{const ne=j._parsed.find(He=>He[S.axis]===m),de=ne&&ne[j.vScale.axis];if(y.isNullOrUndef(de)||isNaN(de))return!0};for(const j of O)if((void 0===g||!A(j))&&((!1===k||-1===p.indexOf(j.stack)||void 0===k&&void 0===j.stack)&&p.push(j.stack),j.index===c))break;return p.length||p.push(void 0),p}_getStackCount(c){return this._getStacks(void 0,c).length}_getStackIndex(c,g,S){const O=this._getStacks(c,S),k=void 0!==g?O.indexOf(g):-1;return-1===k?O.length-1:k}_getRuler(){const c=this.options,g=this._cachedMeta,S=g.iScale,O=[];let k,p;for(k=0,p=g.data.length;k<p;++k)O.push(S.getPixelForValue(this.getParsed(k)[S.axis],k));const b=c.barThickness;return{min:b||pe(g),pixels:O,start:S._startPixel,end:S._endPixel,stackCount:this._getStackCount(),scale:S,grouped:c.grouped,ratio:b?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(c){const{_cachedMeta:{vScale:g,_stacked:S,index:O},options:{base:k,minBarLength:p}}=this,b=k||0,m=this.getParsed(c),A=m._custom,j=we(A);let lt,Dt,ne=m[g.axis],de=0,He=S?this.applyStack(g,m,S):ne;He!==ne&&(de=He-ne,He=ne),j&&(ne=A.barStart,He=A.barEnd-A.barStart,0!==ne&&y.sign(ne)!==y.sign(A.barEnd)&&(de=0),de+=ne);const an=y.isNullOrUndef(k)||j?de:k;let Kt=g.getPixelForValue(an);if(lt=this.chart.getDataVisibility(c)?g.getPixelForValue(de+He):Kt,Dt=lt-Kt,Math.abs(Dt)<p){Dt=function Ve(D,f,c){return 0!==D?y.sign(D):(f.isHorizontal()?1:-1)*(f.min>=c?1:-1)}(Dt,g,b)*p,ne===b&&(Kt-=Dt/2);const In=g.getPixelForDecimal(0),kn=g.getPixelForDecimal(1),xn=Math.min(In,kn),Wn=Math.max(In,kn);Kt=Math.max(Math.min(Kt,Wn),xn),lt=Kt+Dt,S&&!j&&(m._stacks[g.axis]._visualValues[O]=g.getValueForPixel(lt)-g.getValueForPixel(Kt))}if(Kt===g.getPixelForValue(b)){const In=y.sign(Dt)*g.getLineWidthForValue(b)/2;Kt+=In,Dt-=In}return{size:Dt,base:Kt,head:lt,center:lt+Dt/2}}_calculateBarIndexPixels(c,g){const S=g.scale,O=this.options,k=O.skipNull,p=y.valueOrDefault(O.maxBarThickness,1/0);let b,m;if(g.grouped){const A=k?this._getStackCount(c):g.stackCount,j="flex"===O.barThickness?function xe(D,f,c,g){const S=f.pixels,O=S[D];let k=D>0?S[D-1]:null,p=D<S.length-1?S[D+1]:null;const b=c.categoryPercentage;null===k&&(k=O-(null===p?f.end-f.start:p-O)),null===p&&(p=O+O-k);const m=O-(O-Math.min(k,p))/2*b;return{chunk:Math.abs(p-k)/2*b/g,ratio:c.barPercentage,start:m}}(c,g,O,A):function Se(D,f,c,g){const S=c.barThickness;let O,k;return y.isNullOrUndef(S)?(O=f.min*c.categoryPercentage,k=c.barPercentage):(O=S*g,k=1),{chunk:O/g,ratio:k,start:f.pixels[D]-O/2}}(c,g,O,A),ne=this._getStackIndex(this.index,this._cachedMeta.stack,k?c:void 0);b=j.start+j.chunk*ne+j.chunk/2,m=Math.min(p,j.chunk*j.ratio)}else b=S.getPixelForValue(this.getParsed(c)[S.axis],c),m=Math.min(p,g.min*g.ratio);return{base:b-m/2,head:b+m/2,center:b,size:m}}draw(){const c=this._cachedMeta,g=c.vScale,S=c.data,O=S.length;let k=0;for(;k<O;++k)null!==this.getParsed(k)[g.axis]&&!S[k].hidden&&S[k].draw(this._ctx)}}return o(D,"id","bar"),o(D,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),o(D,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),D})(),tn=(()=>{class D extends Ze{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(c,g,S,O){const k=super.parsePrimitiveData(c,g,S,O);for(let p=0;p<k.length;p++)k[p]._custom=this.resolveDataElementOptions(p+S).radius;return k}parseArrayData(c,g,S,O){const k=super.parseArrayData(c,g,S,O);for(let p=0;p<k.length;p++)k[p]._custom=y.valueOrDefault(g[S+p][2],this.resolveDataElementOptions(p+S).radius);return k}parseObjectData(c,g,S,O){const k=super.parseObjectData(c,g,S,O);for(let p=0;p<k.length;p++){const b=g[S+p];k[p]._custom=y.valueOrDefault(b&&b.r&&+b.r,this.resolveDataElementOptions(p+S).radius)}return k}getMaxOverflow(){const c=this._cachedMeta.data;let g=0;for(let S=c.length-1;S>=0;--S)g=Math.max(g,c[S].size(this.resolveDataElementOptions(S))/2);return g>0&&g}getLabelAndValue(c){const g=this._cachedMeta,S=this.chart.data.labels||[],{xScale:O,yScale:k}=g,p=this.getParsed(c),b=O.getLabelForValue(p.x),m=k.getLabelForValue(p.y),A=p._custom;return{label:S[c]||"",value:"("+b+", "+m+(A?", "+A:"")+")"}}update(c){const g=this._cachedMeta.data;this.updateElements(g,0,g.length,c)}updateElements(c,g,S,O){const k="reset"===O,{iScale:p,vScale:b}=this._cachedMeta,{sharedOptions:m,includeOptions:A}=this._getSharedOptions(g,O),j=p.axis,ne=b.axis;for(let de=g;de<g+S;de++){const He=c[de],lt=!k&&this.getParsed(de),Dt={},an=Dt[j]=k?p.getPixelForDecimal(.5):p.getPixelForValue(lt[j]),Kt=Dt[ne]=k?b.getBasePixel():b.getPixelForValue(lt[ne]);Dt.skip=isNaN(an)||isNaN(Kt),A&&(Dt.options=m||this.resolveDataElementOptions(de,He.active?"active":O),k&&(Dt.options.radius=0)),this.updateElement(He,de,Dt,O)}}resolveDataElementOptions(c,g){const S=this.getParsed(c);let O=super.resolveDataElementOptions(c,g);O.$shared&&(O=Object.assign({},O,{$shared:!1}));const k=O.radius;return"active"!==g&&(O.radius=0),O.radius+=y.valueOrDefault(S&&S._custom,k),O}}return o(D,"id","bubble"),o(D,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),o(D,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),D})(),st=(()=>{class D extends Ze{constructor(c,g){super(c,g),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(c,g){const S=this.getDataset().data,O=this._cachedMeta;if(!1===this._parsing)O._parsed=S;else{let p,b,k=m=>+S[m];if(y.isObject(S[c])){const{key:m="value"}=this._parsing;k=A=>+y.resolveObjectKey(S[A],m)}for(p=c,b=c+g;p<b;++p)O._parsed[p]=k(p)}}_getRotation(){return y.toRadians(this.options.rotation-90)}_getCircumference(){return y.toRadians(this.options.circumference)}_getRotationExtents(){let c=y.TAU,g=-y.TAU;for(let S=0;S<this.chart.data.datasets.length;++S)if(this.chart.isDatasetVisible(S)&&this.chart.getDatasetMeta(S).type===this._type){const O=this.chart.getDatasetMeta(S).controller,k=O._getRotation(),p=O._getCircumference();c=Math.min(c,k),g=Math.max(g,k+p)}return{rotation:c,circumference:g-c}}update(c){const g=this.chart,{chartArea:S}=g,O=this._cachedMeta,k=O.data,p=this.getMaxBorderWidth()+this.getMaxOffset(k)+this.options.spacing,b=Math.max((Math.min(S.width,S.height)-p)/2,0),m=Math.min(y.toPercentage(this.options.cutout,b),1),A=this._getRingWeight(this.index),{circumference:j,rotation:ne}=this._getRotationExtents(),{ratioX:de,ratioY:He,offsetX:lt,offsetY:Dt}=function Ct(D,f,c){let g=1,S=1,O=0,k=0;if(f<y.TAU){const p=D,b=p+f,m=Math.cos(p),A=Math.sin(p),j=Math.cos(b),ne=Math.sin(b),de=(In,kn,xn)=>y._angleBetween(In,p,b,!0)?1:Math.max(kn,kn*c,xn,xn*c),He=(In,kn,xn)=>y._angleBetween(In,p,b,!0)?-1:Math.min(kn,kn*c,xn,xn*c),lt=de(0,m,j),Dt=de(y.HALF_PI,A,ne),an=He(y.PI,m,j),Kt=He(y.PI+y.HALF_PI,A,ne);g=(lt-an)/2,S=(Dt-Kt)/2,O=-(lt+an)/2,k=-(Dt+Kt)/2}return{ratioX:g,ratioY:S,offsetX:O,offsetY:k}}(ne,j,m),In=Math.max(Math.min((S.width-p)/de,(S.height-p)/He)/2,0),kn=y.toDimension(this.options.radius,In),Wn=(kn-Math.max(kn*m,0))/this._getVisibleDatasetWeightTotal();this.offsetX=lt*kn,this.offsetY=Dt*kn,O.total=this.calculateTotal(),this.outerRadius=kn-Wn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Wn*A,0),this.updateElements(k,0,k.length,c)}_circumference(c,g){const S=this.options,O=this._cachedMeta,k=this._getCircumference();return g&&S.animation.animateRotate||!this.chart.getDataVisibility(c)||null===O._parsed[c]||O.data[c].hidden?0:this.calculateCircumference(O._parsed[c]*k/y.TAU)}updateElements(c,g,S,O){const k="reset"===O,p=this.chart,b=p.chartArea,j=(b.left+b.right)/2,ne=(b.top+b.bottom)/2,de=k&&p.options.animation.animateScale,He=de?0:this.innerRadius,lt=de?0:this.outerRadius,{sharedOptions:Dt,includeOptions:an}=this._getSharedOptions(g,O);let In,Kt=this._getRotation();for(In=0;In<g;++In)Kt+=this._circumference(In,k);for(In=g;In<g+S;++In){const kn=this._circumference(In,k),xn=c[In],Wn={x:j+this.offsetX,y:ne+this.offsetY,startAngle:Kt,endAngle:Kt+kn,circumference:kn,outerRadius:lt,innerRadius:He};an&&(Wn.options=Dt||this.resolveDataElementOptions(In,xn.active?"active":O)),Kt+=kn,this.updateElement(xn,In,Wn,O)}}calculateTotal(){const c=this._cachedMeta,g=c.data;let O,S=0;for(O=0;O<g.length;O++){const k=c._parsed[O];null!==k&&!isNaN(k)&&this.chart.getDataVisibility(O)&&!g[O].hidden&&(S+=Math.abs(k))}return S}calculateCircumference(c){const g=this._cachedMeta.total;return g>0&&!isNaN(c)?y.TAU*(Math.abs(c)/g):0}getLabelAndValue(c){const S=this.chart,O=S.data.labels||[],k=y.formatNumber(this._cachedMeta._parsed[c],S.options.locale);return{label:O[c]||"",value:k}}getMaxBorderWidth(c){let g=0;const S=this.chart;let O,k,p,b,m;if(!c)for(O=0,k=S.data.datasets.length;O<k;++O)if(S.isDatasetVisible(O)){p=S.getDatasetMeta(O),c=p.data,b=p.controller;break}if(!c)return 0;for(O=0,k=c.length;O<k;++O)m=b.resolveDataElementOptions(O),"inner"!==m.borderAlign&&(g=Math.max(g,m.borderWidth||0,m.hoverBorderWidth||0));return g}getMaxOffset(c){let g=0;for(let S=0,O=c.length;S<O;++S){const k=this.resolveDataElementOptions(S);g=Math.max(g,k.offset||0,k.hoverOffset||0)}return g}_getRingWeightOffset(c){let g=0;for(let S=0;S<c;++S)this.chart.isDatasetVisible(S)&&(g+=this._getRingWeight(S));return g}_getRingWeight(c){return Math.max(y.valueOrDefault(this.chart.data.datasets[c].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return o(D,"id","doughnut"),o(D,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),o(D,"descriptors",{_scriptable:f=>"spacing"!==f,_indexable:f=>"spacing"!==f&&!f.startsWith("borderDash")&&!f.startsWith("hoverBorderDash")}),o(D,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(f){const c=f.data;if(c.labels.length&&c.datasets.length){const{labels:{pointStyle:g,color:S}}=f.legend.options;return c.labels.map((O,k)=>{const b=f.getDatasetMeta(0).controller.getStyle(k);return{text:O,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,fontColor:S,lineWidth:b.borderWidth,pointStyle:g,hidden:!f.getDataVisibility(k),index:k}})}return[]}},onClick(f,c,g){g.chart.toggleDataVisibility(c.index),g.chart.update()}}}}),D})(),nn=(()=>{class D extends Ze{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(c){const g=this._cachedMeta,{dataset:S,data:O=[],_dataset:k}=g,p=this.chart._animationsDisabled;let{start:b,count:m}=y._getStartAndCountOfVisiblePoints(g,O,p);this._drawStart=b,this._drawCount=m,y._scaleRangesChanged(g)&&(b=0,m=O.length),S._chart=this.chart,S._datasetIndex=this.index,S._decimated=!!k._decimated,S.points=O;const A=this.resolveDatasetElementOptions(c);this.options.showLine||(A.borderWidth=0),A.segment=this.options.segment,this.updateElement(S,void 0,{animated:!p,options:A},c),this.updateElements(O,b,m,c)}updateElements(c,g,S,O){const k="reset"===O,{iScale:p,vScale:b,_stacked:m,_dataset:A}=this._cachedMeta,{sharedOptions:j,includeOptions:ne}=this._getSharedOptions(g,O),de=p.axis,He=b.axis,{spanGaps:lt,segment:Dt}=this.options,an=y.isNumber(lt)?lt:Number.POSITIVE_INFINITY,Kt=this.chart._animationsDisabled||k||"none"===O,In=g+S,kn=c.length;let xn=g>0&&this.getParsed(g-1);for(let Wn=0;Wn<kn;++Wn){const gi=c[Wn],si=Kt?gi:{};if(Wn<g||Wn>=In){si.skip=!0;continue}const Ni=this.getParsed(Wn),zr=y.isNullOrUndef(Ni[He]),cr=si[de]=p.getPixelForValue(Ni[de],Wn),Qr=si[He]=k||zr?b.getBasePixel():b.getPixelForValue(m?this.applyStack(b,Ni,m):Ni[He],Wn);si.skip=isNaN(cr)||isNaN(Qr)||zr,si.stop=Wn>0&&Math.abs(Ni[de]-xn[de])>an,Dt&&(si.parsed=Ni,si.raw=A.data[Wn]),ne&&(si.options=j||this.resolveDataElementOptions(Wn,gi.active?"active":O)),Kt||this.updateElement(gi,Wn,si,O),xn=Ni}}getMaxOverflow(){const c=this._cachedMeta,g=c.dataset,S=g.options&&g.options.borderWidth||0,O=c.data||[];if(!O.length)return S;const k=O[0].size(this.resolveDataElementOptions(0)),p=O[O.length-1].size(this.resolveDataElementOptions(O.length-1));return Math.max(S,k,p)/2}draw(){const c=this._cachedMeta;c.dataset.updateControlPoints(this.chart.chartArea,c.iScale.axis),super.draw()}}return o(D,"id","line"),o(D,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),o(D,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),D})(),$t=(()=>{class D extends Ze{constructor(c,g){super(c,g),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(c){const S=this.chart,O=S.data.labels||[],k=y.formatNumber(this._cachedMeta._parsed[c].r,S.options.locale);return{label:O[c]||"",value:k}}parseObjectData(c,g,S,O){return y._parseObjectDataRadialScale.bind(this)(c,g,S,O)}update(c){const g=this._cachedMeta.data;this._updateRadius(),this.updateElements(g,0,g.length,c)}getMinMax(){const g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((S,O)=>{const k=this.getParsed(O).r;!isNaN(k)&&this.chart.getDataVisibility(O)&&(k<g.min&&(g.min=k),k>g.max&&(g.max=k))}),g}_updateRadius(){const c=this.chart,g=c.chartArea,S=c.options,O=Math.min(g.right-g.left,g.bottom-g.top),k=Math.max(O/2,0),b=(k-Math.max(S.cutoutPercentage?k/100*S.cutoutPercentage:1,0))/c.getVisibleDatasetCount();this.outerRadius=k-b*this.index,this.innerRadius=this.outerRadius-b}updateElements(c,g,S,O){const k="reset"===O,p=this.chart,m=p.options.animation,A=this._cachedMeta.rScale,j=A.xCenter,ne=A.yCenter,de=A.getIndexAngle(0)-.5*y.PI;let lt,He=de;const Dt=360/this.countVisibleElements();for(lt=0;lt<g;++lt)He+=this._computeAngle(lt,O,Dt);for(lt=g;lt<g+S;lt++){const an=c[lt];let Kt=He,In=He+this._computeAngle(lt,O,Dt),kn=p.getDataVisibility(lt)?A.getDistanceFromCenterForValue(this.getParsed(lt).r):0;He=In,k&&(m.animateScale&&(kn=0),m.animateRotate&&(Kt=In=de));const xn={x:j,y:ne,innerRadius:0,outerRadius:kn,startAngle:Kt,endAngle:In,options:this.resolveDataElementOptions(lt,an.active?"active":O)};this.updateElement(an,lt,xn,O)}}countVisibleElements(){let g=0;return this._cachedMeta.data.forEach((S,O)=>{!isNaN(this.getParsed(O).r)&&this.chart.getDataVisibility(O)&&g++}),g}_computeAngle(c,g,S){return this.chart.getDataVisibility(c)?y.toRadians(this.resolveDataElementOptions(c,g).angle||S):0}}return o(D,"id","polarArea"),o(D,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),o(D,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(f){const c=f.data;if(c.labels.length&&c.datasets.length){const{labels:{pointStyle:g,color:S}}=f.legend.options;return c.labels.map((O,k)=>{const b=f.getDatasetMeta(0).controller.getStyle(k);return{text:O,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,fontColor:S,lineWidth:b.borderWidth,pointStyle:g,hidden:!f.getDataVisibility(k),index:k}})}return[]}},onClick(f,c,g){g.chart.toggleDataVisibility(c.index),g.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),D})(),vn=(()=>{class D extends st{}return o(D,"id","pie"),o(D,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),D})(),Cn=(()=>{class D extends Ze{getLabelAndValue(c){const g=this._cachedMeta.vScale,S=this.getParsed(c);return{label:g.getLabels()[c],value:""+g.getLabelForValue(S[g.axis])}}parseObjectData(c,g,S,O){return y._parseObjectDataRadialScale.bind(this)(c,g,S,O)}update(c){const g=this._cachedMeta,S=g.dataset,O=g.data||[],k=g.iScale.getLabels();if(S.points=O,"resize"!==c){const p=this.resolveDatasetElementOptions(c);this.options.showLine||(p.borderWidth=0),this.updateElement(S,void 0,{_loop:!0,_fullLoop:k.length===O.length,options:p},c)}this.updateElements(O,0,O.length,c)}updateElements(c,g,S,O){const k=this._cachedMeta.rScale,p="reset"===O;for(let b=g;b<g+S;b++){const m=c[b],A=this.resolveDataElementOptions(b,m.active?"active":O),j=k.getPointPositionForValue(b,this.getParsed(b).r),ne=p?k.xCenter:j.x,de=p?k.yCenter:j.y,He={x:ne,y:de,angle:j.angle,skip:isNaN(ne)||isNaN(de),options:A};this.updateElement(m,b,He,O)}}}return o(D,"id","radar"),o(D,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),o(D,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),D})(),bn=(()=>{class D extends Ze{getLabelAndValue(c){const g=this._cachedMeta,S=this.chart.data.labels||[],{xScale:O,yScale:k}=g,p=this.getParsed(c),b=O.getLabelForValue(p.x),m=k.getLabelForValue(p.y);return{label:S[c]||"",value:"("+b+", "+m+")"}}update(c){const g=this._cachedMeta,{data:S=[]}=g,O=this.chart._animationsDisabled;let{start:k,count:p}=y._getStartAndCountOfVisiblePoints(g,S,O);if(this._drawStart=k,this._drawCount=p,y._scaleRangesChanged(g)&&(k=0,p=S.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:b,_dataset:m}=g;b._chart=this.chart,b._datasetIndex=this.index,b._decimated=!!m._decimated,b.points=S;const A=this.resolveDatasetElementOptions(c);A.segment=this.options.segment,this.updateElement(b,void 0,{animated:!O,options:A},c)}else this.datasetElementType&&(delete g.dataset,this.datasetElementType=!1);this.updateElements(S,k,p,c)}addElements(){const{showLine:c}=this.options;!this.datasetElementType&&c&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(c,g,S,O){const k="reset"===O,{iScale:p,vScale:b,_stacked:m,_dataset:A}=this._cachedMeta,j=this.resolveDataElementOptions(g,O),ne=this.getSharedOptions(j),de=this.includeOptions(O,ne),He=p.axis,lt=b.axis,{spanGaps:Dt,segment:an}=this.options,Kt=y.isNumber(Dt)?Dt:Number.POSITIVE_INFINITY,In=this.chart._animationsDisabled||k||"none"===O;let kn=g>0&&this.getParsed(g-1);for(let xn=g;xn<g+S;++xn){const Wn=c[xn],gi=this.getParsed(xn),si=In?Wn:{},Ni=y.isNullOrUndef(gi[lt]),zr=si[He]=p.getPixelForValue(gi[He],xn),cr=si[lt]=k||Ni?b.getBasePixel():b.getPixelForValue(m?this.applyStack(b,gi,m):gi[lt],xn);si.skip=isNaN(zr)||isNaN(cr)||Ni,si.stop=xn>0&&Math.abs(gi[He]-kn[He])>Kt,an&&(si.parsed=gi,si.raw=A.data[xn]),de&&(si.options=ne||this.resolveDataElementOptions(xn,Wn.active?"active":O)),In||this.updateElement(Wn,xn,si,O),kn=gi}this.updateSharedOptions(ne,O,j)}getMaxOverflow(){const c=this._cachedMeta,g=c.data||[];if(!this.options.showLine){let b=0;for(let m=g.length-1;m>=0;--m)b=Math.max(b,g[m].size(this.resolveDataElementOptions(m))/2);return b>0&&b}const S=c.dataset,O=S.options&&S.options.borderWidth||0;if(!g.length)return O;const k=g[0].size(this.resolveDataElementOptions(0)),p=g[g.length-1].size(this.resolveDataElementOptions(g.length-1));return Math.max(O,k,p)/2}}return o(D,"id","scatter"),o(D,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),o(D,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),D})();var vi=Object.freeze({__proto__:null,BarController:En,BubbleController:tn,DoughnutController:st,LineController:nn,PieController:vn,PolarAreaController:$t,RadarController:Cn,ScatterController:bn});function yi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pi{static override(f){Object.assign(Pi.prototype,f)}constructor(f){o(this,"options",void 0),this.options=f||{}}init(){}formats(){return yi()}parse(){return yi()}format(){return yi()}add(){return yi()}diff(){return yi()}startOf(){return yi()}endOf(){return yi()}}var Ji={_date:Pi};function Or(D,f,c,g){const{controller:S,data:O,_sorted:k}=D,p=S._cachedMeta.iScale;if(p&&f===p.axis&&"r"!==f&&k&&O.length){const b=p._reversePixels?y._rlookupByKey:y._lookupByKey;if(!g)return b(O,f,c);if(S._sharedOptions){const m=O[0],A="function"==typeof m.getRange&&m.getRange(f);if(A){const j=b(O,f,c-A),ne=b(O,f,c+A);return{lo:j.lo,hi:ne.hi}}}}return{lo:0,hi:O.length-1}}function ir(D,f,c,g,S){const O=D.getSortedVisibleDatasetMetas(),k=c[f];for(let p=0,b=O.length;p<b;++p){const{index:m,data:A}=O[p],{lo:j,hi:ne}=Or(O[p],f,k,S);for(let de=j;de<=ne;++de){const He=A[de];He.skip||g(He,m,de)}}}function Qi(D,f,c,g,S){const O=[];return!S&&!D.isPointInArea(f)||ir(D,c,f,function(p,b,m){!S&&!y._isPointInArea(p,D.chartArea,0)||p.inRange(f.x,f.y,g)&&O.push({element:p,datasetIndex:b,index:m})},!0),O}function xt(D,f,c,g,S,O){return O||D.isPointInArea(f)?"r"!==c||g?function Bn(D,f,c,g,S,O){let k=[];const p=function Fr(D){const f=-1!==D.indexOf("x"),c=-1!==D.indexOf("y");return function(g,S){const O=f?Math.abs(g.x-S.x):0,k=c?Math.abs(g.y-S.y):0;return Math.sqrt(Math.pow(O,2)+Math.pow(k,2))}}(c);let b=Number.POSITIVE_INFINITY;return ir(D,c,f,function m(A,j,ne){const de=A.inRange(f.x,f.y,S);if(g&&!de)return;const He=A.getCenterPoint(S);if(!O&&!D.isPointInArea(He)&&!de)return;const Dt=p(f,He);Dt<b?(k=[{element:A,datasetIndex:j,index:ne}],b=Dt):Dt===b&&k.push({element:A,datasetIndex:j,index:ne})}),k}(D,f,c,g,S,O):function Sn(D,f,c,g){let S=[];return ir(D,c,f,function O(k,p,b){const{startAngle:m,endAngle:A}=k.getProps(["startAngle","endAngle"],g),{angle:j}=y.getAngleFromPoint(k,{x:f.x,y:f.y});y._angleBetween(j,m,A)&&S.push({element:k,datasetIndex:p,index:b})}),S}(D,f,c,S):[]}function Pt(D,f,c,g,S){const O=[],k="x"===c?"inXRange":"inYRange";let p=!1;return ir(D,c,f,(b,m,A)=>{b[k]&&b[k](f[c],S)&&(O.push({element:b,datasetIndex:m,index:A}),p=p||b.inRange(f.x,f.y,S))}),g&&!p?[]:O}var nt={evaluateInteractionItems:ir,modes:{index(D,f,c,g){const S=y.getRelativePosition(f,D),O=c.axis||"x",k=c.includeInvisible||!1,p=c.intersect?Qi(D,S,O,g,k):xt(D,S,O,!1,g,k),b=[];return p.length?(D.getSortedVisibleDatasetMetas().forEach(m=>{const A=p[0].index,j=m.data[A];j&&!j.skip&&b.push({element:j,datasetIndex:m.index,index:A})}),b):[]},dataset(D,f,c,g){const S=y.getRelativePosition(f,D),O=c.axis||"xy",k=c.includeInvisible||!1;let p=c.intersect?Qi(D,S,O,g,k):xt(D,S,O,!1,g,k);if(p.length>0){const b=p[0].datasetIndex,m=D.getDatasetMeta(b).data;p=[];for(let A=0;A<m.length;++A)p.push({element:m[A],datasetIndex:b,index:A})}return p},point:(D,f,c,g)=>Qi(D,y.getRelativePosition(f,D),c.axis||"xy",g,c.includeInvisible||!1),nearest:(D,f,c,g)=>xt(D,y.getRelativePosition(f,D),c.axis||"xy",c.intersect,g,c.includeInvisible||!1),x:(D,f,c,g)=>Pt(D,y.getRelativePosition(f,D),"x",c.intersect,g),y:(D,f,c,g)=>Pt(D,y.getRelativePosition(f,D),"y",c.intersect,g)}};const dn=["left","top","right","bottom"];function en(D,f){return D.filter(c=>c.pos===f)}function Lt(D,f){return D.filter(c=>-1===dn.indexOf(c.pos)&&c.box.axis===f)}function at(D,f){return D.sort((c,g)=>{const S=f?g:c,O=f?c:g;return S.weight===O.weight?S.index-O.index:S.weight-O.weight})}function dr(D,f,c,g){return Math.max(D[c],f[c])+Math.max(D[g],f[g])}function Zi(D,f){D.top=Math.max(D.top,f.top),D.left=Math.max(D.left,f.left),D.bottom=Math.max(D.bottom,f.bottom),D.right=Math.max(D.right,f.right)}function Zt(D,f,c,g){const{pos:S,box:O}=c,k=D.maxPadding;if(!y.isObject(S)){c.size&&(D[S]-=c.size);const j=g[c.stack]||{size:0,count:1};j.size=Math.max(j.size,c.horizontal?O.height:O.width),c.size=j.size/j.count,D[S]+=c.size}O.getPadding&&Zi(k,O.getPadding());const p=Math.max(0,f.outerWidth-dr(k,D,"left","right")),b=Math.max(0,f.outerHeight-dr(k,D,"top","bottom")),m=p!==D.w,A=b!==D.h;return D.w=p,D.h=b,c.horizontal?{same:m,other:A}:{same:A,other:m}}function Ut(D,f){const c=f.maxPadding;return function g(S){const O={left:0,top:0,right:0,bottom:0};return S.forEach(k=>{O[k]=Math.max(f[k],c[k])}),O}(D?["left","right"]:["top","bottom"])}function gn(D,f,c,g){const S=[];let O,k,p,b,m,A;for(O=0,k=D.length,m=0;O<k;++O){p=D[O],b=p.box,b.update(p.width||f.w,p.height||f.h,Ut(p.horizontal,f));const{same:j,other:ne}=Zt(f,c,p,g);m|=j&&S.length,A=A||ne,b.fullSize||S.push(p)}return m&&gn(S,f,c,g)||A}function yn(D,f,c,g,S){D.top=c,D.left=f,D.right=f+g,D.bottom=c+S,D.width=g,D.height=S}function jt(D,f,c,g){const S=c.padding;let{x:O,y:k}=f;for(const p of D){const b=p.box,m=g[p.stack]||{count:1,placed:0,weight:1},A=p.stackWeight/m.weight||1;if(p.horizontal){const j=f.w*A,ne=m.size||b.height;y.defined(m.start)&&(k=m.start),b.fullSize?yn(b,S.left,k,c.outerWidth-S.right-S.left,ne):yn(b,f.left+m.placed,k,j,ne),m.start=k,m.placed+=j,k=b.bottom}else{const j=f.h*A,ne=m.size||b.width;y.defined(m.start)&&(O=m.start),b.fullSize?yn(b,O,S.top,ne,c.outerHeight-S.bottom-S.top):yn(b,O,f.top+m.placed,ne,j),m.start=O,m.placed+=j,O=b.right}}f.x=O,f.y=k}var Yn={addBox(D,f){D.boxes||(D.boxes=[]),f.fullSize=f.fullSize||!1,f.position=f.position||"top",f.weight=f.weight||0,f._layers=f._layers||function(){return[{z:0,draw(c){f.draw(c)}}]},D.boxes.push(f)},removeBox(D,f){const c=D.boxes?D.boxes.indexOf(f):-1;-1!==c&&D.boxes.splice(c,1)},configure(D,f,c){f.fullSize=c.fullSize,f.position=c.position,f.weight=c.weight},update(D,f,c,g){if(!D)return;const S=y.toPadding(D.options.layout.padding),O=Math.max(f-S.width,0),k=Math.max(c-S.height,0),p=function Qn(D){const f=function qn(D){const f=[];let c,g,S,O,k,p;for(c=0,g=(D||[]).length;c<g;++c)S=D[c],({position:O,options:{stack:k,stackWeight:p=1}}=S),f.push({index:c,box:S,pos:O,horizontal:S.isHorizontal(),weight:S.weight,stack:k&&O+k,stackWeight:p});return f}(D),c=at(f.filter(m=>m.box.fullSize),!0),g=at(en(f,"left"),!0),S=at(en(f,"right")),O=at(en(f,"top"),!0),k=at(en(f,"bottom")),p=Lt(f,"x"),b=Lt(f,"y");return{fullSize:c,leftAndTop:g.concat(O),rightAndBottom:S.concat(b).concat(k).concat(p),chartArea:en(f,"chartArea"),vertical:g.concat(S).concat(b),horizontal:O.concat(k).concat(p)}}(D.boxes),b=p.vertical,m=p.horizontal;y.each(D.boxes,lt=>{"function"==typeof lt.beforeLayout&&lt.beforeLayout()});const A=b.reduce((lt,Dt)=>Dt.box.options&&!1===Dt.box.options.display?lt:lt+1,0)||1,j=Object.freeze({outerWidth:f,outerHeight:c,padding:S,availableWidth:O,availableHeight:k,vBoxMaxWidth:O/2/A,hBoxMaxHeight:k/2}),ne=Object.assign({},S);Zi(ne,y.toPadding(g));const de=Object.assign({maxPadding:ne,w:O,h:k,x:S.left,y:S.top},S),He=function Ti(D,f){const c=function Nn(D){const f={};for(const c of D){const{stack:g,pos:S,stackWeight:O}=c;if(!g||!dn.includes(S))continue;const k=f[g]||(f[g]={count:0,placed:0,weight:0,size:0});k.count++,k.weight+=O}return f}(D),{vBoxMaxWidth:g,hBoxMaxHeight:S}=f;let O,k,p;for(O=0,k=D.length;O<k;++O){p=D[O];const{fullSize:b}=p.box,m=c[p.stack],A=m&&p.stackWeight/m.weight;p.horizontal?(p.width=A?A*g:b&&f.availableWidth,p.height=S):(p.width=g,p.height=A?A*S:b&&f.availableHeight)}return c}(b.concat(m),j);gn(p.fullSize,de,j,He),gn(b,de,j,He),gn(m,de,j,He)&&gn(b,de,j,He),function _t(D){const f=D.maxPadding;function c(g){const S=Math.max(f[g]-D[g],0);return D[g]+=S,S}D.y+=c("top"),D.x+=c("left"),c("right"),c("bottom")}(de),jt(p.leftAndTop,de,j,He),de.x+=de.w,de.y+=de.h,jt(p.rightAndBottom,de,j,He),D.chartArea={left:de.left,top:de.top,right:de.left+de.w,bottom:de.top+de.h,height:de.h,width:de.w},y.each(p.chartArea,lt=>{const Dt=lt.box;Object.assign(Dt,D.chartArea),Dt.update(de.w,de.h,{left:0,top:0,right:0,bottom:0})})}};class ai{acquireContext(f,c){}releaseContext(f){return!1}addEventListener(f,c,g){}removeEventListener(f,c,g){}getDevicePixelRatio(){return 1}getMaximumSize(f,c,g,S){return c=Math.max(0,c||f.width),g=g||f.height,{width:c,height:Math.max(0,S?Math.floor(c/S):g)}}isAttached(f){return!0}updateConfig(f){}}class ti extends ai{acquireContext(f){return f&&f.getContext&&f.getContext("2d")||null}updateConfig(f){f.options.animation=!1}}const Vi="$chartjs",er={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},At=D=>null===D||""===D,dt=!!y.supportsEventListenerOptions&&{passive:!0};function hn(D,f,c){D&&D.canvas&&D.canvas.removeEventListener(f,c,dt)}function Hn(D,f){for(const c of D)if(c===f||c.contains(f))return!0}function ii(D,f,c){const g=D.canvas,S=new MutationObserver(O=>{let k=!1;for(const p of O)k=k||Hn(p.addedNodes,g),k=k&&!Hn(p.removedNodes,g);k&&c()});return S.observe(document,{childList:!0,subtree:!0}),S}function Pr(D,f,c){const g=D.canvas,S=new MutationObserver(O=>{let k=!1;for(const p of O)k=k||Hn(p.removedNodes,g),k=k&&!Hn(p.addedNodes,g);k&&c()});return S.observe(document,{childList:!0,subtree:!0}),S}const Ki=new Map;let zi=0;function Gi(){const D=window.devicePixelRatio;D!==zi&&(zi=D,Ki.forEach((f,c)=>{c.currentDevicePixelRatio!==D&&f()}))}function Eo(D,f,c){const g=D.canvas,S=g&&y._getParentNode(g);if(!S)return;const O=y.throttled((p,b)=>{const m=S.clientWidth;c(p,b),m<S.clientWidth&&c()},window),k=new ResizeObserver(p=>{const b=p[0],m=b.contentRect.width,A=b.contentRect.height;0===m&&0===A||O(m,A)});return k.observe(S),function Rr(D,f){Ki.size||window.addEventListener("resize",Gi),Ki.set(D,f)}(D,O),k}function vo(D,f,c){c&&c.disconnect(),"resize"===f&&function Nr(D){Ki.delete(D),Ki.size||window.removeEventListener("resize",Gi)}(D)}function yr(D,f,c){const g=D.canvas,S=y.throttled(O=>{null!==D.ctx&&c(function Un(D,f){const c=er[D.type]||D.type,{x:g,y:S}=y.getRelativePosition(D,f);return{type:c,chart:f,native:D,x:void 0!==g?g:null,y:void 0!==S?S:null}}(O,D))},D);return function Xt(D,f,c){D&&D.addEventListener(f,c,dt)}(g,f,S),S}class kr extends ai{acquireContext(f,c){const g=f&&f.getContext&&f.getContext("2d");return g&&g.canvas===f?(function Nt(D,f){const c=D.style,g=D.getAttribute("height"),S=D.getAttribute("width");if(D[Vi]={initial:{height:g,width:S,style:{display:c.display,height:c.height,width:c.width}}},c.display=c.display||"block",c.boxSizing=c.boxSizing||"border-box",At(S)){const O=y.readUsedSize(D,"width");void 0!==O&&(D.width=O)}if(At(g))if(""===D.style.height)D.height=D.width/(f||2);else{const O=y.readUsedSize(D,"height");void 0!==O&&(D.height=O)}}(f,c),g):null}releaseContext(f){const c=f.canvas;if(!c[Vi])return!1;const g=c[Vi].initial;["height","width"].forEach(O=>{const k=g[O];y.isNullOrUndef(k)?c.removeAttribute(O):c.setAttribute(O,k)});const S=g.style||{};return Object.keys(S).forEach(O=>{c.style[O]=S[O]}),c.width=c.width,delete c[Vi],!0}addEventListener(f,c,g){this.removeEventListener(f,c),(f.$proxies||(f.$proxies={}))[c]=({attach:ii,detach:Pr,resize:Eo}[c]||yr)(f,c,g)}removeEventListener(f,c){const g=f.$proxies||(f.$proxies={}),S=g[c];S&&(({attach:vo,detach:vo,resize:vo}[c]||hn)(f,c,S),g[c]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(f,c,g,S){return y.getMaximumSize(f,c,g,S)}isAttached(f){const c=f&&y._getParentNode(f);return!(!c||!c.isConnected)}}function fr(D){return!y._isDomSupported()||typeof OffscreenCanvas<"u"&&D instanceof OffscreenCanvas?ti:kr}class tr{constructor(){o(this,"x",void 0),o(this,"y",void 0),o(this,"active",!1),o(this,"options",void 0),o(this,"$animations",void 0)}tooltipPosition(f){const{x:c,y:g}=this.getProps(["x","y"],f);return{x:c,y:g}}hasValue(){return y.isNumber(this.x)&&y.isNumber(this.y)}getProps(f,c){const g=this.$animations;if(!c||!g)return this;const S={};return f.forEach(O=>{S[O]=g[O]&&g[O].active()?g[O]._to:this[O]}),S}}function Oi(D,f,c,g,S){const O=y.valueOrDefault(g,0),k=Math.min(y.valueOrDefault(S,D.length),D.length);let b,m,A,p=0;for(c=Math.ceil(c),S&&(b=S-g,c=b/Math.floor(b/c)),A=O;A<0;)p++,A=Math.round(O+p*c);for(m=Math.max(O,0);m<k;m++)m===A&&(f.push(D[m]),p++,A=Math.round(O+p*c))}o(tr,"defaults",{}),o(tr,"defaultRoutes",void 0);const di=D=>"left"===D?"right":"right"===D?"left":D,Br=(D,f,c)=>"top"===f||"left"===f?D[f]+c:D[f]-c,Dr=(D,f)=>Math.min(f||D,D);function no(D,f){const c=[],g=D.length/f,S=D.length;let O=0;for(;O<S;O+=g)c.push(D[Math.floor(O)]);return c}function We(D,f,c){const g=D.ticks.length,S=Math.min(f,g-1),O=D._startPixel,k=D._endPixel,p=1e-6;let m,b=D.getPixelForTick(S);if(!(c&&(m=1===g?Math.max(b-O,k-b):0===f?(D.getPixelForTick(1)-b)/2:(b-D.getPixelForTick(S-1))/2,b+=S<f?m:-m,b<O-p||b>k+p)))return b}function ht(D){return D.drawTicks?D.tickLength:0}function Rt(D,f){if(!D.display)return 0;const c=y.toFont(D.font,f),g=y.toPadding(D.padding);return(y.isArray(D.text)?D.text.length:1)*c.lineHeight+g.height}function Vt(D,f,c){let g=y._toLeftRightCenter(D);return(c&&"right"!==f||!c&&"right"===f)&&(g=di(g)),g}class mn extends tr{constructor(f){super(),this.id=f.id,this.type=f.type,this.options=void 0,this.ctx=f.ctx,this.chart=f.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(f){this.options=f.setContext(this.getContext()),this.axis=f.axis,this._userMin=this.parse(f.min),this._userMax=this.parse(f.max),this._suggestedMin=this.parse(f.suggestedMin),this._suggestedMax=this.parse(f.suggestedMax)}parse(f,c){return f}getUserBounds(){let{_userMin:f,_userMax:c,_suggestedMin:g,_suggestedMax:S}=this;return f=y.finiteOrDefault(f,Number.POSITIVE_INFINITY),c=y.finiteOrDefault(c,Number.NEGATIVE_INFINITY),g=y.finiteOrDefault(g,Number.POSITIVE_INFINITY),S=y.finiteOrDefault(S,Number.NEGATIVE_INFINITY),{min:y.finiteOrDefault(f,g),max:y.finiteOrDefault(c,S),minDefined:y.isNumberFinite(f),maxDefined:y.isNumberFinite(c)}}getMinMax(f){let k,{min:c,max:g,minDefined:S,maxDefined:O}=this.getUserBounds();if(S&&O)return{min:c,max:g};const p=this.getMatchingVisibleMetas();for(let b=0,m=p.length;b<m;++b)k=p[b].controller.getMinMax(this,f),S||(c=Math.min(c,k.min)),O||(g=Math.max(g,k.max));return c=O&&c>g?g:c,g=S&&c>g?c:g,{min:y.finiteOrDefault(c,y.finiteOrDefault(g,c)),max:y.finiteOrDefault(g,y.finiteOrDefault(c,g))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const f=this.chart.data;return this.options.labels||(this.isHorizontal()?f.xLabels:f.yLabels)||f.labels||[]}getLabelItems(f=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(f))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){y.callback(this.options.beforeUpdate,[this])}update(f,c,g){const{beginAtZero:S,grace:O,ticks:k}=this.options,p=k.sampleSize;this.beforeUpdate(),this.maxWidth=f,this.maxHeight=c,this._margins=g=Object.assign({left:0,right:0,top:0,bottom:0},g),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+g.left+g.right:this.height+g.top+g.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=y._addGrace(this,O,S),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const b=p<this.ticks.length;this._convertTicksToLabels(b?no(this.ticks,p):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),k.display&&(k.autoSkip||"auto"===k.source)&&(this.ticks=function co(D,f){const c=D.options.ticks,g=function to(D){const f=D.options.offset,c=D._tickSize();return Math.floor(Math.min(D._length/c+(f?0:1),D._maxLength/c))}(D),S=Math.min(c.maxTicksLimit||g,g),O=c.major.enabled?function ho(D){const f=[];let c,g;for(c=0,g=D.length;c<g;c++)D[c].major&&f.push(c);return f}(f):[],k=O.length,p=O[0],b=O[k-1],m=[];if(k>S)return function nr(D,f,c,g){let k,S=0,O=c[0];for(g=Math.ceil(g),k=0;k<D.length;k++)k===O&&(f.push(D[k]),S++,O=c[S*g])}(f,m,O,k/S),m;const A=function Yr(D,f,c){const g=function Ei(D){const f=D.length;let c,g;if(f<2)return!1;for(g=D[0],c=1;c<f;++c)if(D[c]-D[c-1]!==g)return!1;return g}(D),S=f.length/c;if(!g)return Math.max(S,1);const O=y._factorize(g);for(let k=0,p=O.length-1;k<p;k++){const b=O[k];if(b>S)return b}return Math.max(S,1)}(O,f,S);if(k>0){let j,ne;const de=k>1?Math.round((b-p)/(k-1)):null;for(Oi(f,m,A,y.isNullOrUndef(de)?0:p-de,p),j=0,ne=k-1;j<ne;j++)Oi(f,m,A,O[j],O[j+1]);return Oi(f,m,A,b,y.isNullOrUndef(de)?f.length:b+de),m}return Oi(f,m,A),m}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),b&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let c,g,f=this.options.reverse;this.isHorizontal()?(c=this.left,g=this.right):(c=this.top,g=this.bottom,f=!f),this._startPixel=c,this._endPixel=g,this._reversePixels=f,this._length=g-c,this._alignToPixels=this.options.alignToPixels}afterUpdate(){y.callback(this.options.afterUpdate,[this])}beforeSetDimensions(){y.callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){y.callback(this.options.afterSetDimensions,[this])}_callHooks(f){this.chart.notifyPlugins(f,this.getContext()),y.callback(this.options[f],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){y.callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(f){const c=this.options.ticks;let g,S,O;for(g=0,S=f.length;g<S;g++)O=f[g],O.label=y.callback(c.callback,[O.value,g,f],this)}afterTickToLabelConversion(){y.callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){y.callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const f=this.options,c=f.ticks,g=Dr(this.ticks.length,f.ticks.maxTicksLimit),S=c.minRotation||0,O=c.maxRotation;let p,b,m,k=S;if(!this._isVisible()||!c.display||S>=O||g<=1||!this.isHorizontal())return void(this.labelRotation=S);const A=this._getLabelSizes(),j=A.widest.width,ne=A.highest.height,de=y._limitValue(this.chart.width-j,0,this.maxWidth);p=f.offset?this.maxWidth/g:de/(g-1),j+6>p&&(p=de/(g-(f.offset?.5:1)),b=this.maxHeight-ht(f.grid)-c.padding-Rt(f.title,this.chart.options.font),m=Math.sqrt(j*j+ne*ne),k=y.toDegrees(Math.min(Math.asin(y._limitValue((A.highest.height+6)/p,-1,1)),Math.asin(y._limitValue(b/m,-1,1))-Math.asin(y._limitValue(ne/m,-1,1)))),k=Math.max(S,Math.min(O,k))),this.labelRotation=k}afterCalculateLabelRotation(){y.callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){y.callback(this.options.beforeFit,[this])}fit(){const f={width:0,height:0},{chart:c,options:{ticks:g,title:S,grid:O}}=this,k=this._isVisible(),p=this.isHorizontal();if(k){const b=Rt(S,c.options.font);if(p?(f.width=this.maxWidth,f.height=ht(O)+b):(f.height=this.maxHeight,f.width=ht(O)+b),g.display&&this.ticks.length){const{first:m,last:A,widest:j,highest:ne}=this._getLabelSizes(),de=2*g.padding,He=y.toRadians(this.labelRotation),lt=Math.cos(He),Dt=Math.sin(He);p?f.height=Math.min(this.maxHeight,f.height+(g.mirror?0:Dt*j.width+lt*ne.height)+de):f.width=Math.min(this.maxWidth,f.width+(g.mirror?0:lt*j.width+Dt*ne.height)+de),this._calculatePadding(m,A,Dt,lt)}}this._handleMargins(),p?(this.width=this._length=c.width-this._margins.left-this._margins.right,this.height=f.height):(this.width=f.width,this.height=this._length=c.height-this._margins.top-this._margins.bottom)}_calculatePadding(f,c,g,S){const{ticks:{align:O,padding:k},position:p}=this.options,b=0!==this.labelRotation,m="top"!==p&&"x"===this.axis;if(this.isHorizontal()){const A=this.getPixelForTick(0)-this.left,j=this.right-this.getPixelForTick(this.ticks.length-1);let ne=0,de=0;b?m?(ne=S*f.width,de=g*c.height):(ne=g*f.height,de=S*c.width):"start"===O?de=c.width:"end"===O?ne=f.width:"inner"!==O&&(ne=f.width/2,de=c.width/2),this.paddingLeft=Math.max((ne-A+k)*this.width/(this.width-A),0),this.paddingRight=Math.max((de-j+k)*this.width/(this.width-j),0)}else{let A=c.height/2,j=f.height/2;"start"===O?(A=0,j=f.height):"end"===O&&(A=c.height,j=0),this.paddingTop=A+k,this.paddingBottom=j+k}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){y.callback(this.options.afterFit,[this])}isHorizontal(){const{axis:f,position:c}=this.options;return"top"===c||"bottom"===c||"x"===f}isFullSize(){return this.options.fullSize}_convertTicksToLabels(f){let c,g;for(this.beforeTickToLabelConversion(),this.generateTickLabels(f),c=0,g=f.length;c<g;c++)y.isNullOrUndef(f[c].label)&&(f.splice(c,1),g--,c--);this.afterTickToLabelConversion()}_getLabelSizes(){let f=this._labelSizes;if(!f){const c=this.options.ticks.sampleSize;let g=this.ticks;c<g.length&&(g=no(g,c)),this._labelSizes=f=this._computeLabelSizes(g,g.length,this.options.ticks.maxTicksLimit)}return f}_computeLabelSizes(f,c,g){const{ctx:S,_longestTextCache:O}=this,k=[],p=[],b=Math.floor(c/Dr(c,g));let j,ne,de,He,lt,Dt,an,Kt,In,kn,xn,m=0,A=0;for(j=0;j<c;j+=b){if(He=f[j].label,lt=this._resolveTickFontOptions(j),S.font=Dt=lt.string,an=O[Dt]=O[Dt]||{data:{},gc:[]},Kt=lt.lineHeight,In=kn=0,y.isNullOrUndef(He)||y.isArray(He)){if(y.isArray(He))for(ne=0,de=He.length;ne<de;++ne)xn=He[ne],!y.isNullOrUndef(xn)&&!y.isArray(xn)&&(In=y._measureText(S,an.data,an.gc,In,xn),kn+=Kt)}else In=y._measureText(S,an.data,an.gc,In,He),kn=Kt;k.push(In),p.push(kn),m=Math.max(In,m),A=Math.max(kn,A)}!function tt(D,f){y.each(D,c=>{const g=c.gc,S=g.length/2;let O;if(S>f){for(O=0;O<S;++O)delete c.data[g[O]];g.splice(0,S)}})}(O,c);const Wn=k.indexOf(m),gi=p.indexOf(A),si=Ni=>({width:k[Ni]||0,height:p[Ni]||0});return{first:si(0),last:si(c-1),widest:si(Wn),highest:si(gi),widths:k,heights:p}}getLabelForValue(f){return f}getPixelForValue(f,c){return NaN}getValueForPixel(f){}getPixelForTick(f){const c=this.ticks;return f<0||f>c.length-1?null:this.getPixelForValue(c[f].value)}getPixelForDecimal(f){this._reversePixels&&(f=1-f);const c=this._startPixel+f*this._length;return y._int16Range(this._alignToPixels?y._alignPixel(this.chart,c,0):c)}getDecimalForPixel(f){const c=(f-this._startPixel)/this._length;return this._reversePixels?1-c:c}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:f,max:c}=this;return f<0&&c<0?c:f>0&&c>0?f:0}getContext(f){const c=this.ticks||[];if(f>=0&&f<c.length){const g=c[f];return g.$context||(g.$context=function rt(D,f,c){return y.createContext(D,{tick:c,index:f,type:"tick"})}(this.getContext(),f,g))}return this.$context||(this.$context=function Qt(D,f){return y.createContext(D,{scale:f,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const f=this.options.ticks,c=y.toRadians(this.labelRotation),g=Math.abs(Math.cos(c)),S=Math.abs(Math.sin(c)),O=this._getLabelSizes(),k=f.autoSkipPadding||0,p=O?O.widest.width+k:0,b=O?O.highest.height+k:0;return this.isHorizontal()?b*g>p*S?p/g:b/S:b*S<p*g?b/g:p/S}_isVisible(){const f=this.options.display;return"auto"!==f?!!f:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(f){const c=this.axis,g=this.chart,S=this.options,{grid:O,position:k,border:p}=S,b=O.offset,m=this.isHorizontal(),j=this.ticks.length+(b?1:0),ne=ht(O),de=[],He=p.setContext(this.getContext()),lt=He.display?He.width:0,Dt=lt/2,an=function(Yo){return y._alignPixel(g,Yo,lt)};let Kt,In,kn,xn,Wn,gi,si,Ni,zr,cr,Qr,rs;if("top"===k)Kt=an(this.bottom),gi=this.bottom-ne,Ni=Kt-Dt,cr=an(f.top)+Dt,rs=f.bottom;else if("bottom"===k)Kt=an(this.top),cr=f.top,rs=an(f.bottom)-Dt,gi=Kt+Dt,Ni=this.top+ne;else if("left"===k)Kt=an(this.right),Wn=this.right-ne,si=Kt-Dt,zr=an(f.left)+Dt,Qr=f.right;else if("right"===k)Kt=an(this.left),zr=f.left,Qr=an(f.right)-Dt,Wn=Kt+Dt,si=this.left+ne;else if("x"===c){if("center"===k)Kt=an((f.top+f.bottom)/2+.5);else if(y.isObject(k)){const Yo=Object.keys(k)[0];Kt=an(this.chart.scales[Yo].getPixelForValue(k[Yo]))}cr=f.top,rs=f.bottom,gi=Kt+Dt,Ni=gi+ne}else if("y"===c){if("center"===k)Kt=an((f.left+f.right)/2);else if(y.isObject(k)){const Yo=Object.keys(k)[0];Kt=an(this.chart.scales[Yo].getPixelForValue(k[Yo]))}Wn=Kt-Dt,si=Wn-ne,zr=f.left,Qr=f.right}const ds=y.valueOrDefault(S.ticks.maxTicksLimit,j),Uo=Math.max(1,Math.ceil(j/ds));for(In=0;In<j;In+=Uo){const Yo=this.getContext(In),jo=O.setContext(Yo),Ds=p.setContext(Yo),ps=jo.lineWidth,_a=jo.color,ba=Ds.dash||[],Aa=Ds.dashOffset,ua=jo.tickWidth,wa=jo.tickColor,Zs=jo.tickBorderDash||[],ta=jo.tickBorderDashOffset;kn=We(this,In,b),void 0!==kn&&(xn=y._alignPixel(g,kn,ps),m?Wn=si=zr=Qr=xn:gi=Ni=cr=rs=xn,de.push({tx1:Wn,ty1:gi,tx2:si,ty2:Ni,x1:zr,y1:cr,x2:Qr,y2:rs,width:ps,color:_a,borderDash:ba,borderDashOffset:Aa,tickWidth:ua,tickColor:wa,tickBorderDash:Zs,tickBorderDashOffset:ta}))}return this._ticksLength=j,this._borderValue=Kt,de}_computeLabelItems(f){const c=this.axis,g=this.options,{position:S,ticks:O}=g,k=this.isHorizontal(),p=this.ticks,{align:b,crossAlign:m,padding:A,mirror:j}=O,ne=ht(g.grid),de=ne+A,He=j?-A:de,lt=-y.toRadians(this.labelRotation),Dt=[];let an,Kt,In,kn,xn,Wn,gi,si,Ni,zr,cr,Qr,rs="middle";if("top"===S)Wn=this.bottom-He,gi=this._getXAxisLabelAlignment();else if("bottom"===S)Wn=this.top+He,gi=this._getXAxisLabelAlignment();else if("left"===S){const Uo=this._getYAxisLabelAlignment(ne);gi=Uo.textAlign,xn=Uo.x}else if("right"===S){const Uo=this._getYAxisLabelAlignment(ne);gi=Uo.textAlign,xn=Uo.x}else if("x"===c){if("center"===S)Wn=(f.top+f.bottom)/2+de;else if(y.isObject(S)){const Uo=Object.keys(S)[0];Wn=this.chart.scales[Uo].getPixelForValue(S[Uo])+de}gi=this._getXAxisLabelAlignment()}else if("y"===c){if("center"===S)xn=(f.left+f.right)/2-de;else if(y.isObject(S)){const Uo=Object.keys(S)[0];xn=this.chart.scales[Uo].getPixelForValue(S[Uo])}gi=this._getYAxisLabelAlignment(ne).textAlign}"y"===c&&("start"===b?rs="top":"end"===b&&(rs="bottom"));const ds=this._getLabelSizes();for(an=0,Kt=p.length;an<Kt;++an){In=p[an],kn=In.label;const Uo=O.setContext(this.getContext(an));si=this.getPixelForTick(an)+O.labelOffset,Ni=this._resolveTickFontOptions(an),zr=Ni.lineHeight,cr=y.isArray(kn)?kn.length:1;const Yo=cr/2,jo=Uo.color,Ds=Uo.textStrokeColor,ps=Uo.textStrokeWidth;let ba,_a=gi;if(k?(xn=si,"inner"===gi&&(_a=an===Kt-1?this.options.reverse?"left":"right":0===an?this.options.reverse?"right":"left":"center"),Qr="top"===S?"near"===m||0!==lt?-cr*zr+zr/2:"center"===m?-ds.highest.height/2-Yo*zr+zr:zr/2-ds.highest.height:"near"===m||0!==lt?zr/2:"center"===m?ds.highest.height/2-Yo*zr:ds.highest.height-cr*zr,j&&(Qr*=-1),0!==lt&&!Uo.showLabelBackdrop&&(xn+=zr/2*Math.sin(lt))):(Wn=si,Qr=(1-cr)*zr/2),Uo.showLabelBackdrop){const Aa=y.toPadding(Uo.backdropPadding),ua=ds.heights[an],wa=ds.widths[an];let Zs=Qr-Aa.top,ta=0-Aa.left;switch(rs){case"middle":Zs-=ua/2;break;case"bottom":Zs-=ua}switch(gi){case"center":ta-=wa/2;break;case"right":ta-=wa;break;case"inner":an===Kt-1?ta-=wa:an>0&&(ta-=wa/2)}ba={left:ta,top:Zs,width:wa+Aa.width,height:ua+Aa.height,color:Uo.backdropColor}}Dt.push({label:kn,font:Ni,textOffset:Qr,options:{rotation:lt,color:jo,strokeColor:Ds,strokeWidth:ps,textAlign:_a,textBaseline:rs,translation:[xn,Wn],backdrop:ba}})}return Dt}_getXAxisLabelAlignment(){const{position:f,ticks:c}=this.options;if(-y.toRadians(this.labelRotation))return"top"===f?"left":"right";let S="center";return"start"===c.align?S="left":"end"===c.align?S="right":"inner"===c.align&&(S="inner"),S}_getYAxisLabelAlignment(f){const{position:c,ticks:{crossAlign:g,mirror:S,padding:O}}=this.options,p=f+O,b=this._getLabelSizes().widest.width;let m,A;return"left"===c?S?(A=this.right+O,"near"===g?m="left":"center"===g?(m="center",A+=b/2):(m="right",A+=b)):(A=this.right-p,"near"===g?m="right":"center"===g?(m="center",A-=b/2):(m="left",A=this.left)):"right"===c?S?(A=this.left+O,"near"===g?m="right":"center"===g?(m="center",A-=b/2):(m="left",A-=b)):(A=this.left+p,"near"===g?m="left":"center"===g?(m="center",A+=b/2):(m="right",A=this.right)):m="right",{textAlign:m,x:A}}_computeLabelArea(){if(this.options.ticks.mirror)return;const f=this.chart,c=this.options.position;return"left"===c||"right"===c?{top:0,left:this.left,bottom:f.height,right:this.right}:"top"===c||"bottom"===c?{top:this.top,left:0,bottom:this.bottom,right:f.width}:void 0}drawBackground(){const{ctx:f,options:{backgroundColor:c},left:g,top:S,width:O,height:k}=this;c&&(f.save(),f.fillStyle=c,f.fillRect(g,S,O,k),f.restore())}getLineWidthForValue(f){const c=this.options.grid;if(!this._isVisible()||!c.display)return 0;const S=this.ticks.findIndex(O=>O.value===f);return S>=0?c.setContext(this.getContext(S)).lineWidth:0}drawGrid(f){const c=this.options.grid,g=this.ctx,S=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(f));let O,k;const p=(b,m,A)=>{!A.width||!A.color||(g.save(),g.lineWidth=A.width,g.strokeStyle=A.color,g.setLineDash(A.borderDash||[]),g.lineDashOffset=A.borderDashOffset,g.beginPath(),g.moveTo(b.x,b.y),g.lineTo(m.x,m.y),g.stroke(),g.restore())};if(c.display)for(O=0,k=S.length;O<k;++O){const b=S[O];c.drawOnChartArea&&p({x:b.x1,y:b.y1},{x:b.x2,y:b.y2},b),c.drawTicks&&p({x:b.tx1,y:b.ty1},{x:b.tx2,y:b.ty2},{color:b.tickColor,width:b.tickWidth,borderDash:b.tickBorderDash,borderDashOffset:b.tickBorderDashOffset})}}drawBorder(){const{chart:f,ctx:c,options:{border:g,grid:S}}=this,O=g.setContext(this.getContext()),k=g.display?O.width:0;if(!k)return;const p=S.setContext(this.getContext(0)).lineWidth,b=this._borderValue;let m,A,j,ne;this.isHorizontal()?(m=y._alignPixel(f,this.left,k)-k/2,A=y._alignPixel(f,this.right,p)+p/2,j=ne=b):(j=y._alignPixel(f,this.top,k)-k/2,ne=y._alignPixel(f,this.bottom,p)+p/2,m=A=b),c.save(),c.lineWidth=O.width,c.strokeStyle=O.color,c.beginPath(),c.moveTo(m,j),c.lineTo(A,ne),c.stroke(),c.restore()}drawLabels(f){if(!this.options.ticks.display)return;const g=this.ctx,S=this._computeLabelArea();S&&y.clipArea(g,S);const O=this.getLabelItems(f);for(const k of O)y.renderText(g,k.label,0,k.textOffset,k.font,k.options);S&&y.unclipArea(g)}drawTitle(){const{ctx:f,options:{position:c,title:g,reverse:S}}=this;if(!g.display)return;const O=y.toFont(g.font),k=y.toPadding(g.padding),p=g.align;let b=O.lineHeight/2;"bottom"===c||"center"===c||y.isObject(c)?(b+=k.bottom,y.isArray(g.text)&&(b+=O.lineHeight*(g.text.length-1))):b+=k.top;const{titleX:m,titleY:A,maxWidth:j,rotation:ne}=function Yt(D,f,c,g){const{top:S,left:O,bottom:k,right:p,chart:b}=D,{chartArea:m,scales:A}=b;let ne,de,He,j=0;const lt=k-S,Dt=p-O;if(D.isHorizontal()){if(de=y._alignStartEnd(g,O,p),y.isObject(c)){const an=Object.keys(c)[0];He=A[an].getPixelForValue(c[an])+lt-f}else He="center"===c?(m.bottom+m.top)/2+lt-f:Br(D,c,f);ne=p-O}else{if(y.isObject(c)){const an=Object.keys(c)[0];de=A[an].getPixelForValue(c[an])-Dt+f}else de="center"===c?(m.left+m.right)/2-Dt+f:Br(D,c,f);He=y._alignStartEnd(g,k,S),j="left"===c?-y.HALF_PI:y.HALF_PI}return{titleX:de,titleY:He,maxWidth:ne,rotation:j}}(this,b,c,p);y.renderText(f,g.text,0,0,O,{color:g.color,maxWidth:j,rotation:ne,textAlign:Vt(p,c,S),textBaseline:"middle",translation:[m,A]})}draw(f){this._isVisible()&&(this.drawBackground(),this.drawGrid(f),this.drawBorder(),this.drawTitle(),this.drawLabels(f))}_layers(){const f=this.options,c=f.ticks&&f.ticks.z||0,g=y.valueOrDefault(f.grid&&f.grid.z,-1),S=y.valueOrDefault(f.border&&f.border.z,0);return this._isVisible()&&this.draw===mn.prototype.draw?[{z:g,draw:O=>{this.drawBackground(),this.drawGrid(O),this.drawTitle()}},{z:S,draw:()=>{this.drawBorder()}},{z:c,draw:O=>{this.drawLabels(O)}}]:[{z:c,draw:O=>{this.draw(O)}}]}getMatchingVisibleMetas(f){const c=this.chart.getSortedVisibleDatasetMetas(),g=this.axis+"AxisID",S=[];let O,k;for(O=0,k=c.length;O<k;++O){const p=c[O];p[g]===this.id&&(!f||p.type===f)&&S.push(p)}return S}_resolveTickFontOptions(f){const c=this.options.ticks.setContext(this.getContext(f));return y.toFont(c.font)}_maxDigits(){const f=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/f}}class sn{constructor(f,c,g){this.type=f,this.scope=c,this.override=g,this.items=Object.create(null)}isForType(f){return Object.prototype.isPrototypeOf.call(this.type.prototype,f.prototype)}register(f){const c=Object.getPrototypeOf(f);let g;(function An(D){return"id"in D&&"defaults"in D})(c)&&(g=this.register(c));const S=this.items,O=f.id,k=this.scope+"."+O;if(!O)throw new Error("class does not have id: "+f);return O in S||(S[O]=f,function jn(D,f,c){const g=y.merge(Object.create(null),[c?y.defaults.get(c):{},y.defaults.get(f),D.defaults]);y.defaults.set(f,g),D.defaultRoutes&&function oi(D,f){Object.keys(f).forEach(c=>{const g=c.split("."),S=g.pop(),O=[D].concat(g).join("."),k=f[c].split("."),p=k.pop(),b=k.join(".");y.defaults.route(O,S,b,p)})}(f,D.defaultRoutes),D.descriptors&&y.defaults.describe(f,D.descriptors)}(f,k,g),this.override&&y.defaults.override(f.id,f.overrides)),k}get(f){return this.items[f]}unregister(f){const c=this.items,g=f.id,S=this.scope;g in c&&delete c[g],S&&g in y.defaults[S]&&(delete y.defaults[S][g],this.override&&delete y.overrides[g])}}class gr{constructor(){this.controllers=new sn(Ze,"datasets",!0),this.elements=new sn(tr,"elements"),this.plugins=new sn(Object,"plugins"),this.scales=new sn(mn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...f){this._each("register",f)}remove(...f){this._each("unregister",f)}addControllers(...f){this._each("register",f,this.controllers)}addElements(...f){this._each("register",f,this.elements)}addPlugins(...f){this._each("register",f,this.plugins)}addScales(...f){this._each("register",f,this.scales)}getController(f){return this._get(f,this.controllers,"controller")}getElement(f){return this._get(f,this.elements,"element")}getPlugin(f){return this._get(f,this.plugins,"plugin")}getScale(f){return this._get(f,this.scales,"scale")}removeControllers(...f){this._each("unregister",f,this.controllers)}removeElements(...f){this._each("unregister",f,this.elements)}removePlugins(...f){this._each("unregister",f,this.plugins)}removeScales(...f){this._each("unregister",f,this.scales)}_each(f,c,g){[...c].forEach(S=>{const O=g||this._getRegistryForType(S);g||O.isForType(S)||O===this.plugins&&S.id?this._exec(f,O,S):y.each(S,k=>{const p=g||this._getRegistryForType(k);this._exec(f,p,k)})})}_exec(f,c,g){const S=y._capitalize(f);y.callback(g["before"+S],[],g),c[f](g),y.callback(g["after"+S],[],g)}_getRegistryForType(f){for(let c=0;c<this._typedRegistries.length;c++){const g=this._typedRegistries[c];if(g.isForType(f))return g}return this.plugins}_get(f,c,g){const S=c.get(f);if(void 0===S)throw new Error('"'+f+'" is not a registered '+g+".");return S}}var lr=new gr;class fo{constructor(){this._init=[]}notify(f,c,g,S){"beforeInit"===c&&(this._init=this._createDescriptors(f,!0),this._notify(this._init,f,"install"));const O=S?this._descriptors(f).filter(S):this._descriptors(f),k=this._notify(O,f,c,g);return"afterDestroy"===c&&(this._notify(O,f,"stop"),this._notify(this._init,f,"uninstall")),k}_notify(f,c,g,S){S=S||{};for(const O of f){const k=O.plugin;if(!1===y.callback(k[g],[c,S,O.options],k)&&S.cancelable)return!1}return!0}invalidate(){y.isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(f){if(this._cache)return this._cache;const c=this._cache=this._createDescriptors(f);return this._notifyStateChanges(f),c}_createDescriptors(f,c){const g=f&&f.config,S=y.valueOrDefault(g.options&&g.options.plugins,{}),O=function Mi(D){const f={},c=[],g=Object.keys(lr.plugins.items);for(let O=0;O<g.length;O++)c.push(lr.getPlugin(g[O]));const S=D.plugins||[];for(let O=0;O<S.length;O++){const k=S[O];-1===c.indexOf(k)&&(c.push(k),f[k.id]=!0)}return{plugins:c,localIds:f}}(g);return!1!==S||c?function mr(D,{plugins:f,localIds:c},g,S){const O=[],k=D.getContext();for(const p of f){const b=p.id,m=Ir(g[b],S);null!==m&&O.push({plugin:p,options:io(D.config,{plugin:p,local:c[b]},m,k)})}return O}(f,O,S,c):[]}_notifyStateChanges(f){const c=this._oldCache||[],g=this._cache,S=(O,k)=>O.filter(p=>!k.some(b=>p.plugin.id===b.plugin.id));this._notify(S(c,g),f,"stop"),this._notify(S(g,c),f,"start")}}function Ir(D,f){return f||!1!==D?!0===D?{}:D:null}function io(D,{plugin:f,local:c},g,S){const O=D.pluginScopeKeys(f),k=D.getOptionScopes(g,O);return c&&f.defaults&&k.push(f.defaults),D.createResolver(k,S,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ao(D,f){return((f.datasets||{})[D]||{}).indexAxis||f.indexAxis||(y.defaults.datasets[D]||{}).indexAxis||"x"}function jr(D){if("x"===D||"y"===D||"r"===D)return D}function $i(D){return"top"===D||"bottom"===D?"x":"left"===D||"right"===D?"y":void 0}function Ue(D,...f){if(jr(D))return D;for(const c of f){const g=c.axis||$i(c.position)||D.length>1&&jr(D[0].toLowerCase());if(g)return g}throw new Error(`Cannot determine type of '${D}' axis. Please provide 'axis' or 'position' option.`)}function ot(D,f,c){if(c[f+"AxisID"]===D)return{axis:f}}function Gt(D){const f=D.options||(D.options={});f.plugins=y.valueOrDefault(f.plugins,{}),f.scales=function Wt(D,f){const c=y.overrides[D.type]||{scales:{}},g=f.scales||{},S=ao(D.type,f),O=Object.create(null);return Object.keys(g).forEach(k=>{const p=g[k];if(!y.isObject(p))return console.error(`Invalid scale configuration for scale: ${k}`);if(p._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${k}`);const b=Ue(k,p,function wt(D,f){if(f.data&&f.data.datasets){const c=f.data.datasets.filter(g=>g.xAxisID===D||g.yAxisID===D);if(c.length)return ot(D,"x",c[0])||ot(D,"y",c[0])}return{}}(k,D),y.defaults.scales[p.type]),m=function Zo(D,f){return D===f?"_index_":"_value_"}(b,S),A=c.scales||{};O[k]=y.mergeIf(Object.create(null),[{axis:b},p,A[b],A[m]])}),D.data.datasets.forEach(k=>{const p=k.type||D.type,b=k.indexAxis||ao(p,f),A=(y.overrides[p]||{}).scales||{};Object.keys(A).forEach(j=>{const ne=function To(D,f){let c=D;return"_index_"===D?c=f:"_value_"===D&&(c="x"===f?"y":"x"),c}(j,b),de=k[ne+"AxisID"]||ne;O[de]=O[de]||Object.create(null),y.mergeIf(O[de],[{axis:ne},g[de],A[j]])})}),Object.keys(O).forEach(k=>{const p=O[k];y.mergeIf(p,[y.defaults.scales[p.type],y.defaults.scale])}),O}(D,f)}function cn(D){return(D=D||{}).datasets=D.datasets||[],D.labels=D.labels||[],D}const Tn=new Map,Vn=new Set;function wn(D,f){let c=Tn.get(D);return c||(c=f(),Tn.set(D,c),Vn.add(c)),c}const ei=(D,f,c)=>{const g=y.resolveObjectKey(f,c);void 0!==g&&D.add(g)};class Yi{constructor(f){this._config=function Fn(D){return(D=D||{}).data=cn(D.data),Gt(D),D}(f),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(f){this._config.type=f}get data(){return this._config.data}set data(f){this._config.data=cn(f)}get options(){return this._config.options}set options(f){this._config.options=f}get plugins(){return this._config.plugins}update(){const f=this._config;this.clearCache(),Gt(f)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(f){return wn(f,()=>[[`datasets.${f}`,""]])}datasetAnimationScopeKeys(f,c){return wn(`${f}.transition.${c}`,()=>[[`datasets.${f}.transitions.${c}`,`transitions.${c}`],[`datasets.${f}`,""]])}datasetElementScopeKeys(f,c){return wn(`${f}-${c}`,()=>[[`datasets.${f}.elements.${c}`,`datasets.${f}`,`elements.${c}`,""]])}pluginScopeKeys(f){const c=f.id;return wn(`${this.type}-plugin-${c}`,()=>[[`plugins.${c}`,...f.additionalOptionScopes||[]]])}_cachedScopes(f,c){const g=this._scopeCache;let S=g.get(f);return(!S||c)&&(S=new Map,g.set(f,S)),S}getOptionScopes(f,c,g){const{options:S,type:O}=this,k=this._cachedScopes(f,g),p=k.get(c);if(p)return p;const b=new Set;c.forEach(A=>{f&&(b.add(f),A.forEach(j=>ei(b,f,j))),A.forEach(j=>ei(b,S,j)),A.forEach(j=>ei(b,y.overrides[O]||{},j)),A.forEach(j=>ei(b,y.defaults,j)),A.forEach(j=>ei(b,y.descriptors,j))});const m=Array.from(b);return 0===m.length&&m.push(Object.create(null)),Vn.has(c)&&k.set(c,m),m}chartOptionScopes(){const{options:f,type:c}=this;return[f,y.overrides[c]||{},y.defaults.datasets[c]||{},{type:c},y.defaults,y.descriptors]}resolveNamedOptions(f,c,g,S=[""]){const O={$shared:!0},{resolver:k,subPrefixes:p}=_i(this._resolverCache,f,S);let b=k;if(function Tr(D,f){const{isScriptable:c,isIndexable:g}=y._descriptors(D);for(const S of f){const O=c(S),k=g(S),p=(k||O)&&D[S];if(O&&(y.isFunction(p)||mi(p))||k&&y.isArray(p))return!0}return!1}(k,c)){O.$shared=!1,g=y.isFunction(g)?g():g;const m=this.createResolver(f,g,p);b=y._attachContext(k,g,m)}for(const m of c)O[m]=b[m];return O}createResolver(f,c,g=[""],S){const{resolver:O}=_i(this._resolverCache,f,g);return y.isObject(c)?y._attachContext(O,c,void 0,S):O}}function _i(D,f,c){let g=D.get(f);g||(g=new Map,D.set(f,g));const S=c.join();let O=g.get(S);return O||(O={resolver:y._createResolver(f,c),subPrefixes:c.filter(p=>!p.toLowerCase().includes("hover"))},g.set(S,O)),O}const mi=D=>y.isObject(D)&&Object.getOwnPropertyNames(D).some(f=>y.isFunction(D[f])),sr=["top","bottom","left","right","chartArea"];function xr(D,f){return"top"===D||"bottom"===D||-1===sr.indexOf(D)&&"x"===f}function wi(D,f){return function(c,g){return c[D]===g[D]?c[f]-g[f]:c[D]-g[D]}}function br(D){const f=D.chart,c=f.options.animation;f.notifyPlugins("afterRender"),y.callback(c&&c.onComplete,[D],f)}function zn(D){const f=D.chart,c=f.options.animation;y.callback(c&&c.onProgress,[D],f)}function Bi(D){return y._isDomSupported()&&"string"==typeof D?D=document.getElementById(D):D&&D.length&&(D=D[0]),D&&D.canvas&&(D=D.canvas),D}const Mr={},Gr=D=>{const f=Bi(D);return Object.values(Mr).filter(c=>c.canvas===f).pop()};function vr(D,f,c){const g=Object.keys(D);for(const S of g){const O=+S;if(O>=f){const k=D[S];delete D[S],(c>0||O>f)&&(D[O+c]=k)}}}function lo(D,f,c){return D.options.clip?D[c]:f[c]}class eo{static register(...f){lr.add(...f),qr()}static unregister(...f){lr.remove(...f),qr()}constructor(f,c){const g=this.config=new Yi(c),S=Bi(f),O=Gr(S);if(O)throw new Error("Canvas is already in use. Chart with ID '"+O.id+"' must be destroyed before the canvas with ID '"+O.canvas.id+"' can be reused.");const k=g.createResolver(g.chartOptionScopes(),this.getContext());this.platform=new(g.platform||fr(S)),this.platform.updateConfig(g);const p=this.platform.acquireContext(S,k.aspectRatio),b=p&&p.canvas,m=b&&b.height,A=b&&b.width;this.id=y.uid(),this.ctx=p,this.canvas=b,this.width=A,this.height=m,this._options=k,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fo,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=y.debounce(j=>this.update(j),k.resizeDelay||0),this._dataChanges=[],Mr[this.id]=this,p&&b?(z.listen(this,"complete",br),z.listen(this,"progress",zn),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:f,maintainAspectRatio:c},width:g,height:S,_aspectRatio:O}=this;return y.isNullOrUndef(f)?c&&O?O:S?g/S:null:f}get data(){return this.config.data}set data(f){this.config.data=f}get options(){return this._options}set options(f){this.config.options=f}get registry(){return lr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():y.retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return y.clearCanvas(this.canvas,this.ctx),this}stop(){return z.stop(this),this}resize(f,c){z.running(this)?this._resizeBeforeDraw={width:f,height:c}:this._resize(f,c)}_resize(f,c){const g=this.options,k=this.platform.getMaximumSize(this.canvas,f,c,g.maintainAspectRatio&&this.aspectRatio),p=g.devicePixelRatio||this.platform.getDevicePixelRatio(),b=this.width?"resize":"attach";this.width=k.width,this.height=k.height,this._aspectRatio=this.aspectRatio,y.retinaScale(this,p,!0)&&(this.notifyPlugins("resize",{size:k}),y.callback(g.onResize,[this,k],this),this.attached&&this._doResize(b)&&this.render())}ensureScalesHaveIDs(){y.each(this.options.scales||{},(g,S)=>{g.id=S})}buildOrUpdateScales(){const f=this.options,c=f.scales,g=this.scales,S=Object.keys(g).reduce((k,p)=>(k[p]=!1,k),{});let O=[];c&&(O=O.concat(Object.keys(c).map(k=>{const p=c[k],b=Ue(k,p),m="r"===b,A="x"===b;return{options:p,dposition:m?"chartArea":A?"bottom":"left",dtype:m?"radialLinear":A?"category":"linear"}}))),y.each(O,k=>{const p=k.options,b=p.id,m=Ue(b,p),A=y.valueOrDefault(p.type,k.dtype);(void 0===p.position||xr(p.position,m)!==xr(k.dposition))&&(p.position=k.dposition),S[b]=!0;let j=null;b in g&&g[b].type===A?j=g[b]:(j=new(lr.getScale(A))({id:b,type:A,ctx:this.ctx,chart:this}),g[j.id]=j),j.init(p,f)}),y.each(S,(k,p)=>{k||delete g[p]}),y.each(g,k=>{Yn.configure(this,k,k.options),Yn.addBox(this,k)})}_updateMetasets(){const f=this._metasets,c=this.data.datasets.length,g=f.length;if(f.sort((S,O)=>S.index-O.index),g>c){for(let S=c;S<g;++S)this._destroyDatasetMeta(S);f.splice(c,g-c)}this._sortedMetasets=f.slice(0).sort(wi("order","index"))}_removeUnreferencedMetasets(){const{_metasets:f,data:{datasets:c}}=this;f.length>c.length&&delete this._stacks,f.forEach((g,S)=>{0===c.filter(O=>O===g._dataset).length&&this._destroyDatasetMeta(S)})}buildOrUpdateControllers(){const f=[],c=this.data.datasets;let g,S;for(this._removeUnreferencedMetasets(),g=0,S=c.length;g<S;g++){const O=c[g];let k=this.getDatasetMeta(g);const p=O.type||this.config.type;if(k.type&&k.type!==p&&(this._destroyDatasetMeta(g),k=this.getDatasetMeta(g)),k.type=p,k.indexAxis=O.indexAxis||ao(p,this.options),k.order=O.order||0,k.index=g,k.label=""+O.label,k.visible=this.isDatasetVisible(g),k.controller)k.controller.updateIndex(g),k.controller.linkScales();else{const b=lr.getController(p),{datasetElementType:m,dataElementType:A}=y.defaults.datasets[p];Object.assign(b,{dataElementType:lr.getElement(A),datasetElementType:m&&lr.getElement(m)}),k.controller=new b(this,g),f.push(k.controller)}}return this._updateMetasets(),f}_resetElements(){y.each(this.data.datasets,(f,c)=>{this.getDatasetMeta(c).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(f){const c=this.config;c.update();const g=this._options=c.createResolver(c.chartOptionScopes(),this.getContext()),S=this._animationsDisabled=!g.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:f,cancelable:!0}))return;const O=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let k=0;for(let m=0,A=this.data.datasets.length;m<A;m++){const{controller:j}=this.getDatasetMeta(m),ne=!S&&-1===O.indexOf(j);j.buildOrUpdateElements(ne),k=Math.max(+j.getMaxOverflow(),k)}k=this._minPadding=g.layout.autoPadding?k:0,this._updateLayout(k),S||y.each(O,m=>{m.reset()}),this._updateDatasets(f),this.notifyPlugins("afterUpdate",{mode:f}),this._layers.sort(wi("z","_idx"));const{_active:p,_lastEvent:b}=this;b?this._eventHandler(b,!0):p.length&&this._updateHoverStyles(p,p,!0),this.render()}_updateScales(){y.each(this.scales,f=>{Yn.removeBox(this,f)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const f=this.options,c=new Set(Object.keys(this._listeners)),g=new Set(f.events);(!y.setsEqual(c,g)||!!this._responsiveListeners!==f.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:f}=this,c=this._getUniformDataChanges()||[];for(const{method:g,start:S,count:O}of c)vr(f,S,"_removeElements"===g?-O:O)}_getUniformDataChanges(){const f=this._dataChanges;if(!f||!f.length)return;this._dataChanges=[];const c=this.data.datasets.length,g=O=>new Set(f.filter(k=>k[0]===O).map((k,p)=>p+","+k.splice(1).join(","))),S=g(0);for(let O=1;O<c;O++)if(!y.setsEqual(S,g(O)))return;return Array.from(S).map(O=>O.split(",")).map(O=>({method:O[1],start:+O[2],count:+O[3]}))}_updateLayout(f){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Yn.update(this,this.width,this.height,f);const c=this.chartArea,g=c.width<=0||c.height<=0;this._layers=[],y.each(this.boxes,S=>{g&&"chartArea"===S.position||(S.configure&&S.configure(),this._layers.push(...S._layers()))},this),this._layers.forEach((S,O)=>{S._idx=O}),this.notifyPlugins("afterLayout")}_updateDatasets(f){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:f,cancelable:!0})){for(let c=0,g=this.data.datasets.length;c<g;++c)this.getDatasetMeta(c).controller.configure();for(let c=0,g=this.data.datasets.length;c<g;++c)this._updateDataset(c,y.isFunction(f)?f({datasetIndex:c}):f);this.notifyPlugins("afterDatasetsUpdate",{mode:f})}}_updateDataset(f,c){const g=this.getDatasetMeta(f),S={meta:g,index:f,mode:c,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",S)&&(g.controller._update(c),S.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",S))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(z.has(this)?this.attached&&!z.running(this)&&z.start(this):(this.draw(),br({chart:this})))}draw(){let f;if(this._resizeBeforeDraw){const{width:g,height:S}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(g,S)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const c=this._layers;for(f=0;f<c.length&&c[f].z<=0;++f)c[f].draw(this.chartArea);for(this._drawDatasets();f<c.length;++f)c[f].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(f){const c=this._sortedMetasets,g=[];let S,O;for(S=0,O=c.length;S<O;++S){const k=c[S];(!f||k.visible)&&g.push(k)}return g}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const f=this.getSortedVisibleDatasetMetas();for(let c=f.length-1;c>=0;--c)this._drawDataset(f[c]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(f){const c=this.ctx,g=f._clip,S=!g.disabled,O=function So(D,f){const{xScale:c,yScale:g}=D;return c&&g?{left:lo(c,f,"left"),right:lo(c,f,"right"),top:lo(g,f,"top"),bottom:lo(g,f,"bottom")}:f}(f,this.chartArea),k={meta:f,index:f.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",k)&&(S&&y.clipArea(c,{left:!1===g.left?0:O.left-g.left,right:!1===g.right?this.width:O.right+g.right,top:!1===g.top?0:O.top-g.top,bottom:!1===g.bottom?this.height:O.bottom+g.bottom}),f.controller.draw(),S&&y.unclipArea(c),k.cancelable=!1,this.notifyPlugins("afterDatasetDraw",k))}isPointInArea(f){return y._isPointInArea(f,this.chartArea,this._minPadding)}getElementsAtEventForMode(f,c,g,S){const O=nt.modes[c];return"function"==typeof O?O(this,f,g,S):[]}getDatasetMeta(f){const c=this.data.datasets[f],g=this._metasets;let S=g.filter(O=>O&&O._dataset===c).pop();return S||(S={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:c&&c.order||0,index:f,_dataset:c,_parsed:[],_sorted:!1},g.push(S)),S}getContext(){return this.$context||(this.$context=y.createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(f){const c=this.data.datasets[f];if(!c)return!1;const g=this.getDatasetMeta(f);return"boolean"==typeof g.hidden?!g.hidden:!c.hidden}setDatasetVisibility(f,c){this.getDatasetMeta(f).hidden=!c}toggleDataVisibility(f){this._hiddenIndices[f]=!this._hiddenIndices[f]}getDataVisibility(f){return!this._hiddenIndices[f]}_updateVisibility(f,c,g){const S=g?"show":"hide",O=this.getDatasetMeta(f),k=O.controller._resolveAnimations(void 0,S);y.defined(c)?(O.data[c].hidden=!g,this.update()):(this.setDatasetVisibility(f,g),k.update(O,{visible:g}),this.update(p=>p.datasetIndex===f?S:void 0))}hide(f,c){this._updateVisibility(f,c,!1)}show(f,c){this._updateVisibility(f,c,!0)}_destroyDatasetMeta(f){const c=this._metasets[f];c&&c.controller&&c.controller._destroy(),delete this._metasets[f]}_stop(){let f,c;for(this.stop(),z.remove(this),f=0,c=this.data.datasets.length;f<c;++f)this._destroyDatasetMeta(f)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:f,ctx:c}=this;this._stop(),this.config.clearCache(),f&&(this.unbindEvents(),y.clearCanvas(f,c),this.platform.releaseContext(c),this.canvas=null,this.ctx=null),delete Mr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...f){return this.canvas.toDataURL(...f)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const f=this._listeners,c=this.platform,g=(O,k)=>{c.addEventListener(this,O,k),f[O]=k},S=(O,k,p)=>{O.offsetX=k,O.offsetY=p,this._eventHandler(O)};y.each(this.options.events,O=>g(O,S))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const f=this._responsiveListeners,c=this.platform,g=(b,m)=>{c.addEventListener(this,b,m),f[b]=m},S=(b,m)=>{f[b]&&(c.removeEventListener(this,b,m),delete f[b])},O=(b,m)=>{this.canvas&&this.resize(b,m)};let k;const p=()=>{S("attach",p),this.attached=!0,this.resize(),g("resize",O),g("detach",k)};k=()=>{this.attached=!1,S("resize",O),this._stop(),this._resize(0,0),g("attach",p)},c.isAttached(this.canvas)?p():k()}unbindEvents(){y.each(this._listeners,(f,c)=>{this.platform.removeEventListener(this,c,f)}),this._listeners={},y.each(this._responsiveListeners,(f,c)=>{this.platform.removeEventListener(this,c,f)}),this._responsiveListeners=void 0}updateHoverStyle(f,c,g){const S=g?"set":"remove";let O,k,p,b;for("dataset"===c&&(O=this.getDatasetMeta(f[0].datasetIndex),O.controller["_"+S+"DatasetHoverStyle"]()),p=0,b=f.length;p<b;++p){k=f[p];const m=k&&this.getDatasetMeta(k.datasetIndex).controller;m&&m[S+"HoverStyle"](k.element,k.datasetIndex,k.index)}}getActiveElements(){return this._active||[]}setActiveElements(f){const c=this._active||[],g=f.map(({datasetIndex:O,index:k})=>{const p=this.getDatasetMeta(O);if(!p)throw new Error("No dataset found at index "+O);return{datasetIndex:O,element:p.data[k],index:k}});!y._elementsEqual(g,c)&&(this._active=g,this._lastEvent=null,this._updateHoverStyles(g,c))}notifyPlugins(f,c,g){return this._plugins.notify(this,f,c,g)}isPluginEnabled(f){return 1===this._plugins._cache.filter(c=>c.plugin.id===f).length}_updateHoverStyles(f,c,g){const S=this.options.hover,O=(b,m)=>b.filter(A=>!m.some(j=>A.datasetIndex===j.datasetIndex&&A.index===j.index)),k=O(c,f),p=g?f:O(f,c);k.length&&this.updateHoverStyle(k,S.mode,!1),p.length&&S.mode&&this.updateHoverStyle(p,S.mode,!0)}_eventHandler(f,c){const g={event:f,replay:c,cancelable:!0,inChartArea:this.isPointInArea(f)},S=k=>(k.options.events||this.options.events).includes(f.native.type);if(!1===this.notifyPlugins("beforeEvent",g,S))return;const O=this._handleEvent(f,c,g.inChartArea);return g.cancelable=!1,this.notifyPlugins("afterEvent",g,S),(O||g.changed)&&this.render(),this}_handleEvent(f,c,g){const{_active:S=[],options:O}=this,p=this._getActiveElements(f,S,g,c),b=y._isClickEvent(f),m=function go(D,f,c,g){return c&&"mouseout"!==D.type?g?f:D:null}(f,this._lastEvent,g,b);g&&(this._lastEvent=null,y.callback(O.onHover,[f,p,this],this),b&&y.callback(O.onClick,[f,p,this],this));const A=!y._elementsEqual(p,S);return(A||c)&&(this._active=p,this._updateHoverStyles(p,S,c)),this._lastEvent=m,A}_getActiveElements(f,c,g,S){if("mouseout"===f.type)return[];if(!g)return c;const O=this.options.hover;return this.getElementsAtEventForMode(f,O.mode,O,S)}}function qr(){return y.each(eo.instances,D=>D._plugins.invalidate())}function ro(D,f,c,g){return{x:c+D*Math.cos(f),y:g+D*Math.sin(f)}}function Hr(D,f,c,g,S,O){const{x:k,y:p,startAngle:b,pixelMargin:m,innerRadius:A}=f,j=Math.max(f.outerRadius+g+c-m,0),ne=A>0?A+g+c+m:0;let de=0;const He=S-b;if(g){const jo=((A>0?A-g:0)+(j>0?j-g:0))/2;de=(He-(0!==jo?He*jo/(jo+g):He))/2}const Dt=(He-Math.max(.001,He*j-c/y.PI)/j)/2,an=b+Dt+de,Kt=S-Dt-de,{outerStart:In,outerEnd:kn,innerStart:xn,innerEnd:Wn}=function Vr(D,f,c,g){const S=function yo(D){return y._readValueToProps(D,["outerStart","outerEnd","innerStart","innerEnd"])}(D.options.borderRadius),O=(c-f)/2,k=Math.min(O,g*f/2),p=b=>{const m=(c-Math.min(O,b))*g/2;return y._limitValue(b,0,Math.min(O,m))};return{outerStart:p(S.outerStart),outerEnd:p(S.outerEnd),innerStart:y._limitValue(S.innerStart,0,k),innerEnd:y._limitValue(S.innerEnd,0,k)}}(f,ne,j,Kt-an),gi=j-In,si=j-kn,Ni=an+In/gi,zr=Kt-kn/si,cr=ne+xn,Qr=ne+Wn,rs=an+xn/cr,ds=Kt-Wn/Qr;if(D.beginPath(),O){const Uo=(Ni+zr)/2;if(D.arc(k,p,j,Ni,Uo),D.arc(k,p,j,Uo,zr),kn>0){const ps=ro(si,zr,k,p);D.arc(ps.x,ps.y,kn,zr,Kt+y.HALF_PI)}const Yo=ro(Qr,Kt,k,p);if(D.lineTo(Yo.x,Yo.y),Wn>0){const ps=ro(Qr,ds,k,p);D.arc(ps.x,ps.y,Wn,Kt+y.HALF_PI,ds+Math.PI)}const jo=(Kt-Wn/ne+(an+xn/ne))/2;if(D.arc(k,p,ne,Kt-Wn/ne,jo,!0),D.arc(k,p,ne,jo,an+xn/ne,!0),xn>0){const ps=ro(cr,rs,k,p);D.arc(ps.x,ps.y,xn,rs+Math.PI,an-y.HALF_PI)}const Ds=ro(gi,an,k,p);if(D.lineTo(Ds.x,Ds.y),In>0){const ps=ro(gi,Ni,k,p);D.arc(ps.x,ps.y,In,an-y.HALF_PI,Ni)}}else{D.moveTo(k,p);const Uo=Math.cos(Ni)*j+k,Yo=Math.sin(Ni)*j+p;D.lineTo(Uo,Yo);const jo=Math.cos(zr)*j+k,Ds=Math.sin(zr)*j+p;D.lineTo(jo,Ds)}D.closePath()}o(eo,"defaults",y.defaults),o(eo,"instances",Mr),o(eo,"overrides",y.overrides),o(eo,"registry",lr),o(eo,"version","4.4.6"),o(eo,"getChart",Gr);class wr extends tr{constructor(f){super(),o(this,"circumference",void 0),o(this,"endAngle",void 0),o(this,"fullCircles",void 0),o(this,"innerRadius",void 0),o(this,"outerRadius",void 0),o(this,"pixelMargin",void 0),o(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,f&&Object.assign(this,f)}inRange(f,c,g){const S=this.getProps(["x","y"],g),{angle:O,distance:k}=y.getAngleFromPoint(S,{x:f,y:c}),{startAngle:p,endAngle:b,innerRadius:m,outerRadius:A,circumference:j}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],g),ne=(this.options.spacing+this.options.borderWidth)/2,de=y.valueOrDefault(j,b-p),He=y._angleBetween(O,p,b)&&p!==b,lt=de>=y.TAU||He,Dt=y._isBetween(k,m+ne,A+ne);return lt&&Dt}getCenterPoint(f){const{x:c,y:g,startAngle:S,endAngle:O,innerRadius:k,outerRadius:p}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],f),{offset:b,spacing:m}=this.options,A=(S+O)/2,j=(k+p+m+b)/2;return{x:c+Math.cos(A)*j,y:g+Math.sin(A)*j}}tooltipPosition(f){return this.getCenterPoint(f)}draw(f){const{options:c,circumference:g}=this,S=(c.offset||0)/4,O=(c.spacing||0)/2,k=c.circular;if(this.pixelMargin="inner"===c.borderAlign?.33:0,this.fullCircles=g>y.TAU?Math.floor(g/y.TAU):0,0===g||this.innerRadius<0||this.outerRadius<0)return;f.save();const p=(this.startAngle+this.endAngle)/2;f.translate(Math.cos(p)*S,Math.sin(p)*S);const m=S*(1-Math.sin(Math.min(y.PI,g||0)));f.fillStyle=c.backgroundColor,f.strokeStyle=c.borderColor,function Po(D,f,c,g,S){const{fullCircles:O,startAngle:k,circumference:p}=f;let b=f.endAngle;if(O){Hr(D,f,c,g,b,S);for(let m=0;m<O;++m)D.fill();isNaN(p)||(b=k+(p%y.TAU||y.TAU))}Hr(D,f,c,g,b,S),D.fill()}(f,this,m,O,k),function Lo(D,f,c,g,S){const{fullCircles:O,startAngle:k,circumference:p,options:b}=f,{borderWidth:m,borderJoinStyle:A,borderDash:j,borderDashOffset:ne}=b,de="inner"===b.borderAlign;if(!m)return;D.setLineDash(j||[]),D.lineDashOffset=ne,de?(D.lineWidth=2*m,D.lineJoin=A||"round"):(D.lineWidth=m,D.lineJoin=A||"bevel");let He=f.endAngle;if(O){Hr(D,f,c,g,He,S);for(let lt=0;lt<O;++lt)D.stroke();isNaN(p)||(He=k+(p%y.TAU||y.TAU))}de&&function xi(D,f,c){const{startAngle:g,pixelMargin:S,x:O,y:k,outerRadius:p,innerRadius:b}=f;let m=S/p;D.beginPath(),D.arc(O,k,p,g-m,c+m),b>S?(m=S/b,D.arc(O,k,b,c+m,g-m,!0)):D.arc(O,k,S,c+y.HALF_PI,g-y.HALF_PI),D.closePath(),D.clip()}(D,f,He),O||(Hr(D,f,c,g,He,S),D.stroke())}(f,this,m,O,k),f.restore()}}function $o(D,f,c=f){D.lineCap=y.valueOrDefault(c.borderCapStyle,f.borderCapStyle),D.setLineDash(y.valueOrDefault(c.borderDash,f.borderDash)),D.lineDashOffset=y.valueOrDefault(c.borderDashOffset,f.borderDashOffset),D.lineJoin=y.valueOrDefault(c.borderJoinStyle,f.borderJoinStyle),D.lineWidth=y.valueOrDefault(c.borderWidth,f.borderWidth),D.strokeStyle=y.valueOrDefault(c.borderColor,f.borderColor)}function No(D,f,c){D.lineTo(c.x,c.y)}function ko(D,f,c={}){const g=D.length,{start:S=0,end:O=g-1}=c,{start:k,end:p}=f,b=Math.max(S,k),m=Math.min(O,p);return{count:g,start:b,loop:f.loop,ilen:m<b&&!(S<k&&O<k||S>p&&O>p)?g+m-b:m-b}}function Xr(D,f,c,g){const{points:S,options:O}=f,{count:k,start:p,loop:b,ilen:m}=ko(S,c,g),A=function Go(D){return D.stepped?y._steppedLineTo:D.tension||"monotone"===D.cubicInterpolationMode?y._bezierCurveTo:No}(O);let de,He,lt,{move:j=!0,reverse:ne}=g||{};for(de=0;de<=m;++de)He=S[(p+(ne?m-de:de))%k],!He.skip&&(j?(D.moveTo(He.x,He.y),j=!1):A(D,lt,He,ne,O.stepped),lt=He);return b&&(He=S[(p+(ne?m:0))%k],A(D,lt,He,ne,O.stepped)),!!b}function Bo(D,f,c,g){const S=f.points,{count:O,start:k,ilen:p}=ko(S,c,g),{move:b=!0,reverse:m}=g||{};let ne,de,He,lt,Dt,an,A=0,j=0;const Kt=kn=>(k+(m?p-kn:kn))%O,In=()=>{lt!==Dt&&(D.lineTo(A,Dt),D.lineTo(A,lt),D.lineTo(A,an))};for(b&&(de=S[Kt(0)],D.moveTo(de.x,de.y)),ne=0;ne<=p;++ne){if(de=S[Kt(ne)],de.skip)continue;const kn=de.x,xn=de.y,Wn=0|kn;Wn===He?(xn<lt?lt=xn:xn>Dt&&(Dt=xn),A=(j*A+kn)/++j):(In(),D.lineTo(kn,xn),He=Wn,j=0,lt=Dt=xn),an=xn}In()}function zo(D){const f=D.options;return D._decimated||D._loop||f.tension||"monotone"===f.cubicInterpolationMode||f.stepped||f.borderDash&&f.borderDash.length?Xr:Bo}o(wr,"id","arc"),o(wr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),o(wr,"defaultRoutes",{backgroundColor:"backgroundColor"}),o(wr,"descriptors",{_scriptable:!0,_indexable:D=>"borderDash"!==D});const Xi="function"==typeof Path2D;let be=(()=>{class D extends tr{constructor(c){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,c&&Object.assign(this,c)}updateControlPoints(c,g){const S=this.options;!S.tension&&"monotone"!==S.cubicInterpolationMode||S.stepped||this._pointsUpdated||(y._updateBezierControlPoints(this._points,S,c,S.spanGaps?this._loop:this._fullLoop,g),this._pointsUpdated=!0)}set points(c){this._points=c,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=y._computeSegments(this,this.options.segment))}first(){const c=this.segments;return c.length&&this.points[c[0].start]}last(){const c=this.segments,S=c.length;return S&&this.points[c[S-1].end]}interpolate(c,g){const S=this.options,O=c[g],k=this.points,p=y._boundSegments(this,{property:g,start:O,end:O});if(!p.length)return;const b=[],m=function Zr(D){return D.stepped?y._steppedInterpolation:D.tension||"monotone"===D.cubicInterpolationMode?y._bezierInterpolation:y._pointInLine}(S);let A,j;for(A=0,j=p.length;A<j;++A){const{start:ne,end:de}=p[A],He=k[ne],lt=k[de];if(He===lt){b.push(He);continue}const an=m(He,lt,Math.abs((O-He[g])/(lt[g]-He[g])),S.stepped);an[g]=c[g],b.push(an)}return 1===b.length?b[0]:b}pathSegment(c,g,S){return zo(this)(c,this,g,S)}path(c,g,S){const O=this.segments,k=zo(this);let p=this._loop;g=g||0,S=S||this.points.length-g;for(const b of O)p&=k(c,this,b,{start:g,end:g+S-1});return!!p}draw(c,g,S,O){(this.points||[]).length&&(this.options||{}).borderWidth&&(c.save(),function G(D,f,c,g){Xi&&!f.options.segment?function Qo(D,f,c,g){let S=f._path;S||(S=f._path=new Path2D,f.path(S,c,g)&&S.closePath()),$o(D,f.options),D.stroke(S)}(D,f,c,g):function Xo(D,f,c,g){const{segments:S,options:O}=f,k=zo(f);for(const p of S)$o(D,O,p.style),D.beginPath(),k(D,f,p,{start:c,end:c+g-1})&&D.closePath(),D.stroke()}(D,f,c,g)}(c,this,S,O),c.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return o(D,"id","line"),o(D,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),o(D,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),o(D,"descriptors",{_scriptable:!0,_indexable:f=>"borderDash"!==f&&"fill"!==f}),D})();function Pe(D,f,c,g){const S=D.options,{[c]:O}=D.getProps([c],g);return Math.abs(f-O)<S.radius+S.hitRadius}let et=(()=>{class D extends tr{constructor(c){super(),o(this,"parsed",void 0),o(this,"skip",void 0),o(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,c&&Object.assign(this,c)}inRange(c,g,S){const O=this.options,{x:k,y:p}=this.getProps(["x","y"],S);return Math.pow(c-k,2)+Math.pow(g-p,2)<Math.pow(O.hitRadius+O.radius,2)}inXRange(c,g){return Pe(this,c,"x",g)}inYRange(c,g){return Pe(this,c,"y",g)}getCenterPoint(c){const{x:g,y:S}=this.getProps(["x","y"],c);return{x:g,y:S}}size(c){let g=(c=c||this.options||{}).radius||0;return g=Math.max(g,g&&c.hoverRadius||0),2*(g+(g&&c.borderWidth||0))}draw(c,g){const S=this.options;this.skip||S.radius<.1||!y._isPointInArea(this,g,this.size(S)/2)||(c.strokeStyle=S.borderColor,c.lineWidth=S.borderWidth,c.fillStyle=S.backgroundColor,y.drawPoint(c,S,this.x,this.y))}getRange(){const c=this.options||{};return c.radius+c.hitRadius}}return o(D,"id","point"),o(D,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),o(D,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),D})();function ct(D,f){const{x:c,y:g,base:S,width:O,height:k}=D.getProps(["x","y","base","width","height"],f);let p,b,m,A,j;return D.horizontal?(j=k/2,p=Math.min(c,S),b=Math.max(c,S),m=g-j,A=g+j):(j=O/2,p=c-j,b=c+j,m=Math.min(g,S),A=Math.max(g,S)),{left:p,top:m,right:b,bottom:A}}function Et(D,f,c,g){return D?0:y._limitValue(f,c,g)}function Mn(D,f,c,g){const S=null===f,O=null===c,p=D&&!(S&&O)&&ct(D,g);return p&&(S||y._isBetween(f,p.left,p.right))&&(O||y._isBetween(c,p.top,p.bottom))}function Ii(D,f){D.rect(f.x,f.y,f.w,f.h)}function ui(D,f,c={}){const g=D.x!==c.x?-f:0,S=D.y!==c.y?-f:0;return{x:D.x+g,y:D.y+S,w:D.w+((D.x+D.w!==c.x+c.w?f:0)-g),h:D.h+((D.y+D.h!==c.y+c.h?f:0)-S),radius:D.radius}}class Xn extends tr{constructor(f){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,f&&Object.assign(this,f)}draw(f){const{inflateAmount:c,options:{borderColor:g,backgroundColor:S}}=this,{inner:O,outer:k}=function rn(D){const f=ct(D),c=f.right-f.left,g=f.bottom-f.top,S=function Ft(D,f,c){const S=D.borderSkipped,O=y.toTRBL(D.options.borderWidth);return{t:Et(S.top,O.top,0,c),r:Et(S.right,O.right,0,f),b:Et(S.bottom,O.bottom,0,c),l:Et(S.left,O.left,0,f)}}(D,c/2,g/2),O=function Ht(D,f,c){const{enableBorderRadius:g}=D.getProps(["enableBorderRadius"]),S=D.options.borderRadius,O=y.toTRBLCorners(S),k=Math.min(f,c),p=D.borderSkipped,b=g||y.isObject(S);return{topLeft:Et(!b||p.top||p.left,O.topLeft,0,k),topRight:Et(!b||p.top||p.right,O.topRight,0,k),bottomLeft:Et(!b||p.bottom||p.left,O.bottomLeft,0,k),bottomRight:Et(!b||p.bottom||p.right,O.bottomRight,0,k)}}(D,c/2,g/2);return{outer:{x:f.left,y:f.top,w:c,h:g,radius:O},inner:{x:f.left+S.l,y:f.top+S.t,w:c-S.l-S.r,h:g-S.t-S.b,radius:{topLeft:Math.max(0,O.topLeft-Math.max(S.t,S.l)),topRight:Math.max(0,O.topRight-Math.max(S.t,S.r)),bottomLeft:Math.max(0,O.bottomLeft-Math.max(S.b,S.l)),bottomRight:Math.max(0,O.bottomRight-Math.max(S.b,S.r))}}}}(this),p=function Rn(D){return D.topLeft||D.topRight||D.bottomLeft||D.bottomRight}(k.radius)?y.addRoundedRectPath:Ii;f.save(),(k.w!==O.w||k.h!==O.h)&&(f.beginPath(),p(f,ui(k,c,O)),f.clip(),p(f,ui(O,-c,k)),f.fillStyle=g,f.fill("evenodd")),f.beginPath(),p(f,ui(O,c)),f.fillStyle=S,f.fill(),f.restore()}inRange(f,c,g){return Mn(this,f,c,g)}inXRange(f,c){return Mn(this,f,null,c)}inYRange(f,c){return Mn(this,null,f,c)}getCenterPoint(f){const{x:c,y:g,base:S,horizontal:O}=this.getProps(["x","y","base","horizontal"],f);return{x:O?(c+S)/2:c,y:O?g:(g+S)/2}}getRange(f){return"x"===f?this.width/2:this.height/2}}o(Xn,"id","bar"),o(Xn,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),o(Xn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var ye=Object.freeze({__proto__:null,ArcElement:wr,BarElement:Xn,LineElement:be,PointElement:et});const oe=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],M=oe.map(D=>D.replace("rgb(","rgba(").replace(")",", 0.5)"));function N(D){return oe[D%oe.length]}function h(D){return M[D%M.length]}function Ye(D){let f;for(f in D)if(D[f].borderColor||D[f].backgroundColor)return!0;return!1}var qt={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(D,f,c){if(!c.enabled)return;const{data:{datasets:g},options:S}=D.config,{elements:O}=S,k=Ye(g)||function Ot(D){return D&&(D.borderColor||D.backgroundColor)}(S)||O&&Ye(O)||function Bt(){return"rgba(0,0,0,0.1)"!==y.defaults.borderColor||"rgba(0,0,0,0.1)"!==y.defaults.backgroundColor}();if(!c.forceOverride&&k)return;const p=function Q(D){let f=0;return(c,g)=>{const S=D.getDatasetMeta(g).controller;S instanceof st?f=function E(D,f){return D.backgroundColor=D.data.map(()=>N(f++)),f}(c,f):S instanceof $t?f=function H(D,f){return D.backgroundColor=D.data.map(()=>h(f++)),f}(c,f):S&&(f=function I(D,f){return D.borderColor=N(f),D.backgroundColor=h(f),++f}(c,f))}}(D);g.forEach(p)}};function Ci(D){if(D._decimated){const f=D._data;delete D._decimated,delete D._data,Object.defineProperty(D,"data",{configurable:!0,enumerable:!0,writable:!0,value:f})}}function pi(D){D.data.datasets.forEach(f=>{Ci(f)})}var li={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(D,f,c)=>{if(!c.enabled)return void pi(D);const g=D.width;D.data.datasets.forEach((S,O)=>{const{_data:k,indexAxis:p}=S,b=D.getDatasetMeta(O),m=k||S.data;if("y"===y.resolve([p,D.options.indexAxis])||!b.controller.supportsDecimation)return;const A=D.scales[b.xAxisID];if("linear"!==A.type&&"time"!==A.type||D.options.parsing)return;let He,{start:j,count:ne}=function rr(D,f){const c=f.length;let S,g=0;const{iScale:O}=D,{min:k,max:p,minDefined:b,maxDefined:m}=O.getUserBounds();return b&&(g=y._limitValue(y._lookupByKey(f,O.axis,k).lo,0,c-1)),S=m?y._limitValue(y._lookupByKey(f,O.axis,p).hi+1,g,c)-g:c-g,{start:g,count:S}}(b,m);if(ne<=(c.threshold||4*g))Ci(S);else{switch(y.isNullOrUndef(k)&&(S._data=m,delete S.data,Object.defineProperty(S,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(lt){this._data=lt}})),c.algorithm){case"lttb":He=function $n(D,f,c,g,S){const O=S.samples||g;if(O>=c)return D.slice(f,f+c);const k=[],p=(c-2)/(O-2);let b=0;const m=f+c-1;let j,ne,de,He,lt,A=f;for(k[b++]=D[A],j=0;j<O-2;j++){let Kt,Dt=0,an=0;const In=Math.floor((j+1)*p)+1+f,kn=Math.min(Math.floor((j+2)*p)+1,c)+f,xn=kn-In;for(Kt=In;Kt<kn;Kt++)Dt+=D[Kt].x,an+=D[Kt].y;Dt/=xn,an/=xn;const Wn=Math.floor(j*p)+1+f,gi=Math.min(Math.floor((j+1)*p)+1,c)+f,{x:si,y:Ni}=D[A];for(de=He=-1,Kt=Wn;Kt<gi;Kt++)He=.5*Math.abs((si-Dt)*(D[Kt].y-Ni)-(si-D[Kt].x)*(an-Ni)),He>de&&(de=He,ne=D[Kt],lt=Kt);k[b++]=ne,A=lt}return k[b++]=D[m],k}(m,j,ne,g,c);break;case"min-max":He=function hi(D,f,c,g){let k,p,b,m,A,j,ne,de,He,lt,S=0,O=0;const Dt=[],Kt=D[f].x,kn=D[f+c-1].x-Kt;for(k=f;k<f+c;++k){p=D[k],b=(p.x-Kt)/kn*g,m=p.y;const xn=0|b;if(xn===A)m<He?(He=m,j=k):m>lt&&(lt=m,ne=k),S=(O*S+p.x)/++O;else{const Wn=k-1;if(!y.isNullOrUndef(j)&&!y.isNullOrUndef(ne)){const gi=Math.min(j,ne),si=Math.max(j,ne);gi!==de&&gi!==Wn&&Dt.push({...D[gi],x:S}),si!==de&&si!==Wn&&Dt.push({...D[si],x:S})}k>0&&Wn!==de&&Dt.push(D[Wn]),Dt.push(p),A=xn,O=0,He=lt=m,j=ne=de=k}}return Dt}(m,j,ne,g);break;default:throw new Error(`Unsupported decimation algorithm '${c.algorithm}'`)}S._decimated=He}})},destroy(D){pi(D)}};function Jr(D,f,c,g){if(g)return;let S=f[D],O=c[D];return"angle"===D&&(S=y._normalizeAngle(S),O=y._normalizeAngle(O)),{property:D,start:S,end:O}}function _o(D,f,c){for(;f>D;f--){const g=c[f];if(!isNaN(g.x)&&!isNaN(g.y))break}return f}function es(D,f,c,g){return D&&f?g(D[c],f[c]):D?D[c]:f?f[c]:0}function Fo(D,f){let c=[],g=!1;return y.isArray(D)?(g=!0,c=D):c=function Er(D,f){const{x:c=null,y:g=null}=D||{},S=f.points,O=[];return f.segments.forEach(({start:k,end:p})=>{p=_o(k,p,S);const b=S[k],m=S[p];null!==g?(O.push({x:b.x,y:g}),O.push({x:m.x,y:g})):null!==c&&(O.push({x:c,y:b.y}),O.push({x:c,y:m.y}))}),O}(D,f),c.length?new be({points:c,options:{tension:0},_loop:g,_fullLoop:g}):null}function Do(D){return D&&!1!==D.fill}function fs(D,f,c){let S=D[f].fill;const O=[f];let k;if(!c)return S;for(;!1!==S&&-1===O.indexOf(S);){if(!y.isNumberFinite(S))return S;if(k=D[S],!k)return!1;if(k.visible)return S;O.push(S),S=k.fill}return!1}function ts(D,f,c){const g=function Ms(D){const f=D.options,c=f.fill;let g=y.valueOrDefault(c&&c.target,c);return void 0===g&&(g=!!f.backgroundColor),!1!==g&&null!==g&&(!0===g?"origin":g)}(D);if(y.isObject(g))return!isNaN(g.value)&&g;let S=parseFloat(g);return y.isNumberFinite(S)&&Math.floor(S)===S?function ss(D,f,c,g){return("-"===D||"+"===D)&&(c=f+c),!(c===f||c<0||c>=g)&&c}(g[0],f,S,c):["origin","start","end","stack","shape"].indexOf(g)>=0&&g}function ms(D,f,c){const g=[];for(let S=0;S<c.length;S++){const O=c[S],{first:k,last:p,point:b}=Ls(O,f,"x");if(!(!b||k&&p))if(k)g.unshift(b);else if(D.push(b),!p)break}D.push(...g)}function Ls(D,f,c){const g=D.interpolate(f,c);if(!g)return{};const S=g[c],O=D.segments,k=D.points;let p=!1,b=!1;for(let m=0;m<O.length;m++){const A=O[m],j=k[A.start][c],ne=k[A.end][c];if(y._isBetween(S,j,ne)){p=S===j,b=S===ne;break}}return{first:p,last:b,point:g}}class ns{constructor(f){this.x=f.x,this.y=f.y,this.radius=f.radius}pathSegment(f,c,g){const{x:S,y:O,radius:k}=this;return f.arc(S,O,k,(c=c||{start:0,end:y.TAU}).end,c.start,!0),!g.bounds}interpolate(f){const{x:c,y:g,radius:S}=this,O=f.angle;return{x:c+Math.cos(O)*S,y:g+Math.sin(O)*S,angle:O}}}function As(D,f,c){const g=function is(D){const{chart:f,fill:c,line:g}=D;if(y.isNumberFinite(c))return function Fs(D,f){const c=D.getDatasetMeta(f);return c&&D.isDatasetVisible(f)?c.dataset:null}(f,c);if("stack"===c)return function Rs(D){const{scale:f,index:c,line:g}=D,S=[],O=g.segments,k=g.points,p=function Is(D,f){const c=[],g=D.getMatchingVisibleMetas("line");for(let S=0;S<g.length;S++){const O=g[S];if(O.index===f)break;O.hidden||c.unshift(O.dataset)}return c}(f,c);p.push(Fo({x:null,y:f.bottom},g));for(let b=0;b<O.length;b++){const m=O[b];for(let A=m.start;A<=m.end;A++)ms(S,k[A],p)}return new be({points:S,options:{}})}(D);if("shape"===c)return!0;const S=function ws(D){return(D.scale||{}).getPointPositionForValue?function as(D){const{scale:f,fill:c}=D,g=f.options,S=f.getLabels().length,O=g.reverse?f.max:f.min,k=function os(D,f,c){let g;return g="start"===D?c:"end"===D?f.options.reverse?f.min:f.max:y.isObject(D)?D.value:f.getBaseValue(),g}(c,f,O),p=[];if(g.grid.circular){const b=f.getPointPositionForValue(0,O);return new ns({x:b.x,y:b.y,radius:f.getDistanceFromCenterForValue(k)})}for(let b=0;b<S;++b)p.push(f.getPointPositionForValue(b,k));return p}(D):function Ns(D){const{scale:f={},fill:c}=D,g=function Ps(D,f){let c=null;return"start"===D?c=f.bottom:"end"===D?c=f.top:y.isObject(D)?c=f.getPixelForValue(D.value):f.getBasePixel&&(c=f.getBasePixel()),c}(c,f);if(y.isNumberFinite(g)){const S=f.isHorizontal();return{x:S?g:null,y:S?null:g}}return null}(D)}(D);return S instanceof ns?S:Fo(S,g)}(f),{line:S,scale:O,axis:k}=f,p=S.options,b=p.fill,m=p.backgroundColor,{above:A=m,below:j=m}=b||{};g&&S.points.length&&(y.clipArea(D,c),function Os(D,f){const{line:c,target:g,above:S,below:O,area:k,scale:p}=f,b=c._loop?"angle":f.axis;D.save(),"x"===b&&O!==S&&(Ko(D,g,k.top),ls(D,{line:c,target:g,color:S,scale:p,property:b}),D.restore(),D.save(),Ko(D,g,k.bottom)),ls(D,{line:c,target:g,color:O,scale:p,property:b}),D.restore()}(D,{line:S,target:g,above:A,below:j,area:c,scale:O,axis:k}),y.unclipArea(D))}function Ko(D,f,c){const{segments:g,points:S}=f;let O=!0,k=!1;D.beginPath();for(const p of g){const{start:b,end:m}=p,A=S[b],j=S[_o(b,m,S)];O?(D.moveTo(A.x,A.y),O=!1):(D.lineTo(A.x,c),D.lineTo(A.x,A.y)),k=!!f.pathSegment(D,p,{move:k}),k?D.closePath():D.lineTo(j.x,c)}D.lineTo(f.first().x,c),D.closePath(),D.clip()}function ls(D,f){const{line:c,target:g,property:S,color:O,scale:k}=f,p=function Co(D,f,c){const g=D.segments,S=D.points,O=f.points,k=[];for(const p of g){let{start:b,end:m}=p;m=_o(b,m,S);const A=Jr(c,S[b],S[m],p.loop);if(!f.segments){k.push({source:p,target:A,start:S[b],end:S[m]});continue}const j=y._boundSegments(f,A);for(const ne of j){const de=Jr(c,O[ne.start],O[ne.end],ne.loop),He=y._boundSegment(p,S,de);for(const lt of He)k.push({source:lt,target:ne,start:{[c]:es(A,de,"start",Math.max)},end:{[c]:es(A,de,"end",Math.min)}})}}return k}(c,g,S);for(const{source:b,target:m,start:A,end:j}of p){const{style:{backgroundColor:ne=O}={}}=b,de=!0!==g;D.save(),D.fillStyle=ne,Mo(D,k,de&&Jr(S,A,j)),D.beginPath();const He=!!c.pathSegment(D,b);let lt;if(de){He?D.closePath():js(D,g,j,S);const Dt=!!g.pathSegment(D,m,{move:He,reverse:!0});lt=He&&Dt,lt||js(D,g,A,S)}D.closePath(),D.fill(lt?"evenodd":"nonzero"),D.restore()}}function Mo(D,f,c){const{top:g,bottom:S}=f.chart.chartArea,{property:O,start:k,end:p}=c||{};"x"===O&&(D.beginPath(),D.rect(k,g,p-k,S-g),D.clip())}function js(D,f,c,g){const S=f.interpolate(c,g);S&&D.lineTo(S.x,S.y)}var ie={id:"filler",afterDatasetsUpdate(D,f,c){const g=(D.data.datasets||[]).length,S=[];let O,k,p,b;for(k=0;k<g;++k)O=D.getDatasetMeta(k),p=O.dataset,b=null,p&&p.options&&p instanceof be&&(b={visible:D.isDatasetVisible(k),index:k,fill:ts(p,k,g),chart:D,axis:O.controller.options.indexAxis,scale:O.vScale,line:p}),O.$filler=b,S.push(b);for(k=0;k<g;++k)b=S[k],b&&!1!==b.fill&&(b.fill=fs(S,k,c.propagate))},beforeDraw(D,f,c){const g="beforeDraw"===c.drawTime,S=D.getSortedVisibleDatasetMetas(),O=D.chartArea;for(let k=S.length-1;k>=0;--k){const p=S[k].$filler;p&&(p.line.updateControlPoints(O,p.axis),g&&p.fill&&As(D.ctx,p,O))}},beforeDatasetsDraw(D,f,c){if("beforeDatasetsDraw"!==c.drawTime)return;const g=D.getSortedVisibleDatasetMetas();for(let S=g.length-1;S>=0;--S){const O=g[S].$filler;Do(O)&&As(D.ctx,O,D.chartArea)}},beforeDatasetDraw(D,f,c){const g=f.meta.$filler;!Do(g)||"beforeDatasetDraw"!==c.drawTime||As(D.ctx,g,D.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const B=(D,f)=>{let{boxHeight:c=f,boxWidth:g=f}=D;return D.usePointStyle&&(c=Math.min(c,f),g=D.pointStyleWidth||Math.min(g,f)),{boxWidth:g,boxHeight:c,itemHeight:Math.max(f,c)}};class P extends tr{constructor(f){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=f.chart,this.options=f.options,this.ctx=f.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(f,c,g){this.maxWidth=f,this.maxHeight=c,this._margins=g,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const f=this.options.labels||{};let c=y.callback(f.generateLabels,[this.chart],this)||[];f.filter&&(c=c.filter(g=>f.filter(g,this.chart.data))),f.sort&&(c=c.sort((g,S)=>f.sort(g,S,this.chart.data))),this.options.reverse&&c.reverse(),this.legendItems=c}fit(){const{options:f,ctx:c}=this;if(!f.display)return void(this.width=this.height=0);const g=f.labels,S=y.toFont(g.font),O=S.size,k=this._computeTitleHeight(),{boxWidth:p,itemHeight:b}=B(g,O);let m,A;c.font=S.string,this.isHorizontal()?(m=this.maxWidth,A=this._fitRows(k,O,p,b)+10):(A=this.maxHeight,m=this._fitCols(k,S,p,b)+10),this.width=Math.min(m,f.maxWidth||this.maxWidth),this.height=Math.min(A,f.maxHeight||this.maxHeight)}_fitRows(f,c,g,S){const{ctx:O,maxWidth:k,options:{labels:{padding:p}}}=this,b=this.legendHitBoxes=[],m=this.lineWidths=[0],A=S+p;let j=f;O.textAlign="left",O.textBaseline="middle";let ne=-1,de=-A;return this.legendItems.forEach((He,lt)=>{const Dt=g+c/2+O.measureText(He.text).width;(0===lt||m[m.length-1]+Dt+2*p>k)&&(j+=A,m[m.length-(lt>0?0:1)]=0,de+=A,ne++),b[lt]={left:0,top:de,row:ne,width:Dt,height:S},m[m.length-1]+=Dt+p}),j}_fitCols(f,c,g,S){const{ctx:O,maxHeight:k,options:{labels:{padding:p}}}=this,b=this.legendHitBoxes=[],m=this.columnSizes=[],A=k-f;let j=p,ne=0,de=0,He=0,lt=0;return this.legendItems.forEach((Dt,an)=>{const{itemWidth:Kt,itemHeight:In}=function W(D,f,c,g,S){const O=function me(D,f,c,g){let S=D.text;return S&&"string"!=typeof S&&(S=S.reduce((O,k)=>O.length>k.length?O:k)),f+c.size/2+g.measureText(S).width}(g,D,f,c),k=function Fe(D,f,c){let g=D;return"string"!=typeof f.text&&(g=ft(f,c)),g}(S,g,f.lineHeight);return{itemWidth:O,itemHeight:k}}(g,c,O,Dt,S);an>0&&de+In+2*p>A&&(j+=ne+p,m.push({width:ne,height:de}),He+=ne+p,lt++,ne=de=0),b[an]={left:He,top:de,col:lt,width:Kt,height:In},ne=Math.max(ne,Kt),de+=In+p}),j+=ne,m.push({width:ne,height:de}),j}adjustHitBoxes(){if(!this.options.display)return;const f=this._computeTitleHeight(),{legendHitBoxes:c,options:{align:g,labels:{padding:S},rtl:O}}=this,k=y.getRtlAdapter(O,this.left,this.width);if(this.isHorizontal()){let p=0,b=y._alignStartEnd(g,this.left+S,this.right-this.lineWidths[p]);for(const m of c)p!==m.row&&(p=m.row,b=y._alignStartEnd(g,this.left+S,this.right-this.lineWidths[p])),m.top+=this.top+f+S,m.left=k.leftForLtr(k.x(b),m.width),b+=m.width+S}else{let p=0,b=y._alignStartEnd(g,this.top+f+S,this.bottom-this.columnSizes[p].height);for(const m of c)m.col!==p&&(p=m.col,b=y._alignStartEnd(g,this.top+f+S,this.bottom-this.columnSizes[p].height)),m.top=b,m.left+=this.left+S,m.left=k.leftForLtr(k.x(m.left),m.width),b+=m.height+S}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const f=this.ctx;y.clipArea(f,this),this._draw(),y.unclipArea(f)}}_draw(){const{options:f,columnSizes:c,lineWidths:g,ctx:S}=this,{align:O,labels:k}=f,p=y.defaults.color,b=y.getRtlAdapter(f.rtl,this.left,this.width),m=y.toFont(k.font),{padding:A}=k,j=m.size,ne=j/2;let de;this.drawTitle(),S.textAlign=b.textAlign("left"),S.textBaseline="middle",S.lineWidth=.5,S.font=m.string;const{boxWidth:He,boxHeight:lt,itemHeight:Dt}=B(k,j),In=this.isHorizontal(),kn=this._computeTitleHeight();de=In?{x:y._alignStartEnd(O,this.left+A,this.right-g[0]),y:this.top+A+kn,line:0}:{x:this.left+A,y:y._alignStartEnd(O,this.top+kn+A,this.bottom-c[0].height),line:0},y.overrideTextDirection(this.ctx,f.textDirection);const xn=Dt+A;this.legendItems.forEach((Wn,gi)=>{S.strokeStyle=Wn.fontColor,S.fillStyle=Wn.fontColor;const si=S.measureText(Wn.text).width,Ni=b.textAlign(Wn.textAlign||(Wn.textAlign=k.textAlign)),zr=He+ne+si;let cr=de.x,Qr=de.y;b.setWidth(this.width),In?gi>0&&cr+zr+A>this.right&&(Qr=de.y+=xn,de.line++,cr=de.x=y._alignStartEnd(O,this.left+A,this.right-g[de.line])):gi>0&&Qr+xn>this.bottom&&(cr=de.x=cr+c[de.line].width+A,de.line++,Qr=de.y=y._alignStartEnd(O,this.top+kn+A,this.bottom-c[de.line].height)),function(Wn,gi,si){if(isNaN(He)||He<=0||isNaN(lt)||lt<0)return;S.save();const Ni=y.valueOrDefault(si.lineWidth,1);if(S.fillStyle=y.valueOrDefault(si.fillStyle,p),S.lineCap=y.valueOrDefault(si.lineCap,"butt"),S.lineDashOffset=y.valueOrDefault(si.lineDashOffset,0),S.lineJoin=y.valueOrDefault(si.lineJoin,"miter"),S.lineWidth=Ni,S.strokeStyle=y.valueOrDefault(si.strokeStyle,p),S.setLineDash(y.valueOrDefault(si.lineDash,[])),k.usePointStyle){const zr={radius:lt*Math.SQRT2/2,pointStyle:si.pointStyle,rotation:si.rotation,borderWidth:Ni},cr=b.xPlus(Wn,He/2);y.drawPointLegend(S,zr,cr,gi+ne,k.pointStyleWidth&&He)}else{const zr=gi+Math.max((j-lt)/2,0),cr=b.leftForLtr(Wn,He),Qr=y.toTRBLCorners(si.borderRadius);S.beginPath(),Object.values(Qr).some(rs=>0!==rs)?y.addRoundedRectPath(S,{x:cr,y:zr,w:He,h:lt,radius:Qr}):S.rect(cr,zr,He,lt),S.fill(),0!==Ni&&S.stroke()}S.restore()}(b.x(cr),Qr,Wn),cr=y._textX(Ni,cr+He+ne,In?cr+zr:this.right,f.rtl),function(Wn,gi,si){y.renderText(S,si.text,Wn,gi+Dt/2,m,{strikethrough:si.hidden,textAlign:b.textAlign(si.textAlign)})}(b.x(cr),Qr,Wn),In?de.x+=zr+A:de.y+="string"!=typeof Wn.text?ft(Wn,m.lineHeight)+A:xn}),y.restoreTextDirection(this.ctx,f.textDirection)}drawTitle(){const f=this.options,c=f.title,g=y.toFont(c.font),S=y.toPadding(c.padding);if(!c.display)return;const O=y.getRtlAdapter(f.rtl,this.left,this.width),k=this.ctx,p=c.position,m=S.top+g.size/2;let A,j=this.left,ne=this.width;if(this.isHorizontal())ne=Math.max(...this.lineWidths),A=this.top+m,j=y._alignStartEnd(f.align,j,this.right-ne);else{const He=this.columnSizes.reduce((lt,Dt)=>Math.max(lt,Dt.height),0);A=m+y._alignStartEnd(f.align,this.top,this.bottom-He-f.labels.padding-this._computeTitleHeight())}const de=y._alignStartEnd(p,j,j+ne);k.textAlign=O.textAlign(y._toLeftRightCenter(p)),k.textBaseline="middle",k.strokeStyle=c.color,k.fillStyle=c.color,k.font=g.string,y.renderText(k,c.text,de,A,g)}_computeTitleHeight(){const f=this.options.title,c=y.toFont(f.font),g=y.toPadding(f.padding);return f.display?c.lineHeight+g.height:0}_getLegendItemAt(f,c){let g,S,O;if(y._isBetween(f,this.left,this.right)&&y._isBetween(c,this.top,this.bottom))for(O=this.legendHitBoxes,g=0;g<O.length;++g)if(S=O[g],y._isBetween(f,S.left,S.left+S.width)&&y._isBetween(c,S.top,S.top+S.height))return this.legendItems[g];return null}handleEvent(f){const c=this.options;if(!function Tt(D,f){return!(("mousemove"!==D&&"mouseout"!==D||!f.onHover&&!f.onLeave)&&(!f.onClick||"click"!==D&&"mouseup"!==D))}(f.type,c))return;const g=this._getLegendItemAt(f.x,f.y);if("mousemove"===f.type||"mouseout"===f.type){const S=this._hoveredItem,O=((D,f)=>null!==D&&null!==f&&D.datasetIndex===f.datasetIndex&&D.index===f.index)(S,g);S&&!O&&y.callback(c.onLeave,[f,S,this],this),this._hoveredItem=g,g&&!O&&y.callback(c.onHover,[f,g,this],this)}else g&&y.callback(c.onClick,[f,g,this],this)}}function ft(D,f){return f*(D.text?D.text.length:0)}var Jt={id:"legend",_element:P,start(D,f,c){const g=D.legend=new P({ctx:D.ctx,options:c,chart:D});Yn.configure(D,g,c),Yn.addBox(D,g)},stop(D){Yn.removeBox(D,D.legend),delete D.legend},beforeUpdate(D,f,c){const g=D.legend;Yn.configure(D,g,c),g.options=c},afterUpdate(D){const f=D.legend;f.buildLabels(),f.adjustHitBoxes()},afterEvent(D,f){f.replay||D.legend.handleEvent(f.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(D,f,c){const g=f.datasetIndex,S=c.chart;S.isDatasetVisible(g)?(S.hide(g),f.hidden=!0):(S.show(g),f.hidden=!1)},onHover:null,onLeave:null,labels:{color:D=>D.chart.options.color,boxWidth:40,padding:10,generateLabels(D){const f=D.data.datasets,{labels:{usePointStyle:c,pointStyle:g,textAlign:S,color:O,useBorderRadius:k,borderRadius:p}}=D.legend.options;return D._getSortedDatasetMetas().map(b=>{const m=b.controller.getStyle(c?0:void 0),A=y.toPadding(m.borderWidth);return{text:f[b.index].label,fillStyle:m.backgroundColor,fontColor:O,hidden:!b.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:m.borderColor,pointStyle:g||m.pointStyle,rotation:m.rotation,textAlign:S||m.textAlign,borderRadius:k&&(p||m.borderRadius),datasetIndex:b.index}},this)}},title:{color:D=>D.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:D=>!D.startsWith("on"),labels:{_scriptable:D=>!["generateLabels","filter","sort"].includes(D)}}};class pn extends tr{constructor(f){super(),this.chart=f.chart,this.options=f.options,this.ctx=f.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(f,c){const g=this.options;if(this.left=0,this.top=0,!g.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=f,this.height=this.bottom=c;const S=y.isArray(g.text)?g.text.length:1;this._padding=y.toPadding(g.padding);const O=S*y.toFont(g.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=O:this.width=O}isHorizontal(){const f=this.options.position;return"top"===f||"bottom"===f}_drawArgs(f){const{top:c,left:g,bottom:S,right:O,options:k}=this,p=k.align;let m,A,j,b=0;return this.isHorizontal()?(A=y._alignStartEnd(p,g,O),j=c+f,m=O-g):("left"===k.position?(A=g+f,j=y._alignStartEnd(p,S,c),b=-.5*y.PI):(A=O-f,j=y._alignStartEnd(p,c,S),b=.5*y.PI),m=S-c),{titleX:A,titleY:j,maxWidth:m,rotation:b}}draw(){const f=this.ctx,c=this.options;if(!c.display)return;const g=y.toFont(c.font),O=g.lineHeight/2+this._padding.top,{titleX:k,titleY:p,maxWidth:b,rotation:m}=this._drawArgs(O);y.renderText(f,c.text,0,0,g,{color:c.color,maxWidth:b,rotation:m,textAlign:y._toLeftRightCenter(c.align),textBaseline:"middle",translation:[k,p]})}}var Jn={id:"title",_element:pn,start(D,f,c){!function Dn(D,f){const c=new pn({ctx:D.ctx,options:f,chart:D});Yn.configure(D,c,f),Yn.addBox(D,c),D.titleBlock=c}(D,c)},stop(D){Yn.removeBox(D,D.titleBlock),delete D.titleBlock},beforeUpdate(D,f,c){const g=D.titleBlock;Yn.configure(D,g,c),g.options=c},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Si=new WeakMap;var Hi={id:"subtitle",start(D,f,c){const g=new pn({ctx:D.ctx,options:c,chart:D});Yn.configure(D,g,c),Yn.addBox(D,g),Si.set(D,g)},stop(D){Yn.removeBox(D,Si.get(D)),Si.delete(D)},beforeUpdate(D,f,c){const g=Si.get(D);Yn.configure(D,g,c),g.options=c},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ri={average(D){if(!D.length)return!1;let f,c,g=new Set,S=0,O=0;for(f=0,c=D.length;f<c;++f){const p=D[f].element;if(p&&p.hasValue()){const b=p.tooltipPosition();g.add(b.x),S+=b.y,++O}}return 0!==O&&0!==g.size&&{x:[...g].reduce((p,b)=>p+b)/g.size,y:S/O}},nearest(D,f){if(!D.length)return!1;let O,k,p,c=f.x,g=f.y,S=Number.POSITIVE_INFINITY;for(O=0,k=D.length;O<k;++O){const b=D[O].element;if(b&&b.hasValue()){const m=b.getCenterPoint(),A=y.distanceBetweenPoints(f,m);A<S&&(S=A,p=b)}}if(p){const b=p.tooltipPosition();c=b.x,g=b.y}return{x:c,y:g}}};function Li(D,f){return f&&(y.isArray(f)?Array.prototype.push.apply(D,f):D.push(f)),D}function Sr(D){return("string"==typeof D||D instanceof String)&&D.indexOf("\n")>-1?D.split("\n"):D}function Lr(D,f){const{element:c,datasetIndex:g,index:S}=f,O=D.getDatasetMeta(g).controller,{label:k,value:p}=O.getLabelAndValue(S);return{chart:D,label:k,parsed:O.getParsed(S),raw:D.data.datasets[g].data[S],formattedValue:p,dataset:O.getDataset(),dataIndex:S,datasetIndex:g,element:c}}function Io(D,f){const c=D.chart.ctx,{body:g,footer:S,title:O}=D,{boxWidth:k,boxHeight:p}=f,b=y.toFont(f.bodyFont),m=y.toFont(f.titleFont),A=y.toFont(f.footerFont),j=O.length,ne=S.length,de=g.length,He=y.toPadding(f.padding);let lt=He.height,Dt=0,an=g.reduce((kn,xn)=>kn+xn.before.length+xn.lines.length+xn.after.length,0);an+=D.beforeBody.length+D.afterBody.length,j&&(lt+=j*m.lineHeight+(j-1)*f.titleSpacing+f.titleMarginBottom),an&&(lt+=de*(f.displayColors?Math.max(p,b.lineHeight):b.lineHeight)+(an-de)*b.lineHeight+(an-1)*f.bodySpacing),ne&&(lt+=f.footerMarginTop+ne*A.lineHeight+(ne-1)*f.footerSpacing);let Kt=0;const In=function(kn){Dt=Math.max(Dt,c.measureText(kn).width+Kt)};return c.save(),c.font=m.string,y.each(D.title,In),c.font=b.string,y.each(D.beforeBody.concat(D.afterBody),In),Kt=f.displayColors?k+2+f.boxPadding:0,y.each(g,kn=>{y.each(kn.before,In),y.each(kn.lines,In),y.each(kn.after,In)}),Kt=0,c.font=A.string,y.each(D.footer,In),c.restore(),Dt+=He.width,{width:Dt,height:lt}}function F(D,f,c,g){const{x:S,width:O}=c,{width:k,chartArea:{left:p,right:b}}=D;let m="center";return"center"===g?m=S<=(p+b)/2?"left":"right":S<=O/2?m="left":S>=k-O/2&&(m="right"),function _(D,f,c,g){const{x:S,width:O}=g,k=c.caretSize+c.caretPadding;if("left"===D&&S+O+k>f.width||"right"===D&&S-O-k<0)return!0}(m,D,f,c)&&(m="center"),m}function te(D,f,c){const g=c.yAlign||f.yAlign||function a(D,f){const{y:c,height:g}=f;return c<g/2?"top":c>D.height-g/2?"bottom":"center"}(D,c);return{xAlign:c.xAlign||f.xAlign||F(D,f,c,g),yAlign:g}}function kt(D,f,c,g){const{caretSize:S,caretPadding:O,cornerRadius:k}=D,{xAlign:p,yAlign:b}=c,m=S+O,{topLeft:A,topRight:j,bottomLeft:ne,bottomRight:de}=y.toTRBLCorners(k);let He=function _e(D,f){let{x:c,width:g}=D;return"right"===f?c-=g:"center"===f&&(c-=g/2),c}(f,p);const lt=function Je(D,f,c){let{y:g,height:S}=D;return"top"===f?g+=c:g-="bottom"===f?S+c:S/2,g}(f,b,m);return"center"===b?"left"===p?He+=m:"right"===p&&(He-=m):"left"===p?He-=Math.max(A,ne)+S:"right"===p&&(He+=Math.max(j,de)+S),{x:y._limitValue(He,0,g.width-f.width),y:y._limitValue(lt,0,g.height-f.height)}}function ln(D,f,c){const g=y.toPadding(c.padding);return"center"===f?D.x+D.width/2:"right"===f?D.x+D.width-g.right:D.x+g.left}function _n(D){return Li([],Sr(D))}function fi(D,f){const c=f&&f.dataset&&f.dataset.tooltip&&f.dataset.tooltip.callbacks;return c?D.override(c):D}const ji={beforeTitle:y.noop,title(D){if(D.length>0){const f=D[0],c=f.chart.data.labels,g=c?c.length:0;if(this&&this.options&&"dataset"===this.options.mode)return f.dataset.label||"";if(f.label)return f.label;if(g>0&&f.dataIndex<g)return c[f.dataIndex]}return""},afterTitle:y.noop,beforeBody:y.noop,beforeLabel:y.noop,label(D){if(this&&this.options&&"dataset"===this.options.mode)return D.label+": "+D.formattedValue||D.formattedValue;let f=D.dataset.label||"";f&&(f+=": ");const c=D.formattedValue;return y.isNullOrUndef(c)||(f+=c),f},labelColor(D){const c=D.chart.getDatasetMeta(D.datasetIndex).controller.getStyle(D.dataIndex);return{borderColor:c.borderColor,backgroundColor:c.backgroundColor,borderWidth:c.borderWidth,borderDash:c.borderDash,borderDashOffset:c.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(D){const c=D.chart.getDatasetMeta(D.datasetIndex).controller.getStyle(D.dataIndex);return{pointStyle:c.pointStyle,rotation:c.rotation}},afterLabel:y.noop,afterBody:y.noop,beforeFooter:y.noop,footer:y.noop,afterFooter:y.noop};function ur(D,f,c,g){const S=D[f].call(c,g);return typeof S>"u"?ji[f].call(c,g):S}let ci=(()=>{class D extends tr{constructor(c){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=c.chart,this.options=c.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(c){this.options=c,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const c=this._cachedAnimations;if(c)return c;const g=this.chart,S=this.options.setContext(this.getContext()),O=S.enabled&&g.options.animation&&S.animations,k=new Y(this.chart,O);return O._cacheable&&(this._cachedAnimations=Object.freeze(k)),k}getContext(){return this.$context||(this.$context=function Ln(D,f,c){return y.createContext(D,{tooltip:f,tooltipItems:c,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(c,g){const{callbacks:S}=g,O=ur(S,"beforeTitle",this,c),k=ur(S,"title",this,c),p=ur(S,"afterTitle",this,c);let b=[];return b=Li(b,Sr(O)),b=Li(b,Sr(k)),b=Li(b,Sr(p)),b}getBeforeBody(c,g){return _n(ur(g.callbacks,"beforeBody",this,c))}getBody(c,g){const{callbacks:S}=g,O=[];return y.each(c,k=>{const p={before:[],lines:[],after:[]},b=fi(S,k);Li(p.before,Sr(ur(b,"beforeLabel",this,k))),Li(p.lines,ur(b,"label",this,k)),Li(p.after,Sr(ur(b,"afterLabel",this,k))),O.push(p)}),O}getAfterBody(c,g){return _n(ur(g.callbacks,"afterBody",this,c))}getFooter(c,g){const{callbacks:S}=g,O=ur(S,"beforeFooter",this,c),k=ur(S,"footer",this,c),p=ur(S,"afterFooter",this,c);let b=[];return b=Li(b,Sr(O)),b=Li(b,Sr(k)),b=Li(b,Sr(p)),b}_createItems(c){const g=this._active,S=this.chart.data,O=[],k=[],p=[];let m,A,b=[];for(m=0,A=g.length;m<A;++m)b.push(Lr(this.chart,g[m]));return c.filter&&(b=b.filter((j,ne,de)=>c.filter(j,ne,de,S))),c.itemSort&&(b=b.sort((j,ne)=>c.itemSort(j,ne,S))),y.each(b,j=>{const ne=fi(c.callbacks,j);O.push(ur(ne,"labelColor",this,j)),k.push(ur(ne,"labelPointStyle",this,j)),p.push(ur(ne,"labelTextColor",this,j))}),this.labelColors=O,this.labelPointStyles=k,this.labelTextColors=p,this.dataPoints=b,b}update(c,g){const S=this.options.setContext(this.getContext()),O=this._active;let k,p=[];if(O.length){const b=Ri[S.position].call(this,O,this._eventPosition);p=this._createItems(S),this.title=this.getTitle(p,S),this.beforeBody=this.getBeforeBody(p,S),this.body=this.getBody(p,S),this.afterBody=this.getAfterBody(p,S),this.footer=this.getFooter(p,S);const m=this._size=Io(this,S),A=Object.assign({},b,m),j=te(this.chart,S,A),ne=kt(S,A,j,this.chart);this.xAlign=j.xAlign,this.yAlign=j.yAlign,k={opacity:1,x:ne.x,y:ne.y,width:m.width,height:m.height,caretX:b.x,caretY:b.y}}else 0!==this.opacity&&(k={opacity:0});this._tooltipItems=p,this.$context=void 0,k&&this._resolveAnimations().update(this,k),c&&S.external&&S.external.call(this,{chart:this.chart,tooltip:this,replay:g})}drawCaret(c,g,S,O){const k=this.getCaretPosition(c,S,O);g.lineTo(k.x1,k.y1),g.lineTo(k.x2,k.y2),g.lineTo(k.x3,k.y3)}getCaretPosition(c,g,S){const{xAlign:O,yAlign:k}=this,{caretSize:p,cornerRadius:b}=S,{topLeft:m,topRight:A,bottomLeft:j,bottomRight:ne}=y.toTRBLCorners(b),{x:de,y:He}=c,{width:lt,height:Dt}=g;let an,Kt,In,kn,xn,Wn;return"center"===k?(xn=He+Dt/2,"left"===O?(an=de,Kt=an-p,kn=xn+p,Wn=xn-p):(an=de+lt,Kt=an+p,kn=xn-p,Wn=xn+p),In=an):(Kt="left"===O?de+Math.max(m,j)+p:"right"===O?de+lt-Math.max(A,ne)-p:this.caretX,"top"===k?(kn=He,xn=kn-p,an=Kt-p,In=Kt+p):(kn=He+Dt,xn=kn+p,an=Kt+p,In=Kt-p),Wn=kn),{x1:an,x2:Kt,x3:In,y1:kn,y2:xn,y3:Wn}}drawTitle(c,g,S){const O=this.title,k=O.length;let p,b,m;if(k){const A=y.getRtlAdapter(S.rtl,this.x,this.width);for(c.x=ln(this,S.titleAlign,S),g.textAlign=A.textAlign(S.titleAlign),g.textBaseline="middle",p=y.toFont(S.titleFont),b=S.titleSpacing,g.fillStyle=S.titleColor,g.font=p.string,m=0;m<k;++m)g.fillText(O[m],A.x(c.x),c.y+p.lineHeight/2),c.y+=p.lineHeight+b,m+1===k&&(c.y+=S.titleMarginBottom-b)}}_drawColorBox(c,g,S,O,k){const p=this.labelColors[S],b=this.labelPointStyles[S],{boxHeight:m,boxWidth:A}=k,j=y.toFont(k.bodyFont),ne=ln(this,"left",k),de=O.x(ne),lt=g.y+(m<j.lineHeight?(j.lineHeight-m)/2:0);if(k.usePointStyle){const Dt={radius:Math.min(A,m)/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:1},an=O.leftForLtr(de,A)+A/2,Kt=lt+m/2;c.strokeStyle=k.multiKeyBackground,c.fillStyle=k.multiKeyBackground,y.drawPoint(c,Dt,an,Kt),c.strokeStyle=p.borderColor,c.fillStyle=p.backgroundColor,y.drawPoint(c,Dt,an,Kt)}else{c.lineWidth=y.isObject(p.borderWidth)?Math.max(...Object.values(p.borderWidth)):p.borderWidth||1,c.strokeStyle=p.borderColor,c.setLineDash(p.borderDash||[]),c.lineDashOffset=p.borderDashOffset||0;const Dt=O.leftForLtr(de,A),an=O.leftForLtr(O.xPlus(de,1),A-2),Kt=y.toTRBLCorners(p.borderRadius);Object.values(Kt).some(In=>0!==In)?(c.beginPath(),c.fillStyle=k.multiKeyBackground,y.addRoundedRectPath(c,{x:Dt,y:lt,w:A,h:m,radius:Kt}),c.fill(),c.stroke(),c.fillStyle=p.backgroundColor,c.beginPath(),y.addRoundedRectPath(c,{x:an,y:lt+1,w:A-2,h:m-2,radius:Kt}),c.fill()):(c.fillStyle=k.multiKeyBackground,c.fillRect(Dt,lt,A,m),c.strokeRect(Dt,lt,A,m),c.fillStyle=p.backgroundColor,c.fillRect(an,lt+1,A-2,m-2))}c.fillStyle=this.labelTextColors[S]}drawBody(c,g,S){const{body:O}=this,{bodySpacing:k,bodyAlign:p,displayColors:b,boxHeight:m,boxWidth:A,boxPadding:j}=S,ne=y.toFont(S.bodyFont);let de=ne.lineHeight,He=0;const lt=y.getRtlAdapter(S.rtl,this.x,this.width),Dt=function(Ni){g.fillText(Ni,lt.x(c.x+He),c.y+de/2),c.y+=de+k},an=lt.textAlign(p);let Kt,In,kn,xn,Wn,gi,si;for(g.textAlign=p,g.textBaseline="middle",g.font=ne.string,c.x=ln(this,an,S),g.fillStyle=S.bodyColor,y.each(this.beforeBody,Dt),He=b&&"right"!==an?"center"===p?A/2+j:A+2+j:0,xn=0,gi=O.length;xn<gi;++xn){for(Kt=O[xn],In=this.labelTextColors[xn],g.fillStyle=In,y.each(Kt.before,Dt),kn=Kt.lines,b&&kn.length&&(this._drawColorBox(g,c,xn,lt,S),de=Math.max(ne.lineHeight,m)),Wn=0,si=kn.length;Wn<si;++Wn)Dt(kn[Wn]),de=ne.lineHeight;y.each(Kt.after,Dt)}He=0,de=ne.lineHeight,y.each(this.afterBody,Dt),c.y-=k}drawFooter(c,g,S){const O=this.footer,k=O.length;let p,b;if(k){const m=y.getRtlAdapter(S.rtl,this.x,this.width);for(c.x=ln(this,S.footerAlign,S),c.y+=S.footerMarginTop,g.textAlign=m.textAlign(S.footerAlign),g.textBaseline="middle",p=y.toFont(S.footerFont),g.fillStyle=S.footerColor,g.font=p.string,b=0;b<k;++b)g.fillText(O[b],m.x(c.x),c.y+p.lineHeight/2),c.y+=p.lineHeight+S.footerSpacing}}drawBackground(c,g,S,O){const{xAlign:k,yAlign:p}=this,{x:b,y:m}=c,{width:A,height:j}=S,{topLeft:ne,topRight:de,bottomLeft:He,bottomRight:lt}=y.toTRBLCorners(O.cornerRadius);g.fillStyle=O.backgroundColor,g.strokeStyle=O.borderColor,g.lineWidth=O.borderWidth,g.beginPath(),g.moveTo(b+ne,m),"top"===p&&this.drawCaret(c,g,S,O),g.lineTo(b+A-de,m),g.quadraticCurveTo(b+A,m,b+A,m+de),"center"===p&&"right"===k&&this.drawCaret(c,g,S,O),g.lineTo(b+A,m+j-lt),g.quadraticCurveTo(b+A,m+j,b+A-lt,m+j),"bottom"===p&&this.drawCaret(c,g,S,O),g.lineTo(b+He,m+j),g.quadraticCurveTo(b,m+j,b,m+j-He),"center"===p&&"left"===k&&this.drawCaret(c,g,S,O),g.lineTo(b,m+ne),g.quadraticCurveTo(b,m,b+ne,m),g.closePath(),g.fill(),O.borderWidth>0&&g.stroke()}_updateAnimationTarget(c){const g=this.chart,S=this.$animations,O=S&&S.x,k=S&&S.y;if(O||k){const p=Ri[c.position].call(this,this._active,this._eventPosition);if(!p)return;const b=this._size=Io(this,c),m=Object.assign({},p,this._size),A=te(g,c,m),j=kt(c,m,A,g);(O._to!==j.x||k._to!==j.y)&&(this.xAlign=A.xAlign,this.yAlign=A.yAlign,this.width=b.width,this.height=b.height,this.caretX=p.x,this.caretY=p.y,this._resolveAnimations().update(this,j))}}_willRender(){return!!this.opacity}draw(c){const g=this.options.setContext(this.getContext());let S=this.opacity;if(!S)return;this._updateAnimationTarget(g);const O={width:this.width,height:this.height},k={x:this.x,y:this.y};S=Math.abs(S)<.001?0:S;const p=y.toPadding(g.padding);g.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(c.save(),c.globalAlpha=S,this.drawBackground(k,c,O,g),y.overrideTextDirection(c,g.textDirection),k.y+=p.top,this.drawTitle(k,c,g),this.drawBody(k,c,g),this.drawFooter(k,c,g),y.restoreTextDirection(c,g.textDirection),c.restore())}getActiveElements(){return this._active||[]}setActiveElements(c,g){const S=this._active,O=c.map(({datasetIndex:b,index:m})=>{const A=this.chart.getDatasetMeta(b);if(!A)throw new Error("Cannot find a dataset at index "+b);return{datasetIndex:b,element:A.data[m],index:m}}),k=!y._elementsEqual(S,O),p=this._positionChanged(O,g);(k||p)&&(this._active=O,this._eventPosition=g,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(c,g,S=!0){if(g&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const O=this.options,k=this._active||[],p=this._getActiveElements(c,k,g,S),b=this._positionChanged(p,c),m=g||!y._elementsEqual(p,k)||b;return m&&(this._active=p,(O.enabled||O.external)&&(this._eventPosition={x:c.x,y:c.y},this.update(!0,g))),m}_getActiveElements(c,g,S,O){const k=this.options;if("mouseout"===c.type)return[];if(!O)return g.filter(b=>this.chart.data.datasets[b.datasetIndex]&&void 0!==this.chart.getDatasetMeta(b.datasetIndex).controller.getParsed(b.index));const p=this.chart.getElementsAtEventForMode(c,k.mode,k,S);return k.reverse&&p.reverse(),p}_positionChanged(c,g){const{caretX:S,caretY:O,options:k}=this,p=Ri[k.position].call(this,c,g);return!1!==p&&(S!==p.x||O!==p.y)}}return o(D,"positioners",Ri),D})();var bi={id:"tooltip",_element:ci,positioners:Ri,afterInit(D,f,c){c&&(D.tooltip=new ci({chart:D,options:c}))},beforeUpdate(D,f,c){D.tooltip&&D.tooltip.initialize(c)},reset(D,f,c){D.tooltip&&D.tooltip.initialize(c)},afterDraw(D){const f=D.tooltip;if(f&&f._willRender()){const c={tooltip:f};if(!1===D.notifyPlugins("beforeTooltipDraw",{...c,cancelable:!0}))return;f.draw(D.ctx),D.notifyPlugins("afterTooltipDraw",c)}},afterEvent(D,f){D.tooltip&&D.tooltip.handleEvent(f.event,f.replay,f.inChartArea)&&(f.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(D,f)=>f.bodyFont.size,boxWidth:(D,f)=>f.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ji},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:D=>"filter"!==D&&"itemSort"!==D&&"external"!==D,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Fi=Object.freeze({__proto__:null,Colors:qt,Decimation:li,Filler:ie,Legend:Jt,SubTitle:Hi,Title:Jn,Tooltip:bi});function qo(D){const f=this.getLabels();return D>=0&&D<f.length?f[D]:D}let cs=(()=>{class D extends mn{constructor(c){super(c),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(c){const g=this._addedLabels;if(g.length){const S=this.getLabels();for(const{index:O,label:k}of g)S[O]===k&&S.splice(O,1);this._addedLabels=[]}super.init(c)}parse(c,g){if(y.isNullOrUndef(c))return null;const S=this.getLabels();return g=isFinite(g)&&S[g]===c?g:function mo(D,f,c,g){const S=D.indexOf(f);return-1===S?((D,f,c,g)=>("string"==typeof f?(c=D.push(f)-1,g.unshift({index:c,label:f})):isNaN(f)&&(c=null),c))(D,f,c,g):S!==D.lastIndexOf(f)?c:S}(S,c,y.valueOrDefault(g,c),this._addedLabels),((D,f)=>null===D?null:y._limitValue(Math.round(D),0,f))(g,S.length-1)}determineDataLimits(){const{minDefined:c,maxDefined:g}=this.getUserBounds();let{min:S,max:O}=this.getMinMax(!0);"ticks"===this.options.bounds&&(c||(S=0),g||(O=this.getLabels().length-1)),this.min=S,this.max=O}buildTicks(){const c=this.min,g=this.max,S=this.options.offset,O=[];let k=this.getLabels();k=0===c&&g===k.length-1?k:k.slice(c,g+1),this._valueRange=Math.max(k.length-(S?0:1),1),this._startValue=this.min-(S?.5:0);for(let p=c;p<=g;p++)O.push({value:p});return O}getLabelForValue(c){return qo.call(this,c)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(c){return"number"!=typeof c&&(c=this.parse(c)),null===c?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getPixelForTick(c){const g=this.ticks;return c<0||c>g.length-1?null:this.getPixelForValue(g[c].value)}getValueForPixel(c){return Math.round(this._startValue+this.getDecimalForPixel(c)*this._valueRange)}getBasePixel(){return this.bottom}}return o(D,"id","category"),o(D,"defaults",{ticks:{callback:qo}}),D})();function ks(D,f,{horizontal:c,minRotation:g}){const S=y.toRadians(g),O=(c?Math.sin(S):Math.cos(S))||.001;return Math.min(f/O,.75*f*(""+D).length)}class zs extends mn{constructor(f){super(f),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(f,c){return y.isNullOrUndef(f)||("number"==typeof f||f instanceof Number)&&!isFinite(+f)?null:+f}handleTickRangeOptions(){const{beginAtZero:f}=this.options,{minDefined:c,maxDefined:g}=this.getUserBounds();let{min:S,max:O}=this;const k=b=>S=c?S:b,p=b=>O=g?O:b;if(f){const b=y.sign(S),m=y.sign(O);b<0&&m<0?p(0):b>0&&m>0&&k(0)}if(S===O){let b=0===O?1:Math.abs(.05*O);p(O+b),f||k(S-b)}this.min=S,this.max=O}getTickLimit(){const f=this.options.ticks;let S,{maxTicksLimit:c,stepSize:g}=f;return g?(S=Math.ceil(this.max/g)-Math.floor(this.min/g)+1,S>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${g} would result generating up to ${S} ticks. Limiting to 1000.`),S=1e3)):(S=this.computeTickLimit(),c=c||11),c&&(S=Math.min(c,S)),S}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const f=this.options,c=f.ticks;let g=this.getTickLimit();g=Math.max(2,g);const k=function xo(D,f){const c=[],{bounds:S,step:O,min:k,max:p,precision:b,count:m,maxTicks:A,maxDigits:j,includeBounds:ne}=D,de=O||1,He=A-1,{min:lt,max:Dt}=f,an=!y.isNullOrUndef(k),Kt=!y.isNullOrUndef(p),In=!y.isNullOrUndef(m),kn=(Dt-lt)/(j+1);let Wn,gi,si,Ni,xn=y.niceNum((Dt-lt)/He/de)*de;if(xn<1e-14&&!an&&!Kt)return[{value:lt},{value:Dt}];Ni=Math.ceil(Dt/xn)-Math.floor(lt/xn),Ni>He&&(xn=y.niceNum(Ni*xn/He/de)*de),y.isNullOrUndef(b)||(Wn=Math.pow(10,b),xn=Math.ceil(xn*Wn)/Wn),"ticks"===S?(gi=Math.floor(lt/xn)*xn,si=Math.ceil(Dt/xn)*xn):(gi=lt,si=Dt),an&&Kt&&O&&y.almostWhole((p-k)/O,xn/1e3)?(Ni=Math.round(Math.min((p-k)/xn,A)),xn=(p-k)/Ni,gi=k,si=p):In?(gi=an?k:gi,si=Kt?p:si,Ni=m-1,xn=(si-gi)/Ni):(Ni=(si-gi)/xn,Ni=y.almostEquals(Ni,Math.round(Ni),xn/1e3)?Math.round(Ni):Math.ceil(Ni));const zr=Math.max(y._decimalPlaces(xn),y._decimalPlaces(gi));Wn=Math.pow(10,y.isNullOrUndef(b)?zr:b),gi=Math.round(gi*Wn)/Wn,si=Math.round(si*Wn)/Wn;let cr=0;for(an&&(ne&&gi!==k?(c.push({value:k}),gi<k&&cr++,y.almostEquals(Math.round((gi+cr*xn)*Wn)/Wn,k,ks(k,kn,D))&&cr++):gi<k&&cr++);cr<Ni;++cr){const Qr=Math.round((gi+cr*xn)*Wn)/Wn;if(Kt&&Qr>p)break;c.push({value:Qr})}return Kt&&ne&&si!==p?c.length&&y.almostEquals(c[c.length-1].value,p,ks(p,kn,D))?c[c.length-1].value=p:c.push({value:p}):(!Kt||si===p)&&c.push({value:si}),c}({maxTicks:g,bounds:f.bounds,min:f.min,max:f.max,precision:c.precision,step:c.stepSize,count:c.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:c.minRotation||0,includeBounds:!1!==c.includeBounds},this._range||this);return"ticks"===f.bounds&&y._setMinAndMaxByKey(k,this,"value"),f.reverse?(k.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),k}configure(){const f=this.ticks;let c=this.min,g=this.max;if(super.configure(),this.options.offset&&f.length){const S=(g-c)/Math.max(f.length-1,1)/2;c-=S,g+=S}this._startValue=c,this._endValue=g,this._valueRange=g-c}getLabelForValue(f){return y.formatNumber(f,this.chart.options.locale,this.options.ticks.format)}}class Cr extends zs{determineDataLimits(){const{min:f,max:c}=this.getMinMax(!0);this.min=y.isNumberFinite(f)?f:0,this.max=y.isNumberFinite(c)?c:1,this.handleTickRangeOptions()}computeTickLimit(){const f=this.isHorizontal(),c=f?this.width:this.height,g=y.toRadians(this.options.ticks.minRotation),S=(f?Math.sin(g):Math.cos(g))||.001,O=this._resolveTickFontOptions(0);return Math.ceil(c/Math.min(40,O.lineHeight/S))}getPixelForValue(f){return null===f?NaN:this.getPixelForDecimal((f-this._startValue)/this._valueRange)}getValueForPixel(f){return this._startValue+this.getDecimalForPixel(f)*this._valueRange}}o(Cr,"id","linear"),o(Cr,"defaults",{ticks:{callback:y.Ticks.formatters.numeric}});const oo=D=>Math.floor(y.log10(D)),Ho=(D,f)=>Math.pow(10,oo(D)+f);function Es(D){return D/Math.pow(10,oo(D))==1}function $s(D,f,c){const g=Math.pow(10,c),S=Math.floor(D/g);return Math.ceil(f/g)-S}class ga extends mn{constructor(f){super(f),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(f,c){const g=zs.prototype.parse.apply(this,[f,c]);if(0!==g)return y.isNumberFinite(g)&&g>0?g:null;this._zero=!0}determineDataLimits(){const{min:f,max:c}=this.getMinMax(!0);this.min=y.isNumberFinite(f)?Math.max(0,f):null,this.max=y.isNumberFinite(c)?Math.max(0,c):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!y.isNumberFinite(this._userMin)&&(this.min=f===Ho(this.min,0)?Ho(this.min,-1):Ho(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:f,maxDefined:c}=this.getUserBounds();let g=this.min,S=this.max;const O=p=>g=f?g:p,k=p=>S=c?S:p;g===S&&(g<=0?(O(1),k(10)):(O(Ho(g,-1)),k(Ho(S,1)))),g<=0&&O(Ho(S,-1)),S<=0&&k(Ho(g,1)),this.min=g,this.max=S}buildTicks(){const f=this.options,g=function Ss(D,{min:f,max:c}){f=y.finiteOrDefault(D.min,f);const g=[],S=oo(f);let O=function qs(D,f){let g=oo(f-D);for(;$s(D,f,g)>10;)g++;for(;$s(D,f,g)<10;)g--;return Math.min(g,oo(D))}(f,c),k=O<0?Math.pow(10,Math.abs(O)):1;const p=Math.pow(10,O),b=S>O?Math.pow(10,S):0,m=Math.round((f-b)*k)/k,A=Math.floor((f-b)/p/10)*p*10;let j=Math.floor((m-A)/Math.pow(10,O)),ne=y.finiteOrDefault(D.min,Math.round((b+A+j*Math.pow(10,O))*k)/k);for(;ne<c;)g.push({value:ne,major:Es(ne),significand:j}),j>=10?j=j<15?15:20:j++,j>=20&&(O++,j=2,k=O>=0?1:k),ne=Math.round((b+A+j*Math.pow(10,O))*k)/k;const de=y.finiteOrDefault(D.max,ne);return g.push({value:de,major:Es(de),significand:j}),g}({min:this._userMin,max:this._userMax},this);return"ticks"===f.bounds&&y._setMinAndMaxByKey(g,this,"value"),f.reverse?(g.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),g}getLabelForValue(f){return void 0===f?"0":y.formatNumber(f,this.chart.options.locale,this.options.ticks.format)}configure(){const f=this.min;super.configure(),this._startValue=y.log10(f),this._valueRange=y.log10(this.max)-y.log10(f)}getPixelForValue(f){return(void 0===f||0===f)&&(f=this.min),null===f||isNaN(f)?NaN:this.getPixelForDecimal(f===this.min?0:(y.log10(f)-this._startValue)/this._valueRange)}getValueForPixel(f){const c=this.getDecimalForPixel(f);return Math.pow(10,this._startValue+c*this._valueRange)}}function ma(D){const f=D.ticks;if(f.display&&D.display){const c=y.toPadding(f.backdropPadding);return y.valueOrDefault(f.font&&f.font.size,y.defaults.font.size)+c.height}return 0}function Ha(D,f,c){return c=y.isArray(c)?c:[c],{w:y._longestText(D,f.string,c),h:c.length*f.lineHeight}}function Gs(D,f,c,g,S){return D===g||D===S?{start:f-c/2,end:f+c/2}:D<g||D>S?{start:f-c,end:f}:{start:f,end:f+c}}function _s(D,f,c,g,S){const O=Math.abs(Math.sin(c)),k=Math.abs(Math.cos(c));let p=0,b=0;g.start<f.l?(p=(f.l-g.start)/O,D.l=Math.min(D.l,f.l-p)):g.end>f.r&&(p=(g.end-f.r)/O,D.r=Math.max(D.r,f.r+p)),S.start<f.t?(b=(f.t-S.start)/k,D.t=Math.min(D.t,f.t-b)):S.end>f.b&&(b=(S.end-f.b)/k,D.b=Math.max(D.b,f.b+b))}function Ma(D,f,c){const g=D.drawingArea,{extra:S,additionalAngle:O,padding:k,size:p}=c,b=D.getPointPosition(f,g+S+k,O),m=Math.round(y.toDegrees(y._normalizeAngle(b.angle+y.HALF_PI))),A=function ar(D,f,c){return 90===c||270===c?D-=f/2:(c>270||c<90)&&(D-=f),D}(b.y,p.h,m),j=function Ia(D){return 0===D||180===D?"center":D<180?"left":"right"}(m),ne=function Cs(D,f,c){return"right"===c?D-=f:"center"===c&&(D-=f/2),D}(b.x,p.w,j);return{visible:!0,x:b.x,y:A,textAlign:j,left:ne,top:A,right:ne+p.w,bottom:A+p.h}}function sa(D,f){if(!f)return!0;const{left:c,top:g,right:S,bottom:O}=D;return!(y._isPointInArea({x:c,y:g},f)||y._isPointInArea({x:c,y:O},f)||y._isPointInArea({x:S,y:g},f)||y._isPointInArea({x:S,y:O},f))}function Js(D,f,c){const{left:g,top:S,right:O,bottom:k}=c,{backdropColor:p}=f;if(!y.isNullOrUndef(p)){const b=y.toTRBLCorners(f.borderRadius),m=y.toPadding(f.backdropPadding);D.fillStyle=p;const A=g-m.left,j=S-m.top,ne=O-g+m.width,de=k-S+m.height;Object.values(b).some(He=>0!==He)?(D.beginPath(),y.addRoundedRectPath(D,{x:A,y:j,w:ne,h:de,radius:b}),D.fill()):D.fillRect(A,j,ne,de)}}function za(D,f,c,g){const{ctx:S}=D;if(c)S.arc(D.xCenter,D.yCenter,f,0,y.TAU);else{let O=D.getPointPosition(0,f);S.moveTo(O.x,O.y);for(let k=1;k<g;k++)O=D.getPointPosition(k,f),S.lineTo(O.x,O.y)}}o(ga,"id","logarithmic"),o(ga,"defaults",{ticks:{callback:y.Ticks.formatters.logarithmic,major:{enabled:!0}}});class Xs extends zs{constructor(f){super(f),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const f=this._padding=y.toPadding(ma(this.options)/2),c=this.width=this.maxWidth-f.width,g=this.height=this.maxHeight-f.height;this.xCenter=Math.floor(this.left+c/2+f.left),this.yCenter=Math.floor(this.top+g/2+f.top),this.drawingArea=Math.floor(Math.min(c,g)/2)}determineDataLimits(){const{min:f,max:c}=this.getMinMax(!1);this.min=y.isNumberFinite(f)&&!isNaN(f)?f:0,this.max=y.isNumberFinite(c)&&!isNaN(c)?c:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ma(this.options))}generateTickLabels(f){zs.prototype.generateTickLabels.call(this,f),this._pointLabels=this.getLabels().map((c,g)=>{const S=y.callback(this.options.pointLabels.callback,[c,g],this);return S||0===S?S:""}).filter((c,g)=>this.chart.getDataVisibility(g))}fit(){const f=this.options;f.display&&f.pointLabels.display?function va(D){const f={l:D.left+D._padding.left,r:D.right-D._padding.right,t:D.top+D._padding.top,b:D.bottom-D._padding.bottom},c=Object.assign({},f),g=[],S=[],O=D._pointLabels.length,k=D.options.pointLabels,p=k.centerPointLabels?y.PI/O:0;for(let b=0;b<O;b++){const m=k.setContext(D.getPointLabelContext(b));S[b]=m.padding;const A=D.getPointPosition(b,D.drawingArea+S[b],p),j=y.toFont(m.font),ne=Ha(D.ctx,j,D._pointLabels[b]);g[b]=ne;const de=y._normalizeAngle(D.getIndexAngle(b)+p),He=Math.round(y.toDegrees(de));_s(c,f,de,Gs(He,A.x,ne.w,0,180),Gs(He,A.y,ne.h,90,270))}D.setCenterPoint(f.l-c.l,c.r-f.r,f.t-c.t,c.b-f.b),D._pointLabelItems=function fl(D,f,c){const g=[],S=D._pointLabels.length,O=D.options,{centerPointLabels:k,display:p}=O.pointLabels,b={extra:ma(O)/2,additionalAngle:k?y.PI/S:0};let m;for(let A=0;A<S;A++){b.padding=c[A],b.size=f[A];const j=Ma(D,A,b);g.push(j),"auto"===p&&(j.visible=sa(j,m),j.visible&&(m=j))}return g}(D,g,S)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(f,c,g,S){this.xCenter+=Math.floor((f-c)/2),this.yCenter+=Math.floor((g-S)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(f,c,g,S))}getIndexAngle(f){return y._normalizeAngle(f*(y.TAU/(this._pointLabels.length||1))+y.toRadians(this.options.startAngle||0))}getDistanceFromCenterForValue(f){if(y.isNullOrUndef(f))return NaN;const c=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-f)*c:(f-this.min)*c}getValueForDistanceFromCenter(f){if(y.isNullOrUndef(f))return NaN;const c=f/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-c:this.min+c}getPointLabelContext(f){const c=this._pointLabels||[];if(f>=0&&f<c.length){const g=c[f];return function Ja(D,f,c){return y.createContext(D,{label:c,index:f,type:"pointLabel"})}(this.getContext(),f,g)}}getPointPosition(f,c,g=0){const S=this.getIndexAngle(f)-y.HALF_PI+g;return{x:Math.cos(S)*c+this.xCenter,y:Math.sin(S)*c+this.yCenter,angle:S}}getPointPositionForValue(f,c){return this.getPointPosition(f,this.getDistanceFromCenterForValue(c))}getBasePosition(f){return this.getPointPositionForValue(f||0,this.getBaseValue())}getPointLabelPosition(f){const{left:c,top:g,right:S,bottom:O}=this._pointLabelItems[f];return{left:c,top:g,right:S,bottom:O}}drawBackground(){const{backgroundColor:f,grid:{circular:c}}=this.options;if(f){const g=this.ctx;g.save(),g.beginPath(),za(this,this.getDistanceFromCenterForValue(this._endValue),c,this._pointLabels.length),g.closePath(),g.fillStyle=f,g.fill(),g.restore()}}drawGrid(){const f=this.ctx,c=this.options,{angleLines:g,grid:S,border:O}=c,k=this._pointLabels.length;let p,b,m;if(c.pointLabels.display&&function ja(D,f){const{ctx:c,options:{pointLabels:g}}=D;for(let S=f-1;S>=0;S--){const O=D._pointLabelItems[S];if(!O.visible)continue;const k=g.setContext(D.getPointLabelContext(S));Js(c,k,O);const p=y.toFont(k.font),{x:b,y:m,textAlign:A}=O;y.renderText(c,D._pointLabels[S],b,m+p.lineHeight/2,p,{color:k.color,textAlign:A,textBaseline:"middle"})}}(this,k),S.display&&this.ticks.forEach((A,j)=>{if(0!==j||0===j&&this.min<0){b=this.getDistanceFromCenterForValue(A.value);const ne=this.getContext(j),de=S.setContext(ne),He=O.setContext(ne);!function Qs(D,f,c,g,S){const O=D.ctx,k=f.circular,{color:p,lineWidth:b}=f;!k&&!g||!p||!b||c<0||(O.save(),O.strokeStyle=p,O.lineWidth=b,O.setLineDash(S.dash||[]),O.lineDashOffset=S.dashOffset,O.beginPath(),za(D,c,k,g),O.closePath(),O.stroke(),O.restore())}(this,de,b,k,He)}}),g.display){for(f.save(),p=k-1;p>=0;p--){const A=g.setContext(this.getPointLabelContext(p)),{color:j,lineWidth:ne}=A;!ne||!j||(f.lineWidth=ne,f.strokeStyle=j,f.setLineDash(A.borderDash),f.lineDashOffset=A.borderDashOffset,b=this.getDistanceFromCenterForValue(c.reverse?this.min:this.max),m=this.getPointPosition(p,b),f.beginPath(),f.moveTo(this.xCenter,this.yCenter),f.lineTo(m.x,m.y),f.stroke())}f.restore()}}drawBorder(){}drawLabels(){const f=this.ctx,c=this.options,g=c.ticks;if(!g.display)return;const S=this.getIndexAngle(0);let O,k;f.save(),f.translate(this.xCenter,this.yCenter),f.rotate(S),f.textAlign="center",f.textBaseline="middle",this.ticks.forEach((p,b)=>{if(0===b&&this.min>=0&&!c.reverse)return;const m=g.setContext(this.getContext(b)),A=y.toFont(m.font);if(O=this.getDistanceFromCenterForValue(this.ticks[b].value),m.showLabelBackdrop){f.font=A.string,k=f.measureText(p.label).width,f.fillStyle=m.backdropColor;const j=y.toPadding(m.backdropPadding);f.fillRect(-k/2-j.left,-O-A.size/2-j.top,k+j.width,A.size+j.height)}y.renderText(f,p.label,0,-O,A,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),f.restore()}drawTitle(){}}o(Xs,"id","radialLinear"),o(Xs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:y.Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:D=>D,padding:5,centerPointLabels:!1}}),o(Xs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),o(Xs,"descriptors",{angleLines:{_fallback:"grid"}});const Ao={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vs=Object.keys(Ao);function pl(D,f){return D-f}function Bs(D,f){if(y.isNullOrUndef(f))return null;const c=D._adapter,{parser:g,round:S,isoWeekday:O}=D._parseOpts;let k=f;return"function"==typeof g&&(k=g(k)),y.isNumberFinite(k)||(k="string"==typeof g?c.parse(k,g):c.parse(k)),null===k?null:(S&&(k="week"!==S||!y.isNumber(O)&&!0!==O?c.startOf(k,S):c.startOf(k,"isoWeek",O)),+k)}function ya(D,f,c,g){const S=vs.length;for(let O=vs.indexOf(D);O<S-1;++O){const k=Ao[vs[O]];if(k.common&&Math.ceil((c-f)/((k.steps?k.steps:Number.MAX_SAFE_INTEGER)*k.size))<=g)return vs[O]}return vs[S-1]}function ml(D,f,c){if(c){if(c.length){const{lo:g,hi:S}=y._lookup(c,f);D[c[g]>=f?c[g]:c[S]]=!0}}else D[f]=!0}function vl(D,f,c){const g=[],S={},O=f.length;let k,p;for(k=0;k<O;++k)p=f[k],S[p]=k,g.push({value:p,major:!1});return 0!==O&&c?function ys(D,f,c,g){const S=D._adapter,O=+S.startOf(f[0].value,g),k=f[f.length-1].value;let p,b;for(p=O;p<=k;p=+S.add(p,1,g))b=c[p],b>=0&&(f[b].major=!0);return f}(D,g,S,c):g}let aa=(()=>{class D extends mn{constructor(c){super(c),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(c,g={}){const S=c.time||(c.time={}),O=this._adapter=new Ji._date(c.adapters.date);O.init(g),y.mergeIf(S.displayFormats,O.formats()),this._parseOpts={parser:S.parser,round:S.round,isoWeekday:S.isoWeekday},super.init(c),this._normalized=g.normalized}parse(c,g){return void 0===c?null:Bs(this,c)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const c=this.options,g=this._adapter,S=c.time.unit||"day";let{min:O,max:k,minDefined:p,maxDefined:b}=this.getUserBounds();function m(A){!p&&!isNaN(A.min)&&(O=Math.min(O,A.min)),!b&&!isNaN(A.max)&&(k=Math.max(k,A.max))}(!p||!b)&&(m(this._getLabelBounds()),("ticks"!==c.bounds||"labels"!==c.ticks.source)&&m(this.getMinMax(!1))),O=y.isNumberFinite(O)&&!isNaN(O)?O:+g.startOf(Date.now(),S),k=y.isNumberFinite(k)&&!isNaN(k)?k:+g.endOf(Date.now(),S)+1,this.min=Math.min(O,k-1),this.max=Math.max(O+1,k)}_getLabelBounds(){const c=this.getLabelTimestamps();let g=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY;return c.length&&(g=c[0],S=c[c.length-1]),{min:g,max:S}}buildTicks(){const c=this.options,g=c.time,S=c.ticks,O="labels"===S.source?this.getLabelTimestamps():this._generate();"ticks"===c.bounds&&O.length&&(this.min=this._userMin||O[0],this.max=this._userMax||O[O.length-1]);const k=this.min,b=y._filterBetween(O,k,this.max);return this._unit=g.unit||(S.autoSkip?ya(g.minUnit,this.min,this.max,this._getLabelCapacity(k)):function gl(D,f,c,g,S){for(let O=vs.length-1;O>=vs.indexOf(c);O--){const k=vs[O];if(Ao[k].common&&D._adapter.diff(S,g,k)>=f-1)return k}return vs[c?vs.indexOf(c):0]}(this,b.length,g.minUnit,this.min,this.max)),this._majorUnit=S.major.enabled&&"year"!==this._unit?function fu(D){for(let f=vs.indexOf(D)+1,c=vs.length;f<c;++f)if(Ao[vs[f]].common)return vs[f]}(this._unit):void 0,this.initOffsets(O),c.reverse&&b.reverse(),vl(this,b,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(c=>+c.value))}initOffsets(c=[]){let O,k,g=0,S=0;this.options.offset&&c.length&&(O=this.getDecimalForValue(c[0]),g=1===c.length?1-O:(this.getDecimalForValue(c[1])-O)/2,k=this.getDecimalForValue(c[c.length-1]),S=1===c.length?k:(k-this.getDecimalForValue(c[c.length-2]))/2);const p=c.length<3?.5:.25;g=y._limitValue(g,0,p),S=y._limitValue(S,0,p),this._offsets={start:g,end:S,factor:1/(g+1+S)}}_generate(){const c=this._adapter,g=this.min,S=this.max,O=this.options,k=O.time,p=k.unit||ya(k.minUnit,g,S,this._getLabelCapacity(g)),b=y.valueOrDefault(O.ticks.stepSize,1),m="week"===p&&k.isoWeekday,A=y.isNumber(m)||!0===m,j={};let de,He,ne=g;if(A&&(ne=+c.startOf(ne,"isoWeek",m)),ne=+c.startOf(ne,A?"day":p),c.diff(S,g,p)>1e5*b)throw new Error(g+" and "+S+" are too far apart with stepSize of "+b+" "+p);const lt="data"===O.ticks.source&&this.getDataTimestamps();for(de=ne,He=0;de<S;de=+c.add(de,b,p),He++)ml(j,de,lt);return(de===S||"ticks"===O.bounds||1===He)&&ml(j,de,lt),Object.keys(j).sort(pl).map(Dt=>+Dt)}getLabelForValue(c){const S=this.options.time;return this._adapter.format(c,S.tooltipFormat?S.tooltipFormat:S.displayFormats.datetime)}format(c,g){return this._adapter.format(c,g||this.options.time.displayFormats[this._unit])}_tickFormatFunction(c,g,S,O){const k=this.options,p=k.ticks.callback;if(p)return y.callback(p,[c,g,S],this);const b=k.time.displayFormats,m=this._unit,A=this._majorUnit,ne=A&&b[A],de=S[g];return this._adapter.format(c,O||(A&&ne&&de&&de.major?ne:m&&b[m]))}generateTickLabels(c){let g,S,O;for(g=0,S=c.length;g<S;++g)O=c[g],O.label=this._tickFormatFunction(O.value,g,c)}getDecimalForValue(c){return null===c?NaN:(c-this.min)/(this.max-this.min)}getPixelForValue(c){const g=this._offsets,S=this.getDecimalForValue(c);return this.getPixelForDecimal((g.start+S)*g.factor)}getValueForPixel(c){const g=this._offsets,S=this.getDecimalForPixel(c)/g.factor-g.end;return this.min+S*(this.max-this.min)}_getLabelSize(c){const g=this.options.ticks,S=this.ctx.measureText(c).width,O=y.toRadians(this.isHorizontal()?g.maxRotation:g.minRotation),k=Math.cos(O),p=Math.sin(O),b=this._resolveTickFontOptions(0).size;return{w:S*k+b*p,h:S*p+b*k}}_getLabelCapacity(c){const g=this.options.time,S=g.displayFormats,O=S[g.unit]||S.millisecond,k=this._tickFormatFunction(c,0,vl(this,[c],this._majorUnit),O),p=this._getLabelSize(k),b=Math.floor(this.isHorizontal()?this.width/p.w:this.height/p.h)-1;return b>0?b:1}getDataTimestamps(){let g,S,c=this._cache.data||[];if(c.length)return c;const O=this.getMatchingVisibleMetas();if(this._normalized&&O.length)return this._cache.data=O[0].controller.getAllParsedValues(this);for(g=0,S=O.length;g<S;++g)c=c.concat(O[g].controller.getAllParsedValues(this));return this._cache.data=this.normalize(c)}getLabelTimestamps(){const c=this._cache.labels||[];let g,S;if(c.length)return c;const O=this.getLabels();for(g=0,S=O.length;g<S;++g)c.push(Bs(this,O[g]));return this._cache.labels=this._normalized?c:this.normalize(c)}normalize(c){return y._arrayUnique(c.sort(pl))}}return o(D,"id","time"),o(D,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),D})();function Wo(D,f,c){let O,k,p,b,g=0,S=D.length-1;c?(f>=D[g].pos&&f<=D[S].pos&&({lo:g,hi:S}=y._lookupByKey(D,"pos",f)),({pos:O,time:p}=D[g]),({pos:k,time:b}=D[S])):(f>=D[g].time&&f<=D[S].time&&({lo:g,hi:S}=y._lookupByKey(D,"time",f)),({time:O,pos:p}=D[g]),({time:k,pos:b}=D[S]));const m=k-O;return m?p+(b-p)*(f-O)/m:p}class la extends aa{constructor(f){super(f),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const f=this._getTimestampsForTable(),c=this._table=this.buildLookupTable(f);this._minPos=Wo(c,this.min),this._tableRange=Wo(c,this.max)-this._minPos,super.initOffsets(f)}buildLookupTable(f){const{min:c,max:g}=this,S=[],O=[];let k,p,b,m,A;for(k=0,p=f.length;k<p;++k)m=f[k],m>=c&&m<=g&&S.push(m);if(S.length<2)return[{time:c,pos:0},{time:g,pos:1}];for(k=0,p=S.length;k<p;++k)A=S[k+1],b=S[k-1],m=S[k],Math.round((A+b)/2)!==m&&O.push({time:m,pos:k/(p-1)});return O}_generate(){const f=this.min,c=this.max;let g=super.getDataTimestamps();return(!g.includes(f)||!g.length)&&g.splice(0,0,f),(!g.includes(c)||1===g.length)&&g.push(c),g.sort((S,O)=>S-O)}_getTimestampsForTable(){let f=this._cache.all||[];if(f.length)return f;const c=this.getDataTimestamps(),g=this.getLabelTimestamps();return f=c.length&&g.length?this.normalize(c.concat(g)):c.length?c:g,f=this._cache.all=f,f}getDecimalForValue(f){return(Wo(this._table,f)-this._minPos)/this._tableRange}getValueForPixel(f){const c=this._offsets,g=this.getDecimalForPixel(f)/c.factor-c.end;return Wo(this._table,g*this._tableRange+this._minPos,!0)}}o(la,"id","timeseries"),o(la,"defaults",aa.defaults);var ea=Object.freeze({__proto__:null,CategoryScale:cs,LinearScale:Cr,LogarithmicScale:ga,RadialLinearScale:Xs,TimeScale:aa,TimeSeriesScale:la});const yl=[vi,ye,Fi,ea];U.Ticks=y.Ticks,U.defaults=y.defaults,U.Animation=Z,U.Animations=Y,U.ArcElement=wr,U.BarController=En,U.BarElement=Xn,U.BasePlatform=ai,U.BasicPlatform=ti,U.BubbleController=tn,U.CategoryScale=cs,U.Chart=eo,U.Colors=qt,U.DatasetController=Ze,U.Decimation=li,U.DomPlatform=kr,U.DoughnutController=st,U.Element=tr,U.Filler=ie,U.Interaction=nt,U.Legend=Jt,U.LineController=nn,U.LineElement=be,U.LinearScale=Cr,U.LogarithmicScale=ga,U.PieController=vn,U.PointElement=et,U.PolarAreaController=$t,U.RadarController=Cn,U.RadialLinearScale=Xs,U.Scale=mn,U.ScatterController=bn,U.SubTitle=Hi,U.TimeScale=aa,U.TimeSeriesScale=la,U.Title=Jn,U.Tooltip=bi,U._adapters=Ji,U._detectPlatform=fr,U.animator=z,U.controllers=vi,U.elements=ye,U.layouts=Yn,U.plugins=Fi,U.registerables=yl,U.registry=lr,U.scales=ea},250:(yt,U,R)=>{"use strict";var o=R(9128);const K=(()=>{let G=0;return()=>G++})();function z(G){return null===G||typeof G>"u"}function J(G){if(Array.isArray&&Array.isArray(G))return!0;const be=Object.prototype.toString.call(G);return"[object"===be.slice(0,7)&&"Array]"===be.slice(-6)}function X(G){return null!==G&&"[object Object]"===Object.prototype.toString.call(G)}function Z(G){return("number"==typeof G||G instanceof Number)&&isFinite(+G)}function q(G,be){return typeof G>"u"?be:G}const ae=(G,be)=>"string"==typeof G&&G.endsWith("%")?parseFloat(G)/100*be:+G;function ke(G){if(J(G))return G.map(ke);if(X(G)){const be=Object.create(null),Pe=Object.keys(G),et=Pe.length;let ct=0;for(;ct<et;++ct)be[Pe[ct]]=ke(G[Pe[ct]]);return be}return G}function Ce(G){return-1===["__proto__","prototype","constructor"].indexOf(G)}function fe(G,be,Pe,et){if(!Ce(G))return;const ct=be[G],Et=Pe[G];X(ct)&&X(Et)?ve(ct,Et,et):be[G]=ke(Et)}function ve(G,be,Pe){const et=J(be)?be:[be],ct=et.length;if(!X(G))return G;const Et=(Pe=Pe||{}).merger||fe;let Ft;for(let Ht=0;Ht<ct;++Ht){if(Ft=et[Ht],!X(Ft))continue;const rn=Object.keys(Ft);for(let Mn=0,Rn=rn.length;Mn<Rn;++Mn)Et(rn[Mn],G,Ft,Pe)}return G}function De(G,be){return ve(G,be,{merger:Be})}function Be(G,be,Pe){if(!Ce(G))return;const et=be[G],ct=Pe[G];X(et)&&X(ct)?De(et,ct):Object.prototype.hasOwnProperty.call(be,G)||(be[G]=ke(ct))}const Oe={"":G=>G,x:G=>G.x,y:G=>G.y};function mt(G){const be=G.split("."),Pe=[];let et="";for(const ct of be)et+=ct,et.endsWith("\\")?et=et.slice(0,-1)+".":(Pe.push(et),et="");return Pe}function Xe(G,be){return(Oe[be]||(Oe[be]=function Me(G){const be=mt(G);return Pe=>{for(const et of be){if(""===et)break;Pe=Pe&&Pe[et]}return Pe}}(be)))(G)}function Ke(G){return G.charAt(0).toUpperCase()+G.slice(1)}const ut=G=>"function"==typeof G,ge=Math.PI,pe=2*ge,Se=pe+ge,xe=Number.POSITIVE_INFINITY,Ae=ge/180,Te=ge/2,Ne=ge/4,we=2*ge/3,Ve=Math.log10,Ie=Math.sign;function Le(G,be,Pe){return Math.abs(G-be)<Pe}function $t(G,be){return Math.sqrt(Math.pow(be.x-G.x,2)+Math.pow(be.y-G.y,2))}function vn(G,be){return(G-be+Se)%pe-ge}function Cn(G){return(G%pe+pe)%pe}function bn(G,be,Pe,et){const ct=Cn(G),Et=Cn(be),Ft=Cn(Pe),Ht=Cn(Et-ct),rn=Cn(Ft-ct),Mn=Cn(ct-Et),Rn=Cn(ct-Ft);return ct===Et||ct===Ft||et&&Et===Ft||Ht>rn&&Mn<Rn}function vi(G,be,Pe){return Math.max(be,Math.min(Pe,G))}function Pi(G,be,Pe,et=1e-6){return G>=Math.min(be,Pe)-et&&G<=Math.max(be,Pe)+et}function Ji(G,be,Pe){Pe=Pe||(Ft=>G[Ft]<be);let Et,et=G.length-1,ct=0;for(;et-ct>1;)Et=ct+et>>1,Pe(Et)?ct=Et:et=Et;return{lo:ct,hi:et}}const Or=(G,be,Pe,et)=>Ji(G,Pe,et?ct=>{const Et=G[ct][be];return Et<Pe||Et===Pe&&G[ct+1][be]===Pe}:ct=>G[ct][be]<Pe),Qi=["push","pop","shift","splice","unshift"],nt=typeof window>"u"?function(G){return G()}:window.requestAnimationFrame,Qn=G=>0===G||1===G,dr=(G,be,Pe)=>-Math.pow(2,10*(G-=1))*Math.sin((G-be)*pe/Pe),Zi=(G,be,Pe)=>Math.pow(2,-10*G)*Math.sin((G-be)*pe/Pe)+1,Zt={linear:G=>G,easeInQuad:G=>G*G,easeOutQuad:G=>-G*(G-2),easeInOutQuad:G=>(G/=.5)<1?.5*G*G:-.5*(--G*(G-2)-1),easeInCubic:G=>G*G*G,easeOutCubic:G=>(G-=1)*G*G+1,easeInOutCubic:G=>(G/=.5)<1?.5*G*G*G:.5*((G-=2)*G*G+2),easeInQuart:G=>G*G*G*G,easeOutQuart:G=>-((G-=1)*G*G*G-1),easeInOutQuart:G=>(G/=.5)<1?.5*G*G*G*G:-.5*((G-=2)*G*G*G-2),easeInQuint:G=>G*G*G*G*G,easeOutQuint:G=>(G-=1)*G*G*G*G+1,easeInOutQuint:G=>(G/=.5)<1?.5*G*G*G*G*G:.5*((G-=2)*G*G*G*G+2),easeInSine:G=>1-Math.cos(G*Te),easeOutSine:G=>Math.sin(G*Te),easeInOutSine:G=>-.5*(Math.cos(ge*G)-1),easeInExpo:G=>0===G?0:Math.pow(2,10*(G-1)),easeOutExpo:G=>1===G?1:1-Math.pow(2,-10*G),easeInOutExpo:G=>Qn(G)?G:G<.5?.5*Math.pow(2,10*(2*G-1)):.5*(2-Math.pow(2,-10*(2*G-1))),easeInCirc:G=>G>=1?G:-(Math.sqrt(1-G*G)-1),easeOutCirc:G=>Math.sqrt(1-(G-=1)*G),easeInOutCirc:G=>(G/=.5)<1?-.5*(Math.sqrt(1-G*G)-1):.5*(Math.sqrt(1-(G-=2)*G)+1),easeInElastic:G=>Qn(G)?G:dr(G,.075,.3),easeOutElastic:G=>Qn(G)?G:Zi(G,.075,.3),easeInOutElastic:G=>Qn(G)?G:G<.5?.5*dr(2*G,.1125,.45):.5+.5*Zi(2*G-1,.1125,.45),easeInBack:G=>G*G*(2.70158*G-1.70158),easeOutBack:G=>(G-=1)*G*(2.70158*G+1.70158)+1,easeInOutBack(G){let be=1.70158;return(G/=.5)<1?G*G*((1+(be*=1.525))*G-be)*.5:.5*((G-=2)*G*((1+(be*=1.525))*G+be)+2)},easeInBounce:G=>1-Zt.easeOutBounce(1-G),easeOutBounce:G=>G<1/2.75?7.5625*G*G:G<2/2.75?7.5625*(G-=1.5/2.75)*G+.75:G<2.5/2.75?7.5625*(G-=2.25/2.75)*G+.9375:7.5625*(G-=2.625/2.75)*G+.984375,easeInOutBounce:G=>G<.5?.5*Zt.easeInBounce(2*G):.5*Zt.easeOutBounce(2*G-1)+.5};function _t(G){if(G&&"object"==typeof G){const be=G.toString();return"[object CanvasPattern]"===be||"[object CanvasGradient]"===be}return!1}function gn(G){return _t(G)?G:new o.Color(G).saturate(.5).darken(.1).hexString()}const yn=["x","y","borderWidth","radius","tension"],jt=["color","borderColor","backgroundColor"],ti=new Map;function er(G,be,Pe){return function Vi(G,be){be=be||{};const Pe=G+JSON.stringify(be);let et=ti.get(Pe);return et||(et=new Intl.NumberFormat(G,be),ti.set(Pe,et)),et}(be,Pe).format(G)}const At={values:G=>J(G)?G:""+G,numeric(G,be,Pe){if(0===G)return"0";const et=this.chart.options.locale;let ct,Et=G;if(Pe.length>1){const Mn=Math.max(Math.abs(Pe[0].value),Math.abs(Pe[Pe.length-1].value));(Mn<1e-4||Mn>1e15)&&(ct="scientific"),Et=function Nt(G,be){let Pe=be.length>3?be[2].value-be[1].value:be[1].value-be[0].value;return Math.abs(Pe)>=1&&G!==Math.floor(G)&&(Pe=G-Math.floor(G)),Pe}(G,Pe)}const Ft=Ve(Math.abs(Et)),Ht=isNaN(Ft)?1:Math.max(Math.min(-1*Math.floor(Ft),20),0),rn={notation:ct,minimumFractionDigits:Ht,maximumFractionDigits:Ht};return Object.assign(rn,this.options.ticks.format),er(G,et,rn)},logarithmic(G,be,Pe){if(0===G)return"0";const et=Pe[be].significand||G/Math.pow(10,Math.floor(Ve(G)));return[1,2,3,5,10,15].includes(et)||be>.8*Pe.length?At.numeric.call(this,G,be,Pe):""}};var dt={formatters:At};const hn=Object.create(null),Un=Object.create(null);function Hn(G,be){if(!be)return G;const Pe=be.split(".");for(let et=0,ct=Pe.length;et<ct;++et){const Et=Pe[et];G=G[Et]||(G[Et]=Object.create(null))}return G}function ii(G,be,Pe){return"string"==typeof be?ve(Hn(G,be),Pe):ve(Hn(G,""),be)}class Pr{constructor(be,Pe){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=et=>et.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(et,ct)=>gn(ct.backgroundColor),this.hoverBorderColor=(et,ct)=>gn(ct.borderColor),this.hoverColor=(et,ct)=>gn(ct.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(be),this.apply(Pe)}set(be,Pe){return ii(this,be,Pe)}get(be){return Hn(this,be)}describe(be,Pe){return ii(Un,be,Pe)}override(be,Pe){return ii(hn,be,Pe)}route(be,Pe,et,ct){const Et=Hn(this,be),Ft=Hn(this,et),Ht="_"+Pe;Object.defineProperties(Et,{[Ht]:{value:Et[Pe],writable:!0},[Pe]:{enumerable:!0,get(){const rn=this[Ht],Mn=Ft[ct];return X(rn)?Object.assign({},Mn,rn):q(rn,Mn)},set(rn){this[Ht]=rn}}})}apply(be){be.forEach(Pe=>Pe(this))}}var Ki=new Pr({_scriptable:G=>!G.startsWith("on"),_indexable:G=>"events"!==G,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Yn(G){G.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),G.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:be=>"onProgress"!==be&&"onComplete"!==be&&"fn"!==be}),G.set("animations",{colors:{type:"color",properties:jt},numbers:{type:"number",properties:yn}}),G.describe("animations",{_fallback:"animation"}),G.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:be=>0|be}}}})},function ai(G){G.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Xt(G){G.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(be,Pe)=>Pe.lineWidth,tickColor:(be,Pe)=>Pe.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dt.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),G.route("scale.ticks","color","","color"),G.route("scale.grid","color","","borderColor"),G.route("scale.border","color","","borderColor"),G.route("scale.title","color","","color"),G.describe("scale",{_fallback:!1,_scriptable:be=>!be.startsWith("before")&&!be.startsWith("after")&&"callback"!==be&&"parser"!==be,_indexable:be=>"borderDash"!==be&&"tickBorderDash"!==be&&"dash"!==be}),G.describe("scales",{_fallback:"scale"}),G.describe("scale.ticks",{_scriptable:be=>"backdropPadding"!==be&&"callback"!==be,_indexable:be=>"backdropPadding"!==be})}]);function zi(G){return!G||z(G.size)||z(G.family)?null:(G.style?G.style+" ":"")+(G.weight?G.weight+" ":"")+G.size+"px "+G.family}function Gi(G,be,Pe,et,ct){let Et=be[ct];return Et||(Et=be[ct]=G.measureText(ct).width,Pe.push(ct)),Et>et&&(et=Et),et}function yr(G,be,Pe,et,ct){let Et,Ft,Ht,rn,Mn,Rn,Ii,ui;const Xn=be.pointStyle,ye=be.rotation,oe=be.radius;let M=(ye||0)*Ae;if(Xn&&"object"==typeof Xn&&(Et=Xn.toString(),"[object HTMLImageElement]"===Et||"[object HTMLCanvasElement]"===Et))return G.save(),G.translate(Pe,et),G.rotate(M),G.drawImage(Xn,-Xn.width/2,-Xn.height/2,Xn.width,Xn.height),void G.restore();if(!(isNaN(oe)||oe<=0)){switch(G.beginPath(),Xn){default:ct?G.ellipse(Pe,et,ct/2,oe,0,0,pe):G.arc(Pe,et,oe,0,pe),G.closePath();break;case"triangle":Rn=ct?ct/2:oe,G.moveTo(Pe+Math.sin(M)*Rn,et-Math.cos(M)*oe),M+=we,G.lineTo(Pe+Math.sin(M)*Rn,et-Math.cos(M)*oe),M+=we,G.lineTo(Pe+Math.sin(M)*Rn,et-Math.cos(M)*oe),G.closePath();break;case"rectRounded":Mn=.516*oe,rn=oe-Mn,Ft=Math.cos(M+Ne)*rn,Ii=Math.cos(M+Ne)*(ct?ct/2-Mn:rn),Ht=Math.sin(M+Ne)*rn,ui=Math.sin(M+Ne)*(ct?ct/2-Mn:rn),G.arc(Pe-Ii,et-Ht,Mn,M-ge,M-Te),G.arc(Pe+ui,et-Ft,Mn,M-Te,M),G.arc(Pe+Ii,et+Ht,Mn,M,M+Te),G.arc(Pe-ui,et+Ft,Mn,M+Te,M+ge),G.closePath();break;case"rect":if(!ye){rn=Math.SQRT1_2*oe,Rn=ct?ct/2:rn,G.rect(Pe-Rn,et-rn,2*Rn,2*rn);break}M+=Ne;case"rectRot":Ii=Math.cos(M)*(ct?ct/2:oe),Ft=Math.cos(M)*oe,Ht=Math.sin(M)*oe,ui=Math.sin(M)*(ct?ct/2:oe),G.moveTo(Pe-Ii,et-Ht),G.lineTo(Pe+ui,et-Ft),G.lineTo(Pe+Ii,et+Ht),G.lineTo(Pe-ui,et+Ft),G.closePath();break;case"crossRot":M+=Ne;case"cross":Ii=Math.cos(M)*(ct?ct/2:oe),Ft=Math.cos(M)*oe,Ht=Math.sin(M)*oe,ui=Math.sin(M)*(ct?ct/2:oe),G.moveTo(Pe-Ii,et-Ht),G.lineTo(Pe+Ii,et+Ht),G.moveTo(Pe+ui,et-Ft),G.lineTo(Pe-ui,et+Ft);break;case"star":Ii=Math.cos(M)*(ct?ct/2:oe),Ft=Math.cos(M)*oe,Ht=Math.sin(M)*oe,ui=Math.sin(M)*(ct?ct/2:oe),G.moveTo(Pe-Ii,et-Ht),G.lineTo(Pe+Ii,et+Ht),G.moveTo(Pe+ui,et-Ft),G.lineTo(Pe-ui,et+Ft),M+=Ne,Ii=Math.cos(M)*(ct?ct/2:oe),Ft=Math.cos(M)*oe,Ht=Math.sin(M)*oe,ui=Math.sin(M)*(ct?ct/2:oe),G.moveTo(Pe-Ii,et-Ht),G.lineTo(Pe+Ii,et+Ht),G.moveTo(Pe+ui,et-Ft),G.lineTo(Pe-ui,et+Ft);break;case"line":Ft=ct?ct/2:Math.cos(M)*oe,Ht=Math.sin(M)*oe,G.moveTo(Pe-Ft,et-Ht),G.lineTo(Pe+Ft,et+Ht);break;case"dash":G.moveTo(Pe,et),G.lineTo(Pe+Math.cos(M)*(ct?ct/2:oe),et+Math.sin(M)*oe);break;case!1:G.closePath()}G.fill(),be.borderWidth>0&&G.stroke()}}function kr(G,be,Pe){return Pe=Pe||.5,!be||G&&G.x>be.left-Pe&&G.x<be.right+Pe&&G.y>be.top-Pe&&G.y<be.bottom+Pe}function ho(G,be,Pe,et,ct){if(ct.strikethrough||ct.underline){const Et=G.measureText(et),Ft=be-Et.actualBoundingBoxLeft,Ht=be+Et.actualBoundingBoxRight,Mn=Pe+Et.actualBoundingBoxDescent,Rn=ct.strikethrough?(Pe-Et.actualBoundingBoxAscent+Mn)/2:Mn;G.strokeStyle=G.fillStyle,G.beginPath(),G.lineWidth=ct.decorationWidth||2,G.moveTo(Ft,Rn),G.lineTo(Ht,Rn),G.stroke()}}function nr(G,be){const Pe=G.fillStyle;G.fillStyle=be.color,G.fillRect(be.left,be.top,be.width,be.height),G.fillStyle=Pe}const di=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Br=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Dr(G,be){const Pe=(""+G).match(di);if(!Pe||"normal"===Pe[1])return 1.2*be;switch(G=+Pe[2],Pe[3]){case"px":return G;case"%":G/=100}return be*G}const no=G=>+G||0;function We(G,be){const Pe={},et=X(be),ct=et?Object.keys(be):be,Et=X(G)?et?Ft=>q(G[Ft],G[be[Ft]]):Ft=>G[Ft]:()=>G;for(const Ft of ct)Pe[Ft]=no(Et(Ft));return Pe}function tt(G){return We(G,{top:"y",right:"x",bottom:"y",left:"x"})}function Yt(G,be){return Object.assign(Object.create(G),be)}function mn(G,be=[""],Pe,et,ct=(()=>G[0])){const Et=Pe||G;typeof et>"u"&&(et=$i("_fallback",G));const Ft={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:G,_rootScopes:Et,_fallback:et,_getTarget:ct,override:Ht=>mn([Ht,...G],be,Et,et)};return new Proxy(Ft,{deleteProperty:(Ht,rn)=>(delete Ht[rn],delete Ht._keys,delete G[0][rn],!0),get:(Ht,rn)=>gr(Ht,rn,()=>function jr(G,be,Pe,et){let ct;for(const Et of be)if(ct=$i(oi(Et,G),Pe),typeof ct<"u")return An(G,ct)?ao(Pe,et,G,ct):ct}(rn,be,G,Ht)),getOwnPropertyDescriptor:(Ht,rn)=>Reflect.getOwnPropertyDescriptor(Ht._scopes[0],rn),getPrototypeOf:()=>Reflect.getPrototypeOf(G[0]),has:(Ht,rn)=>Ue(Ht).includes(rn),ownKeys:Ht=>Ue(Ht),set(Ht,rn,Mn){const Rn=Ht._storage||(Ht._storage=ct());return Ht[rn]=Rn[rn]=Mn,delete Ht._keys,!0}})}function jn(G,be={scriptable:!0,indexable:!0}){const{_scriptable:Pe=be.scriptable,_indexable:et=be.indexable,_allKeys:ct=be.allKeys}=G;return{allKeys:ct,scriptable:Pe,indexable:et,isScriptable:ut(Pe)?Pe:()=>Pe,isIndexable:ut(et)?et:()=>et}}const oi=(G,be)=>G?G+Ke(be):be,An=(G,be)=>X(be)&&"adapters"!==G&&(null===Object.getPrototypeOf(be)||be.constructor===Object);function gr(G,be,Pe){if(Object.prototype.hasOwnProperty.call(G,be)||"constructor"===be)return G[be];const et=Pe();return G[be]=et,et}function Ir(G,be,Pe){return ut(G)?G(be,Pe):G}const mr=(G,be)=>!0===G?be:"string"==typeof G?Xe(be,G):void 0;function io(G,be,Pe,et,ct){for(const Et of be){const Ft=mr(Pe,Et);if(Ft){G.add(Ft);const Ht=Ir(Ft._fallback,Pe,ct);if(typeof Ht<"u"&&Ht!==Pe&&Ht!==et)return Ht}else if(!1===Ft&&typeof et<"u"&&Pe!==et)return null}return!1}function ao(G,be,Pe,et){const ct=be._rootScopes,Et=Ir(be._fallback,Pe,et),Ft=[...G,...ct],Ht=new Set;Ht.add(et);let rn=To(Ht,Ft,Pe,Et||Pe,et);return!(null===rn||typeof Et<"u"&&Et!==Pe&&(rn=To(Ht,Ft,Et,rn,et),null===rn))&&mn(Array.from(Ht),[""],ct,Et,()=>function Zo(G,be,Pe){const et=G._getTarget();be in et||(et[be]={});const ct=et[be];return J(ct)&&X(Pe)?Pe:ct||{}}(be,Pe,et))}function To(G,be,Pe,et,ct){for(;Pe;)Pe=io(G,be,Pe,et,ct);return Pe}function $i(G,be){for(const Pe of be){if(!Pe)continue;const et=Pe[G];if(typeof et<"u")return et}}function Ue(G){let be=G._keys;return be||(be=G._keys=function ot(G){const be=new Set;for(const Pe of G)for(const et of Object.keys(Pe).filter(ct=>!ct.startsWith("_")))be.add(et);return Array.from(be)}(G._scopes)),be}const Wt=Number.EPSILON||1e-14,Gt=(G,be)=>be<G.length&&!G[be].skip&&G[be],cn=G=>"x"===G?"y":"x";function Fn(G,be,Pe,et){const ct=G.skip?be:G,Et=be,Ft=Pe.skip?be:Pe,Ht=$t(Et,ct),rn=$t(Ft,Et);let Mn=Ht/(Ht+rn),Rn=rn/(Ht+rn);Mn=isNaN(Mn)?0:Mn,Rn=isNaN(Rn)?0:Rn;const Ii=et*Mn,ui=et*Rn;return{previous:{x:Et.x-Ii*(Ft.x-ct.x),y:Et.y-Ii*(Ft.y-ct.y)},next:{x:Et.x+ui*(Ft.x-ct.x),y:Et.y+ui*(Ft.y-ct.y)}}}function wn(G,be="x"){const Pe=cn(be),et=G.length,ct=Array(et).fill(0),Et=Array(et);let Ft,Ht,rn,Mn=Gt(G,0);for(Ft=0;Ft<et;++Ft)if(Ht=rn,rn=Mn,Mn=Gt(G,Ft+1),rn){if(Mn){const Rn=Mn[be]-rn[be];ct[Ft]=0!==Rn?(Mn[Pe]-rn[Pe])/Rn:0}Et[Ft]=Ht?Mn?Ie(ct[Ft-1])!==Ie(ct[Ft])?0:(ct[Ft-1]+ct[Ft])/2:ct[Ft-1]:ct[Ft]}(function Tn(G,be,Pe){const et=G.length;let ct,Et,Ft,Ht,rn,Mn=Gt(G,0);for(let Rn=0;Rn<et-1;++Rn)if(rn=Mn,Mn=Gt(G,Rn+1),rn&&Mn){if(Le(be[Rn],0,Wt)){Pe[Rn]=Pe[Rn+1]=0;continue}ct=Pe[Rn]/be[Rn],Et=Pe[Rn+1]/be[Rn],Ht=Math.pow(ct,2)+Math.pow(Et,2),!(Ht<=9)&&(Ft=3/Math.sqrt(Ht),Pe[Rn]=ct*Ft*be[Rn],Pe[Rn+1]=Et*Ft*be[Rn])}})(G,ct,Et),function Vn(G,be,Pe="x"){const et=cn(Pe),ct=G.length;let Et,Ft,Ht,rn=Gt(G,0);for(let Mn=0;Mn<ct;++Mn){if(Ft=Ht,Ht=rn,rn=Gt(G,Mn+1),!Ht)continue;const Rn=Ht[Pe],Ii=Ht[et];Ft&&(Et=(Rn-Ft[Pe])/3,Ht[`cp1${Pe}`]=Rn-Et,Ht[`cp1${et}`]=Ii-Et*be[Mn]),rn&&(Et=(rn[Pe]-Rn)/3,Ht[`cp2${Pe}`]=Rn+Et,Ht[`cp2${et}`]=Ii+Et*be[Mn])}}(G,Et,be)}function ei(G,be,Pe){return Math.max(Math.min(G,Pe),be)}function mi(){return typeof window<"u"&&typeof document<"u"}function Tr(G){let be=G.parentNode;return be&&"[object ShadowRoot]"===be.toString()&&(be=be.host),be}function Ur(G,be,Pe){let et;return"string"==typeof G?(et=parseInt(G,10),-1!==G.indexOf("%")&&(et=et/100*be.parentNode[Pe])):et=G,et}const sr=G=>G.ownerDocument.defaultView.getComputedStyle(G,null);function xr(G,be){return sr(G).getPropertyValue(be)}const wi=["top","right","bottom","left"];function br(G,be,Pe){const et={};Pe=Pe?"-"+Pe:"";for(let ct=0;ct<4;ct++){const Et=wi[ct];et[Et]=parseFloat(G[be+"-"+Et+Pe])||0}return et.width=et.left+et.right,et.height=et.top+et.bottom,et}const vr=G=>Math.round(10*G)/10,So=function(){let G=!1;try{const be={get passive(){return G=!0,!1}};mi()&&(window.addEventListener("test",null,be),window.removeEventListener("test",null,be))}catch(be){}return G}();function qr(G,be,Pe,et){return{x:G.x+Pe*(be.x-G.x),y:G.y+Pe*(be.y-G.y)}}function wr(G){return"angle"===G?{between:bn,compare:vn,normalize:Cn}:{between:Pi,compare:(be,Pe)=>be-Pe,normalize:be=>be}}function $o({start:G,end:be,count:Pe,loop:et,style:ct}){return{start:G%Pe,end:be%Pe,loop:et&&(be-G+1)%Pe==0,style:ct}}function Go(G,be,Pe){if(!Pe)return[G];const{property:et,start:ct,end:Et}=Pe,Ft=be.length,{compare:Ht,between:rn,normalize:Mn}=wr(et),{start:Rn,end:Ii,loop:ui,style:Xn}=function No(G,be,Pe){const{property:et,start:ct,end:Et}=Pe,{between:Ft,normalize:Ht}=wr(et),rn=be.length;let ui,Xn,{start:Mn,end:Rn,loop:Ii}=G;if(Ii){for(Mn+=rn,Rn+=rn,ui=0,Xn=rn;ui<Xn&&Ft(Ht(be[Mn%rn][et]),ct,Et);++ui)Mn--,Rn--;Mn%=rn,Rn%=rn}return Rn<Mn&&(Rn+=rn),{start:Mn,end:Rn,loop:Ii,style:G.style}}(G,be,Pe),ye=[];let N,h,I,oe=!1,M=null;for(let Ot=Rn,Bt=Rn;Ot<=Ii;++Ot)h=be[Ot%Ft],!h.skip&&(N=Mn(h[et]),N!==I&&(oe=rn(N,ct,Et),null===M&&(oe||rn(ct,I,N)&&0!==Ht(ct,I))&&(M=0===Ht(N,ct)?Ot:Bt),null!==M&&(!oe||0===Ht(Et,N)||rn(Et,I,N))&&(ye.push($o({start:M,end:Ot,loop:ui,count:Ft,style:Xn})),M=null),Bt=Ot,I=N));return null!==M&&ye.push($o({start:M,end:Ii,loop:ui,count:Ft,style:Xn})),ye}function Xo(G){return{backgroundColor:G.backgroundColor,borderCapStyle:G.borderCapStyle,borderDash:G.borderDash,borderDashOffset:G.borderDashOffset,borderJoinStyle:G.borderJoinStyle,borderWidth:G.borderWidth,borderColor:G.borderColor}}function Xi(G,be){if(!be)return!1;const Pe=[],et=function(ct,Et){return _t(Et)?(Pe.includes(Et)||Pe.push(Et),Pe.indexOf(Et)):Et};return JSON.stringify(G,et)!==JSON.stringify(be,et)}U.HALF_PI=Te,U.INFINITY=xe,U.PI=ge,U.PITAU=Se,U.QUARTER_PI=Ne,U.RAD_PER_DEG=Ae,U.TAU=pe,U.TWO_THIRDS_PI=we,U.Ticks=dt,U._addGrace=function Vt(G,be,Pe){const{min:et,max:ct}=G,Et=ae(be,(ct-et)/2),Ft=(Ht,rn)=>Pe&&0===Ht?0:Ht+rn;return{min:Ft(et,-Math.abs(Et)),max:Ft(ct,Et)}},U._alignPixel=function Nr(G,be,Pe){const et=G.currentDevicePixelRatio,ct=0!==Pe?Math.max(Pe/2,.5):0;return Math.round((be-ct)*et)/et+ct},U._alignStartEnd=(G,be,Pe)=>"start"===G?be:"end"===G?Pe:(be+Pe)/2,U._angleBetween=bn,U._angleDiff=vn,U._arrayUnique=function xt(G){const be=new Set(G);return be.size===G.length?G:Array.from(be)},U._attachContext=function sn(G,be,Pe,et){const ct={_cacheable:!1,_proxy:G,_context:be,_subProxy:Pe,_stack:new Set,_descriptors:jn(G,et),setContext:Et=>sn(G,Et,Pe,et),override:Et=>sn(G.override(Et),be,Pe,et)};return new Proxy(ct,{deleteProperty:(Et,Ft)=>(delete Et[Ft],delete G[Ft],!0),get:(Et,Ft,Ht)=>gr(Et,Ft,()=>function lr(G,be,Pe){const{_proxy:et,_context:ct,_subProxy:Et,_descriptors:Ft}=G;let Ht=et[be];return ut(Ht)&&Ft.isScriptable(be)&&(Ht=function fo(G,be,Pe,et){const{_proxy:ct,_context:Et,_subProxy:Ft,_stack:Ht}=Pe;if(Ht.has(G))throw new Error("Recursion detected: "+Array.from(Ht).join("->")+"->"+G);Ht.add(G);let rn=be(Et,Ft||et);return Ht.delete(G),An(G,rn)&&(rn=ao(ct._scopes,ct,G,rn)),rn}(be,Ht,G,Pe)),J(Ht)&&Ht.length&&(Ht=function Mi(G,be,Pe,et){const{_proxy:ct,_context:Et,_subProxy:Ft,_descriptors:Ht}=Pe;if(typeof Et.index<"u"&&et(G))return be[Et.index%be.length];if(X(be[0])){const rn=be,Mn=ct._scopes.filter(Rn=>Rn!==rn);be=[];for(const Rn of rn){const Ii=ao(Mn,ct,G,Rn);be.push(sn(Ii,Et,Ft&&Ft[G],Ht))}}return be}(be,Ht,G,Ft.isIndexable)),An(be,Ht)&&(Ht=sn(Ht,ct,Et&&Et[be],Ft)),Ht}(Et,Ft,Ht)),getOwnPropertyDescriptor:(Et,Ft)=>Et._descriptors.allKeys?Reflect.has(G,Ft)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(G,Ft),getPrototypeOf:()=>Reflect.getPrototypeOf(G),has:(Et,Ft)=>Reflect.has(G,Ft),ownKeys:()=>Reflect.ownKeys(G),set:(Et,Ft,Ht)=>(G[Ft]=Ht,delete Et[Ft],!0)})},U._bezierCurveTo=function to(G,be,Pe,et){if(!be)return G.lineTo(Pe.x,Pe.y);G.bezierCurveTo(et?be.cp1x:be.cp2x,et?be.cp1y:be.cp2y,et?Pe.cp2x:Pe.cp1x,et?Pe.cp2y:Pe.cp1y,Pe.x,Pe.y)},U._bezierInterpolation=function yo(G,be,Pe,et){const ct={x:G.cp2x,y:G.cp2y},Et={x:be.cp1x,y:be.cp1y},Ft=qr(G,ct,Pe),Ht=qr(ct,Et,Pe),rn=qr(Et,be,Pe),Mn=qr(Ft,Ht,Pe),Rn=qr(Ht,rn,Pe);return qr(Mn,Rn,Pe)},U._boundSegment=Go,U._boundSegments=function ko(G,be){const Pe=[],et=G.segments;for(let ct=0;ct<et.length;ct++){const Et=Go(et[ct],G.points,be);Et.length&&Pe.push(...Et)}return Pe},U._capitalize=Ke,U._computeSegments=function zo(G,be){const Pe=G.points,et=G.options.spanGaps,ct=Pe.length;if(!ct)return[];const Et=!!G._loop,{start:Ft,end:Ht}=function Xr(G,be,Pe,et){let ct=0,Et=be-1;if(Pe&&!et)for(;ct<be&&!G[ct].skip;)ct++;for(;ct<be&&G[ct].skip;)ct++;for(ct%=be,Pe&&(Et+=ct);Et>ct&&G[Et%be].skip;)Et--;return Et%=be,{start:ct,end:Et}}(Pe,ct,Et,et);return function Zr(G,be,Pe,et){return et&&et.setContext&&Pe?function Qo(G,be,Pe,et){const ct=G._chart.getContext(),Et=Xo(G.options),{_datasetIndex:Ft,options:{spanGaps:Ht}}=G,rn=Pe.length,Mn=[];let Rn=Et,Ii=be[0].start,ui=Ii;function Xn(ye,oe,M,N){const h=Ht?-1:1;if(ye!==oe){for(ye+=rn;Pe[ye%rn].skip;)ye-=h;for(;Pe[oe%rn].skip;)oe+=h;ye%rn!=oe%rn&&(Mn.push({start:ye%rn,end:oe%rn,loop:M,style:N}),Rn=N,Ii=oe%rn)}}for(const ye of be){Ii=Ht?Ii:ye.start;let M,oe=Pe[Ii%rn];for(ui=Ii+1;ui<=ye.end;ui++){const N=Pe[ui%rn];M=Xo(et.setContext(Yt(ct,{type:"segment",p0:oe,p1:N,p0DataIndex:(ui-1)%rn,p1DataIndex:ui%rn,datasetIndex:Ft}))),Xi(M,Rn)&&Xn(Ii,ui-1,ye.loop,Rn),oe=N,Rn=M}Ii<ui-1&&Xn(Ii,ui-1,ye.loop,Rn)}return Mn}(G,be,Pe,et):be}(G,!0===et?[{start:Ft,end:Ht,loop:Et}]:function Bo(G,be,Pe,et){const ct=G.length,Et=[];let rn,Ft=be,Ht=G[be];for(rn=be+1;rn<=Pe;++rn){const Mn=G[rn%ct];Mn.skip||Mn.stop?Ht.skip||(Et.push({start:be%ct,end:(rn-1)%ct,loop:et=!1}),be=Ft=Mn.stop?rn:null):(Ft=rn,Ht.skip&&(be=rn)),Ht=Mn}return null!==Ft&&Et.push({start:be%ct,end:Ft%ct,loop:et}),Et}(Pe,Ft,Ht<Ft?Ht+ct:Ht,!!G._fullLoop&&0===Ft&&Ht===ct-1),Pe,be)},U._createResolver=mn,U._decimalPlaces=function st(G){if(!Z(G))return;let be=1,Pe=0;for(;Math.round(G*be)/be!==G;)be*=10,Pe++;return Pe},U._deprecated=function qe(G,be,Pe,et){void 0!==be&&console.warn(G+': "'+Pe+'" is deprecated. Please use "'+et+'" instead')},U._descriptors=jn,U._elementsEqual=function le(G,be){let Pe,et,ct,Et;if(!G||!be||G.length!==be.length)return!1;for(Pe=0,et=G.length;Pe<et;++Pe)if(ct=G[Pe],Et=be[Pe],ct.datasetIndex!==Et.datasetIndex||ct.index!==Et.index)return!1;return!0},U._factorize=function bt(G){const be=[],Pe=Math.sqrt(G);let et;for(et=1;et<Pe;et++)G%et==0&&(be.push(et),be.push(G/et));return Pe===(0|Pe)&&be.push(Pe),be.sort((ct,Et)=>ct-Et).pop(),be},U._filterBetween=function Fr(G,be,Pe){let et=0,ct=G.length;for(;et<ct&&G[et]<be;)et++;for(;ct>et&&G[ct-1]>Pe;)ct--;return et>0||ct<G.length?G.slice(et,ct):G},U._getParentNode=Tr,U._getStartAndCountOfVisiblePoints=function Nn(G,be,Pe){const et=be.length;let ct=0,Et=et;if(G._sorted){const{iScale:Ft,_parsed:Ht}=G,rn=Ft.axis,{min:Mn,max:Rn,minDefined:Ii,maxDefined:ui}=Ft.getUserBounds();Ii&&(ct=vi(Math.min(Or(Ht,rn,Mn).lo,Pe?et:Or(be,rn,Ft.getPixelForValue(Mn)).lo),0,et-1)),Et=ui?vi(Math.max(Or(Ht,Ft.axis,Rn,!0).hi+1,Pe?0:Or(be,rn,Ft.getPixelForValue(Rn),!0).hi+1),ct,et)-ct:et-ct}return{start:ct,count:Et}},U._int16Range=function yi(G){return vi(G,-32768,32767)},U._isBetween=Pi,U._isClickEvent=function Ze(G){return"mouseup"===G.type||"click"===G.type||"contextmenu"===G.type},U._isDomSupported=mi,U._isPointInArea=kr,U._limitValue=vi,U._longestText=function Rr(G,be,Pe,et){let ct=(et=et||{}).data=et.data||{},Et=et.garbageCollect=et.garbageCollect||[];et.font!==be&&(ct=et.data={},Et=et.garbageCollect=[],et.font=be),G.save(),G.font=be;let Ft=0;const Ht=Pe.length;let rn,Mn,Rn,Ii,ui;for(rn=0;rn<Ht;rn++)if(Ii=Pe[rn],null==Ii||J(Ii)){if(J(Ii))for(Mn=0,Rn=Ii.length;Mn<Rn;Mn++)ui=Ii[Mn],null!=ui&&!J(ui)&&(Ft=Gi(G,ct,Et,Ft,ui))}else Ft=Gi(G,ct,Et,Ft,Ii);G.restore();const Xn=Et.length/2;if(Xn>Pe.length){for(rn=0;rn<Xn;rn++)delete ct[Et[rn]];Et.splice(0,Xn)}return Ft},U._lookup=Ji,U._lookupByKey=Or,U._measureText=Gi,U._merger=fe,U._mergerIf=Be,U._normalizeAngle=Cn,U._parseObjectDataRadialScale=function wt(G,be,Pe,et){const{iScale:ct}=G,{key:Et="r"}=this._parsing,Ft=new Array(et);let Ht,rn,Mn,Rn;for(Ht=0,rn=et;Ht<rn;++Ht)Mn=Ht+Pe,Rn=be[Mn],Ft[Ht]={r:ct.parse(Xe(Rn,Et),Mn)};return Ft},U._pointInLine=qr,U._readValueToProps=We,U._rlookupByKey=(G,be,Pe)=>Ji(G,Pe,et=>G[et][be]>=Pe),U._scaleRangesChanged=function Ti(G){const{xScale:be,yScale:Pe,_scaleRanges:et}=G,ct={xmin:be.min,xmax:be.max,ymin:Pe.min,ymax:Pe.max};if(!et)return G._scaleRanges=ct,!0;const Et=et.xmin!==be.min||et.xmax!==be.max||et.ymin!==Pe.min||et.ymax!==Pe.max;return Object.assign(et,ct),Et},U._setMinAndMaxByKey=function En(G,be,Pe){let et,ct,Et;for(et=0,ct=G.length;et<ct;et++)Et=G[et][Pe],isNaN(Et)||(be.min=Math.min(be.min,Et),be.max=Math.max(be.max,Et))},U._splitKey=mt,U._steppedInterpolation=function xi(G,be,Pe,et){return{x:G.x+Pe*(be.x-G.x),y:"middle"===et?Pe<.5?G.y:be.y:"after"===et?Pe<1?G.y:be.y:Pe>0?be.y:G.y}},U._steppedLineTo=function co(G,be,Pe,et,ct){if(!be)return G.lineTo(Pe.x,Pe.y);if("middle"===ct){const Et=(be.x+Pe.x)/2;G.lineTo(Et,be.y),G.lineTo(Et,Pe.y)}else"after"===ct!=!!et?G.lineTo(be.x,Pe.y):G.lineTo(Pe.x,be.y);G.lineTo(Pe.x,Pe.y)},U._textX=(G,be,Pe,et)=>G===(et?"left":"right")?Pe:"center"===G?(be+Pe)/2:be,U._toLeftRightCenter=G=>"start"===G?"left":"end"===G?"right":"center",U._updateBezierControlPoints=function _i(G,be,Pe,et,ct){let Et,Ft,Ht,rn;if(be.spanGaps&&(G=G.filter(Mn=>!Mn.skip)),"monotone"===be.cubicInterpolationMode)wn(G,ct);else{let Mn=et?G[G.length-1]:G[0];for(Et=0,Ft=G.length;Et<Ft;++Et)Ht=G[Et],rn=Fn(Mn,Ht,G[Math.min(Et+1,Ft-(et?0:1))%Ft],be.tension),Ht.cp1x=rn.previous.x,Ht.cp1y=rn.previous.y,Ht.cp2x=rn.next.x,Ht.cp2y=rn.next.y,Mn=Ht}be.capBezierPoints&&function Yi(G,be){let Pe,et,ct,Et,Ft,Ht=kr(G[0],be);for(Pe=0,et=G.length;Pe<et;++Pe)Ft=Et,Et=Ht,Ht=Pe<et-1&&kr(G[Pe+1],be),Et&&(ct=G[Pe],Ft&&(ct.cp1x=ei(ct.cp1x,be.left,be.right),ct.cp1y=ei(ct.cp1y,be.top,be.bottom)),Ht&&(ct.cp2x=ei(ct.cp2x,be.left,be.right),ct.cp2y=ei(ct.cp2y,be.top,be.bottom)))}(G,Pe)},U.addRoundedRectPath=function Ei(G,be){const{x:Pe,y:et,w:ct,h:Et,radius:Ft}=be;G.arc(Pe+Ft.topLeft,et+Ft.topLeft,Ft.topLeft,1.5*ge,ge,!0),G.lineTo(Pe,et+Et-Ft.bottomLeft),G.arc(Pe+Ft.bottomLeft,et+Et-Ft.bottomLeft,Ft.bottomLeft,ge,Te,!0),G.lineTo(Pe+ct-Ft.bottomRight,et+Et),G.arc(Pe+ct-Ft.bottomRight,et+Et-Ft.bottomRight,Ft.bottomRight,Te,0,!0),G.lineTo(Pe+ct,et+Ft.topRight),G.arc(Pe+ct-Ft.topRight,et+Ft.topRight,Ft.topRight,0,-Te,!0),G.lineTo(Pe+Ft.topLeft,et)},U.almostEquals=Le,U.almostWhole=function un(G,be){const Pe=Math.round(G);return Pe-be<=G&&Pe+be>=G},U.callback=function se(G,be,Pe){if(G&&"function"==typeof G.call)return G.apply(Pe,be)},U.clearCanvas=function Eo(G,be){!be&&!G||((be=be||G.getContext("2d")).save(),be.resetTransform(),be.clearRect(0,0,G.width,G.height),be.restore())},U.clipArea=function fr(G,be){G.save(),G.beginPath(),G.rect(be.left,be.top,be.right-be.left,be.bottom-be.top),G.clip()},U.clone=ke,U.color=function Ut(G){return _t(G)?G:new o.Color(G)},U.createContext=Yt,U.debounce=function en(G,be){let Pe;return function(...et){return be?(clearTimeout(Pe),Pe=setTimeout(G,be,et)):G.apply(this,et),be}},U.defaults=Ki,U.defined=G=>typeof G<"u",U.descriptors=Un,U.distanceBetweenPoints=$t,U.drawPoint=function vo(G,be,Pe,et){yr(G,be,Pe,et,null)},U.drawPointLegend=yr,U.each=function re(G,be,Pe,et){let ct,Et,Ft;if(J(G))if(Et=G.length,et)for(ct=Et-1;ct>=0;ct--)be.call(Pe,G[ct],ct);else for(ct=0;ct<Et;ct++)be.call(Pe,G[ct],ct);else if(X(G))for(Ft=Object.keys(G),Et=Ft.length,ct=0;ct<Et;ct++)be.call(Pe,G[Ft[ct]],Ft[ct])},U.effects=Zt,U.finiteOrDefault=function Y(G,be){return Z(G)?G:be},U.fontString=function Pt(G,be,Pe){return be+" "+G+"px "+Pe},U.formatNumber=er,U.getAngleFromPoint=function nn(G,be){const Pe=be.x-G.x,et=be.y-G.y,ct=Math.sqrt(Pe*Pe+et*et);let Et=Math.atan2(et,Pe);return Et<-.5*ge&&(Et+=pe),{angle:Et,distance:ct}},U.getHoverColor=gn,U.getMaximumSize=function go(G,be,Pe,et){const ct=sr(G),Et=br(ct,"margin"),Ft=Ur(ct.maxWidth,G,"clientWidth")||xe,Ht=Ur(ct.maxHeight,G,"clientHeight")||xe,rn=function Gr(G,be,Pe){let et,ct;if(void 0===be||void 0===Pe){const Et=G&&Tr(G);if(Et){const Ft=Et.getBoundingClientRect(),Ht=sr(Et),rn=br(Ht,"border","width"),Mn=br(Ht,"padding");be=Ft.width-Mn.width-rn.width,Pe=Ft.height-Mn.height-rn.height,et=Ur(Ht.maxWidth,Et,"clientWidth"),ct=Ur(Ht.maxHeight,Et,"clientHeight")}else be=G.clientWidth,Pe=G.clientHeight}return{width:be,height:Pe,maxWidth:et||xe,maxHeight:ct||xe}}(G,be,Pe);let{width:Mn,height:Rn}=rn;if("content-box"===ct.boxSizing){const ui=br(ct,"border","width"),Xn=br(ct,"padding");Mn-=Xn.width+ui.width,Rn-=Xn.height+ui.height}return Mn=Math.max(0,Mn-Et.width),Rn=Math.max(0,et?Mn/et:Rn-Et.height),Mn=vr(Math.min(Mn,Ft,rn.maxWidth)),Rn=vr(Math.min(Rn,Ht,rn.maxHeight)),Mn&&!Rn&&(Rn=vr(Mn/2)),(void 0!==be||void 0!==Pe)&&et&&rn.height&&Rn>rn.height&&(Rn=rn.height,Mn=vr(Math.floor(Rn*et))),{width:Mn,height:Rn}},U.getRelativePosition=function Mr(G,be){if("native"in G)return G;const{canvas:Pe,currentDevicePixelRatio:et}=be,ct=sr(Pe),Et="border-box"===ct.boxSizing,Ft=br(ct,"padding"),Ht=br(ct,"border","width"),{x:rn,y:Mn,box:Rn}=function Bi(G,be){const Pe=G.touches,et=Pe&&Pe.length?Pe[0]:G,{offsetX:ct,offsetY:Et}=et;let Ht,rn,Ft=!1;if(((G,be,Pe)=>(G>0||be>0)&&(!Pe||!Pe.shadowRoot))(ct,Et,G.target))Ht=ct,rn=Et;else{const Mn=be.getBoundingClientRect();Ht=et.clientX-Mn.left,rn=et.clientY-Mn.top,Ft=!0}return{x:Ht,y:rn,box:Ft}}(G,Pe),Ii=Ft.left+(Rn&&Ht.left),ui=Ft.top+(Rn&&Ht.top);let{width:Xn,height:ye}=be;return Et&&(Xn-=Ft.width+Ht.width,ye-=Ft.height+Ht.height),{x:Math.round((rn-Ii)/Xn*Pe.width/et),y:Math.round((Mn-ui)/ye*Pe.height/et)}},U.getRtlAdapter=function Hr(G,be,Pe){return G?function(G,be){return{x:Pe=>G+G+be-Pe,setWidth(Pe){be=Pe},textAlign:Pe=>"center"===Pe?Pe:"right"===Pe?"left":"right",xPlus:(Pe,et)=>Pe-et,leftForLtr:(Pe,et)=>Pe-et}}(be,Pe):{x:G=>G,setWidth(G){},textAlign:G=>G,xPlus:(G,be)=>G+be,leftForLtr:(G,be)=>G}},U.getStyle=xr,U.isArray=J,U.isFunction=ut,U.isNullOrUndef=z,U.isNumber=function Mt(G){return!isNaN(parseFloat(G))&&isFinite(G)},U.isNumberFinite=Z,U.isObject=X,U.isPatternOrGradient=_t,U.listenArrayEvents=function Sn(G,be){G._chartjs?G._chartjs.listeners.push(be):(Object.defineProperty(G,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[be]}}),Qi.forEach(Pe=>{const et="_onData"+Ke(Pe),ct=G[Pe];Object.defineProperty(G,Pe,{configurable:!0,enumerable:!1,value(...Et){const Ft=ct.apply(this,Et);return G._chartjs.listeners.forEach(Ht=>{"function"==typeof Ht[et]&&Ht[et](...Et)}),Ft}})}))},U.log10=Ve,U.merge=ve,U.mergeIf=De,U.niceNum=function gt(G){const be=Math.round(G);G=Le(G,be,G/1e3)?be:G;const Pe=Math.pow(10,Math.floor(Ve(G))),et=G/Pe;return(et<=1?1:et<=2?2:et<=5?5:10)*Pe},U.noop=function y(){},U.overrideTextDirection=function Po(G,be){let Pe,et;("ltr"===be||"rtl"===be)&&(Pe=G.canvas.style,et=[Pe.getPropertyValue("direction"),Pe.getPropertyPriority("direction")],Pe.setProperty("direction",be,"important"),G.prevTextDirection=et)},U.overrides=hn,U.readUsedSize=function eo(G,be){const Pe=xr(G,be),et=Pe&&Pe.match(/^(\d+)(\.\d+)?px$/);return et?+et[1]:void 0},U.renderText=function Oi(G,be,Pe,et,ct,Et={}){const Ft=J(be)?be:[be],Ht=Et.strokeWidth>0&&""!==Et.strokeColor;let rn,Mn;for(G.save(),G.font=ct.string,function Yr(G,be){be.translation&&G.translate(be.translation[0],be.translation[1]),z(be.rotation)||G.rotate(be.rotation),be.color&&(G.fillStyle=be.color),be.textAlign&&(G.textAlign=be.textAlign),be.textBaseline&&(G.textBaseline=be.textBaseline)}(G,Et),rn=0;rn<Ft.length;++rn)Mn=Ft[rn],Et.backdrop&&nr(G,Et.backdrop),Ht&&(Et.strokeColor&&(G.strokeStyle=Et.strokeColor),z(Et.strokeWidth)||(G.lineWidth=Et.strokeWidth),G.strokeText(Mn,Pe,et,Et.maxWidth)),G.fillText(Mn,Pe,et,Et.maxWidth),ho(G,Pe,et,Mn,Et),et+=Number(ct.lineHeight);G.restore()},U.requestAnimFrame=nt,U.resolve=function rt(G,be,Pe,et){let Et,Ft,Ht,ct=!0;for(Et=0,Ft=G.length;Et<Ft;++Et)if(Ht=G[Et],void 0!==Ht&&(void 0!==be&&"function"==typeof Ht&&(Ht=Ht(be),ct=!1),void 0!==Pe&&J(Ht)&&(Ht=Ht[Pe%Ht.length],ct=!1),void 0!==Ht))return et&&!ct&&(et.cacheable=!1),Ht},U.resolveObjectKey=Xe,U.restoreTextDirection=function Lo(G,be){void 0!==be&&(delete G.prevTextDirection,G.canvas.style.setProperty("direction",be[0],be[1]))},U.retinaScale=function lo(G,be,Pe){const et=be||1,ct=Math.floor(G.height*et),Et=Math.floor(G.width*et);G.height=Math.floor(G.height),G.width=Math.floor(G.width);const Ft=G.canvas;return Ft.style&&(Pe||!Ft.style.height&&!Ft.style.width)&&(Ft.style.height=`${G.height}px`,Ft.style.width=`${G.width}px`),(G.currentDevicePixelRatio!==et||Ft.height!==ct||Ft.width!==Et)&&(G.currentDevicePixelRatio=et,Ft.height=ct,Ft.width=Et,G.ctx.setTransform(et,0,0,et,0,0),!0)},U.setsEqual=(G,be)=>{if(G.size!==be.size)return!1;for(const Pe of G)if(!be.has(Pe))return!1;return!0},U.sign=Ie,U.splineCurve=Fn,U.splineCurveMonotone=wn,U.supportsEventListenerOptions=So,U.throttled=function dn(G,be){let Pe=[],et=!1;return function(...ct){Pe=ct,et||(et=!0,nt.call(window,()=>{et=!1,G.apply(be,Pe)}))}},U.toDegrees=function Ct(G){return G*(180/ge)},U.toDimension=ae,U.toFont=function Qt(G,be){let Pe=q((G=G||{}).size,(be=be||Ki.font).size);"string"==typeof Pe&&(Pe=parseInt(Pe,10));let et=q(G.style,be.style);et&&!(""+et).match(Br)&&(console.warn('Invalid font style specified: "'+et+'"'),et=void 0);const ct={family:q(G.family,be.family),lineHeight:Dr(q(G.lineHeight,be.lineHeight),Pe),size:Pe,style:et,weight:q(G.weight,be.weight),string:""};return ct.string=zi(ct),ct},U.toFontString=zi,U.toLineHeight=Dr,U.toPadding=function Rt(G){const be=tt(G);return be.width=be.left+be.right,be.height=be.top+be.bottom,be},U.toPercentage=(G,be)=>"string"==typeof G&&G.endsWith("%")?parseFloat(G)/100:+G/be,U.toRadians=function tn(G){return G*(ge/180)},U.toTRBL=tt,U.toTRBLCorners=function ht(G){return We(G,["topLeft","topRight","bottomLeft","bottomRight"])},U.uid=K,U.unclipArea=function tr(G){G.restore()},U.unlistenArrayEvents=function Bn(G,be){const Pe=G._chartjs;if(!Pe)return;const et=Pe.listeners,ct=et.indexOf(be);-1!==ct&&et.splice(ct,1),!(et.length>0)&&(Qi.forEach(Et=>{delete G[Et]}),delete G._chartjs)},U.valueOrDefault=q},4773:(yt,U,R)=>{"use strict";var o=R(250);R(9128),U.HALF_PI=o.HALF_PI,U.INFINITY=o.INFINITY,U.PI=o.PI,U.PITAU=o.PITAU,U.QUARTER_PI=o.QUARTER_PI,U.RAD_PER_DEG=o.RAD_PER_DEG,U.TAU=o.TAU,U.TWO_THIRDS_PI=o.TWO_THIRDS_PI,U._addGrace=o._addGrace,U._alignPixel=o._alignPixel,U._alignStartEnd=o._alignStartEnd,U._angleBetween=o._angleBetween,U._angleDiff=o._angleDiff,U._arrayUnique=o._arrayUnique,U._attachContext=o._attachContext,U._bezierCurveTo=o._bezierCurveTo,U._bezierInterpolation=o._bezierInterpolation,U._boundSegment=o._boundSegment,U._boundSegments=o._boundSegments,U._capitalize=o._capitalize,U._computeSegments=o._computeSegments,U._createResolver=o._createResolver,U._decimalPlaces=o._decimalPlaces,U._deprecated=o._deprecated,U._descriptors=o._descriptors,U._elementsEqual=o._elementsEqual,U._factorize=o._factorize,U._filterBetween=o._filterBetween,U._getParentNode=o._getParentNode,U._getStartAndCountOfVisiblePoints=o._getStartAndCountOfVisiblePoints,U._int16Range=o._int16Range,U._isBetween=o._isBetween,U._isClickEvent=o._isClickEvent,U._isDomSupported=o._isDomSupported,U._isPointInArea=o._isPointInArea,U._limitValue=o._limitValue,U._longestText=o._longestText,U._lookup=o._lookup,U._lookupByKey=o._lookupByKey,U._measureText=o._measureText,U._merger=o._merger,U._mergerIf=o._mergerIf,U._normalizeAngle=o._normalizeAngle,U._parseObjectDataRadialScale=o._parseObjectDataRadialScale,U._pointInLine=o._pointInLine,U._readValueToProps=o._readValueToProps,U._rlookupByKey=o._rlookupByKey,U._scaleRangesChanged=o._scaleRangesChanged,U._setMinAndMaxByKey=o._setMinAndMaxByKey,U._splitKey=o._splitKey,U._steppedInterpolation=o._steppedInterpolation,U._steppedLineTo=o._steppedLineTo,U._textX=o._textX,U._toLeftRightCenter=o._toLeftRightCenter,U._updateBezierControlPoints=o._updateBezierControlPoints,U.addRoundedRectPath=o.addRoundedRectPath,U.almostEquals=o.almostEquals,U.almostWhole=o.almostWhole,U.callback=o.callback,U.clearCanvas=o.clearCanvas,U.clipArea=o.clipArea,U.clone=o.clone,U.color=o.color,U.createContext=o.createContext,U.debounce=o.debounce,U.defined=o.defined,U.distanceBetweenPoints=o.distanceBetweenPoints,U.drawPoint=o.drawPoint,U.drawPointLegend=o.drawPointLegend,U.each=o.each,U.easingEffects=o.effects,U.finiteOrDefault=o.finiteOrDefault,U.fontString=o.fontString,U.formatNumber=o.formatNumber,U.getAngleFromPoint=o.getAngleFromPoint,U.getHoverColor=o.getHoverColor,U.getMaximumSize=o.getMaximumSize,U.getRelativePosition=o.getRelativePosition,U.getRtlAdapter=o.getRtlAdapter,U.getStyle=o.getStyle,U.isArray=o.isArray,U.isFinite=o.isNumberFinite,U.isFunction=o.isFunction,U.isNullOrUndef=o.isNullOrUndef,U.isNumber=o.isNumber,U.isObject=o.isObject,U.isPatternOrGradient=o.isPatternOrGradient,U.listenArrayEvents=o.listenArrayEvents,U.log10=o.log10,U.merge=o.merge,U.mergeIf=o.mergeIf,U.niceNum=o.niceNum,U.noop=o.noop,U.overrideTextDirection=o.overrideTextDirection,U.readUsedSize=o.readUsedSize,U.renderText=o.renderText,U.requestAnimFrame=o.requestAnimFrame,U.resolve=o.resolve,U.resolveObjectKey=o.resolveObjectKey,U.restoreTextDirection=o.restoreTextDirection,U.retinaScale=o.retinaScale,U.setsEqual=o.setsEqual,U.sign=o.sign,U.splineCurve=o.splineCurve,U.splineCurveMonotone=o.splineCurveMonotone,U.supportsEventListenerOptions=o.supportsEventListenerOptions,U.throttled=o.throttled,U.toDegrees=o.toDegrees,U.toDimension=o.toDimension,U.toFont=o.toFont,U.toFontString=o.toFontString,U.toLineHeight=o.toLineHeight,U.toPadding=o.toPadding,U.toPercentage=o.toPercentage,U.toRadians=o.toRadians,U.toTRBL=o.toTRBL,U.toTRBLCorners=o.toTRBLCorners,U.uid=o.uid,U.unclipArea=o.unclipArea,U.unlistenArrayEvents=o.unlistenArrayEvents,U.valueOrDefault=o.valueOrDefault},666:(yt,U,R)=>{yt.exports=R(4773)},8416:(yt,U,R)=>{var o=R(4062);yt.exports=function y(K,z,J){return(z=o(z))in K?Object.defineProperty(K,z,{value:J,enumerable:!0,configurable:!0,writable:!0}):K[z]=J,K},yt.exports.__esModule=!0,yt.exports.default=yt.exports},5036:(yt,U,R)=>{var o=R(8698).default;yt.exports=function y(K,z){if("object"!==o(K)||null===K)return K;var J=K[Symbol.toPrimitive];if(void 0!==J){var X=J.call(K,z||"default");if("object"!==o(X))return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===z?String:Number)(K)},yt.exports.__esModule=!0,yt.exports.default=yt.exports},4062:(yt,U,R)=>{var o=R(8698).default,y=R(5036);yt.exports=function K(z){var J=y(z,"string");return"symbol"===o(J)?J:String(J)},yt.exports.__esModule=!0,yt.exports.default=yt.exports},8698:yt=>{function U(R){return yt.exports=U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},yt.exports.__esModule=!0,yt.exports.default=yt.exports,U(R)}yt.exports=U,yt.exports.__esModule=!0,yt.exports.default=yt.exports},6895:(yt,U,R)=>{"use strict";R.d(U,{Do:()=>De,EM:()=>qr,HT:()=>z,JF:()=>Hr,K0:()=>X,Mx:()=>ho,O5:()=>Rt,Ov:()=>To,S$:()=>Ce,V_:()=>q,Ye:()=>Be,b0:()=>ve,bD:()=>zn,ez:()=>br,q:()=>K,sg:()=>We,tP:()=>lr,uU:()=>Gt,w_:()=>J});var o=R(8256);let y=null;function K(){return y}function z(ie){y||(y=ie)}class J{}const X=new o.OlP("DocumentToken");let Z=(()=>{class ie{historyGo(v){throw new Error("Not implemented")}}return ie.\u0275fac=function(v){return new(v||ie)},ie.\u0275prov=o.Yz7({token:ie,factory:function(){return function Y(){return(0,o.LFG)(ce)}()},providedIn:"platform"}),ie})();const q=new o.OlP("Location Initialized");let ce=(()=>{class ie extends Z{constructor(v){super(),this._doc=v,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(v){const P=K().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",v,!1),()=>P.removeEventListener("popstate",v)}onHashChange(v){const P=K().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",v,!1),()=>P.removeEventListener("hashchange",v)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(v){this._location.pathname=v}pushState(v,P,W){ae()?this._history.pushState(v,P,W):this._location.hash=W}replaceState(v,P,W){ae()?this._history.replaceState(v,P,W):this._location.hash=W}forward(){this._history.forward()}back(){this._history.back()}historyGo(v=0){this._history.go(v)}getState(){return this._history.state}}return ie.\u0275fac=function(v){return new(v||ie)(o.LFG(X))},ie.\u0275prov=o.Yz7({token:ie,factory:function(){return function se(){return new ce((0,o.LFG)(X))}()},providedIn:"platform"}),ie})();function ae(){return!!window.history.pushState}function re(ie,B){if(0==ie.length)return B;if(0==B.length)return ie;let v=0;return ie.endsWith("/")&&v++,B.startsWith("/")&&v++,2==v?ie+B.substring(1):1==v?ie+B:ie+"/"+B}function le(ie){const B=ie.match(/#|\?|$/),v=B&&B.index||ie.length;return ie.slice(0,v-("/"===ie[v-1]?1:0))+ie.slice(v)}function ke(ie){return ie&&"?"!==ie[0]?"?"+ie:ie}let Ce=(()=>{class ie{historyGo(v){throw new Error("Not implemented")}}return ie.\u0275fac=function(v){return new(v||ie)},ie.\u0275prov=o.Yz7({token:ie,factory:function(){return(0,o.f3M)(ve)},providedIn:"root"}),ie})();const fe=new o.OlP("appBaseHref");let ve=(()=>{class ie extends Ce{constructor(v,P){var W,me,Fe;super(),this._platformLocation=v,this._removeListenerFns=[],this._baseHref=null!==(W=null!==(me=null!=P?P:this._platformLocation.getBaseHrefFromDOM())&&void 0!==me?me:null===(Fe=(0,o.f3M)(X).location)||void 0===Fe?void 0:Fe.origin)&&void 0!==W?W:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(v){this._removeListenerFns.push(this._platformLocation.onPopState(v),this._platformLocation.onHashChange(v))}getBaseHref(){return this._baseHref}prepareExternalUrl(v){return re(this._baseHref,v)}path(v=!1){const P=this._platformLocation.pathname+ke(this._platformLocation.search),W=this._platformLocation.hash;return W&&v?`${P}${W}`:P}pushState(v,P,W,me){const Fe=this.prepareExternalUrl(W+ke(me));this._platformLocation.pushState(v,P,Fe)}replaceState(v,P,W,me){const Fe=this.prepareExternalUrl(W+ke(me));this._platformLocation.replaceState(v,P,Fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(v=0){var P,W;null===(P=(W=this._platformLocation).historyGo)||void 0===P||P.call(W,v)}}return ie.\u0275fac=function(v){return new(v||ie)(o.LFG(Z),o.LFG(fe,8))},ie.\u0275prov=o.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),De=(()=>{class ie extends Ce{constructor(v,P){super(),this._platformLocation=v,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(v){this._removeListenerFns.push(this._platformLocation.onPopState(v),this._platformLocation.onHashChange(v))}getBaseHref(){return this._baseHref}path(v=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(v){const P=re(this._baseHref,v);return P.length>0?"#"+P:P}pushState(v,P,W,me){let Fe=this.prepareExternalUrl(W+ke(me));0==Fe.length&&(Fe=this._platformLocation.pathname),this._platformLocation.pushState(v,P,Fe)}replaceState(v,P,W,me){let Fe=this.prepareExternalUrl(W+ke(me));0==Fe.length&&(Fe=this._platformLocation.pathname),this._platformLocation.replaceState(v,P,Fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(v=0){var P,W;null===(P=(W=this._platformLocation).historyGo)||void 0===P||P.call(W,v)}}return ie.\u0275fac=function(v){return new(v||ie)(o.LFG(Z),o.LFG(fe,8))},ie.\u0275prov=o.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),Be=(()=>{class ie{constructor(v){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=v;const P=this._locationStrategy.getBaseHref();this._basePath=function Me(ie){if(new RegExp("^(https?:)?//").test(ie)){const[,v]=ie.split(/\/\/[^\/]+/);return v}return ie}(le(mt(P))),this._locationStrategy.onPopState(W=>{this._subject.emit({url:this.path(!0),pop:!0,state:W.state,type:W.type})})}ngOnDestroy(){var v;null===(v=this._urlChangeSubscription)||void 0===v||v.unsubscribe(),this._urlChangeListeners=[]}path(v=!1){return this.normalize(this._locationStrategy.path(v))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(v,P=""){return this.path()==this.normalize(v+ke(P))}normalize(v){return ie.stripTrailingSlash(function Oe(ie,B){if(!ie||!B.startsWith(ie))return B;const v=B.substring(ie.length);return""===v||["/",";","?","#"].includes(v[0])?v:B}(this._basePath,mt(v)))}prepareExternalUrl(v){return v&&"/"!==v[0]&&(v="/"+v),this._locationStrategy.prepareExternalUrl(v)}go(v,P="",W=null){this._locationStrategy.pushState(W,"",v,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(v+ke(P)),W)}replaceState(v,P="",W=null){this._locationStrategy.replaceState(W,"",v,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(v+ke(P)),W)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(v=0){var P,W;null===(P=(W=this._locationStrategy).historyGo)||void 0===P||P.call(W,v)}onUrlChange(v){return this._urlChangeListeners.push(v),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(v);var W;this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(null===(W=this._urlChangeSubscription)||void 0===W||W.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(v="",P){this._urlChangeListeners.forEach(W=>W(v,P))}subscribe(v,P,W){return this._subject.subscribe({next:v,error:P,complete:W})}}return ie.normalizeQueryParams=ke,ie.joinWithSlash=re,ie.stripTrailingSlash=le,ie.\u0275fac=function(v){return new(v||ie)(o.LFG(Ce))},ie.\u0275prov=o.Yz7({token:ie,factory:function(){return function qe(){return new Be((0,o.LFG)(Ce))}()},providedIn:"root"}),ie})();function mt(ie){return ie.replace(/\/index.html$/,"")}var ut=(()=>((ut=ut||{})[ut.Format=0]="Format",ut[ut.Standalone=1]="Standalone",ut))(),ze=(()=>((ze=ze||{})[ze.Narrow=0]="Narrow",ze[ze.Abbreviated=1]="Abbreviated",ze[ze.Wide=2]="Wide",ze[ze.Short=3]="Short",ze))(),Ze=(()=>((Ze=Ze||{})[Ze.Short=0]="Short",Ze[Ze.Medium=1]="Medium",Ze[Ze.Long=2]="Long",Ze[Ze.Full=3]="Full",Ze))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))();function Ie(ie,B){return bn((0,o.cg1)(ie)[o.wAp.DateFormat],B)}function Le(ie,B){return bn((0,o.cg1)(ie)[o.wAp.TimeFormat],B)}function gt(ie,B){return bn((0,o.cg1)(ie)[o.wAp.DateTimeFormat],B)}function bt(ie,B){const v=(0,o.cg1)(ie),P=v[o.wAp.NumberSymbols][B];if(typeof P>"u"){if(B===ge.CurrencyDecimal)return v[o.wAp.NumberSymbols][ge.Decimal];if(B===ge.CurrencyGroup)return v[o.wAp.NumberSymbols][ge.Group]}return P}function nn(ie){if(!ie[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${ie[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bn(ie,B){for(let v=B;v>-1;v--)if(typeof ie[v]<"u")return ie[v];throw new Error("Locale data API: locale data undefined")}function vi(ie){const[B,v]=ie.split(":");return{hours:+B,minutes:+v}}const Or=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ir={},Fr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Qi=(()=>((Qi=Qi||{})[Qi.Short=0]="Short",Qi[Qi.ShortGMT=1]="ShortGMT",Qi[Qi.Long=2]="Long",Qi[Qi.Extended=3]="Extended",Qi))(),Sn=(()=>((Sn=Sn||{})[Sn.FullYear=0]="FullYear",Sn[Sn.Month=1]="Month",Sn[Sn.Date=2]="Date",Sn[Sn.Hours=3]="Hours",Sn[Sn.Minutes=4]="Minutes",Sn[Sn.Seconds=5]="Seconds",Sn[Sn.FractionalSeconds=6]="FractionalSeconds",Sn[Sn.Day=7]="Day",Sn))(),Bn=(()=>((Bn=Bn||{})[Bn.DayPeriods=0]="DayPeriods",Bn[Bn.Days=1]="Days",Bn[Bn.Months=2]="Months",Bn[Bn.Eras=3]="Eras",Bn))();function xt(ie,B,v,P){let W=function Vi(ie){if(At(ie))return ie;if("number"==typeof ie&&!isNaN(ie))return new Date(ie);if("string"==typeof ie){if(ie=ie.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ie)){const[W,me=1,Fe=1]=ie.split("-").map(ft=>+ft);return Pt(W,me-1,Fe)}const v=parseFloat(ie);if(!isNaN(ie-v))return new Date(v);let P;if(P=ie.match(Or))return function er(ie){const B=new Date(0);let v=0,P=0;const W=ie[8]?B.setUTCFullYear:B.setFullYear,me=ie[8]?B.setUTCHours:B.setHours;ie[9]&&(v=Number(ie[9]+ie[10]),P=Number(ie[9]+ie[11])),W.call(B,Number(ie[1]),Number(ie[2])-1,Number(ie[3]));const Fe=Number(ie[4]||0)-v,ft=Number(ie[5]||0)-P,Tt=Number(ie[6]||0),Jt=Math.floor(1e3*parseFloat("0."+(ie[7]||0)));return me.call(B,Fe,ft,Tt,Jt),B}(P)}const B=new Date(ie);if(!At(B))throw new Error(`Unable to convert "${ie}" into a date`);return B}(ie);B=nt(v,B)||B;let ft,Fe=[];for(;B;){if(ft=Fr.exec(B),!ft){Fe.push(B);break}{Fe=Fe.concat(ft.slice(1));const pn=Fe.pop();if(!pn)break;B=pn}}let Tt=W.getTimezoneOffset();P&&(Tt=Yn(P,Tt),W=function ti(ie,B,v){const P=v?-1:1,W=ie.getTimezoneOffset();return function ai(ie,B){return(ie=new Date(ie.getTime())).setMinutes(ie.getMinutes()+B),ie}(ie,P*(Yn(B,W)-W))}(W,P,!0));let Jt="";return Fe.forEach(pn=>{const Dn=function jt(ie){if(yn[ie])return yn[ie];let B;switch(ie){case"G":case"GG":case"GGG":B=Nn(Bn.Eras,ze.Abbreviated);break;case"GGGG":B=Nn(Bn.Eras,ze.Wide);break;case"GGGGG":B=Nn(Bn.Eras,ze.Narrow);break;case"y":B=at(Sn.FullYear,1,0,!1,!0);break;case"yy":B=at(Sn.FullYear,2,0,!0,!0);break;case"yyy":B=at(Sn.FullYear,3,0,!1,!0);break;case"yyyy":B=at(Sn.FullYear,4,0,!1,!0);break;case"Y":B=gn(1);break;case"YY":B=gn(2,!0);break;case"YYY":B=gn(3);break;case"YYYY":B=gn(4);break;case"M":case"L":B=at(Sn.Month,1,1);break;case"MM":case"LL":B=at(Sn.Month,2,1);break;case"MMM":B=Nn(Bn.Months,ze.Abbreviated);break;case"MMMM":B=Nn(Bn.Months,ze.Wide);break;case"MMMMM":B=Nn(Bn.Months,ze.Narrow);break;case"LLL":B=Nn(Bn.Months,ze.Abbreviated,ut.Standalone);break;case"LLLL":B=Nn(Bn.Months,ze.Wide,ut.Standalone);break;case"LLLLL":B=Nn(Bn.Months,ze.Narrow,ut.Standalone);break;case"w":B=Ut(1);break;case"ww":B=Ut(2);break;case"W":B=Ut(1,!0);break;case"d":B=at(Sn.Date,1);break;case"dd":B=at(Sn.Date,2);break;case"c":case"cc":B=at(Sn.Day,1);break;case"ccc":B=Nn(Bn.Days,ze.Abbreviated,ut.Standalone);break;case"cccc":B=Nn(Bn.Days,ze.Wide,ut.Standalone);break;case"ccccc":B=Nn(Bn.Days,ze.Narrow,ut.Standalone);break;case"cccccc":B=Nn(Bn.Days,ze.Short,ut.Standalone);break;case"E":case"EE":case"EEE":B=Nn(Bn.Days,ze.Abbreviated);break;case"EEEE":B=Nn(Bn.Days,ze.Wide);break;case"EEEEE":B=Nn(Bn.Days,ze.Narrow);break;case"EEEEEE":B=Nn(Bn.Days,ze.Short);break;case"a":case"aa":case"aaa":B=Nn(Bn.DayPeriods,ze.Abbreviated);break;case"aaaa":B=Nn(Bn.DayPeriods,ze.Wide);break;case"aaaaa":B=Nn(Bn.DayPeriods,ze.Narrow);break;case"b":case"bb":case"bbb":B=Nn(Bn.DayPeriods,ze.Abbreviated,ut.Standalone,!0);break;case"bbbb":B=Nn(Bn.DayPeriods,ze.Wide,ut.Standalone,!0);break;case"bbbbb":B=Nn(Bn.DayPeriods,ze.Narrow,ut.Standalone,!0);break;case"B":case"BB":case"BBB":B=Nn(Bn.DayPeriods,ze.Abbreviated,ut.Format,!0);break;case"BBBB":B=Nn(Bn.DayPeriods,ze.Wide,ut.Format,!0);break;case"BBBBB":B=Nn(Bn.DayPeriods,ze.Narrow,ut.Format,!0);break;case"h":B=at(Sn.Hours,1,-12);break;case"hh":B=at(Sn.Hours,2,-12);break;case"H":B=at(Sn.Hours,1);break;case"HH":B=at(Sn.Hours,2);break;case"m":B=at(Sn.Minutes,1);break;case"mm":B=at(Sn.Minutes,2);break;case"s":B=at(Sn.Seconds,1);break;case"ss":B=at(Sn.Seconds,2);break;case"S":B=at(Sn.FractionalSeconds,1);break;case"SS":B=at(Sn.FractionalSeconds,2);break;case"SSS":B=at(Sn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":B=Qn(Qi.Short);break;case"ZZZZZ":B=Qn(Qi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":B=Qn(Qi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":B=Qn(Qi.Long);break;default:return null}return yn[ie]=B,B}(pn);Jt+=Dn?Dn(W,v,Tt):"''"===pn?"'":pn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Jt}function Pt(ie,B,v){const P=new Date(0);return P.setFullYear(ie,B,v),P.setHours(0,0,0),P}function nt(ie,B){const v=function Se(ie){return(0,o.cg1)(ie)[o.wAp.LocaleId]}(ie);if(ir[v]=ir[v]||{},ir[v][B])return ir[v][B];let P="";switch(B){case"shortDate":P=Ie(ie,Ze.Short);break;case"mediumDate":P=Ie(ie,Ze.Medium);break;case"longDate":P=Ie(ie,Ze.Long);break;case"fullDate":P=Ie(ie,Ze.Full);break;case"shortTime":P=Le(ie,Ze.Short);break;case"mediumTime":P=Le(ie,Ze.Medium);break;case"longTime":P=Le(ie,Ze.Long);break;case"fullTime":P=Le(ie,Ze.Full);break;case"short":const W=nt(ie,"shortTime"),me=nt(ie,"shortDate");P=dn(gt(ie,Ze.Short),[W,me]);break;case"medium":const Fe=nt(ie,"mediumTime"),ft=nt(ie,"mediumDate");P=dn(gt(ie,Ze.Medium),[Fe,ft]);break;case"long":const Tt=nt(ie,"longTime"),Jt=nt(ie,"longDate");P=dn(gt(ie,Ze.Long),[Tt,Jt]);break;case"full":const pn=nt(ie,"fullTime"),Dn=nt(ie,"fullDate");P=dn(gt(ie,Ze.Full),[pn,Dn])}return P&&(ir[v][B]=P),P}function dn(ie,B){return B&&(ie=ie.replace(/\{([^}]+)}/g,function(v,P){return null!=B&&P in B?B[P]:v})),ie}function en(ie,B,v="-",P,W){let me="";(ie<0||W&&ie<=0)&&(W?ie=1-ie:(ie=-ie,me=v));let Fe=String(ie);for(;Fe.length<B;)Fe="0"+Fe;return P&&(Fe=Fe.slice(Fe.length-B)),me+Fe}function at(ie,B,v=0,P=!1,W=!1){return function(me,Fe){let ft=function qn(ie,B){switch(ie){case Sn.FullYear:return B.getFullYear();case Sn.Month:return B.getMonth();case Sn.Date:return B.getDate();case Sn.Hours:return B.getHours();case Sn.Minutes:return B.getMinutes();case Sn.Seconds:return B.getSeconds();case Sn.FractionalSeconds:return B.getMilliseconds();case Sn.Day:return B.getDay();default:throw new Error(`Unknown DateType value "${ie}".`)}}(ie,me);if((v>0||ft>-v)&&(ft+=v),ie===Sn.Hours)0===ft&&-12===v&&(ft=12);else if(ie===Sn.FractionalSeconds)return function Lt(ie,B){return en(ie,3).substring(0,B)}(ft,B);const Tt=bt(Fe,ge.MinusSign);return en(ft,B,Tt,P,W)}}function Nn(ie,B,v=ut.Format,P=!1){return function(W,me){return function Ti(ie,B,v,P,W,me){switch(v){case Bn.Months:return function Te(ie,B,v){const P=(0,o.cg1)(ie),me=bn([P[o.wAp.MonthsFormat],P[o.wAp.MonthsStandalone]],B);return bn(me,v)}(B,W,P)[ie.getMonth()];case Bn.Days:return function Ae(ie,B,v){const P=(0,o.cg1)(ie),me=bn([P[o.wAp.DaysFormat],P[o.wAp.DaysStandalone]],B);return bn(me,v)}(B,W,P)[ie.getDay()];case Bn.DayPeriods:const Fe=ie.getHours(),ft=ie.getMinutes();if(me){const Jt=function $t(ie){const B=(0,o.cg1)(ie);return nn(B),(B[o.wAp.ExtraData][2]||[]).map(P=>"string"==typeof P?vi(P):[vi(P[0]),vi(P[1])])}(B),pn=function vn(ie,B,v){const P=(0,o.cg1)(ie);nn(P);const me=bn([P[o.wAp.ExtraData][0],P[o.wAp.ExtraData][1]],B)||[];return bn(me,v)||[]}(B,W,P),Dn=Jt.findIndex(Jn=>{if(Array.isArray(Jn)){const[Si,Hi]=Jn,Ri=Fe>=Si.hours&&ft>=Si.minutes,Li=Fe<Hi.hours||Fe===Hi.hours&&ft<Hi.minutes;if(Si.hours<Hi.hours){if(Ri&&Li)return!0}else if(Ri||Li)return!0}else if(Jn.hours===Fe&&Jn.minutes===ft)return!0;return!1});if(-1!==Dn)return pn[Dn]}return function xe(ie,B,v){const P=(0,o.cg1)(ie),me=bn([P[o.wAp.DayPeriodsFormat],P[o.wAp.DayPeriodsStandalone]],B);return bn(me,v)}(B,W,P)[Fe<12?0:1];case Bn.Eras:return function Ne(ie,B){return bn((0,o.cg1)(ie)[o.wAp.Eras],B)}(B,P)[ie.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${v}`)}}(W,me,ie,B,v,P)}}function Qn(ie){return function(B,v,P){const W=-1*P,me=bt(v,ge.MinusSign),Fe=W>0?Math.floor(W/60):Math.ceil(W/60);switch(ie){case Qi.Short:return(W>=0?"+":"")+en(Fe,2,me)+en(Math.abs(W%60),2,me);case Qi.ShortGMT:return"GMT"+(W>=0?"+":"")+en(Fe,1,me);case Qi.Long:return"GMT"+(W>=0?"+":"")+en(Fe,2,me)+":"+en(Math.abs(W%60),2,me);case Qi.Extended:return 0===P?"Z":(W>=0?"+":"")+en(Fe,2,me)+":"+en(Math.abs(W%60),2,me);default:throw new Error(`Unknown zone width "${ie}"`)}}}const dr=0,Zi=4;function _t(ie){return Pt(ie.getFullYear(),ie.getMonth(),ie.getDate()+(Zi-ie.getDay()))}function Ut(ie,B=!1){return function(v,P){let W;if(B){const me=new Date(v.getFullYear(),v.getMonth(),1).getDay()-1,Fe=v.getDate();W=1+Math.floor((Fe+me)/7)}else{const me=_t(v),Fe=function Zt(ie){const B=Pt(ie,dr,1).getDay();return Pt(ie,0,1+(B<=Zi?Zi:Zi+7)-B)}(me.getFullYear()),ft=me.getTime()-Fe.getTime();W=1+Math.round(ft/6048e5)}return en(W,ie,bt(P,ge.MinusSign))}}function gn(ie,B=!1){return function(v,P){return en(_t(v).getFullYear(),ie,bt(P,ge.MinusSign),B)}}const yn={};function Yn(ie,B){ie=ie.replace(/:/g,"");const v=Date.parse("Jan 01, 1970 00:00:00 "+ie)/6e4;return isNaN(v)?B:v}function At(ie){return ie instanceof Date&&!isNaN(ie.valueOf())}function ho(ie,B){B=encodeURIComponent(B);for(const v of ie.split(";")){const P=v.indexOf("="),[W,me]=-1==P?[v,""]:[v.slice(0,P),v.slice(P+1)];if(W.trim()===B)return decodeURIComponent(me)}return null}class no{constructor(B,v,P,W){this.$implicit=B,this.ngForOf=v,this.index=P,this.count=W}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let We=(()=>{class ie{set ngForOf(v){this._ngForOf=v,this._ngForOfDirty=!0}set ngForTrackBy(v){this._trackByFn=v}get ngForTrackBy(){return this._trackByFn}constructor(v,P,W){this._viewContainer=v,this._template=P,this._differs=W,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(v){v&&(this._template=v)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const v=this._ngForOf;!this._differ&&v&&(this._differ=this._differs.find(v).create(this.ngForTrackBy))}if(this._differ){const v=this._differ.diff(this._ngForOf);v&&this._applyChanges(v)}}_applyChanges(v){const P=this._viewContainer;v.forEachOperation((W,me,Fe)=>{if(null==W.previousIndex)P.createEmbeddedView(this._template,new no(W.item,this._ngForOf,-1,-1),null===Fe?void 0:Fe);else if(null==Fe)P.remove(null===me?void 0:me);else if(null!==me){const ft=P.get(me);P.move(ft,Fe),tt(ft,W)}});for(let W=0,me=P.length;W<me;W++){const ft=P.get(W).context;ft.index=W,ft.count=me,ft.ngForOf=this._ngForOf}v.forEachIdentityChange(W=>{tt(P.get(W.currentIndex),W)})}static ngTemplateContextGuard(v,P){return!0}}return ie.\u0275fac=function(v){return new(v||ie)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},ie.\u0275dir=o.lG2({type:ie,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ie})();function tt(ie,B){ie.context.$implicit=B.item}let Rt=(()=>{class ie{constructor(v,P){this._viewContainer=v,this._context=new Qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(v){this._context.$implicit=this._context.ngIf=v,this._updateView()}set ngIfThen(v){rt("ngIfThen",v),this._thenTemplateRef=v,this._thenViewRef=null,this._updateView()}set ngIfElse(v){rt("ngIfElse",v),this._elseTemplateRef=v,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(v,P){return!0}}return ie.\u0275fac=function(v){return new(v||ie)(o.Y36(o.s_b),o.Y36(o.Rgc))},ie.\u0275dir=o.lG2({type:ie,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ie})();class Qt{constructor(){this.$implicit=null,this.ngIf=null}}function rt(ie,B){if(B&&!B.createEmbeddedView)throw new Error(`${ie} must be a TemplateRef, but received '${(0,o.AaK)(B)}'.`)}let lr=(()=>{class ie{constructor(v){this._viewContainerRef=v,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(v){if(v.ngTemplateOutlet||v.ngTemplateOutletInjector){const P=this._viewContainerRef;if(this._viewRef&&P.remove(P.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:W,ngTemplateOutletContext:me,ngTemplateOutletInjector:Fe}=this;this._viewRef=P.createEmbeddedView(W,me,Fe?{injector:Fe}:void 0)}else this._viewRef=null}else this._viewRef&&v.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return ie.\u0275fac=function(v){return new(v||ie)(o.Y36(o.s_b))},ie.\u0275dir=o.lG2({type:ie,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),ie})();function Mi(ie,B){return new o.vHH(2100,!1)}class Ir{createSubscription(B,v){return B.subscribe({next:v,error:P=>{throw P}})}dispose(B){B.unsubscribe()}}class mr{createSubscription(B,v){return B.then(v,P=>{throw P})}dispose(B){}}const io=new mr,ao=new Ir;let To=(()=>{class ie{constructor(v){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=v}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(v){return this._obj?v!==this._obj?(this._dispose(),this.transform(v)):this._latestValue:(v&&this._subscribe(v),this._latestValue)}_subscribe(v){this._obj=v,this._strategy=this._selectStrategy(v),this._subscription=this._strategy.createSubscription(v,P=>this._updateLatestValue(v,P))}_selectStrategy(v){if((0,o.QGY)(v))return io;if((0,o.F4k)(v))return ao;throw Mi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(v,P){v===this._obj&&(this._latestValue=P,this._ref.markForCheck())}}return ie.\u0275fac=function(v){return new(v||ie)(o.Y36(o.sBO,16))},ie.\u0275pipe=o.Yjl({name:"async",type:ie,pure:!1,standalone:!0}),ie})();const wt=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Wt=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Gt=(()=>{class ie{constructor(v,P,W){this.locale=v,this.defaultTimezone=P,this.defaultOptions=W}transform(v,P,W,me){if(null==v||""===v||v!=v)return null;try{var Fe,ft,Tt,Jt,pn;const Dn=null!==(Fe=null!=P?P:null===(ft=this.defaultOptions)||void 0===ft?void 0:ft.dateFormat)&&void 0!==Fe?Fe:"mediumDate",Jn=null!==(Tt=null!==(Jt=null!=W?W:null===(pn=this.defaultOptions)||void 0===pn?void 0:pn.timezone)&&void 0!==Jt?Jt:this.defaultTimezone)&&void 0!==Tt?Tt:void 0;return xt(v,Dn,me||this.locale,Jn)}catch(Dn){throw Mi()}}}return ie.\u0275fac=function(v){return new(v||ie)(o.Y36(o.soG,16),o.Y36(wt,24),o.Y36(Wt,24))},ie.\u0275pipe=o.Yjl({name:"date",type:ie,pure:!0,standalone:!0}),ie})(),br=(()=>{class ie{}return ie.\u0275fac=function(v){return new(v||ie)},ie.\u0275mod=o.oAB({type:ie}),ie.\u0275inj=o.cJS({}),ie})();const zn="browser";let qr=(()=>{class ie{}return ie.\u0275prov=(0,o.Yz7)({token:ie,providedIn:"root",factory:()=>new xi((0,o.LFG)(X),window)}),ie})();class xi{constructor(B,v){this.document=B,this.window=v,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const v=function Vr(ie,B){const v=ie.getElementById(B)||ie.getElementsByName(B)[0];if(v)return v;if("function"==typeof ie.createTreeWalker&&ie.body&&(ie.body.createShadowRoot||ie.body.attachShadow)){const P=ie.createTreeWalker(ie.body,NodeFilter.SHOW_ELEMENT);let W=P.currentNode;for(;W;){const me=W.shadowRoot;if(me){const Fe=me.getElementById(B)||me.querySelector(`[name="${B}"]`);if(Fe)return Fe}W=P.nextNode()}}return null}(this.document,B);v&&(this.scrollToElement(v),v.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const v=this.window.history;v&&v.scrollRestoration&&(v.scrollRestoration=B)}}scrollToElement(B){const v=B.getBoundingClientRect(),P=v.left+this.window.pageXOffset,W=v.top+this.window.pageYOffset,me=this.offset();this.window.scrollTo(P-me[0],W-me[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=yo(this.window.history)||yo(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch(B){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(B){return!1}}}function yo(ie){return Object.getOwnPropertyDescriptor(ie,"scrollRestoration")}class Hr{}},529:(yt,U,R)=>{"use strict";R.d(U,{JF:()=>Qn,eN:()=>Se});var o=R(6895),y=R(8256),K=R(9646),z=R(9751),J=R(4351),X=R(9300),Z=R(4004);class Y{}class q{}class ce{constructor(_t){this.normalizedNames=new Map,this.lazyUpdate=null,_t?this.lazyInit="string"==typeof _t?()=>{this.headers=new Map,_t.split("\n").forEach(Ut=>{const gn=Ut.indexOf(":");if(gn>0){const yn=Ut.slice(0,gn),jt=yn.toLowerCase(),Yn=Ut.slice(gn+1).trim();this.maybeSetNormalizedName(yn,jt),this.headers.has(jt)?this.headers.get(jt).push(Yn):this.headers.set(jt,[Yn])}})}:()=>{this.headers=new Map,Object.entries(_t).forEach(([Ut,gn])=>{let yn;if(yn="string"==typeof gn?[gn]:"number"==typeof gn?[gn.toString()]:gn.map(jt=>jt.toString()),yn.length>0){const jt=Ut.toLowerCase();this.headers.set(jt,yn),this.maybeSetNormalizedName(Ut,jt)}})}:this.headers=new Map}has(_t){return this.init(),this.headers.has(_t.toLowerCase())}get(_t){this.init();const Ut=this.headers.get(_t.toLowerCase());return Ut&&Ut.length>0?Ut[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_t){return this.init(),this.headers.get(_t.toLowerCase())||null}append(_t,Ut){return this.clone({name:_t,value:Ut,op:"a"})}set(_t,Ut){return this.clone({name:_t,value:Ut,op:"s"})}delete(_t,Ut){return this.clone({name:_t,value:Ut,op:"d"})}maybeSetNormalizedName(_t,Ut){this.normalizedNames.has(Ut)||this.normalizedNames.set(Ut,_t)}init(){this.lazyInit&&(this.lazyInit instanceof ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_t=>this.applyUpdate(_t)),this.lazyUpdate=null))}copyFrom(_t){_t.init(),Array.from(_t.headers.keys()).forEach(Ut=>{this.headers.set(Ut,_t.headers.get(Ut)),this.normalizedNames.set(Ut,_t.normalizedNames.get(Ut))})}clone(_t){const Ut=new ce;return Ut.lazyInit=this.lazyInit&&this.lazyInit instanceof ce?this.lazyInit:this,Ut.lazyUpdate=(this.lazyUpdate||[]).concat([_t]),Ut}applyUpdate(_t){const Ut=_t.name.toLowerCase();switch(_t.op){case"a":case"s":let gn=_t.value;if("string"==typeof gn&&(gn=[gn]),0===gn.length)return;this.maybeSetNormalizedName(_t.name,Ut);const yn=("a"===_t.op?this.headers.get(Ut):void 0)||[];yn.push(...gn),this.headers.set(Ut,yn);break;case"d":const jt=_t.value;if(jt){let Yn=this.headers.get(Ut);if(!Yn)return;Yn=Yn.filter(ai=>-1===jt.indexOf(ai)),0===Yn.length?(this.headers.delete(Ut),this.normalizedNames.delete(Ut)):this.headers.set(Ut,Yn)}else this.headers.delete(Ut),this.normalizedNames.delete(Ut)}}forEach(_t){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ut=>_t(this.normalizedNames.get(Ut),this.headers.get(Ut)))}}class se{encodeKey(_t){return Ce(_t)}encodeValue(_t){return Ce(_t)}decodeKey(_t){return decodeURIComponent(_t)}decodeValue(_t){return decodeURIComponent(_t)}}const le=/%(\d[a-f0-9])/gi,ke={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ce(Zt){return encodeURIComponent(Zt).replace(le,(_t,Ut)=>{var gn;return null!==(gn=ke[Ut])&&void 0!==gn?gn:_t})}function fe(Zt){return`${Zt}`}class ve{constructor(_t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_t.encoder||new se,_t.fromString){if(_t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function re(Zt,_t){const Ut=new Map;return Zt.length>0&&Zt.replace(/^\?/,"").split("&").forEach(yn=>{const jt=yn.indexOf("="),[Yn,ai]=-1==jt?[_t.decodeKey(yn),""]:[_t.decodeKey(yn.slice(0,jt)),_t.decodeValue(yn.slice(jt+1))],ti=Ut.get(Yn)||[];ti.push(ai),Ut.set(Yn,ti)}),Ut}(_t.fromString,this.encoder)}else _t.fromObject?(this.map=new Map,Object.keys(_t.fromObject).forEach(Ut=>{const gn=_t.fromObject[Ut],yn=Array.isArray(gn)?gn.map(fe):[fe(gn)];this.map.set(Ut,yn)})):this.map=null}has(_t){return this.init(),this.map.has(_t)}get(_t){this.init();const Ut=this.map.get(_t);return Ut?Ut[0]:null}getAll(_t){return this.init(),this.map.get(_t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_t,Ut){return this.clone({param:_t,value:Ut,op:"a"})}appendAll(_t){const Ut=[];return Object.keys(_t).forEach(gn=>{const yn=_t[gn];Array.isArray(yn)?yn.forEach(jt=>{Ut.push({param:gn,value:jt,op:"a"})}):Ut.push({param:gn,value:yn,op:"a"})}),this.clone(Ut)}set(_t,Ut){return this.clone({param:_t,value:Ut,op:"s"})}delete(_t,Ut){return this.clone({param:_t,value:Ut,op:"d"})}toString(){return this.init(),this.keys().map(_t=>{const Ut=this.encoder.encodeKey(_t);return this.map.get(_t).map(gn=>Ut+"="+this.encoder.encodeValue(gn)).join("&")}).filter(_t=>""!==_t).join("&")}clone(_t){const Ut=new ve({encoder:this.encoder});return Ut.cloneFrom=this.cloneFrom||this,Ut.updates=(this.updates||[]).concat(_t),Ut}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_t=>this.map.set(_t,this.cloneFrom.map.get(_t))),this.updates.forEach(_t=>{switch(_t.op){case"a":case"s":const Ut=("a"===_t.op?this.map.get(_t.param):void 0)||[];Ut.push(fe(_t.value)),this.map.set(_t.param,Ut);break;case"d":if(void 0===_t.value){this.map.delete(_t.param);break}{let gn=this.map.get(_t.param)||[];const yn=gn.indexOf(fe(_t.value));-1!==yn&&gn.splice(yn,1),gn.length>0?this.map.set(_t.param,gn):this.map.delete(_t.param)}}}),this.cloneFrom=this.updates=null)}}class Be{constructor(){this.map=new Map}set(_t,Ut){return this.map.set(_t,Ut),this}get(_t){return this.map.has(_t)||this.map.set(_t,_t.defaultValue()),this.map.get(_t)}delete(_t){return this.map.delete(_t),this}has(_t){return this.map.has(_t)}keys(){return this.map.keys()}}function Oe(Zt){return typeof ArrayBuffer<"u"&&Zt instanceof ArrayBuffer}function mt(Zt){return typeof Blob<"u"&&Zt instanceof Blob}function Me(Zt){return typeof FormData<"u"&&Zt instanceof FormData}class Ke{constructor(_t,Ut,gn,yn){let jt;if(this.url=Ut,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_t.toUpperCase(),function qe(Zt){switch(Zt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||yn?(this.body=void 0!==gn?gn:null,jt=yn):jt=gn,jt&&(this.reportProgress=!!jt.reportProgress,this.withCredentials=!!jt.withCredentials,jt.responseType&&(this.responseType=jt.responseType),jt.headers&&(this.headers=jt.headers),jt.context&&(this.context=jt.context),jt.params&&(this.params=jt.params)),this.headers||(this.headers=new ce),this.context||(this.context=new Be),this.params){const Yn=this.params.toString();if(0===Yn.length)this.urlWithParams=Ut;else{const ai=Ut.indexOf("?");this.urlWithParams=Ut+(-1===ai?"?":ai<Ut.length-1?"&":"")+Yn}}else this.params=new ve,this.urlWithParams=Ut}serializeBody(){return null===this.body?null:Oe(this.body)||mt(this.body)||Me(this.body)||function Xe(Zt){return typeof URLSearchParams<"u"&&Zt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Me(this.body)?null:mt(this.body)?this.body.type||null:Oe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_t={}){var Ut;const gn=_t.method||this.method,yn=_t.url||this.url,jt=_t.responseType||this.responseType,Yn=void 0!==_t.body?_t.body:this.body,ai=void 0!==_t.withCredentials?_t.withCredentials:this.withCredentials,ti=void 0!==_t.reportProgress?_t.reportProgress:this.reportProgress;let Vi=_t.headers||this.headers,er=_t.params||this.params;const At=null!==(Ut=_t.context)&&void 0!==Ut?Ut:this.context;return void 0!==_t.setHeaders&&(Vi=Object.keys(_t.setHeaders).reduce((Nt,dt)=>Nt.set(dt,_t.setHeaders[dt]),Vi)),_t.setParams&&(er=Object.keys(_t.setParams).reduce((Nt,dt)=>Nt.set(dt,_t.setParams[dt]),er)),new Ke(gn,yn,Yn,{params:er,headers:Vi,context:At,reportProgress:ti,responseType:jt,withCredentials:ai})}}var Qe=(()=>((Qe=Qe||{})[Qe.Sent=0]="Sent",Qe[Qe.UploadProgress=1]="UploadProgress",Qe[Qe.ResponseHeader=2]="ResponseHeader",Qe[Qe.DownloadProgress=3]="DownloadProgress",Qe[Qe.Response=4]="Response",Qe[Qe.User=5]="User",Qe))();class ut{constructor(_t,Ut=200,gn="OK"){this.headers=_t.headers||new ce,this.status=void 0!==_t.status?_t.status:Ut,this.statusText=_t.statusText||gn,this.url=_t.url||null,this.ok=this.status>=200&&this.status<300}}class ze extends ut{constructor(_t={}){super(_t),this.type=Qe.ResponseHeader}clone(_t={}){return new ze({headers:_t.headers||this.headers,status:void 0!==_t.status?_t.status:this.status,statusText:_t.statusText||this.statusText,url:_t.url||this.url||void 0})}}class Ze extends ut{constructor(_t={}){super(_t),this.type=Qe.Response,this.body=void 0!==_t.body?_t.body:null}clone(_t={}){return new Ze({body:void 0!==_t.body?_t.body:this.body,headers:_t.headers||this.headers,status:void 0!==_t.status?_t.status:this.status,statusText:_t.statusText||this.statusText,url:_t.url||this.url||void 0})}}class ge extends ut{constructor(_t){super(_t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_t.url||"(unknown url)"}`:`Http failure response for ${_t.url||"(unknown url)"}: ${_t.status} ${_t.statusText}`,this.error=_t.error||null}}function pe(Zt,_t){return{body:_t,headers:Zt.headers,context:Zt.context,observe:Zt.observe,params:Zt.params,reportProgress:Zt.reportProgress,responseType:Zt.responseType,withCredentials:Zt.withCredentials}}let Se=(()=>{class Zt{constructor(Ut){this.handler=Ut}request(Ut,gn,yn={}){let jt;if(Ut instanceof Ke)jt=Ut;else{let ti,Vi;ti=yn.headers instanceof ce?yn.headers:new ce(yn.headers),yn.params&&(Vi=yn.params instanceof ve?yn.params:new ve({fromObject:yn.params})),jt=new Ke(Ut,gn,void 0!==yn.body?yn.body:null,{headers:ti,context:yn.context,params:Vi,reportProgress:yn.reportProgress,responseType:yn.responseType||"json",withCredentials:yn.withCredentials})}const Yn=(0,K.of)(jt).pipe((0,J.b)(ti=>this.handler.handle(ti)));if(Ut instanceof Ke||"events"===yn.observe)return Yn;const ai=Yn.pipe((0,X.h)(ti=>ti instanceof Ze));switch(yn.observe||"body"){case"body":switch(jt.responseType){case"arraybuffer":return ai.pipe((0,Z.U)(ti=>{if(null!==ti.body&&!(ti.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ti.body}));case"blob":return ai.pipe((0,Z.U)(ti=>{if(null!==ti.body&&!(ti.body instanceof Blob))throw new Error("Response is not a Blob.");return ti.body}));case"text":return ai.pipe((0,Z.U)(ti=>{if(null!==ti.body&&"string"!=typeof ti.body)throw new Error("Response is not a string.");return ti.body}));default:return ai.pipe((0,Z.U)(ti=>ti.body))}case"response":return ai;default:throw new Error(`Unreachable: unhandled observe type ${yn.observe}}`)}}delete(Ut,gn={}){return this.request("DELETE",Ut,gn)}get(Ut,gn={}){return this.request("GET",Ut,gn)}head(Ut,gn={}){return this.request("HEAD",Ut,gn)}jsonp(Ut,gn){return this.request("JSONP",Ut,{params:(new ve).append(gn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ut,gn={}){return this.request("OPTIONS",Ut,gn)}patch(Ut,gn,yn={}){return this.request("PATCH",Ut,pe(yn,gn))}post(Ut,gn,yn={}){return this.request("POST",Ut,pe(yn,gn))}put(Ut,gn,yn={}){return this.request("PUT",Ut,pe(yn,gn))}}return Zt.\u0275fac=function(Ut){return new(Ut||Zt)(y.LFG(Y))},Zt.\u0275prov=y.Yz7({token:Zt,factory:Zt.\u0275fac}),Zt})();function xe(Zt,_t){return _t(Zt)}function Ae(Zt,_t){return(Ut,gn)=>_t.intercept(Ut,{handle:yn=>Zt(yn,gn)})}const Ne=new y.OlP("HTTP_INTERCEPTORS"),we=new y.OlP("HTTP_INTERCEPTOR_FNS");function Ve(){let Zt=null;return(_t,Ut)=>{var gn;return null===Zt&&(Zt=(null!==(gn=(0,y.f3M)(Ne,{optional:!0}))&&void 0!==gn?gn:[]).reduceRight(Ae,xe)),Zt(_t,Ut)}}let Ie=(()=>{class Zt extends Y{constructor(Ut,gn){super(),this.backend=Ut,this.injector=gn,this.chain=null}handle(Ut){if(null===this.chain){const gn=Array.from(new Set(this.injector.get(we)));this.chain=gn.reduceRight((yn,jt)=>function Te(Zt,_t,Ut){return(gn,yn)=>Ut.runInContext(()=>_t(gn,jt=>Zt(jt,yn)))}(yn,jt,this.injector),xe)}return this.chain(Ut,gn=>this.backend.handle(gn))}}return Zt.\u0275fac=function(Ut){return new(Ut||Zt)(y.LFG(q),y.LFG(y.lqb))},Zt.\u0275prov=y.Yz7({token:Zt,factory:Zt.\u0275fac}),Zt})();const vn=/^\)\]\}',?\n/;let bn=(()=>{class Zt{constructor(Ut){this.xhrFactory=Ut}handle(Ut){if("JSONP"===Ut.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new z.y(gn=>{const yn=this.xhrFactory.build();if(yn.open(Ut.method,Ut.urlWithParams),Ut.withCredentials&&(yn.withCredentials=!0),Ut.headers.forEach((dt,Xt)=>yn.setRequestHeader(dt,Xt.join(","))),Ut.headers.has("Accept")||yn.setRequestHeader("Accept","application/json, text/plain, */*"),!Ut.headers.has("Content-Type")){const dt=Ut.detectContentTypeHeader();null!==dt&&yn.setRequestHeader("Content-Type",dt)}if(Ut.responseType){const dt=Ut.responseType.toLowerCase();yn.responseType="json"!==dt?dt:"text"}const jt=Ut.serializeBody();let Yn=null;const ai=()=>{if(null!==Yn)return Yn;const dt=yn.statusText||"OK",Xt=new ce(yn.getAllResponseHeaders()),hn=function Cn(Zt){return"responseURL"in Zt&&Zt.responseURL?Zt.responseURL:/^X-Request-URL:/m.test(Zt.getAllResponseHeaders())?Zt.getResponseHeader("X-Request-URL"):null}(yn)||Ut.url;return Yn=new ze({headers:Xt,status:yn.status,statusText:dt,url:hn}),Yn},ti=()=>{let{headers:dt,status:Xt,statusText:hn,url:Un}=ai(),Hn=null;204!==Xt&&(Hn=typeof yn.response>"u"?yn.responseText:yn.response),0===Xt&&(Xt=Hn?200:0);let ii=Xt>=200&&Xt<300;if("json"===Ut.responseType&&"string"==typeof Hn){const Pr=Hn;Hn=Hn.replace(vn,"");try{Hn=""!==Hn?JSON.parse(Hn):null}catch(Ki){Hn=Pr,ii&&(ii=!1,Hn={error:Ki,text:Hn})}}ii?(gn.next(new Ze({body:Hn,headers:dt,status:Xt,statusText:hn,url:Un||void 0})),gn.complete()):gn.error(new ge({error:Hn,headers:dt,status:Xt,statusText:hn,url:Un||void 0}))},Vi=dt=>{const{url:Xt}=ai(),hn=new ge({error:dt,status:yn.status||0,statusText:yn.statusText||"Unknown Error",url:Xt||void 0});gn.error(hn)};let er=!1;const At=dt=>{er||(gn.next(ai()),er=!0);let Xt={type:Qe.DownloadProgress,loaded:dt.loaded};dt.lengthComputable&&(Xt.total=dt.total),"text"===Ut.responseType&&yn.responseText&&(Xt.partialText=yn.responseText),gn.next(Xt)},Nt=dt=>{let Xt={type:Qe.UploadProgress,loaded:dt.loaded};dt.lengthComputable&&(Xt.total=dt.total),gn.next(Xt)};return yn.addEventListener("load",ti),yn.addEventListener("error",Vi),yn.addEventListener("timeout",Vi),yn.addEventListener("abort",Vi),Ut.reportProgress&&(yn.addEventListener("progress",At),null!==jt&&yn.upload&&yn.upload.addEventListener("progress",Nt)),yn.send(jt),gn.next({type:Qe.Sent}),()=>{yn.removeEventListener("error",Vi),yn.removeEventListener("abort",Vi),yn.removeEventListener("load",ti),yn.removeEventListener("timeout",Vi),Ut.reportProgress&&(yn.removeEventListener("progress",At),null!==jt&&yn.upload&&yn.upload.removeEventListener("progress",Nt)),yn.readyState!==yn.DONE&&yn.abort()}})}}return Zt.\u0275fac=function(Ut){return new(Ut||Zt)(y.LFG(o.JF))},Zt.\u0275prov=y.Yz7({token:Zt,factory:Zt.\u0275fac}),Zt})();const vi=new y.OlP("XSRF_ENABLED"),Pi=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Or=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ir{}let Fr=(()=>{class Zt{constructor(Ut,gn,yn){this.doc=Ut,this.platform=gn,this.cookieName=yn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ut=this.doc.cookie||"";return Ut!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,o.Mx)(Ut,this.cookieName),this.lastCookieString=Ut),this.lastToken}}return Zt.\u0275fac=function(Ut){return new(Ut||Zt)(y.LFG(o.K0),y.LFG(y.Lbi),y.LFG(Pi))},Zt.\u0275prov=y.Yz7({token:Zt,factory:Zt.\u0275fac}),Zt})();function Qi(Zt,_t){const Ut=Zt.url.toLowerCase();if(!(0,y.f3M)(vi)||"GET"===Zt.method||"HEAD"===Zt.method||Ut.startsWith("http://")||Ut.startsWith("https://"))return _t(Zt);const gn=(0,y.f3M)(ir).getToken(),yn=(0,y.f3M)(Or);return null!=gn&&!Zt.headers.has(yn)&&(Zt=Zt.clone({headers:Zt.headers.set(yn,gn)})),_t(Zt)}var Bn=(()=>((Bn=Bn||{})[Bn.Interceptors=0]="Interceptors",Bn[Bn.LegacyInterceptors=1]="LegacyInterceptors",Bn[Bn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Bn[Bn.NoXsrfProtection=3]="NoXsrfProtection",Bn[Bn.JsonpSupport=4]="JsonpSupport",Bn[Bn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Bn))();function xt(Zt,_t){return{\u0275kind:Zt,\u0275providers:_t}}function Pt(...Zt){const _t=[Se,bn,Ie,{provide:Y,useExisting:Ie},{provide:q,useExisting:bn},{provide:we,useValue:Qi,multi:!0},{provide:vi,useValue:!0},{provide:ir,useClass:Fr}];for(const Ut of Zt)_t.push(...Ut.\u0275providers);return(0,y.MR2)(_t)}const dn=new y.OlP("LEGACY_INTERCEPTOR_FN");let Qn=(()=>{class Zt{}return Zt.\u0275fac=function(Ut){return new(Ut||Zt)},Zt.\u0275mod=y.oAB({type:Zt}),Zt.\u0275inj=y.cJS({providers:[Pt(xt(Bn.LegacyInterceptors,[{provide:dn,useFactory:Ve},{provide:we,useExisting:dn,multi:!0}]))]}),Zt})()},8256:(yt,U,R)=>{"use strict";R.d(U,{QbO:()=>bw,tb:()=>lv,AFp:()=>qm,ip1:()=>Km,CZH:()=>ad,hGG:()=>sE,z2F:()=>ud,sBO:()=>$w,Sil:()=>Dw,_Vd:()=>Xu,EJc:()=>Sw,Xts:()=>da,SBq:()=>Zu,lqb:()=>xl,qLn:()=>Ku,vpe:()=>Va,XFs:()=>Sn,OlP:()=>Ao,zs3:()=>Pl,ZZ4:()=>pf,aQg:()=>gf,soG:()=>ld,YKP:()=>tm,h0i:()=>cu,PXZ:()=>Bw,R0b:()=>pa,FiY:()=>gi,Lbi:()=>_w,g9A:()=>Qm,Qsj:()=>Vv,FYo:()=>Of,JOm:()=>na,tp0:()=>Ni,Rgc:()=>uc,dDg:()=>Lw,eoX:()=>sv,GfV:()=>Rf,s_b:()=>rd,ifc:()=>Un,MMx:()=>Vh,Lck:()=>yb,eFA:()=>cv,G48:()=>zw,Gpc:()=>De,f3M:()=>ai,$WT:()=>di,MR2:()=>Ks,_c5:()=>oE,c2e:()=>ww,zSh:()=>Hd,wAp:()=>Ar,vHH:()=>Xe,lri:()=>rv,rWj:()=>ov,D6c:()=>aE,cg1:()=>Oh,kL8:()=>Tg,dqk:()=>en,Z0I:()=>vi,eJc:()=>Kh,CqO:()=>Rp,QGY:()=>bh,F4k:()=>Op,RDi:()=>Ac,AaK:()=>Ce,qOj:()=>ch,TTD:()=>Lo,_Bn:()=>em,jDz:()=>im,xp6:()=>Hf,uIk:()=>fh,ekj:()=>xh,Suo:()=>Pm,Xpm:()=>vo,lG2:()=>Yr,Yz7:()=>$t,cJS:()=>Cn,oAB:()=>tr,Yjl:()=>ho,Y36:()=>Kl,_UZ:()=>mh,GkF:()=>_h,qZA:()=>Xc,TgZ:()=>Yc,EpF:()=>Ap,n5z:()=>_s,LFG:()=>jt,$8M:()=>Ia,$Z:()=>ep,NdJ:()=>wh,CRH:()=>Mm,oxw:()=>Bp,ALo:()=>ym,lcZ:()=>_m,xi3:()=>bm,Hsn:()=>Vp,F$t:()=>Up,Q6J:()=>ph,s9C:()=>Eh,MGl:()=>Zc,DdM:()=>cm,VKq:()=>dm,HTZ:()=>hm,iGM:()=>Tm,MAs:()=>Ip,KtG:()=>Bt,Jf7:()=>Lf,CHM:()=>Ot,oJD:()=>Ea,P3R:()=>ia,Udp:()=>Th,YNc:()=>Mp,_uU:()=>lg,Oqu:()=>Mh,hij:()=>Jc,AsE:()=>Ih,lnq:()=>Ah,Gf:()=>xm});var o=R(7579),y=R(727),K=R(9751),z=R(8189),J=R(8421),X=R(515),Z=R(3269),Y=R(2076),ce=R(930),ae=R(4482);function re(t,n,...s){if(!0===n)return void t();if(!1===n)return;const d=new ce.Hp({next:()=>{d.unsubscribe(),t()}});return n(...s).subscribe(d)}function le(t){for(let n in t)if(t[n]===le)return n;throw Error("Could not find renamed property on target object.")}function ke(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function Ce(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ce).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function fe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ve=le({__forward_ref__:le});function De(t){return t.__forward_ref__=De,t.toString=function(){return Ce(this())},t}function Be(t){return qe(t)?t():t}function qe(t){return"function"==typeof t&&t.hasOwnProperty(ve)&&t.__forward_ref__===De}function Oe(t){return t&&!!t.\u0275providers}const Me="https://g.co/ng/security#xss";class Xe extends Error{constructor(n,s){super(Ke(n,s)),this.code=n}}function Ke(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}function Qe(t){return"string"==typeof t?t:null==t?"":String(t)}function pe(t,n){throw new Xe(-201,!1)}function En(t,n){null==t&&function tn(t,n,s,d){throw new Error(`ASSERTION ERROR: ${t}`+(null==d?"":` [Expected=> ${s} ${d} ${n} <=Actual]`))}(n,t,null,"!=")}function $t(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Cn(t){return{providers:t.providers||[],imports:t.imports||[]}}function bn(t){return yi(t,Or)||yi(t,Fr)}function vi(t){return null!==bn(t)}function yi(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ji(t){return t&&(t.hasOwnProperty(ir)||t.hasOwnProperty(Qi))?t[ir]:null}const Or=le({\u0275prov:le}),ir=le({\u0275inj:le}),Fr=le({ngInjectableDef:le}),Qi=le({ngInjectorDef:le});var Sn=(()=>((Sn=Sn||{})[Sn.Default=0]="Default",Sn[Sn.Host=1]="Host",Sn[Sn.Self=2]="Self",Sn[Sn.SkipSelf=4]="SkipSelf",Sn[Sn.Optional=8]="Optional",Sn))();let Bn;function Pt(t){const n=Bn;return Bn=t,n}function nt(t,n,s){const d=bn(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&Sn.Optional?null:void 0!==n?n:void pe(Ce(t))}const en=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nn={},Ti="__NG_DI_FLAG__",Qn="ngTempTokenPath",dr="ngTokenPath",Zi=/\n/gm,Zt="\u0275",_t="__source";let Ut;function gn(t){const n=Ut;return Ut=t,n}function yn(t,n=Sn.Default){if(void 0===Ut)throw new Xe(-203,!1);return null===Ut?nt(t,void 0,n):Ut.get(t,n&Sn.Optional?null:void 0,n)}function jt(t,n=Sn.Default){return(function xt(){return Bn}()||yn)(Be(t),n)}function ai(t,n=Sn.Default){return jt(t,ti(n))}function ti(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Vi(t){const n=[];for(let s=0;s<t.length;s++){const d=Be(t[s]);if(Array.isArray(d)){if(0===d.length)throw new Xe(900,!1);let w,x=Sn.Default;for(let $=0;$<d.length;$++){const ee=d[$],he=At(ee);"number"==typeof he?-1===he?w=ee.token:x|=he:w=ee}n.push(jt(w,x))}else n.push(jt(d))}return n}function er(t,n){return t[Ti]=n,t.prototype[Ti]=n,t}function At(t){return t[Ti]}function Xt(t){return{toString:t}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),Un=(()=>{return(t=Un||(Un={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Un;var t})();const Hn={},ii=[],Pr=le({\u0275cmp:le}),Ki=le({\u0275dir:le}),zi=le({\u0275pipe:le}),Gi=le({\u0275mod:le}),Rr=le({\u0275fac:le}),Nr=le({__NG_ELEMENT_ID__:le});let Eo=0;function vo(t){return Xt(()=>{const n=Dr(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Un.Emulated,id:"c"+Eo++,styles:t.styles||ii,_:null,schemas:t.schemas||null,tView:null};no(s);const d=t.dependencies;return s.directiveDefs=We(d,!1),s.pipeDefs=We(d,!0),s})}function kr(t){return nr(t)||Oi(t)}function fr(t){return null!==t}function tr(t){return Xt(()=>({type:t.type,bootstrap:t.bootstrap||ii,declarations:t.declarations||ii,imports:t.imports||ii,exports:t.exports||ii,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function to(t,n){if(null==t)return Hn;const s={};for(const d in t)if(t.hasOwnProperty(d)){let w=t[d],x=w;Array.isArray(w)&&(x=w[1],w=w[0]),s[w]=d,n&&(n[w]=x)}return s}function Yr(t){return Xt(()=>{const n=Dr(t);return no(n),n})}function ho(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function nr(t){return t[Pr]||null}function Oi(t){return t[Ki]||null}function Ei(t){return t[zi]||null}function di(t){const n=nr(t)||Oi(t)||Ei(t);return null!==n&&n.standalone}function Br(t,n){const s=t[Gi]||null;if(!s&&!0===n)throw new Error(`Type ${Ce(t)} does not have '\u0275mod' property.`);return s}function Dr(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ii,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:to(t.inputs,n),outputs:to(t.outputs)}}function no(t){var n;null===(n=t.features)||void 0===n||n.forEach(s=>s(t))}function We(t,n){if(!t)return null;const s=n?Ei:kr;return()=>("function"==typeof t?t():t).map(d=>s(d)).filter(fr)}const tt=0,ht=1,Rt=2,Qt=3,rt=4,Vt=5,Yt=6,mn=7,sn=8,jn=9,oi=10,An=11,gr=12,lr=13,fo=14,Mi=15,Ir=16,mr=17,io=18,ao=19,To=20,Zo=21,jr=22,Ue=1,ot=2,wt=7,Wt=8,Gt=9,cn=10;function Tn(t){return Array.isArray(t)&&"object"==typeof t[Ue]}function Vn(t){return Array.isArray(t)&&!0===t[Ue]}function wn(t){return 0!=(4&t.flags)}function ei(t){return t.componentOffset>-1}function Yi(t){return 1==(1&t.flags)}function _i(t){return!!t.template}function mi(t){return 0!=(256&t[Rt])}function Hr(t,n){return t.hasOwnProperty(Rr)?t[Rr]:null}class Po{constructor(n,s,d){this.previousValue=n,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function Lo(){return wr}function wr(t){return t.type.prototype.ngOnChanges&&(t.setInput=No),$o}function $o(){const t=ko(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===Hn)t.previous=n;else for(let d in n)s[d]=n[d];t.current=null,this.ngOnChanges(n)}}function No(t,n,s,d){const w=this.declaredInputs[s],x=ko(t)||function Xr(t,n){return t[Go]=n}(t,{previous:Hn,current:null}),$=x.current||(x.current={}),ee=x.previous,he=ee[w];$[w]=new Po(he&&he.currentValue,n,ee===Hn),t[d]=n}Lo.ngInherit=!0;const Go="__ngSimpleChanges__";function ko(t){return t[Go]||null}const Zr=function(t,n,s){};function Xi(t){for(;Array.isArray(t);)t=t[tt];return t}function be(t,n){return Xi(n[t])}function Pe(t,n){return Xi(n[t.index])}function ct(t,n){return t.data[n]}function Et(t,n){return t[n]}function Ft(t,n){const s=n[t];return Tn(s)?s:s[tt]}function rn(t){return 64==(64&t[Rt])}function Rn(t,n){return null==n?null:t[n]}function Ii(t){t[io]=0}function ui(t,n){t[Vt]+=n;let s=t,d=t[Qt];for(;null!==d&&(1===n&&1===s[Vt]||-1===n&&0===s[Vt]);)d[Vt]+=n,s=d,d=d[Qt]}const Xn={lFrame:Fs(null),bindingsEnabled:!0};function I(){return Xn.bindingsEnabled}function Q(){return Xn.lFrame.lView}function Ye(){return Xn.lFrame.tView}function Ot(t){return Xn.lFrame.contextLView=t,t[sn]}function Bt(t){return Xn.lFrame.contextLView=null,t}function qt(){let t=$n();for(;null!==t&&64===t.type;)t=t.parent;return t}function $n(){return Xn.lFrame.currentTNode}function Ci(t,n){const s=Xn.lFrame;s.currentTNode=t,s.isParent=n}function pi(){return Xn.lFrame.isParent}function rr(){Xn.lFrame.isParent=!1}function Er(){const t=Xn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function _o(){return Xn.lFrame.bindingIndex}function Fo(){return Xn.lFrame.bindingIndex++}function Do(t){const n=Xn.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function ss(t,n){const s=Xn.lFrame;s.bindingIndex=s.bindingRootIndex=t,os(n)}function os(t){Xn.lFrame.currentDirectiveIndex=t}function Rs(){return Xn.lFrame.currentQueryIndex}function Is(t){Xn.lFrame.currentQueryIndex=t}function ms(t){const n=t[ht];return 2===n.type?n.declTNode:1===n.type?t[Yt]:null}function Ls(t,n,s){if(s&Sn.SkipSelf){let w=n,x=t;for(;!(w=w.parent,null!==w||s&Sn.Host||(w=ms(x),null===w||(x=x[Mi],10&w.type))););if(null===w)return!1;n=w,t=x}const d=Xn.lFrame=is();return d.currentTNode=n,d.lView=t,!0}function ns(t){const n=is(),s=t[ht];Xn.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function is(){const t=Xn.lFrame,n=null===t?null:t.child;return null===n?Fs(t):n}function Fs(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ws(){const t=Xn.lFrame;return Xn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ns=ws;function as(){const t=ws();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ko(){return Xn.lFrame.selectedIndex}function ls(t){Xn.lFrame.selectedIndex=t}function Mo(){const t=Xn.lFrame;return ct(t.tView,t.selectedIndex)}function me(t,n){for(let Re=n.directiveStart,it=n.directiveEnd;Re<it;Re++){const zt=t.data[Re].type.prototype,{ngAfterContentInit:fn,ngAfterContentChecked:On,ngAfterViewInit:Kn,ngAfterViewChecked:Di,ngOnDestroy:Wi}=zt;var s,d,w,x,$,ee,he;fn&&(null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(-Re,fn),On&&((null!==(d=t.contentHooks)&&void 0!==d?d:t.contentHooks=[]).push(Re,On),(null!==(w=t.contentCheckHooks)&&void 0!==w?w:t.contentCheckHooks=[]).push(Re,On)),Kn&&(null!==(x=t.viewHooks)&&void 0!==x?x:t.viewHooks=[]).push(-Re,Kn),Di&&((null!==($=t.viewHooks)&&void 0!==$?$:t.viewHooks=[]).push(Re,Di),(null!==(ee=t.viewCheckHooks)&&void 0!==ee?ee:t.viewCheckHooks=[]).push(Re,Di)),null!=Wi&&(null!==(he=t.destroyHooks)&&void 0!==he?he:t.destroyHooks=[]).push(Re,Wi)}}function Fe(t,n,s){Jt(t,n,3,s)}function ft(t,n,s,d){(3&t[Rt])===s&&Jt(t,n,s,d)}function Tt(t,n){let s=t[Rt];(3&s)===n&&(s&=2047,s+=1,t[Rt]=s)}function Jt(t,n,s,d){const x=null!=d?d:-1,$=n.length-1;let ee=0;for(let he=void 0!==d?65535&t[io]:0;he<$;he++)if("number"==typeof n[he+1]){if(ee=n[he],null!=d&&ee>=d)break}else n[he]<0&&(t[io]+=65536),(ee<x||-1==x)&&(pn(t,s,n,he),t[io]=(4294901760&t[io])+he+2),he++}function pn(t,n,s,d){const w=s[d]<0,x=s[d+1],ee=t[w?-s[d]:s[d]];if(w){if(t[Rt]>>11<t[io]>>16&&(3&t[Rt])===n){t[Rt]+=2048,Zr(4,ee,x);try{x.call(ee)}finally{Zr(5,ee,x)}}}else{Zr(4,ee,x);try{x.call(ee)}finally{Zr(5,ee,x)}}}const Dn=-1;class Jn{constructor(n,s,d){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function _(t,n,s){let d=0;for(;d<s.length;){const w=s[d];if("number"==typeof w){if(0!==w)break;d++;const x=s[d++],$=s[d++],ee=s[d++];t.setAttribute(n,$,ee,x)}else{const x=w,$=s[++d];te(x)?t.setProperty(n,x,$):t.setAttribute(n,x,$),d++}}return d}function F(t){return 3===t||4===t||6===t}function te(t){return 64===t.charCodeAt(0)}function _e(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let d=0;d<n.length;d++){const w=n[d];"number"==typeof w?s=w:0===s||Je(t,s,w,null,-1===s||2===s?n[++d]:null)}}return t}function Je(t,n,s,d,w){let x=0,$=t.length;if(-1===n)$=-1;else for(;x<t.length;){const ee=t[x++];if("number"==typeof ee){if(ee===n){$=-1;break}if(ee>n){$=x-1;break}}}for(;x<t.length;){const ee=t[x];if("number"==typeof ee)break;if(ee===s){if(null===d)return void(null!==w&&(t[x+1]=w));if(d===t[x+1])return void(t[x+2]=w)}x++,null!==d&&x++,null!==w&&x++}-1!==$&&(t.splice($,0,n),x=$+1),t.splice(x++,0,s),null!==d&&t.splice(x++,0,d),null!==w&&t.splice(x++,0,w)}function kt(t){return t!==Dn}function ln(t){return 32767&t}function Ln(t,n){let s=function _n(t){return t>>16}(t),d=n;for(;s>0;)d=d[Mi],s--;return d}let fi=!0;function ji(t){const n=fi;return fi=t,n}const ci=255,bi=5;let Fi=0;const Ui={};function us(t,n){const s=cs(t,n);if(-1!==s)return s;const d=n[ht];d.firstCreatePass&&(t.injectorIndex=n.length,qo(d.data,t),qo(n,null),qo(d.blueprint,null));const w=xo(t,n),x=t.injectorIndex;if(kt(w)){const $=ln(w),ee=Ln(w,n),he=ee[ht].data;for(let Re=0;Re<8;Re++)n[x+Re]=ee[$+Re]|he[$+Re]}return n[x+8]=w,x}function qo(t,n){t.push(0,0,0,0,0,0,0,0,n)}function cs(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function xo(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,d=null,w=n;for(;null!==w;){if(d=fl(w),null===d)return Dn;if(s++,w=w[Mi],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return Dn}function ks(t,n,s){!function mo(t,n,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(Nr)&&(d=s[Nr]),null==d&&(d=s[Nr]=Fi++);const w=d&ci;n.data[t+(w>>bi)]|=1<<w}(t,n,s)}function Cr(t,n,s){if(s&Sn.Optional||void 0!==t)return t;pe()}function oo(t,n,s,d){if(s&Sn.Optional&&void 0===d&&(d=null),!(s&(Sn.Self|Sn.Host))){const w=t[jn],x=Pt(void 0);try{return w?w.get(n,d,s&Sn.Optional):nt(n,d,s&Sn.Optional)}finally{Pt(x)}}return Cr(d,0,s)}function Ho(t,n,s,d=Sn.Default,w){if(null!==t){if(1024&n[Rt]){const $=function sa(t,n,s,d,w){let x=t,$=n;for(;null!==x&&null!==$&&1024&$[Rt]&&!(256&$[Rt]);){const ee=Es(x,$,s,d|Sn.Self,Ui);if(ee!==Ui)return ee;let he=x.parent;if(!he){const Re=$[Zo];if(Re){const it=Re.get(s,Ui,d);if(it!==Ui)return it}he=fl($),$=$[Mi]}x=he}return w}(t,n,s,d,Ui);if($!==Ui)return $}const x=Es(t,n,s,d,Ui);if(x!==Ui)return x}return oo(n,s,d,w)}function Es(t,n,s,d,w){const x=function ga(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Nr)?t[Nr]:void 0;return"number"==typeof n?n>=0?n&ci:va:n}(s);if("function"==typeof x){if(!Ls(n,t,d))return d&Sn.Host?Cr(w,0,d):oo(n,s,d,w);try{const $=x(d);if(null!=$||d&Sn.Optional)return $;pe()}finally{Ns()}}else if("number"==typeof x){let $=null,ee=cs(t,n),he=Dn,Re=d&Sn.Host?n[Ir][Yt]:null;for((-1===ee||d&Sn.SkipSelf)&&(he=-1===ee?xo(t,n):n[ee+8],he!==Dn&&Ha(d,!1)?($=n[ht],ee=ln(he),n=Ln(he,n)):ee=-1);-1!==ee;){const it=n[ht];if(ma(x,ee,it.data)){const vt=$s(ee,n,s,$,d,Re);if(vt!==Ui)return vt}he=n[ee+8],he!==Dn&&Ha(d,n[ht].data[ee+8]===Re)&&ma(x,ee,n)?($=it,ee=ln(he),n=Ln(he,n)):ee=-1}}return w}function $s(t,n,s,d,w,x){const $=n[ht],ee=$.data[t+8],it=qs(ee,$,s,null==d?ei(ee)&&fi:d!=$&&0!=(3&ee.type),w&Sn.Host&&x===ee);return null!==it?Ss(n,$,it,ee):Ui}function qs(t,n,s,d,w){const x=t.providerIndexes,$=n.data,ee=1048575&x,he=t.directiveStart,it=x>>20,zt=w?ee+it:t.directiveEnd;for(let fn=d?ee:ee+it;fn<zt;fn++){const On=$[fn];if(fn<he&&s===On||fn>=he&&On.type===s)return fn}if(w){const fn=$[he];if(fn&&_i(fn)&&fn.type===s)return he}return null}function Ss(t,n,s,d){let w=t[s];const x=n.data;if(function Si(t){return t instanceof Jn}(w)){const $=w;$.resolving&&function ze(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${t}${s}`)}(function ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Qe(t)}(x[s]));const ee=ji($.canSeeViewProviders);$.resolving=!0;const he=$.injectImpl?Pt($.injectImpl):null;Ls(t,d,Sn.Default);try{w=t[s]=$.factory(void 0,x,t,d),n.firstCreatePass&&s>=d.directiveStart&&function W(t,n,s){const{ngOnChanges:d,ngOnInit:w,ngDoCheck:x}=n.type.prototype;if(d){var $,ee;const vt=wr(n);(null!==($=s.preOrderHooks)&&void 0!==$?$:s.preOrderHooks=[]).push(t,vt),(null!==(ee=s.preOrderCheckHooks)&&void 0!==ee?ee:s.preOrderCheckHooks=[]).push(t,vt)}var he,Re,it;w&&(null!==(he=s.preOrderHooks)&&void 0!==he?he:s.preOrderHooks=[]).push(0-t,w),x&&((null!==(Re=s.preOrderHooks)&&void 0!==Re?Re:s.preOrderHooks=[]).push(t,x),(null!==(it=s.preOrderCheckHooks)&&void 0!==it?it:s.preOrderCheckHooks=[]).push(t,x))}(s,x[s],n)}finally{null!==he&&Pt(he),ji(ee),$.resolving=!1,Ns()}}return w}function ma(t,n,s){return!!(s[n+(t>>bi)]&1<<t)}function Ha(t,n){return!(t&Sn.Self||t&Sn.Host&&n)}class Gs{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,d){return Ho(this._tNode,this._lView,n,ti(d),s)}}function va(){return new Gs(qt(),Q())}function _s(t){return Xt(()=>{const n=t.prototype.constructor,s=n[Rr]||Ma(n),d=Object.prototype;let w=Object.getPrototypeOf(t.prototype).constructor;for(;w&&w!==d;){const x=w[Rr]||Ma(w);if(x&&x!==s)return x;w=Object.getPrototypeOf(w)}return x=>new x})}function Ma(t){return qe(t)?()=>{const n=Ma(Be(t));return n&&n()}:Hr(t)}function fl(t){const n=t[ht],s=n.type;return 2===s?n.declTNode:1===s?t[Yt]:null}function Ia(t){return function zs(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const d=s.length;let w=0;for(;w<d;){const x=s[w];if(F(x))break;if(0===x)w+=2;else if("number"==typeof x)for(w++;w<d&&"string"==typeof s[w];)w++;else{if(x===n)return s[w+1];w+=2}}}return null}(qt(),t)}const ar="__parameters__";function Qs(t,n,s){return Xt(()=>{const d=function za(t){return function(...s){if(t){const d=t(...s);for(const w in d)this[w]=d[w]}}}(n);function w(...x){if(this instanceof w)return d.apply(this,x),this;const $=new w(...x);return ee.annotation=$,ee;function ee(he,Re,it){const vt=he.hasOwnProperty(ar)?he[ar]:Object.defineProperty(he,ar,{value:[]})[ar];for(;vt.length<=it;)vt.push(null);return(vt[it]=vt[it]||[]).push($),he}}return s&&(w.prototype=Object.create(s.prototype)),w.prototype.ngMetadataName=t,w.annotationCls=w,w})}class Ao{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=$t({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function f(t,n){t.forEach(s=>Array.isArray(s)?f(s,n):n(s))}function c(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function g(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function S(t,n){const s=[];for(let d=0;d<t;d++)s.push(n);return s}function m(t,n,s){let d=j(t,n);return d>=0?t[1|d]=s:(d=~d,function p(t,n,s,d){let w=t.length;if(w==n)t.push(s,d);else if(1===w)t.push(d,t[0]),t[0]=s;else{for(w--,t.push(t[w-1],t[w]);w>n;)t[w]=t[w-2],w--;t[n]=s,t[n+1]=d}}(t,d,n,s)),d}function A(t,n){const s=j(t,n);if(s>=0)return t[1|s]}function j(t,n){return function de(t,n,s){let d=0,w=t.length>>s;for(;w!==d;){const x=d+(w-d>>1),$=t[x<<s];if(n===$)return x<<s;$>n?w=x:d=x+1}return~(w<<s)}(t,n,1)}const gi=er(Qs("Optional"),8),Ni=er(Qs("SkipSelf"),4);var na=(()=>((na=na||{})[na.Important=1]="Important",na[na.DashCase=2]="DashCase",na))();const Ll=new Map;let _c=0;const Fl="__ngContext__";function bs(t,n){Tn(n)?(t[Fl]=n[To],function bc(t){Ll.set(t[To],t)}(n)):t[Fl]=n}let Wa;function Cu(t,n){return Wa(t,n)}function El(t){const n=t[Qt];return Vn(n)?n[Qt]:n}function xu(t){return Dc(t[lr])}function Pu(t){return Dc(t[rt])}function Dc(t){for(;null!==t&&!Vn(t);)t=t[rt];return t}function Ws(t,n,s,d,w){if(null!=d){let x,$=!1;Vn(d)?x=d:Tn(d)&&($=!0,d=d[tt]);const ee=Xi(d);0===t&&null!==s?null==w?Pd(n,s,ee):nl(n,s,ee,w||null,!0):1===t&&null!==s?nl(n,s,ee,w||null,!0):2===t?function Sl(t,n,s){const d=Lu(t,n);d&&function wf(t,n,s,d){t.removeChild(n,s,d)}(t,d,n,s)}(n,ee,$):3===t&&n.destroyNode(ee),null!=x&&function Rd(t,n,s,d,w){const x=s[wt];x!==Xi(s)&&Ws(n,t,d,x,w);for(let ee=cn;ee<s.length;ee++){const he=s[ee];Cl(he[ht],he,t,n,d,x)}}(n,t,x,s,w)}}function Bl(t,n,s){return t.createElement(n,s)}function xc(t,n){const s=t[Gt],d=s.indexOf(n),w=n[Qt];512&n[Rt]&&(n[Rt]&=-513,ui(w,-1)),s.splice(d,1)}function Ou(t,n){if(t.length<=cn)return;const s=cn+n,d=t[s];if(d){const w=d[mr];null!==w&&w!==t&&xc(w,d),n>0&&(t[s-1][rt]=d[rt]);const x=g(t,cn+n);!function Iu(t,n){Cl(t,n,n[An],2,null,null),n[tt]=null,n[Yt]=null}(d[ht],d);const $=x[ao];null!==$&&$.detachView(x[ht]),d[Qt]=null,d[rt]=null,d[Rt]&=-65}return d}function Pc(t,n){if(!(128&n[Rt])){const s=n[An];s.destroyNode&&Cl(t,n,s,3,null,null),function Cd(t){let n=t[lr];if(!n)return Ru(t[ht],t);for(;n;){let s=null;if(Tn(n))s=n[lr];else{const d=n[cn];d&&(s=d)}if(!s){for(;n&&!n[rt]&&n!==t;)Tn(n)&&Ru(n[ht],n),n=n[Qt];null===n&&(n=t),Tn(n)&&Ru(n[ht],n),s=n&&n[rt]}n=s}}(n)}}function Ru(t,n){if(!(128&n[Rt])){n[Rt]&=-65,n[Rt]|=128,function bf(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let d=0;d<s.length;d+=2){const w=n[s[d]];if(!(w instanceof Jn)){const x=s[d+1];if(Array.isArray(x))for(let $=0;$<x.length;$+=2){const ee=w[x[$]],he=x[$+1];Zr(4,ee,he);try{he.call(ee)}finally{Zr(5,ee,he)}}else{Zr(4,w,x);try{x.call(w)}finally{Zr(5,w,x)}}}}}(t,n),function Dd(t,n){const s=t.cleanup,d=n[mn];let w=-1;if(null!==s)for(let x=0;x<s.length-1;x+=2)if("string"==typeof s[x]){const $=s[x+3];$>=0?d[w=$]():d[w=-$].unsubscribe(),x+=2}else{const $=d[w=s[x+1]];s[x].call($)}if(null!==d){for(let x=w+1;x<d.length;x++)(0,d[x])();n[mn]=null}}(t,n),1===n[ht].type&&n[An].destroy();const s=n[mr];if(null!==s&&Vn(n[Qt])){s!==n[Qt]&&xc(s,n);const d=n[ao];null!==d&&d.detachView(t)}!function yd(t){Ll.delete(t[To])}(n)}}function Td(t,n,s){return function xd(t,n,s){let d=n;for(;null!==d&&40&d.type;)d=(n=d).parent;if(null===d)return s[tt];{const{componentOffset:w}=d;if(w>-1){const{encapsulation:x}=t.data[d.directiveStart+w];if(x===Un.None||x===Un.Emulated)return null}return Pe(d,s)}}(t,n.parent,s)}function nl(t,n,s,d,w){t.insertBefore(n,s,d,w)}function Pd(t,n,s){t.appendChild(n,s)}function Md(t,n,s,d,w){null!==d?nl(t,n,s,d,w):Pd(t,n,s)}function Lu(t,n){return t.parentNode(n)}function Id(t,n,s){return Ya(t,n,s)}let Mc,jl,ju,rl,Ya=function Ad(t,n,s){return 40&t.type?Pe(t,s):null};function Fu(t,n,s,d){const w=Td(t,d,n),x=n[An],ee=Id(d.parent||n[Yt],d,n);if(null!=w)if(Array.isArray(s))for(let he=0;he<s.length;he++)Md(x,w,s[he],ee,!1);else Md(x,w,s,ee,!1);void 0!==Mc&&Mc(x,d,n,s,w)}function Nu(t,n){if(null!==n){const s=n.type;if(3&s)return Pe(n,t);if(4&s)return ku(-1,t[n.index]);if(8&s){const d=n.child;if(null!==d)return Nu(t,d);{const w=t[n.index];return Vn(w)?ku(-1,w):Xi(w)}}if(32&s)return Cu(n,t)()||Xi(t[n.index]);{const d=Ul(t,n);return null!==d?Array.isArray(d)?d[0]:Nu(El(t[Ir]),d):Nu(t,n.next)}}return null}function Ul(t,n){return null!==n?t[Ir][Yt].projection[n.projection]:null}function ku(t,n){const s=cn+t+1;if(s<n.length){const d=n[s],w=d[ht].firstChild;if(null!==w)return Nu(d,w)}return n[wt]}function Bu(t,n,s,d,w,x,$){for(;null!=s;){const ee=d[s.index],he=s.type;if($&&0===n&&(ee&&bs(Xi(ee),d),s.flags|=2),32!=(32&s.flags))if(8&he)Bu(t,n,s.child,d,w,x,!1),Ws(n,t,w,ee,x);else if(32&he){const Re=Cu(s,d);let it;for(;it=Re();)Ws(n,t,w,it,x);Ws(n,t,w,ee,x)}else 16&he?Vl(t,n,d,s,w,x):Ws(n,t,w,ee,x);s=$?s.projectionNext:s.next}}function Cl(t,n,s,d,w,x){Bu(s,d,t.firstChild,n,w,x,!1)}function Vl(t,n,s,d,w,x){const $=s[Ir],he=$[Yt].projection[d.projection];if(Array.isArray(he))for(let Re=0;Re<he.length;Re++)Ws(n,t,w,he[Re],x);else Bu(t,n,he,$[Qt],w,x,!0)}function Ic(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function Hl(t,n,s){const{mergedAttrs:d,classes:w,styles:x}=s;null!==d&&_(t,n,d),null!==w&&Ic(t,n,w),null!==x&&function Fd(t,n,s){t.setAttribute(n,"style",s)}(t,n,x)}function il(t){var n;return(null===(n=function Vu(){if(void 0===jl&&(jl=null,en.trustedTypes))try{jl=en.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return jl}())||void 0===n?void 0:n.createHTML(t))||t}function Ac(t){ju=t}function Ra(){if(void 0===rl&&(rl=null,en.trustedTypes))try{rl=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return rl}function zu(t){var n;return(null===(n=Ra())||void 0===n?void 0:n.createHTML(t))||t}function Rc(t){var n;return(null===(n=Ra())||void 0===n?void 0:n.createScriptURL(t))||t}class Gu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}function La(t){return t instanceof Gu?t.changingThisBreaksApplicationSecurity:t}function Xa(t,n){const s=function Lc(t){return t instanceof Gu&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${Me})`)}return s===n}class e{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(il(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class i{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=il(n),s}}const C=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function T(t){return(t=String(t)).match(C)?t:"unsafe:"+t}function V(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function ue(...t){const n={};for(const s of t)for(const d in s)s.hasOwnProperty(d)&&(n[d]=!0);return n}const Ee=V("area,br,col,hr,img,wbr"),Ge=V("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$e=V("rp,rt"),It=ue(Ee,ue(Ge,V("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ue($e,V("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ue($e,Ge)),on=V("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gn=ue(on,V("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),V("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),or=V("script,style,template");class ri{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,d=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?d=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,d&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let w=this.checkClobberedElement(s,s.nextSibling);if(w){s=w;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!It.hasOwnProperty(s))return this.sanitizedSomething=!0,!or.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const d=n.attributes;for(let w=0;w<d.length;w++){const x=d.item(w),$=x.name,ee=$.toLowerCase();if(!Gn.hasOwnProperty(ee)){this.sanitizedSomething=!0;continue}let he=x.value;on[ee]&&(he=T(he)),this.buf.push(" ",$,'="',po(he),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();It.hasOwnProperty(s)&&!Ee.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(po(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const ni=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uo=/([^\#-~ |!])/g;function po(t){return t.replace(/&/g,"&amp;").replace(ni,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(uo,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qi;function Oo(t){return"content"in t&&function Vo(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var bo=(()=>((bo=bo||{})[bo.NONE=0]="NONE",bo[bo.HTML=1]="HTML",bo[bo.STYLE=2]="STYLE",bo[bo.SCRIPT=3]="SCRIPT",bo[bo.URL=4]="URL",bo[bo.RESOURCE_URL=5]="RESOURCE_URL",bo))();function Ea(t){const n=ca();return n?zu(n.sanitize(bo.HTML,t)||""):Xa(t,"HTML")?zu(La(t)):function pr(t,n){let s=null;try{qi=qi||function r(t){const n=new i(t);return function l(){try{return!!(new window.DOMParser).parseFromString(il(""),"text/html")}catch(t){return!1}}()?new e(n):n}(t);let d=n?String(n):"";s=qi.getInertBodyElement(d);let w=5,x=d;do{if(0===w)throw new Error("Failed to sanitize html because the input is unstable");w--,d=x,x=s.innerHTML,s=qi.getInertBodyElement(d)}while(d!==x);return il((new ri).sanitizeChildren(Oo(s)||s))}finally{if(s){const d=Oo(s)||s;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(function Oc(){return void 0!==ju?ju:typeof document<"u"?document:void 0}(),Qe(t))}function $r(t){const n=ca();return n?n.sanitize(bo.URL,t)||"":Xa(t,"URL")?La(t):T(Qe(t))}function hr(t){const n=ca();if(n)return Rc(n.sanitize(bo.RESOURCE_URL,t)||"");if(Xa(t,"ResourceURL"))return Rc(La(t));throw new Xe(904,!1)}function ia(t,n,s){return function Fa(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?hr:$r}(n,s)(t)}function ca(){const t=Q();return t&&t[gr]}const da=new Ao("ENVIRONMENT_INITIALIZER"),ha=new Ao("INJECTOR",-1),Sa=new Ao("INJECTOR_DEF_TYPES");class Ro{get(n,s=Nn){if(s===Nn){const d=new Error(`NullInjectorError: No provider for ${Ce(n)}!`);throw d.name="NullInjectorError",d}return s}}function Ks(t){return{\u0275providers:t}}function xs(...t){return{\u0275providers:wo(0,t),\u0275fromNgModule:!0}}function wo(t,...n){const s=[],d=new Set;let w;return f(n,x=>{const $=x;Ca($,s,[],d)&&(w||(w=[]),w.push($))}),void 0!==w&&ra(w,s),s}function ra(t,n){for(let s=0;s<t.length;s++){const{providers:w}=t[s];ul(w,x=>{n.push(x)})}}function Ca(t,n,s,d){if(!(t=Be(t)))return!1;let w=null,x=Ji(t);const $=!x&&nr(t);if(x||$){if($&&!$.standalone)return!1;w=t}else{const he=t.ngModule;if(x=Ji(he),!x)return!1;w=he}const ee=d.has(w);if($){if(ee)return!1;if(d.add(w),$.dependencies){const he="function"==typeof $.dependencies?$.dependencies():$.dependencies;for(const Re of he)Ca(Re,n,s,d)}}else{if(!x)return!1;{if(null!=x.imports&&!ee){let Re;d.add(w);try{f(x.imports,it=>{Ca(it,n,s,d)&&(Re||(Re=[]),Re.push(it))})}finally{}void 0!==Re&&ra(Re,n)}if(!ee){const Re=Hr(w)||(()=>new w);n.push({provide:w,useFactory:Re,deps:ii},{provide:Sa,useValue:w,multi:!0},{provide:da,useValue:()=>jt(w),multi:!0})}const he=x.providers;null==he||ee||ul(he,it=>{n.push(it)})}}return w!==t&&void 0!==t.providers}function ul(t,n){for(let s of t)Oe(s)&&(s=s.\u0275providers),Array.isArray(s)?ul(s,n):n(s)}const Gl=le({provide:String,useValue:le});function cl(t){return null!==t&&"object"==typeof t&&Gl in t}function Tl(t){return"function"==typeof t}const Hd=new Ao("Set Injector scope."),Fc={},Mv={};let jd;function Nc(){return void 0===jd&&(jd=new Ro),jd}class xl{}class Pf extends xl{get destroyed(){return this._destroyed}constructor(n,s,d,w){super(),this.parent=s,this.source=d,this.scopes=w,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$d(n,$=>this.processProvider($)),this.records.set(ha,Wl(void 0,this)),w.has("environment")&&this.records.set(xl,Wl(void 0,this));const x=this.records.get(Hd);null!=x&&"string"==typeof x.value&&this.scopes.add(x.value),this.injectorDefTypes=new Set(this.get(Sa.multi,ii,Sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const s=gn(this),d=Pt(void 0);try{return n()}finally{gn(s),Pt(d)}}get(n,s=Nn,d=Sn.Default){this.assertNotDestroyed(),d=ti(d);const w=gn(this),x=Pt(void 0);try{if(!(d&Sn.SkipSelf)){let ee=this.records.get(n);if(void 0===ee){const he=function Lv(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ao}(n)&&bn(n);ee=he&&this.injectableDefInScope(he)?Wl(zd(n),Fc):null,this.records.set(n,ee)}if(null!=ee)return this.hydrate(n,ee)}return(d&Sn.Self?Nc():this.parent).get(n,s=d&Sn.Optional&&s===Nn?null:s)}catch($){if("NullInjectorError"===$.name){if(($[Qn]=$[Qn]||[]).unshift(Ce(n)),w)throw $;return function Nt(t,n,s,d){const w=t[Qn];throw n[_t]&&w.unshift(n[_t]),t.message=function dt(t,n,s,d=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Zt?t.slice(2):t;let w=Ce(n);if(Array.isArray(n))w=n.map(Ce).join(" -> ");else if("object"==typeof n){let x=[];for(let $ in n)if(n.hasOwnProperty($)){let ee=n[$];x.push($+":"+("string"==typeof ee?JSON.stringify(ee):Ce(ee)))}w=`{${x.join(", ")}}`}return`${s}${d?"("+d+")":""}[${w}]: ${t.replace(Zi,"\n  ")}`}("\n"+t.message,w,s,d),t[dr]=w,t[Qn]=null,t}($,n,"R3InjectorError",this.source)}throw $}finally{Pt(x),gn(w)}}resolveInjectorInitializers(){const n=gn(this),s=Pt(void 0);try{const d=this.get(da.multi,ii,Sn.Self);for(const w of d)w()}finally{gn(n),Pt(s)}}toString(){const n=[],s=this.records;for(const d of s.keys())n.push(Ce(d));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(n){let s=Tl(n=Be(n))?n:Be(n&&n.provide);const d=function Av(t){return cl(t)?Wl(void 0,t.useValue):Wl(Mf(t),Fc)}(n);if(Tl(n)||!0!==n.multi)this.records.get(s);else{let w=this.records.get(s);w||(w=Wl(void 0,Fc,!0),w.factory=()=>Vi(w.multi),this.records.set(s,w)),s=n,w.multi.push(n)}this.records.set(s,d)}hydrate(n,s){return s.value===Fc&&(s.value=Mv,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Rv(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Be(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function zd(t){const n=bn(t),s=null!==n?n.factory:Hr(t);if(null!==s)return s;if(t instanceof Ao)throw new Xe(204,!1);if(t instanceof Function)return function Iv(t){const n=t.length;if(n>0)throw S(n,"?"),new Xe(204,!1);const s=function Pi(t){return t&&(t[Or]||t[Fr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Xe(204,!1)}function Mf(t,n,s){let d;if(Tl(t)){const w=Be(t);return Hr(w)||zd(w)}if(cl(t))d=()=>Be(t.useValue);else if(function xf(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...Vi(t.deps||[]));else if(function Yu(t){return!(!t||!t.useExisting)}(t))d=()=>jt(Be(t.useExisting));else{const w=Be(t&&(t.useClass||t.provide));if(!function Ov(t){return!!t.deps}(t))return Hr(w)||zd(w);d=()=>new w(...Vi(t.deps))}return d}function Wl(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function $d(t,n){for(const s of t)Array.isArray(s)?$d(s,n):s&&Oe(s)?$d(s.\u0275providers,n):n(s)}class Fv{}class If{}class kv{resolveComponentFactory(n){throw function Nv(t){const n=Error(`No component factory found for ${Ce(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Xu=(()=>{class t{}return t.NULL=new kv,t})();function Bv(){return Yl(qt(),Q())}function Yl(t,n){return new Zu(Pe(t,n))}let Zu=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Bv,t})();function Uv(t){return t instanceof Zu?t.nativeElement:t}class Of{}let Vv=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Hv(){const t=Q(),s=Ft(qt().index,t);return(Tn(s)?s:t)[An]}(),t})(),jv=(()=>{class t{}return t.\u0275prov=$t({token:t,providedIn:"root",factory:()=>null}),t})();class Rf{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const zv=new Rf("15.2.10"),Gd={},Wd="ngOriginalError";function Yd(t){return t[Wd]}class Ku{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Yd(n);for(;s&&Yd(s);)s=Yd(s);return s||null}}function Lf(t){return t.ownerDocument.defaultView}function Za(t){return t instanceof Function?t():t}function Nf(t,n,s){let d=t.length;for(;;){const w=t.indexOf(n,s);if(-1===w)return w;if(0===w||t.charCodeAt(w-1)<=32){const x=n.length;if(w+x===d||t.charCodeAt(w+x)<=32)return w}s=w+1}}const kf="ng-template";function Qv(t,n,s){let d=0,w=!0;for(;d<t.length;){let x=t[d++];if("string"==typeof x&&w){const $=t[d++];if(s&&"class"===x&&-1!==Nf($.toLowerCase(),n,0))return!0}else{if(1===x){for(;d<t.length&&"string"==typeof(x=t[d++]);)if(x.toLowerCase()===n)return!0;return!1}"number"==typeof x&&(w=!1)}}return!1}function Bf(t){return 4===t.type&&t.value!==kf}function ey(t,n,s){return n===(4!==t.type||s?t.value:kf)}function ty(t,n,s){let d=4;const w=t.attrs||[],x=function ry(t){for(let n=0;n<t.length;n++)if(F(t[n]))return n;return t.length}(w);let $=!1;for(let ee=0;ee<n.length;ee++){const he=n[ee];if("number"!=typeof he){if(!$)if(4&d){if(d=2|1&d,""!==he&&!ey(t,he,s)||""===he&&1===n.length){if(Da(d))return!1;$=!0}}else{const Re=8&d?he:n[++ee];if(8&d&&null!==t.attrs){if(!Qv(t.attrs,Re,s)){if(Da(d))return!1;$=!0}continue}const vt=ny(8&d?"class":he,w,Bf(t),s);if(-1===vt){if(Da(d))return!1;$=!0;continue}if(""!==Re){let zt;zt=vt>x?"":w[vt+1].toLowerCase();const fn=8&d?zt:null;if(fn&&-1!==Nf(fn,Re,0)||2&d&&Re!==zt){if(Da(d))return!1;$=!0}}}}else{if(!$&&!Da(d)&&!Da(he))return!1;if($&&Da(he))continue;$=!1,d=he|1&d}}return Da(d)||$}function Da(t){return 0==(1&t)}function ny(t,n,s,d){if(null===n)return-1;let w=0;if(d||!s){let x=!1;for(;w<n.length;){const $=n[w];if($===t)return w;if(3===$||6===$)x=!0;else{if(1===$||2===$){let ee=n[++w];for(;"string"==typeof ee;)ee=n[++w];continue}if(4===$)break;if(0===$){w+=4;continue}}w+=x?1:2}return-1}return function oy(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const d=t[s];if("number"==typeof d)return-1;if(d===n)return s;s++}return-1}(n,t)}function Uf(t,n,s=!1){for(let d=0;d<n.length;d++)if(ty(t,n[d],s))return!0;return!1}function sy(t,n){e:for(let s=0;s<n.length;s++){const d=n[s];if(t.length===d.length){for(let w=0;w<t.length;w++)if(t[w]!==d[w])continue e;return!0}}return!1}function Vf(t,n){return t?":not("+n.trim()+")":n}function ay(t){let n=t[0],s=1,d=2,w="",x=!1;for(;s<t.length;){let $=t[s];if("string"==typeof $)if(2&d){const ee=t[++s];w+="["+$+(ee.length>0?'="'+ee+'"':"")+"]"}else 8&d?w+="."+$:4&d&&(w+=" "+$);else""!==w&&!Da($)&&(n+=Vf(x,w),w=""),d=$,x=x||!Da(d);s++}return""!==w&&(n+=Vf(x,w)),n}const so={};function Hf(t){jf(Ye(),Q(),Ko()+t,!1)}function jf(t,n,s,d){if(!d)if(3==(3&n[Rt])){const x=t.preOrderCheckHooks;null!==x&&Fe(n,x,s)}else{const x=t.preOrderHooks;null!==x&&ft(n,x,0,s)}ls(s)}function Wf(t,n=null,s=null,d){const w=Yf(t,n,s,d);return w.resolveInjectorInitializers(),w}function Yf(t,n=null,s=null,d,w=new Set){const x=[s||ii,xs(t)];return d=d||("object"==typeof t?void 0:Ce(t)),new Pf(x,n||Nc(),d||null,w)}let Pl=(()=>{class t{static create(s,d){if(Array.isArray(s))return Wf({name:""},d,s,"");{var w;const x=null!==(w=s.name)&&void 0!==w?w:"";return Wf({name:x},s.parent,s.providers,x)}}}return t.THROW_IF_NOT_FOUND=Nn,t.NULL=new Ro,t.\u0275prov=$t({token:t,providedIn:"any",factory:()=>jt(ha)}),t.__NG_ELEMENT_ID__=-1,t})();function Kl(t,n=Sn.Default){const s=Q();return null===s?jt(t,n):Ho(qt(),s,Be(t),n)}function ep(){throw new Error("invalid")}function tp(t,n){const s=t.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const x=s[d+1];if(-1!==x){const $=t.data[x];Is(s[d]),$.contentQueries(2,n[x],x)}}}function Bc(t,n,s,d,w,x,$,ee,he,Re,it){const vt=n.blueprint.slice();return vt[tt]=w,vt[Rt]=76|d,(null!==it||t&&1024&t[Rt])&&(vt[Rt]|=1024),Ii(vt),vt[Qt]=vt[Mi]=t,vt[sn]=s,vt[oi]=$||t&&t[oi],vt[An]=ee||t&&t[An],vt[gr]=he||t&&t[gr]||null,vt[jn]=Re||t&&t[jn]||null,vt[Yt]=x,vt[To]=function bu(){return _c++}(),vt[Zo]=it,vt[Ir]=2==n.type?t[Ir]:vt,vt}function ql(t,n,s,d,w){let x=t.data[n];if(null===x)x=function Jd(t,n,s,d,w){const x=$n(),$=pi(),he=t.data[n]=function Ry(t,n,s,d,w,x){return{type:s,index:d,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:w,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,$?x:x&&x.parent,s,n,d,w);return null===t.firstChild&&(t.firstChild=he),null!==x&&($?null==x.child&&null!==he.parent&&(x.child=he):null===x.next&&(x.next=he,he.prev=x)),he}(t,n,s,d,w),function fs(){return Xn.lFrame.inI18n}()&&(x.flags|=32);else if(64&x.type){x.type=s,x.value=d,x.attrs=w;const $=function hi(){const t=Xn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();x.injectorIndex=null===$?-1:$.injectorIndex}return Ci(x,!0),x}function qu(t,n,s,d){if(0===s)return-1;const w=n.length;for(let x=0;x<s;x++)n.push(d),t.blueprint.push(d),t.data.push(null);return w}function Qd(t,n,s){ns(n);try{const d=t.viewQuery;null!==d&&lh(1,d,s);const w=t.template;null!==w&&np(t,n,w,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&tp(t,n),t.staticViewQueries&&lh(2,t.viewQuery,s);const x=t.components;null!==x&&function Iy(t,n){for(let s=0;s<n.length;s++)Qy(t,n[s])}(n,x)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{n[Rt]&=-5,as()}}function Uc(t,n,s,d){const w=n[Rt];if(128!=(128&w)){ns(n);try{Ii(n),function es(t){return Xn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&np(t,n,s,2,d);const $=3==(3&w);if($){const Re=t.preOrderCheckHooks;null!==Re&&Fe(n,Re,null)}else{const Re=t.preOrderHooks;null!==Re&&ft(n,Re,0,null),Tt(n,0)}if(function qy(t){for(let n=xu(t);null!==n;n=Pu(n)){if(!n[ot])continue;const s=n[Gt];for(let d=0;d<s.length;d++){const w=s[d];512&w[Rt]||ui(w[Qt],1),w[Rt]|=512}}}(n),function Ky(t){for(let n=xu(t);null!==n;n=Pu(n))for(let s=cn;s<n.length;s++){const d=n[s],w=d[ht];rn(d)&&Uc(w,d,w.template,d[sn])}}(n),null!==t.contentQueries&&tp(t,n),$){const Re=t.contentCheckHooks;null!==Re&&Fe(n,Re)}else{const Re=t.contentHooks;null!==Re&&ft(n,Re,1),Tt(n,1)}!function Py(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let d=0;d<s.length;d++){const w=s[d];if(w<0)ls(~w);else{const x=w,$=s[++d],ee=s[++d];ss($,x),ee(2,n[x])}}}finally{ls(-1)}}(t,n);const ee=t.components;null!==ee&&function My(t,n){for(let s=0;s<n.length;s++)Jy(t,n[s])}(n,ee);const he=t.viewQuery;if(null!==he&&lh(2,he,d),$){const Re=t.viewCheckHooks;null!==Re&&Fe(n,Re)}else{const Re=t.viewHooks;null!==Re&&ft(n,Re,2),Tt(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Rt]&=-41,512&n[Rt]&&(n[Rt]&=-513,ui(n[Qt],-1))}finally{as()}}}function np(t,n,s,d,w){const x=Ko(),$=2&d;try{ls(-1),$&&n.length>jr&&jf(t,n,jr,!1),Zr($?2:0,w),s(d,w)}finally{ls(x),Zr($?3:1,w)}}function eh(t,n,s){if(wn(n)){const w=n.directiveEnd;for(let x=n.directiveStart;x<w;x++){const $=t.data[x];$.contentQueries&&$.contentQueries(1,s[x],x)}}}function th(t,n,s){I()&&(function Vy(t,n,s,d){const w=s.directiveStart,x=s.directiveEnd;ei(s)&&function Yy(t,n,s){const d=Pe(n,t),w=ip(s),x=t[oi],$=Vc(t,Bc(t,w,null,s.onPush?32:16,d,n,x,x.createRenderer(d,s),null,null,null));t[n.index]=$}(n,s,t.data[w+s.componentOffset]),t.firstCreatePass||us(s,n),bs(d,n);const $=s.initialInputs;for(let ee=w;ee<x;ee++){const he=t.data[ee],Re=Ss(n,t,ee,s);bs(Re,n),null!==$&&Xy(0,ee-w,Re,he,0,$),_i(he)&&(Ft(s.index,n)[sn]=Ss(n,t,ee,s))}}(t,n,s,Pe(s,n)),64==(64&s.flags)&&lp(t,n,s))}function nh(t,n,s=Pe){const d=n.localNames;if(null!==d){let w=n.index+1;for(let x=0;x<d.length;x+=2){const $=d[x+1],ee=-1===$?s(n,t):t[$];t[w++]=ee}}}function ip(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ih(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function ih(t,n,s,d,w,x,$,ee,he,Re){const it=jr+d,vt=it+w,zt=function Ay(t,n){const s=[];for(let d=0;d<n;d++)s.push(d<t?null:so);return s}(it,vt),fn="function"==typeof Re?Re():Re;return zt[ht]={type:t,blueprint:zt,template:s,queries:null,viewQuery:ee,declTNode:n,data:zt.slice().fill(null,it),bindingStartIndex:it,expandoStartIndex:vt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof $?$():$,firstChild:null,schemas:he,consts:fn,incompleteFirstPass:!1}}function rp(t,n,s,d){const w=cp(n);null===s?w.push(d):(w.push(s),t.firstCreatePass&&dp(t).push(d,w.length-1))}function op(t,n,s,d){for(let w in t)if(t.hasOwnProperty(w)){s=null===s?{}:s;const x=t[w];null===d?sp(s,n,w,x):d.hasOwnProperty(w)&&sp(s,n,d[w],x)}return s}function sp(t,n,s,d){t.hasOwnProperty(s)?t[s].push(n,d):t[s]=[n,d]}function oa(t,n,s,d,w,x,$,ee){const he=Pe(n,s);let it,Re=n.inputs;!ee&&null!=Re&&(it=Re[d])?(uh(t,s,it,d,w),ei(n)&&function Ny(t,n){const s=Ft(n,t);16&s[Rt]||(s[Rt]|=32)}(s,n.index)):3&n.type&&(d=function Fy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),w=null!=$?$(w,n.value||"",d):w,x.setProperty(he,d,w))}function rh(t,n,s,d){if(I()){const w=null===d?null:{"":-1},x=function jy(t,n){const s=t.directiveRegistry;let d=null,w=null;if(s)for(let $=0;$<s.length;$++){const ee=s[$];if(Uf(n,ee.selectors,!1))if(d||(d=[]),_i(ee))if(null!==ee.findHostDirectiveDefs){const he=[];w=w||new Map,ee.findHostDirectiveDefs(ee,he,w),d.unshift(...he,ee),oh(t,n,he.length)}else d.unshift(ee),oh(t,n,0);else{var x;w=w||new Map,null===(x=ee.findHostDirectiveDefs)||void 0===x||x.call(ee,ee,d,w),d.push(ee)}}return null===d?null:[d,w]}(t,s);let $,ee;null===x?$=ee=null:[$,ee]=x,null!==$&&ap(t,n,s,$,w,ee),w&&function zy(t,n,s){if(n){const d=t.localNames=[];for(let w=0;w<n.length;w+=2){const x=s[n[w+1]];if(null==x)throw new Xe(-301,!1);d.push(n[w],x)}}}(s,d,w)}s.mergedAttrs=_e(s.mergedAttrs,s.attrs)}function ap(t,n,s,d,w,x){for(let vt=0;vt<d.length;vt++)ks(us(s,n),t,d[vt].type);!function Gy(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,d.length);for(let vt=0;vt<d.length;vt++){const zt=d[vt];zt.providersResolver&&zt.providersResolver(zt)}let $=!1,ee=!1,he=qu(t,n,d.length,null);for(let vt=0;vt<d.length;vt++){const zt=d[vt];s.mergedAttrs=_e(s.mergedAttrs,zt.hostAttrs),Wy(t,s,n,he,zt),$y(he,zt,w),null!==zt.contentQueries&&(s.flags|=4),(null!==zt.hostBindings||null!==zt.hostAttrs||0!==zt.hostVars)&&(s.flags|=64);const fn=zt.type.prototype;var Re,it;!$&&(fn.ngOnChanges||fn.ngOnInit||fn.ngDoCheck)&&((null!==(Re=t.preOrderHooks)&&void 0!==Re?Re:t.preOrderHooks=[]).push(s.index),$=!0),ee||!fn.ngOnChanges&&!fn.ngDoCheck||((null!==(it=t.preOrderCheckHooks)&&void 0!==it?it:t.preOrderCheckHooks=[]).push(s.index),ee=!0),he++}!function Ly(t,n,s){const w=n.directiveEnd,x=t.data,$=n.attrs,ee=[];let he=null,Re=null;for(let it=n.directiveStart;it<w;it++){const vt=x[it],zt=s?s.get(vt):null,On=zt?zt.outputs:null;he=op(vt.inputs,it,he,zt?zt.inputs:null),Re=op(vt.outputs,it,Re,On);const Kn=null===he||null===$||Bf(n)?null:Zy(he,it,$);ee.push(Kn)}null!==he&&(he.hasOwnProperty("class")&&(n.flags|=8),he.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=ee,n.inputs=he,n.outputs=Re}(t,s,x)}function lp(t,n,s){const d=s.directiveStart,w=s.directiveEnd,x=s.index,$=function Ps(){return Xn.lFrame.currentDirectiveIndex}();try{ls(x);for(let ee=d;ee<w;ee++){const he=t.data[ee],Re=n[ee];os(ee),(null!==he.hostBindings||0!==he.hostVars||null!==he.hostAttrs)&&Hy(he,Re)}}finally{ls(-1),os($)}}function Hy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function oh(t,n,s){var d;n.componentOffset=s,(null!==(d=t.components)&&void 0!==d?d:t.components=[]).push(n.index)}function $y(t,n,s){if(s){if(n.exportAs)for(let d=0;d<n.exportAs.length;d++)s[n.exportAs[d]]=t;_i(n)&&(s[""]=t)}}function Wy(t,n,s,d,w){t.data[d]=w;const x=w.factory||(w.factory=Hr(w.type)),$=new Jn(x,_i(w),Kl);t.blueprint[d]=$,s[d]=$,function By(t,n,s,d,w){const x=w.hostBindings;if(x){let $=t.hostBindingOpCodes;null===$&&($=t.hostBindingOpCodes=[]);const ee=~n.index;(function Uy(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})($)!=ee&&$.push(ee),$.push(s,d,x)}}(t,n,d,qu(t,s,w.hostVars,so),w)}function Na(t,n,s,d,w,x){const $=Pe(t,n);!function sh(t,n,s,d,w,x,$){if(null==x)t.removeAttribute(n,w,s);else{const ee=null==$?Qe(x):$(x,d||"",w);t.setAttribute(n,w,ee,s)}}(n[An],$,x,t.value,s,d,w)}function Xy(t,n,s,d,w,x){const $=x[n];if(null!==$){const ee=d.setInput;for(let he=0;he<$.length;){const Re=$[he++],it=$[he++],vt=$[he++];null!==ee?d.setInput(s,vt,Re,it):s[it]=vt}}}function Zy(t,n,s){let d=null,w=0;for(;w<s.length;){const x=s[w];if(0!==x)if(5!==x){if("number"==typeof x)break;if(t.hasOwnProperty(x)){null===d&&(d=[]);const $=t[x];for(let ee=0;ee<$.length;ee+=2)if($[ee]===n){d.push(x,$[ee+1],s[w+1]);break}}w+=2}else w+=2;else w+=4}return d}function up(t,n,s,d){return[t,!0,!1,n,null,0,d,s,null,null]}function Jy(t,n){const s=Ft(n,t);if(rn(s)){const d=s[ht];48&s[Rt]?Uc(d,s,d.template,s[sn]):s[Vt]>0&&ah(s)}}function ah(t){for(let d=xu(t);null!==d;d=Pu(d))for(let w=cn;w<d.length;w++){const x=d[w];if(rn(x))if(512&x[Rt]){const $=x[ht];Uc($,x,$.template,x[sn])}else x[Vt]>0&&ah(x)}const s=t[ht].components;if(null!==s)for(let d=0;d<s.length;d++){const w=Ft(s[d],t);rn(w)&&w[Vt]>0&&ah(w)}}function Qy(t,n){const s=Ft(n,t),d=s[ht];(function e_(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(d,s),Qd(d,s,s[sn])}function Vc(t,n){return t[lr]?t[fo][rt]=n:t[lr]=n,t[fo]=n,n}function Hc(t){for(;t;){t[Rt]|=32;const n=El(t);if(mi(t)&&!n)return t;t=n}return null}function jc(t,n,s,d=!0){const w=n[oi];w.begin&&w.begin();try{Uc(t,n,t.template,s)}catch($){throw d&&fp(n,$),$}finally{w.end&&w.end()}}function lh(t,n,s){Is(0),n(t,s)}function cp(t){return t[mn]||(t[mn]=[])}function dp(t){return t.cleanup||(t.cleanup=[])}function fp(t,n){const s=t[jn],d=s?s.get(Ku,null):null;d&&d.handleError(n)}function uh(t,n,s,d,w){for(let x=0;x<s.length;){const $=s[x++],ee=s[x++],he=n[$],Re=t.data[$];null!==Re.setInput?Re.setInput(he,w,d,ee):he[ee]=w}}function Ka(t,n,s){const d=be(n,t);!function Mu(t,n,s){t.setValue(n,s)}(t[An],d,s)}function zc(t,n,s){let d=s?t.styles:null,w=s?t.classes:null,x=0;if(null!==n)for(let $=0;$<n.length;$++){const ee=n[$];"number"==typeof ee?x=ee:1==x?w=fe(w,ee):2==x&&(d=fe(d,ee+": "+n[++$]+";"))}s?t.styles=d:t.stylesWithoutHost=d,s?t.classes=w:t.classesWithoutHost=w}function $c(t,n,s,d,w=!1){for(;null!==s;){const x=n[s.index];if(null!==x&&d.push(Xi(x)),Vn(x))for(let ee=cn;ee<x.length;ee++){const he=x[ee],Re=he[ht].firstChild;null!==Re&&$c(he[ht],he,Re,d)}const $=s.type;if(8&$)$c(t,n,s.child,d);else if(32&$){const ee=Cu(s,n);let he;for(;he=ee();)d.push(he)}else if(16&$){const ee=Ul(n,s);if(Array.isArray(ee))d.push(...ee);else{const he=El(n[Ir]);$c(he[ht],he,ee,d,!0)}}s=w?s.projectionNext:s.next}return d}class Ju{get rootNodes(){const n=this._lView,s=n[ht];return $c(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(n){this._lView[sn]=n}get destroyed(){return 128==(128&this._lView[Rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Qt];if(Vn(n)){const s=n[Wt],d=s?s.indexOf(this):-1;d>-1&&(Ou(n,d),g(s,d))}this._attachedToViewContainer=!1}Pc(this._lView[ht],this._lView)}onDestroy(n){rp(this._lView[ht],this._lView,null,n)}markForCheck(){Hc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rt]&=-65}reattach(){this._lView[Rt]|=64}detectChanges(){jc(this._lView[ht],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sd(t,n){Cl(t,n,n[An],2,null,null)}(this._lView[ht],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=n}}class t_ extends Ju{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;jc(n[ht],n,n[sn],!1)}checkNoChanges(){}get context(){return null}}class pp extends Xu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=nr(n);return new Qu(s,this.ngModule)}}function gp(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class i_{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,d){d=ti(d);const w=this.injector.get(n,Gd,d);return w!==Gd||s===Gd?w:this.parentInjector.get(n,s,d)}}class Qu extends If{get inputs(){return gp(this.componentDef.inputs)}get outputs(){return gp(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function ly(t){return t.map(ay).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,d,w){var x;let $=(w=w||this.ngModule)instanceof xl?w:null===(x=w)||void 0===x?void 0:x.injector;$&&null!==this.componentDef.getStandaloneInjector&&($=this.componentDef.getStandaloneInjector($)||$);const ee=$?new i_(n,$):n,he=ee.get(Of,null);if(null===he)throw new Xe(407,!1);const Re=ee.get(jv,null),it=he.createRenderer(null,this.componentDef),vt=this.componentDef.selectors[0][0]||"div",zt=d?function Oy(t,n,s){return t.selectRootElement(n,s===Un.ShadowDom)}(it,d,this.componentDef.encapsulation):Bl(it,vt,function n_(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(vt)),fn=this.componentDef.onPush?288:272,On=ih(0,null,null,1,0,null,null,null,null,null),Kn=Bc(null,On,null,fn,null,null,he,it,Re,ee,null);let Di,Wi;ns(Kn);try{const _r=this.componentDef;let Zn,Kr=null;_r.findHostDirectiveDefs?(Zn=[],Kr=new Map,_r.findHostDirectiveDefs(_r,Zn,Kr),Zn.push(_r)):Zn=[_r];const Jo=function o_(t,n){const s=t[ht],d=jr;return t[d]=n,ql(s,d,2,"#host",null)}(Kn,zt),hs=function s_(t,n,s,d,w,x,$,ee){const he=w[ht];!function a_(t,n,s,d){for(const w of t)n.mergedAttrs=_e(n.mergedAttrs,w.hostAttrs);null!==n.mergedAttrs&&(zc(n,n.mergedAttrs,!0),null!==s&&Hl(d,s,n))}(d,t,n,$);const Re=x.createRenderer(n,s),it=Bc(w,ip(s),null,s.onPush?32:16,w[t.index],t,x,Re,ee||null,null,null);return he.firstCreatePass&&oh(he,t,d.length-1),Vc(w,it),w[t.index]=it}(Jo,zt,_r,Zn,Kn,he,it);Wi=ct(On,jr),zt&&function u_(t,n,s,d){if(d)_(t,s,["ng-version",zv.full]);else{const{attrs:w,classes:x}=function uy(t){const n=[],s=[];let d=1,w=2;for(;d<t.length;){let x=t[d];if("string"==typeof x)2===w?""!==x&&n.push(x,t[++d]):8===w&&s.push(x);else{if(!Da(w))break;w=x}d++}return{attrs:n,classes:s}}(n.selectors[0]);w&&_(t,s,w),x&&x.length>0&&Ic(t,s,x.join(" "))}}(it,_r,zt,d),void 0!==s&&function c_(t,n,s){const d=t.projection=[];for(let w=0;w<n.length;w++){const x=s[w];d.push(null!=x?Array.from(x):null)}}(Wi,this.ngContentSelectors,s),Di=function l_(t,n,s,d,w,x){const $=qt(),ee=w[ht],he=Pe($,w);ap(ee,w,$,s,null,d);for(let it=0;it<s.length;it++)bs(Ss(w,ee,$.directiveStart+it,$),w);lp(ee,w,$),he&&bs(he,w);const Re=Ss(w,ee,$.directiveStart+$.componentOffset,$);if(t[sn]=w[sn]=Re,null!==x)for(const it of x)it(Re,n);return eh(ee,$,t),Re}(hs,_r,Zn,Kr,Kn,[d_]),Qd(On,Kn,null)}finally{as()}return new r_(this.componentType,Di,Yl(Wi,Kn),Kn,Wi)}}class r_ extends Fv{constructor(n,s,d,w,x){super(),this.location=d,this._rootLView=w,this._tNode=x,this.instance=s,this.hostView=this.changeDetectorRef=new t_(w),this.componentType=n}setInput(n,s){const d=this._tNode.inputs;let w;if(null!==d&&(w=d[n])){const x=this._rootLView;uh(x[ht],x,w,n,s),Hc(Ft(this._tNode.index,x))}}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function d_(){const t=qt();me(Q()[ht],t)}function ch(t){let n=function mp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const d=[t];for(;n;){let w;if(_i(t))w=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Xe(903,!1);w=n.\u0275dir}if(w){if(s){d.push(w);const $=t;$.inputs=dh(t.inputs),$.declaredInputs=dh(t.declaredInputs),$.outputs=dh(t.outputs);const ee=w.hostBindings;ee&&g_(t,ee);const he=w.viewQuery,Re=w.contentQueries;if(he&&f_(t,he),Re&&p_(t,Re),ke(t.inputs,w.inputs),ke(t.declaredInputs,w.declaredInputs),ke(t.outputs,w.outputs),_i(w)&&w.data.animation){const it=t.data;it.animation=(it.animation||[]).concat(w.data.animation)}}const x=w.features;if(x)for(let $=0;$<x.length;$++){const ee=x[$];ee&&ee.ngInherit&&ee(t),ee===ch&&(s=!1)}}n=Object.getPrototypeOf(n)}!function h_(t){let n=0,s=null;for(let d=t.length-1;d>=0;d--){const w=t[d];w.hostVars=n+=w.hostVars,w.hostAttrs=_e(w.hostAttrs,s=_e(s,w.hostAttrs))}}(d)}function dh(t){return t===Hn?{}:t===ii?[]:t}function f_(t,n){const s=t.viewQuery;t.viewQuery=s?(d,w)=>{n(d,w),s(d,w)}:n}function p_(t,n){const s=t.contentQueries;t.contentQueries=s?(d,w,x)=>{n(d,w,x),s(d,w,x)}:n}function g_(t,n){const s=t.hostBindings;t.hostBindings=s?(d,w)=>{n(d,w),s(d,w)}:n}function Gc(t){return!!hh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function hh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ka(t,n,s){return t[n]=s}function ec(t,n){return t[n]}function Hs(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Ml(t,n,s,d){const w=Hs(t,n,s);return Hs(t,n+1,d)||w}function fh(t,n,s,d){const w=Q();return Hs(w,Fo(),n)&&(Ye(),Na(Mo(),w,t,n,s,d)),fh}function Ql(t,n,s,d){return Hs(t,Fo(),s)?n+Qe(s)+d:so}function tu(t,n,s,d,w,x,$,ee){const Re=function Wc(t,n,s,d,w){const x=Ml(t,n,s,d);return Hs(t,n+2,w)||x}(t,_o(),s,w,$);return Do(3),Re?n+Qe(s)+d+Qe(w)+x+Qe($)+ee:so}function Mp(t,n,s,d,w,x,$,ee){const he=Q(),Re=Ye(),it=t+jr,vt=Re.firstCreatePass?function D_(t,n,s,d,w,x,$,ee,he){const Re=n.consts,it=ql(n,t,4,$||null,Rn(Re,ee));rh(n,s,it,Rn(Re,he)),me(n,it);const vt=it.tView=ih(2,it,d,w,x,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Re);return null!==n.queries&&(n.queries.template(n,it),vt.queries=n.queries.embeddedTView(it)),it}(it,Re,he,n,s,d,w,x,$):Re.data[it];Ci(vt,!1);const zt=he[An].createComment("");Fu(Re,he,zt,vt),bs(zt,he),Vc(he,he[it]=up(zt,he,zt,vt)),Yi(vt)&&th(Re,he,vt),null!=$&&nh(he,vt,ee)}function Ip(t){return Et(function li(){return Xn.lFrame.contextLView}(),jr+t)}function ph(t,n,s){const d=Q();return Hs(d,Fo(),n)&&oa(Ye(),Mo(),d,t,n,d[An],s,!1),ph}function gh(t,n,s,d,w){const $=w?"class":"style";uh(t,s,n.inputs[$],$,d)}function Yc(t,n,s,d){const w=Q(),x=Ye(),$=jr+t,ee=w[An],he=x.firstCreatePass?function x_(t,n,s,d,w,x){const $=n.consts,he=ql(n,t,2,d,Rn($,w));return rh(n,s,he,Rn($,x)),null!==he.attrs&&zc(he,he.attrs,!1),null!==he.mergedAttrs&&zc(he,he.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,he),he}($,x,w,n,s,d):x.data[$],Re=w[$]=Bl(ee,n,function P(){return Xn.lFrame.currentNamespace}()),it=Yi(he);return Ci(he,!0),Hl(ee,Re,he),32!=(32&he.flags)&&Fu(x,w,Re,he),0===function M(){return Xn.lFrame.elementDepthCount}()&&bs(Re,w),function N(){Xn.lFrame.elementDepthCount++}(),it&&(th(x,w,he),eh(x,he,w)),null!==d&&nh(w,he),Yc}function Xc(){let t=qt();pi()?rr():(t=t.parent,Ci(t,!1));const n=t;!function h(){Xn.lFrame.elementDepthCount--}();const s=Ye();return s.firstCreatePass&&(me(s,t),wn(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Sr(t){return 0!=(8&t.flags)}(n)&&gh(s,n,Q(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Lr(t){return 0!=(16&t.flags)}(n)&&gh(s,n,Q(),n.stylesWithoutHost,!1),Xc}function mh(t,n,s,d){return Yc(t,n,s,d),Xc(),mh}function vh(t,n,s){const d=Q(),w=Ye(),x=t+jr,$=w.firstCreatePass?function P_(t,n,s,d,w){const x=n.consts,$=Rn(x,d),ee=ql(n,t,8,"ng-container",$);return null!==$&&zc(ee,$,!0),rh(n,s,ee,Rn(x,w)),null!==n.queries&&n.queries.elementStart(n,ee),ee}(x,w,d,n,s):w.data[x];Ci($,!0);const ee=d[x]=d[An].createComment("");return Fu(w,d,ee,$),bs(ee,d),Yi($)&&(th(w,d,$),eh(w,$,d)),null!=s&&nh(d,$),vh}function yh(){let t=qt();const n=Ye();return pi()?rr():(t=t.parent,Ci(t,!1)),n.firstCreatePass&&(me(n,t),wn(t)&&n.queries.elementEnd(t)),yh}function _h(t,n,s){return vh(t,n,s),yh(),_h}function Ap(){return Q()}function bh(t){return!!t&&"function"==typeof t.then}function Op(t){return!!t&&"function"==typeof t.subscribe}const Rp=Op;function wh(t,n,s,d){const w=Q(),x=Ye(),$=qt();return function Fp(t,n,s,d,w,x,$){const ee=Yi(d),Re=t.firstCreatePass&&dp(t),it=n[sn],vt=cp(n);let zt=!0;if(3&d.type||$){const Kn=Pe(d,n),Di=$?$(Kn):Kn,Wi=vt.length,_r=$?Kr=>$(Xi(Kr[d.index])):d.index;let Zn=null;if(!$&&ee&&(Zn=function M_(t,n,s,d){const w=t.cleanup;if(null!=w)for(let x=0;x<w.length-1;x+=2){const $=w[x];if($===s&&w[x+1]===d){const ee=n[mn],he=w[x+2];return ee.length>he?ee[he]:null}"string"==typeof $&&(x+=2)}return null}(t,n,w,d.index)),null!==Zn)(Zn.__ngLastListenerFn__||Zn).__ngNextListenerFn__=x,Zn.__ngLastListenerFn__=x,zt=!1;else{x=kp(d,n,it,x,!1);const Kr=s.listen(Di,w,x);vt.push(x,Kr),Re&&Re.push(w,_r,Wi,Wi+1)}}else x=kp(d,n,it,x,!1);const fn=d.outputs;let On;if(zt&&null!==fn&&(On=fn[w])){const Kn=On.length;if(Kn)for(let Di=0;Di<Kn;Di+=2){const Jo=n[On[Di]][On[Di+1]].subscribe(x),hs=vt.length;vt.push(x,Jo),Re&&Re.push(w,d.index,hs,-(hs+1))}}}(x,w,w[An],$,t,n,d),wh}function Np(t,n,s,d){try{return Zr(6,n,s),!1!==s(d)}catch(w){return fp(t,w),!1}finally{Zr(7,n,s)}}function kp(t,n,s,d,w){return function x($){if($===Function)return d;Hc(t.componentOffset>-1?Ft(t.index,n):n);let he=Np(n,s,d,$),Re=x.__ngNextListenerFn__;for(;Re;)he=Np(n,s,Re,$)&&he,Re=Re.__ngNextListenerFn__;return w&&!1===he&&($.preventDefault(),$.returnValue=!1),he}}function Bp(t=1){return function As(t){return(Xn.lFrame.contextLView=function Os(t,n){for(;t>0;)n=n[Mi],t--;return n}(t,Xn.lFrame.contextLView))[sn]}(t)}function I_(t,n){let s=null;const d=function iy(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(!(1&s))return n[s+1]}return null}(t);for(let w=0;w<n.length;w++){const x=n[w];if("*"!==x){if(null===d?Uf(t,x,!0):sy(d,x))return w}else s=w}return s}function Up(t){const n=Q()[Ir][Yt];if(!n.projection){const d=n.projection=S(t?t.length:1,null),w=d.slice();let x=n.child;for(;null!==x;){const $=t?I_(x,t):0;null!==$&&(w[$]?w[$].projectionNext=x:d[$]=x,w[$]=x),x=x.next}}}function Vp(t,n=0,s){const d=Q(),w=Ye(),x=ql(w,jr+t,16,null,s||null);null===x.projection&&(x.projection=n),rr(),32!=(32&x.flags)&&function Uu(t,n,s){Vl(n[An],0,n,s,Td(t,s,n),Id(s.parent||n[Yt],s,n))}(w,d,x)}function Eh(t,n,s){return Zc(t,"",n,"",s),Eh}function Zc(t,n,s,d,w){const x=Q(),$=Ql(x,n,s,d);return $!==so&&oa(Ye(),Mo(),x,t,$,x[An],w,!1),Zc}function Kc(t,n){return t<<17|n<<2}function dl(t){return t>>17&32767}function Sh(t){return 2|t}function Il(t){return(131068&t)>>2}function Ch(t,n){return-131069&t|n<<2}function Dh(t){return 1|t}function Zp(t,n,s,d,w){const x=t[s+1],$=null===n;let ee=d?dl(x):Il(x),he=!1;for(;0!==ee&&(!1===he||$);){const it=t[ee+1];N_(t[ee],n)&&(he=!0,t[ee+1]=d?Dh(it):Sh(it)),ee=d?dl(it):Il(it)}he&&(t[s+1]=d?Sh(x):Dh(x))}function N_(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&j(t,n)>=0}function Th(t,n,s){return Ta(t,n,s,!1),Th}function xh(t,n){return Ta(t,n,null,!0),xh}function Ta(t,n,s,d){const w=Q(),x=Ye(),$=Do(2);x.firstUpdatePass&&function ig(t,n,s,d){const w=t.data;if(null===w[s+1]){const x=w[Ko()],$=function ng(t,n){return n>=t.expandoStartIndex}(t,s);(function ag(t,n){return 0!=(t.flags&(n?8:16))})(x,d)&&null===n&&!$&&(n=!1),n=function G_(t,n,s,d){const w=function Ms(t){const n=Xn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let x=d?n.residualClasses:n.residualStyles;if(null===w)0===(d?n.classBindings:n.styleBindings)&&(s=tc(s=Ph(null,t,n,s,d),n.attrs,d),x=null);else{const $=n.directiveStylingLast;if(-1===$||t[$]!==w)if(s=Ph(w,t,n,s,d),null===x){let he=function W_(t,n,s){const d=s?n.classBindings:n.styleBindings;if(0!==Il(d))return t[dl(d)]}(t,n,d);void 0!==he&&Array.isArray(he)&&(he=Ph(null,t,n,he[1],d),he=tc(he,n.attrs,d),function Y_(t,n,s,d){t[dl(s?n.classBindings:n.styleBindings)]=d}(t,n,d,he))}else x=function X_(t,n,s){let d;const w=n.directiveEnd;for(let x=1+n.directiveStylingLast;x<w;x++)d=tc(d,t[x].hostAttrs,s);return tc(d,n.attrs,s)}(t,n,d)}return void 0!==x&&(d?n.residualClasses=x:n.residualStyles=x),s}(w,x,n,d),function L_(t,n,s,d,w,x){let $=x?n.classBindings:n.styleBindings,ee=dl($),he=Il($);t[d]=s;let it,Re=!1;if(Array.isArray(s)?(it=s[1],(null===it||j(s,it)>0)&&(Re=!0)):it=s,w)if(0!==he){const zt=dl(t[ee+1]);t[d+1]=Kc(zt,ee),0!==zt&&(t[zt+1]=Ch(t[zt+1],d)),t[ee+1]=function O_(t,n){return 131071&t|n<<17}(t[ee+1],d)}else t[d+1]=Kc(ee,0),0!==ee&&(t[ee+1]=Ch(t[ee+1],d)),ee=d;else t[d+1]=Kc(he,0),0===ee?ee=d:t[he+1]=Ch(t[he+1],d),he=d;Re&&(t[d+1]=Sh(t[d+1])),Zp(t,it,d,!0),Zp(t,it,d,!1),function F_(t,n,s,d,w){const x=w?t.residualClasses:t.residualStyles;null!=x&&"string"==typeof n&&j(x,n)>=0&&(s[d+1]=Dh(s[d+1]))}(n,it,t,d,x),$=Kc(ee,he),x?n.classBindings=$:n.styleBindings=$}(w,x,n,s,$,d)}}(x,t,$,d),n!==so&&Hs(w,$,n)&&function og(t,n,s,d,w,x,$,ee){if(!(3&n.type))return;const he=t.data,Re=he[ee+1],it=function R_(t){return 1==(1&t)}(Re)?sg(he,n,s,w,Il(Re),$):void 0;qc(it)||(qc(x)||function A_(t){return 2==(2&t)}(Re)&&(x=sg(he,null,s,w,ee,$)),function Ld(t,n,s,d,w){if(n)w?t.addClass(s,d):t.removeClass(s,d);else{let x=-1===d.indexOf("-")?void 0:na.DashCase;null==w?t.removeStyle(s,d,x):("string"==typeof w&&w.endsWith("!important")&&(w=w.slice(0,-10),x|=na.Important),t.setStyle(s,d,w,x))}}(d,$,be(Ko(),s),w,x))}(x,x.data[Ko()],w,w[An],t,w[$+1]=function J_(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ce(La(t)))),t}(n,s),d,$)}function Ph(t,n,s,d,w){let x=null;const $=s.directiveEnd;let ee=s.directiveStylingLast;for(-1===ee?ee=s.directiveStart:ee++;ee<$&&(x=n[ee],d=tc(d,x.hostAttrs,w),x!==t);)ee++;return null!==t&&(s.directiveStylingLast=ee),d}function tc(t,n,s){const d=s?1:2;let w=-1;if(null!==n)for(let x=0;x<n.length;x++){const $=n[x];"number"==typeof $?w=$:w===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),m(t,$,!!s||n[++x]))}return void 0===t?null:t}function sg(t,n,s,d,w,x){const $=null===n;let ee;for(;w>0;){const he=t[w],Re=Array.isArray(he),it=Re?he[1]:he,vt=null===it;let zt=s[w+1];zt===so&&(zt=vt?ii:void 0);let fn=vt?A(zt,d):it===d?zt:void 0;if(Re&&!qc(fn)&&(fn=A(he,d)),qc(fn)&&(ee=fn,$))return ee;const On=t[w+1];w=$?dl(On):Il(On)}if(null!==n){let he=x?n.residualClasses:n.residualStyles;null!=he&&(ee=A(he,d))}return ee}function qc(t){return void 0!==t}function lg(t,n=""){const s=Q(),d=Ye(),w=t+jr,x=d.firstCreatePass?ql(d,w,1,n,null):d.data[w],$=s[w]=function kl(t,n){return t.createText(n)}(s[An],n);Fu(d,s,$,x),Ci(x,!1)}function Mh(t){return Jc("",t,""),Mh}function Jc(t,n,s){const d=Q(),w=Ql(d,t,n,s);return w!==so&&Ka(d,Ko(),w),Jc}function Ih(t,n,s,d,w){const x=Q(),$=function eu(t,n,s,d,w,x){const ee=Ml(t,_o(),s,w);return Do(2),ee?n+Qe(s)+d+Qe(w)+x:so}(x,t,n,s,d,w);return $!==so&&Ka(x,Ko(),$),Ih}function Ah(t,n,s,d,w,x,$){const ee=Q(),he=tu(ee,t,n,s,d,w,x,$);return he!==so&&Ka(ee,Ko(),he),Ah}const Al=void 0;var _0=["en",[["a","p"],["AM","PM"],Al],[["AM","PM"],Al,Al],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Al,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Al,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Al,"{1} 'at' {0}",Al],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function y0(t){const s=Math.floor(Math.abs(t)),d=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let lu={};function Oh(t){const n=function b0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=xg(n);if(s)return s;const d=n.split("-")[0];if(s=xg(d),s)return s;if("en"===d)return _0;throw new Xe(701,!1)}function Tg(t){return Oh(t)[Ar.PluralCase]}function xg(t){return t in lu||(lu[t]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[t]),lu[t]}var Ar=(()=>((Ar=Ar||{})[Ar.LocaleId=0]="LocaleId",Ar[Ar.DayPeriodsFormat=1]="DayPeriodsFormat",Ar[Ar.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ar[Ar.DaysFormat=3]="DaysFormat",Ar[Ar.DaysStandalone=4]="DaysStandalone",Ar[Ar.MonthsFormat=5]="MonthsFormat",Ar[Ar.MonthsStandalone=6]="MonthsStandalone",Ar[Ar.Eras=7]="Eras",Ar[Ar.FirstDayOfWeek=8]="FirstDayOfWeek",Ar[Ar.WeekendRange=9]="WeekendRange",Ar[Ar.DateFormat=10]="DateFormat",Ar[Ar.TimeFormat=11]="TimeFormat",Ar[Ar.DateTimeFormat=12]="DateTimeFormat",Ar[Ar.NumberSymbols=13]="NumberSymbols",Ar[Ar.NumberFormats=14]="NumberFormats",Ar[Ar.CurrencyCode=15]="CurrencyCode",Ar[Ar.CurrencySymbol=16]="CurrencySymbol",Ar[Ar.CurrencyName=17]="CurrencyName",Ar[Ar.Currencies=18]="Currencies",Ar[Ar.Directionality=19]="Directionality",Ar[Ar.PluralCase=20]="PluralCase",Ar[Ar.ExtraData=21]="ExtraData",Ar))();const uu="en-US";let Pg=uu;function Fh(t,n,s,d,w){if(t=Be(t),Array.isArray(t))for(let x=0;x<t.length;x++)Fh(t[x],n,s,d,w);else{const x=Ye(),$=Q();let ee=Tl(t)?t:Be(t.provide),he=Mf(t);const Re=qt(),it=1048575&Re.providerIndexes,vt=Re.directiveStart,zt=Re.providerIndexes>>20;if(Tl(t)||!t.multi){const fn=new Jn(he,w,Kl),On=kh(ee,n,w?it:it+zt,vt);-1===On?(ks(us(Re,$),x,ee),Nh(x,t,n.length),n.push(ee),Re.directiveStart++,Re.directiveEnd++,w&&(Re.providerIndexes+=1048576),s.push(fn),$.push(fn)):(s[On]=fn,$[On]=fn)}else{const fn=kh(ee,n,it+zt,vt),On=kh(ee,n,it,it+zt),Di=On>=0&&s[On];if(w&&!Di||!w&&!(fn>=0&&s[fn])){ks(us(Re,$),x,ee);const Wi=function vb(t,n,s,d,w){const x=new Jn(t,s,Kl);return x.multi=[],x.index=n,x.componentProviders=0,Qg(x,w,d&&!s),x}(w?mb:gb,s.length,w,d,he);!w&&Di&&(s[On].providerFactory=Wi),Nh(x,t,n.length,0),n.push(ee),Re.directiveStart++,Re.directiveEnd++,w&&(Re.providerIndexes+=1048576),s.push(Wi),$.push(Wi)}else Nh(x,t,fn>-1?fn:On,Qg(s[w?On:fn],he,!w&&d));!w&&d&&Di&&s[On].componentProviders++}}}function Nh(t,n,s,d){const w=Tl(n),x=function Pv(t){return!!t.useClass}(n);if(w||x){const he=(x?Be(n.useClass):n).prototype.ngOnDestroy;if(he){const Re=t.destroyHooks||(t.destroyHooks=[]);if(!w&&n.multi){const it=Re.indexOf(s);-1===it?Re.push(s,[d,he]):Re[it+1].push(d,he)}else Re.push(s,he)}}}function Qg(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function kh(t,n,s,d){for(let w=s;w<d;w++)if(n[w]===t)return w;return-1}function gb(t,n,s,d){return Bh(this.multi,[])}function mb(t,n,s,d){const w=this.multi;let x;if(this.providerFactory){const $=this.providerFactory.componentProviders,ee=Ss(s,s[ht],this.providerFactory.index,d);x=ee.slice(0,$),Bh(w,x);for(let he=$;he<ee.length;he++)x.push(ee[he])}else x=[],Bh(w,x);return x}function Bh(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function em(t,n=[]){return s=>{s.providersResolver=(d,w)=>function pb(t,n,s){const d=Ye();if(d.firstCreatePass){const w=_i(t);Fh(s,d.data,d.blueprint,w,!0),Fh(n,d.data,d.blueprint,w,!1)}}(d,w?w(t):t,n)}}class cu{}class tm{}function yb(t,n){return new nm(t,null!=n?n:null)}class nm extends cu{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pp(this);const d=Br(n);this._bootstrapComponents=Za(d.bootstrap),this._r3Injector=Yf(n,s,[{provide:cu,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],Ce(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Uh extends tm{constructor(n){super(),this.moduleType=n}create(n){return new nm(this.moduleType,n)}}class _b extends cu{constructor(n,s,d){super(),this.componentFactoryResolver=new pp(this),this.instance=null;const w=new Pf([...n,{provide:cu,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],s||Nc(),d,new Set(["environment"]));this.injector=w,w.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Vh(t,n,s=null){return new _b(t,n,s).injector}let bb=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const d=wo(0,s.type),w=d.length>0?Vh([d],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,w)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=$t({token:t,providedIn:"environment",factory:()=>new t(jt(xl))}),t})();function im(t){t.getStandaloneInjector=n=>n.get(bb).getOrCreateStandaloneInjector(t)}function cm(t,n,s){const d=Er()+t,w=Q();return w[d]===so?ka(w,d,s?n.call(s):n()):ec(w,d)}function dm(t,n,s,d){return fm(Q(),Er(),t,n,s,d)}function hm(t,n,s,d,w,x,$,ee,he){const Re=Er()+t,it=Q(),vt=function fa(t,n,s,d,w,x){const $=Ml(t,n,s,d);return Ml(t,n+2,w,x)||$}(it,Re,s,d,w,x);return Ml(it,Re+4,$,ee)||vt?ka(it,Re+6,he?n.call(he,s,d,w,x,$,ee):n(s,d,w,x,$,ee)):ec(it,Re+6)}function ac(t,n){const s=t[n];return s===so?void 0:s}function fm(t,n,s,d,w,x){const $=n+s;return Hs(t,$,w)?ka(t,$+1,x?d.call(x,w):d(w)):ac(t,$+1)}function ym(t,n){const s=Ye();let d;const w=t+jr;var x;s.firstCreatePass?(d=function Nb(t,n){if(n)for(let s=n.length-1;s>=0;s--){const d=n[s];if(t===d.name)return d}}(n,s.pipeRegistry),s.data[w]=d,d.onDestroy&&(null!==(x=s.destroyHooks)&&void 0!==x?x:s.destroyHooks=[]).push(w,d.onDestroy)):d=s.data[w];const $=d.factory||(d.factory=Hr(d.type)),ee=Pt(Kl);try{const he=ji(!1),Re=$();return ji(he),function T_(t,n,s,d){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=d}(s,Q(),w,Re),Re}finally{Pt(ee)}}function _m(t,n,s){const d=t+jr,w=Q(),x=Et(w,d);return lc(w,d)?fm(w,Er(),n,x.transform,s,x):x.transform(s)}function bm(t,n,s,d){const w=t+jr,x=Q(),$=Et(x,w);return lc(x,w)?function pm(t,n,s,d,w,x,$){const ee=n+s;return Ml(t,ee,w,x)?ka(t,ee+2,$?d.call($,w,x):d(w,x)):ac(t,ee+2)}(x,Er(),n,$.transform,s,d,$):$.transform(s,d)}function lc(t,n){return t[ht].data[n].pure}function jh(t){return n=>{setTimeout(t,void 0,n)}}const Va=class Vb extends o.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,d){let w=n,x=s||(()=>null),$=d;if(n&&"object"==typeof n){var ee,he,Re;const vt=n;w=null===(ee=vt.next)||void 0===ee?void 0:ee.bind(vt),x=null===(he=vt.error)||void 0===he?void 0:he.bind(vt),$=null===(Re=vt.complete)||void 0===Re?void 0:Re.bind(vt)}this.__isAsync&&(x=jh(x),w&&(w=jh(w)),$&&($=jh($)));const it=super.subscribe({next:w,error:x,complete:$});return n instanceof y.w0&&n.add(it),it}};function Hb(){return this._results[Symbol.iterator]()}class zh{get changes(){return this._changes||(this._changes=new Va)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=zh.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Hb)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const d=this;d.dirty=!1;const w=function D(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function yl(t,n,s){if(t.length!==n.length)return!1;for(let d=0;d<t.length;d++){let w=t[d],x=n[d];if(s&&(w=s(w),x=s(x)),x!==w)return!1}return!0}(d._results,w,s))&&(d._results=w,d.length=w.length,d.last=w[this.length-1],d.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let uc=(()=>{class t{}return t.__NG_ELEMENT_ID__=$b,t})();const jb=uc,zb=class extends jb{constructor(n,s,d){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=d}createEmbeddedView(n,s){const d=this._declarationTContainer.tView,w=Bc(this._declarationLView,d,n,16,null,d.declTNode,null,null,null,null,s||null);w[mr]=this._declarationLView[this._declarationTContainer.index];const $=this._declarationLView[ao];return null!==$&&(w[ao]=$.createEmbeddedView(d)),Qd(d,w,n),new Ju(w)}};function $b(){return id(qt(),Q())}function id(t,n){return 4&t.type?new zb(n,t,Yl(t,n)):null}let rd=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gb,t})();function Gb(){return Sm(qt(),Q())}const Wb=rd,wm=class extends Wb{constructor(n,s,d){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=d}get element(){return Yl(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const n=xo(this._hostTNode,this._hostLView);if(kt(n)){const s=Ln(n,this._hostLView),d=ln(n);return new Gs(s[ht].data[d+8],s)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=Em(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-cn}createEmbeddedView(n,s,d){let w,x;"number"==typeof d?w=d:null!=d&&(w=d.index,x=d.injector);const $=n.createEmbeddedView(s||{},x);return this.insert($,w),$}createComponent(n,s,d,w,x){const $=n&&!function ea(t){return"function"==typeof t}(n);let ee;if($)ee=s;else{const vt=s||{};ee=vt.index,d=vt.injector,w=vt.projectableNodes,x=vt.environmentInjector||vt.ngModuleRef}const he=$?n:new Qu(nr(n)),Re=d||this.parentInjector;if(!x&&null==he.ngModule){const zt=($?Re:this.parentInjector).get(xl,null);zt&&(x=zt)}const it=he.create(Re,w,void 0,x);return this.insert(it.hostView,ee),it}insert(n,s){const d=n._lView,w=d[ht];if(function Mn(t){return Vn(t[Qt])}(d)){const it=this.indexOf(n);if(-1!==it)this.detach(it);else{const vt=d[Qt],zt=new wm(vt,vt[Yt],vt[Qt]);zt.detach(zt.indexOf(n))}}const x=this._adjustIndex(s),$=this._lContainer;!function Au(t,n,s,d){const w=cn+d,x=s.length;d>0&&(s[w-1][rt]=n),d<x-cn?(n[rt]=s[w],c(s,cn+d,n)):(s.push(n),n[rt]=null),n[Qt]=s;const $=n[mr];null!==$&&s!==$&&function Tc(t,n){const s=t[Gt];n[Ir]!==n[Qt][Qt][Ir]&&(t[ot]=!0),null===s?t[Gt]=[n]:s.push(n)}($,n);const ee=n[ao];null!==ee&&ee.insertView(t),n[Rt]|=64}(w,d,$,x);const ee=ku(x,$),he=d[An],Re=Lu(he,$[wt]);return null!==Re&&function Ed(t,n,s,d,w,x){d[tt]=w,d[Yt]=n,Cl(t,d,s,1,w,x)}(w,$[Yt],he,d,Re,ee),n.attachToViewContainerRef(),c($h($),x,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=Em(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),d=Ou(this._lContainer,s);d&&(g($h(this._lContainer),s),Pc(d[ht],d))}detach(n){const s=this._adjustIndex(n,-1),d=Ou(this._lContainer,s);return d&&null!=g($h(this._lContainer),s)?new Ju(d):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function Em(t){return t[Wt]}function $h(t){return t[Wt]||(t[Wt]=[])}function Sm(t,n){let s;const d=n[t.index];if(Vn(d))s=d;else{let w;if(8&t.type)w=Xi(d);else{const x=n[An];w=x.createComment("");const $=Pe(t,n);nl(x,Lu(x,$),w,function Ef(t,n){return t.nextSibling(n)}(x,$),!1)}n[t.index]=s=up(d,n,w,t),Vc(n,s)}return new wm(s,t,n)}class Gh{constructor(n){this.queryList=n,this.matches=null}clone(){return new Gh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wh{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const d=null!==n.contentQueries?n.contentQueries[0]:s.length,w=[];for(let x=0;x<d;x++){const $=s.getByIndex(x);w.push(this.queries[$.indexInDeclarationView].clone())}return new Wh(w)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==Om(n,s).matches&&this.queries[s].setDirty()}}class Cm{constructor(n,s,d=null){this.predicate=n,this.flags=s,this.read=d}}class Yh{constructor(n=[]){this.queries=n}elementStart(n,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let d=0;d<this.length;d++){const w=null!==s?s.length:0,x=this.getByIndex(d).embeddedTView(n,w);x&&(x.indexInDeclarationView=d,null!==s?s.push(x):s=[x])}return null!==s?new Yh(s):null}template(n,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Xh{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Xh(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=n.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let w=0;w<d.length;w++){const x=d[w];this.matchTNodeWithReadOption(n,s,Yb(s,x)),this.matchTNodeWithReadOption(n,s,qs(s,n,x,!1,!1))}else d===uc?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,qs(s,n,d,!1,!1))}matchTNodeWithReadOption(n,s,d){if(null!==d){const w=this.metadata.read;if(null!==w)if(w===Zu||w===rd||w===uc&&4&s.type)this.addMatch(s.index,-2);else{const x=qs(s,n,w,!1,!1);null!==x&&this.addMatch(s.index,x)}else this.addMatch(s.index,d)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function Yb(t,n){const s=t.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===n)return s[d+1];return null}function Zb(t,n,s,d){return-1===s?function Xb(t,n){return 11&t.type?Yl(t,n):4&t.type?id(t,n):null}(n,t):-2===s?function Kb(t,n,s){return s===Zu?Yl(n,t):s===uc?id(n,t):s===rd?Sm(n,t):void 0}(t,n,d):Ss(t,t[ht],s,n)}function Dm(t,n,s,d){const w=n[ao].queries[d];if(null===w.matches){const x=t.data,$=s.matches,ee=[];for(let he=0;he<$.length;he+=2){const Re=$[he];ee.push(Re<0?null:Zb(n,x[Re],$[he+1],s.metadata.read))}w.matches=ee}return w.matches}function Zh(t,n,s,d){const w=t.queries.getByIndex(s),x=w.matches;if(null!==x){const $=Dm(t,n,w,s);for(let ee=0;ee<x.length;ee+=2){const he=x[ee];if(he>0)d.push($[ee/2]);else{const Re=x[ee+1],it=n[-he];for(let vt=cn;vt<it.length;vt++){const zt=it[vt];zt[mr]===zt[Qt]&&Zh(zt[ht],zt,Re,d)}if(null!==it[Gt]){const vt=it[Gt];for(let zt=0;zt<vt.length;zt++){const fn=vt[zt];Zh(fn[ht],fn,Re,d)}}}}}return d}function Tm(t){const n=Q(),s=Ye(),d=Rs();Is(d+1);const w=Om(s,d);if(t.dirty&&function Ht(t){return 4==(4&t[Rt])}(n)===(2==(2&w.metadata.flags))){if(null===w.matches)t.reset([]);else{const x=w.crossesNgTemplate?Zh(s,n,d,[]):Dm(s,n,w,d);t.reset(x,Uv),t.notifyOnChanges()}return!0}return!1}function xm(t,n,s){const d=Ye();d.firstCreatePass&&(Am(d,new Cm(t,n,s),-1),2==(2&n)&&(d.staticViewQueries=!0)),Im(d,Q(),n)}function Pm(t,n,s,d){const w=Ye();if(w.firstCreatePass){const x=qt();Am(w,new Cm(n,s,d),x.index),function Jb(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(w,t),2==(2&s)&&(w.staticContentQueries=!0)}Im(w,Q(),s)}function Mm(){return function qb(t,n){return t[ao].queries[n].queryList}(Q(),Rs())}function Im(t,n,s){const d=new zh(4==(4&s));rp(t,n,d,d.destroy),null===n[ao]&&(n[ao]=new Wh),n[ao].queries.push(new Gh(d))}function Am(t,n,s){null===t.queries&&(t.queries=new Yh),t.queries.track(new Xh(n,s))}function Om(t,n){return t.queries.getByIndex(n)}function Kh(t){return!!Br(t)}function sd(...t){}const Km=new Ao("Application Initializer");let ad=(()=>{class t{constructor(s){this.appInits=s,this.resolve=sd,this.reject=sd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,w)=>{this.resolve=d,this.reject=w})}runInitializers(){if(this.initialized)return;const s=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let w=0;w<this.appInits.length;w++){const x=this.appInits[w]();if(bh(x))s.push(x);else if(Rp(x)){const $=new Promise((ee,he)=>{x.subscribe({complete:ee,error:he})});s.push($)}}Promise.all(s).then(()=>{d()}).catch(w=>{this.reject(w)}),0===s.length&&d(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(jt(Km,8))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const qm=new Ao("AppId",{providedIn:"root",factory:function Jm(){return`${tf()}${tf()}${tf()}`}});function tf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qm=new Ao("Platform Initializer"),_w=new Ao("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bw=new Ao("AnimationModuleType");let ww=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const ld=new Ao("LocaleId",{providedIn:"root",factory:()=>ai(ld,Sn.Optional|Sn.SkipSelf)||function Ew(){return typeof $localize<"u"&&$localize.locale||uu}()}),Sw=new Ao("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cw{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Dw=(()=>{class t{compileModuleSync(s){return new Uh(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),x=Za(Br(s).declarations).reduce(($,ee)=>{const he=nr(ee);return he&&$.push(new Qu(he)),$},[]);return new Cw(d,x)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Pw=(()=>Promise.resolve(0))();function nf(t){typeof Zone>"u"?Pw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pa{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Va(!1),this.onMicrotaskEmpty=new Va(!1),this.onStable=new Va(!1),this.onError=new Va(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!d&&s,w.shouldCoalesceRunChangeDetection=d,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function Mw(){let t=en.requestAnimationFrame,n=en.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const d=n[Zone.__symbol__("OriginalDelegate")];d&&(n=d)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Ow(t){const n=()=>{!function Aw(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(en,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sf(t),t.isCheckStableRunning=!0,rf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,w,x,$,ee)=>{try{return nv(t),s.invokeTask(w,x,$,ee)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||t.shouldCoalesceRunChangeDetection)&&n(),iv(t)}},onInvoke:(s,d,w,x,$,ee,he)=>{try{return nv(t),s.invoke(w,x,$,ee,he)}finally{t.shouldCoalesceRunChangeDetection&&n(),iv(t)}},onHasTask:(s,d,w,x)=>{s.hasTask(w,x),d===w&&("microTask"==x.change?(t._hasPendingMicrotasks=x.microTask,sf(t),rf(t)):"macroTask"==x.change&&(t.hasPendingMacrotasks=x.macroTask))},onHandleError:(s,d,w,x)=>(s.handleError(w,x),t.runOutsideAngular(()=>t.onError.emit(x)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pa.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(pa.isInAngularZone())throw new Xe(909,!1)}run(n,s,d){return this._inner.run(n,s,d)}runTask(n,s,d,w){const x=this._inner,$=x.scheduleEventTask("NgZoneEvent: "+w,n,Iw,sd,sd);try{return x.runTask($,s,d)}finally{x.cancelTask($)}}runGuarded(n,s,d){return this._inner.runGuarded(n,s,d)}runOutsideAngular(n){return this._outer.run(n)}}const Iw={};function rf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function nv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iv(t){t._nesting--,rf(t)}class Rw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Va,this.onMicrotaskEmpty=new Va,this.onStable=new Va,this.onError=new Va}run(n,s,d){return n.apply(s,d)}runGuarded(n,s,d){return n.apply(s,d)}runOutsideAngular(n){return n()}runTask(n,s,d,w){return n.apply(s,d)}}const rv=new Ao(""),ov=new Ao("");let af,Lw=(()=>{class t{constructor(s,d,w){this._ngZone=s,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,af||(function Fw(t){af=t}(w),w.addToWindow(d)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pa.assertNotInAngularZone(),nf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nf(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,w){let x=-1;d&&d>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter($=>$.timeoutId!==x),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:x,updateCb:w})}whenStable(s,d,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,d,w){return[]}}return t.\u0275fac=function(s){return new(s||t)(jt(pa),jt(sv),jt(ov))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),sv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){var w,x;return null!==(w=null===(x=af)||void 0===x?void 0:x.findTestabilityInTree(this,s,d))&&void 0!==w?w:null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const qa=!1;let hl=null;const av=new Ao("AllowMultipleToken"),lf=new Ao("PlatformDestroyListeners"),lv=new Ao("appBootstrapListener");class Bw{constructor(n,s){this.name=n,this.token=s}}function cv(t,n,s=[]){const d=`Platform: ${n}`,w=new Ao(d);return(x=[])=>{let $=uf();if(!$||$.injector.get(av,!1)){const ee=[...s,...x,{provide:w,useValue:!0}];t?t(ee):function Uw(t){if(hl&&!hl.get(av,!1))throw new Xe(400,!1);hl=t;const n=t.get(hv);(function uv(t){const n=t.get(Qm,null);n&&n.forEach(s=>s())})(t)}(function dv(t=[],n){return Pl.create({name:n,providers:[{provide:Hd,useValue:"platform"},{provide:lf,useValue:new Set([()=>hl=null])},...t]})}(ee,d))}return function Hw(t){const n=uf();if(!n)throw new Xe(401,!1);return n}()}}function uf(){var t,n;return null!==(t=null===(n=hl)||void 0===n?void 0:n.get(hv))&&void 0!==t?t:null}let hv=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const w=function pv(t,n){let s;return s="noop"===t?new Rw:("zone.js"===t?void 0:t)||new pa(n),s}(null==d?void 0:d.ngZone,function fv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(d)),x=[{provide:pa,useValue:w}];return w.run(()=>{const $=Pl.create({providers:x,parent:this.injector,name:s.moduleType.name}),ee=s.create($),he=ee.injector.get(Ku,null);if(!he)throw new Xe(402,!1);return w.runOutsideAngular(()=>{const Re=w.onError.subscribe({next:it=>{he.handleError(it)}});ee.onDestroy(()=>{cd(this._modules,ee),Re.unsubscribe()})}),function gv(t,n,s){try{const d=s();return bh(d)?d.catch(w=>{throw n.runOutsideAngular(()=>t.handleError(w)),w}):d}catch(d){throw n.runOutsideAngular(()=>t.handleError(d)),d}}(he,w,()=>{const Re=ee.injector.get(ad);return Re.runInitializers(),Re.donePromise.then(()=>(function Mg(t){En(t,"Expected localeId to be defined"),"string"==typeof t&&(Pg=t.toLowerCase().replace(/_/g,"-"))}(ee.injector.get(ld,uu)||uu),this._moduleDoBootstrap(ee),ee))})})}bootstrapModule(s,d=[]){const w=mv({},d);return function Nw(t,n,s){const d=new Uh(s);return Promise.resolve(d)}(0,0,s).then(x=>this.bootstrapModuleFactory(x,w))}_moduleDoBootstrap(s){const d=s.injector.get(ud);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(w=>d.bootstrap(w));else{if(!s.instance.ngDoBootstrap)throw new Xe(-403,!1);s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const s=this._injector.get(lf,null);s&&(s.forEach(d=>d()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(jt(Pl))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function mv(t,n){return Array.isArray(n)?n.reduce(mv,t):{...t,...n}}let ud=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,d,w){this._zone=s,this._injector=d,this._exceptionHandler=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new K.y(ee=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ee.next(this._stable),ee.complete()})}),$=new K.y(ee=>{let he;this._zone.runOutsideAngular(()=>{he=this._zone.onStable.subscribe(()=>{pa.assertNotInAngularZone(),nf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ee.next(!0))})})});const Re=this._zone.onUnstable.subscribe(()=>{pa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ee.next(!1)}))});return()=>{he.unsubscribe(),Re.unsubscribe()}});this.isStable=function q(...t){const n=(0,Z.yG)(t),s=(0,Z._6)(t,1/0),d=t;return d.length?1===d.length?(0,J.Xf)(d[0]):(0,z.J)(s)((0,Y.D)(d,n)):X.E}(x,$.pipe(function se(t={}){const{connector:n=(()=>new o.x),resetOnError:s=!0,resetOnComplete:d=!0,resetOnRefCountZero:w=!0}=t;return x=>{let $,ee,he,Re=0,it=!1,vt=!1;const zt=()=>{null==ee||ee.unsubscribe(),ee=void 0},fn=()=>{zt(),$=he=void 0,it=vt=!1},On=()=>{const Kn=$;fn(),null==Kn||Kn.unsubscribe()};return(0,ae.e)((Kn,Di)=>{Re++,!vt&&!it&&zt();const Wi=he=null!=he?he:n();Di.add(()=>{Re--,0===Re&&!vt&&!it&&(ee=re(On,w))}),Wi.subscribe(Di),!$&&Re>0&&($=new ce.Hp({next:_r=>Wi.next(_r),error:_r=>{vt=!0,zt(),ee=re(fn,s,_r),Wi.error(_r)},complete:()=>{it=!0,zt(),ee=re(fn,d),Wi.complete()}}),(0,J.Xf)(Kn).subscribe($))})(x)}}()))}bootstrap(s,d){const w=s instanceof If;if(!this._injector.get(ad).done){!w&&di(s);throw new Xe(405,qa)}let $;$=w?s:this._injector.get(Xu).resolveComponentFactory(s),this.componentTypes.push($.componentType);const ee=function kw(t){return t.isBoundToModule}($)?void 0:this._injector.get(cu),Re=$.create(Pl.NULL,[],d||$.selector,ee),it=Re.location.nativeElement,vt=Re.injector.get(rv,null);return null==vt||vt.registerApplication(it),Re.onDestroy(()=>{this.detachView(Re.hostView),cd(this.components,Re),null==vt||vt.unregisterApplication(it)}),this._loadComponent(Re),Re}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;cd(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const d=this._injector.get(lv,[]);d.push(...this._bootstrapListeners),d.forEach(w=>w(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>cd(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Xe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(jt(pa),jt(xl),jt(Ku))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cd(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}function zw(){}let $w=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gw,t})();function Gw(t){return function Ww(t,n,s){if(ei(t)&&!s){const d=Ft(t.index,n);return new Ju(d,d)}return 47&t.type?new Ju(n[Ir],n):null}(qt(),Q(),16==(16&t))}class wv{constructor(){}supports(n){return Gc(n)}create(n){return new Jw(n)}}const qw=(t,n)=>n;class Jw{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||qw}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,d=this._removalsHead,w=0,x=null;for(;s||d;){const $=!d||s&&s.currentIndex<Sv(d,w,x)?s:d,ee=Sv($,w,x),he=$.currentIndex;if($===d)w--,d=d._nextRemoved;else if(s=s._next,null==$.previousIndex)w++;else{x||(x=[]);const Re=ee-w,it=he-w;if(Re!=it){for(let zt=0;zt<Re;zt++){const fn=zt<x.length?x[zt]:x[zt]=0,On=fn+zt;it<=On&&On<Re&&(x[zt]=fn+1)}x[$.previousIndex]=it-Re}}ee!==he&&n($,ee,he)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Gc(n))throw new Xe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let w,x,$,s=this._itHead,d=!1;if(Array.isArray(n)){this.length=n.length;for(let ee=0;ee<this.length;ee++)x=n[ee],$=this._trackByFn(ee,x),null!==s&&Object.is(s.trackById,$)?(d&&(s=this._verifyReinsertion(s,x,$,ee)),Object.is(s.item,x)||this._addIdentityChange(s,x)):(s=this._mismatch(s,x,$,ee),d=!0),s=s._next}else w=0,function E_(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let d;for(;!(d=s.next()).done;)n(d.value)}}(n,ee=>{$=this._trackByFn(w,ee),null!==s&&Object.is(s.trackById,$)?(d&&(s=this._verifyReinsertion(s,ee,$,w)),Object.is(s.item,ee)||this._addIdentityChange(s,ee)):(s=this._mismatch(s,ee,$,w),d=!0),s=s._next,w++}),this.length=w;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,d,w){let x;return null===n?x=this._itTail:(x=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,x,w)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(d,w))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,x,w)):n=this._addAfter(new Qw(s,d),x,w),n}_verifyReinsertion(n,s,d,w){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==x?n=this._reinsertAfter(x,n._prev,w):n.currentIndex!=w&&(n.currentIndex=w,this._addToMoves(n,w)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const w=n._prevRemoved,x=n._nextRemoved;return null===w?this._removalsHead=x:w._nextRemoved=x,null===x?this._removalsTail=w:x._prevRemoved=w,this._insertAfter(n,s,d),this._addToMoves(n,d),n}_moveAfter(n,s,d){return this._unlink(n),this._insertAfter(n,s,d),this._addToMoves(n,d),n}_addAfter(n,s,d){return this._insertAfter(n,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,d){const w=null===s?this._itHead:s._next;return n._next=w,n._prev=s,null===w?this._itTail=n:w._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new Ev),this._linkedRecords.put(n),n.currentIndex=d,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,d=n._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ev),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Qw{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eE{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,n))return d;return null}remove(n){const s=n._prevDup,d=n._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class Ev{constructor(){this.map=new Map}put(n){const s=n.trackById;let d=this.map.get(s);d||(d=new eE,this.map.set(s,d)),d.add(n)}get(n,s){const w=this.map.get(n);return w?w.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sv(t,n,s){const d=t.previousIndex;if(null===d)return d;let w=0;return s&&d<s.length&&(w=s[d]),d+n+w}class Cv{constructor(){}supports(n){return n instanceof Map||hh(n)}create(){return new tE}}class tE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||hh(n)))throw new Xe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(d,w)=>{if(s&&s.key===w)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const x=this._getOrCreateRecordForKey(w,d);s=this._insertBeforeOrAppend(s,x)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const d=n._prev;return s._next=n,s._prev=d,n._prev=s,d&&(d._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const w=this._records.get(n);this._maybeAddToChanges(w,s);const x=w._prev,$=w._next;return x&&(x._next=$),$&&($._prev=x),w._next=null,w._prev=null,w}const d=new nE(n);return this._records.set(n,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(d=>s(n[d],d))}}class nE{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dv(){return new pf([new wv])}let pf=(()=>{class t{constructor(s){this.factories=s}static create(s,d){if(null!=d){const w=d.factories.slice();s=s.concat(w)}return new t(s)}static extend(s){return{provide:t,useFactory:d=>t.create(s,d||Dv()),deps:[[t,new Ni,new gi]]}}find(s){const d=this.factories.find(w=>w.supports(s));if(null!=d)return d;throw new Xe(901,!1)}}return t.\u0275prov=$t({token:t,providedIn:"root",factory:Dv}),t})();function Tv(){return new gf([new Cv])}let gf=(()=>{class t{constructor(s){this.factories=s}static create(s,d){if(d){const w=d.factories.slice();s=s.concat(w)}return new t(s)}static extend(s){return{provide:t,useFactory:d=>t.create(s,d||Tv()),deps:[[t,new Ni,new gi]]}}find(s){const d=this.factories.find(w=>w.supports(s));if(d)return d;throw new Xe(901,!1)}}return t.\u0275prov=$t({token:t,providedIn:"root",factory:Tv}),t})();const oE=cv(null,"core",[]);let sE=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(jt(ud))},t.\u0275mod=tr({type:t}),t.\u0275inj=Cn({}),t})();function aE(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(yt,U,R)=>{"use strict";R.d(U,{u5:()=>ui,JU:()=>ke,a5:()=>Pi,JJ:()=>Fr,JL:()=>Qi,F:()=>Vt,On:()=>To,c5:()=>Xi,Q7:()=>No,_Y:()=>Zo});var o=R(8256),y=R(6895),K=R(2076),z=R(9751),J=R(4742),X=R(8421),Z=R(3269),Y=R(5403),q=R(3268),ce=R(1810),se=R(4004);let re=(()=>{class ye{constructor(M,N){this._renderer=M,this._elementRef=N,this.onChange=h=>{},this.onTouched=()=>{}}setProperty(M,N){this._renderer.setProperty(this._elementRef.nativeElement,M,N)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return ye.\u0275fac=function(M){return new(M||ye)(o.Y36(o.Qsj),o.Y36(o.SBq))},ye.\u0275dir=o.lG2({type:ye}),ye})(),le=(()=>{class ye extends re{}return ye.\u0275fac=function(){let oe;return function(N){return(oe||(oe=o.n5z(ye)))(N||ye)}}(),ye.\u0275dir=o.lG2({type:ye,features:[o.qOj]}),ye})();const ke=new o.OlP("NgValueAccessor"),ve={provide:ke,useExisting:(0,o.Gpc)(()=>qe),multi:!0},Be=new o.OlP("CompositionEventMode");let qe=(()=>{class ye extends re{constructor(M,N,h){super(M,N),this._compositionMode=h,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const ye=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(ye.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return ye.\u0275fac=function(M){return new(M||ye)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Be,8))},ye.\u0275dir=o.lG2({type:ye,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,N){1&M&&o.NdJ("input",function(I){return N._handleInput(I.target.value)})("blur",function(){return N.onTouched()})("compositionstart",function(){return N._compositionStart()})("compositionend",function(I){return N._compositionEnd(I.target.value)})},features:[o._Bn([ve]),o.qOj]}),ye})();const Oe=!1;function mt(ye){return null==ye||("string"==typeof ye||Array.isArray(ye))&&0===ye.length}const Xe=new o.OlP("NgValidators"),Ke=new o.OlP("NgAsyncValidators");function ge(ye){return mt(ye.value)?{required:!0}:null}function Ne(ye){return null}function we(ye){return null!=ye}function Ve(ye){const oe=(0,o.QGY)(ye)?(0,K.D)(ye):ye;if(Oe&&!(0,o.CqO)(oe)){let M="Expected async validator to return Promise or Observable.";throw"object"==typeof ye&&(M+=" Are you using a synchronous validator where an async validator is expected?"),new o.vHH(-1101,M)}return oe}function Ie(ye){let oe={};return ye.forEach(M=>{oe=null!=M?{...oe,...M}:oe}),0===Object.keys(oe).length?null:oe}function Le(ye,oe){return oe.map(M=>M(ye))}function bt(ye){return ye.map(oe=>function gt(ye){return!ye.validate}(oe)?oe:M=>oe.validate(M))}function un(ye){return null!=ye?function Mt(ye){if(!ye)return null;const oe=ye.filter(we);return 0==oe.length?null:function(M){return Ie(Le(M,oe))}}(bt(ye)):null}function tn(ye){return null!=ye?function En(ye){if(!ye)return null;const oe=ye.filter(we);return 0==oe.length?null:function(M){return function ae(...ye){const oe=(0,Z.jO)(ye),{args:M,keys:N}=(0,J.D)(ye),h=new z.y(I=>{const{length:E}=M;if(!E)return void I.complete();const H=new Array(E);let Q=E,Ye=E;for(let Ot=0;Ot<E;Ot++){let Bt=!1;(0,X.Xf)(M[Ot]).subscribe((0,Y.x)(I,qt=>{Bt||(Bt=!0,Ye--),H[Ot]=qt},()=>Q--,void 0,()=>{(!Q||!Bt)&&(Ye||I.next(N?(0,ce.n)(N,H):H),I.complete())}))}});return oe?h.pipe((0,q.Z)(oe)):h}(Le(M,oe).map(Ve)).pipe((0,se.U)(Ie))}}(bt(ye)):null}function Ct(ye,oe){return null===ye?[oe]:Array.isArray(ye)?[...ye,oe]:[ye,oe]}function $t(ye){return ye?Array.isArray(ye)?ye:[ye]:[]}function vn(ye,oe){return Array.isArray(ye)?ye.includes(oe):ye===oe}function Cn(ye,oe){const M=$t(oe);return $t(ye).forEach(h=>{vn(M,h)||M.push(h)}),M}function bn(ye,oe){return $t(oe).filter(M=>!vn(ye,M))}class vi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(oe){this._rawValidators=oe||[],this._composedValidatorFn=un(this._rawValidators)}_setAsyncValidators(oe){this._rawAsyncValidators=oe||[],this._composedAsyncValidatorFn=tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(oe){this._onDestroyCallbacks.push(oe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(oe=>oe()),this._onDestroyCallbacks=[]}reset(oe){this.control&&this.control.reset(oe)}hasError(oe,M){return!!this.control&&this.control.hasError(oe,M)}getError(oe,M){return this.control?this.control.getError(oe,M):null}}class yi extends vi{get formDirective(){return null}get path(){return null}}class Pi extends vi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ji{constructor(oe){this._cd=oe}get isTouched(){var oe,M;return!(null===(oe=this._cd)||void 0===oe||null===(M=oe.control)||void 0===M||!M.touched)}get isUntouched(){var oe,M;return!(null===(oe=this._cd)||void 0===oe||null===(M=oe.control)||void 0===M||!M.untouched)}get isPristine(){var oe,M;return!(null===(oe=this._cd)||void 0===oe||null===(M=oe.control)||void 0===M||!M.pristine)}get isDirty(){var oe,M;return!(null===(oe=this._cd)||void 0===oe||null===(M=oe.control)||void 0===M||!M.dirty)}get isValid(){var oe,M;return!(null===(oe=this._cd)||void 0===oe||null===(M=oe.control)||void 0===M||!M.valid)}get isInvalid(){var oe,M;return!(null===(oe=this._cd)||void 0===oe||null===(M=oe.control)||void 0===M||!M.invalid)}get isPending(){var oe,M;return!(null===(oe=this._cd)||void 0===oe||null===(M=oe.control)||void 0===M||!M.pending)}get isSubmitted(){var oe;return!(null===(oe=this._cd)||void 0===oe||!oe.submitted)}}let Fr=(()=>{class ye extends Ji{constructor(M){super(M)}}return ye.\u0275fac=function(M){return new(M||ye)(o.Y36(Pi,2))},ye.\u0275dir=o.lG2({type:ye,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,N){2&M&&o.ekj("ng-untouched",N.isUntouched)("ng-touched",N.isTouched)("ng-pristine",N.isPristine)("ng-dirty",N.isDirty)("ng-valid",N.isValid)("ng-invalid",N.isInvalid)("ng-pending",N.isPending)},features:[o.qOj]}),ye})(),Qi=(()=>{class ye extends Ji{constructor(M){super(M)}}return ye.\u0275fac=function(M){return new(M||ye)(o.Y36(yi,10))},ye.\u0275dir=o.lG2({type:ye,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,N){2&M&&o.ekj("ng-untouched",N.isUntouched)("ng-touched",N.isTouched)("ng-pristine",N.isPristine)("ng-dirty",N.isDirty)("ng-valid",N.isValid)("ng-invalid",N.isInvalid)("ng-pending",N.isPending)("ng-submitted",N.isSubmitted)},features:[o.qOj]}),ye})();function dr(ye,oe){return ye?`with name: '${oe}'`:`at index: ${oe}`}const Ut=!1,gn="VALID",yn="INVALID",jt="PENDING",Yn="DISABLED";function ai(ye){return(At(ye)?ye.validators:ye)||null}function Vi(ye,oe){return(At(oe)?oe.asyncValidators:ye)||null}function At(ye){return null!=ye&&!Array.isArray(ye)&&"object"==typeof ye}class Xt{constructor(oe,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(oe),this._assignAsyncValidators(M)}get validator(){return this._composedValidatorFn}set validator(oe){this._rawValidators=this._composedValidatorFn=oe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(oe){this._rawAsyncValidators=this._composedAsyncValidatorFn=oe}get parent(){return this._parent}get valid(){return this.status===gn}get invalid(){return this.status===yn}get pending(){return this.status==jt}get disabled(){return this.status===Yn}get enabled(){return this.status!==Yn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(oe){this._assignValidators(oe)}setAsyncValidators(oe){this._assignAsyncValidators(oe)}addValidators(oe){this.setValidators(Cn(oe,this._rawValidators))}addAsyncValidators(oe){this.setAsyncValidators(Cn(oe,this._rawAsyncValidators))}removeValidators(oe){this.setValidators(bn(oe,this._rawValidators))}removeAsyncValidators(oe){this.setAsyncValidators(bn(oe,this._rawAsyncValidators))}hasValidator(oe){return vn(this._rawValidators,oe)}hasAsyncValidator(oe){return vn(this._rawAsyncValidators,oe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(oe={}){this.touched=!0,this._parent&&!oe.onlySelf&&this._parent.markAsTouched(oe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(oe=>oe.markAllAsTouched())}markAsUntouched(oe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!oe.onlySelf&&this._parent._updateTouched(oe)}markAsDirty(oe={}){this.pristine=!1,this._parent&&!oe.onlySelf&&this._parent.markAsDirty(oe)}markAsPristine(oe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!oe.onlySelf&&this._parent._updatePristine(oe)}markAsPending(oe={}){this.status=jt,!1!==oe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!oe.onlySelf&&this._parent.markAsPending(oe)}disable(oe={}){const M=this._parentMarkedDirty(oe.onlySelf);this.status=Yn,this.errors=null,this._forEachChild(N=>{N.disable({...oe,onlySelf:!0})}),this._updateValue(),!1!==oe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...oe,skipPristineCheck:M}),this._onDisabledChange.forEach(N=>N(!0))}enable(oe={}){const M=this._parentMarkedDirty(oe.onlySelf);this.status=gn,this._forEachChild(N=>{N.enable({...oe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:oe.emitEvent}),this._updateAncestors({...oe,skipPristineCheck:M}),this._onDisabledChange.forEach(N=>N(!1))}_updateAncestors(oe){this._parent&&!oe.onlySelf&&(this._parent.updateValueAndValidity(oe),oe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(oe){this._parent=oe}getRawValue(){return this.value}updateValueAndValidity(oe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gn||this.status===jt)&&this._runAsyncValidator(oe.emitEvent)),!1!==oe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!oe.onlySelf&&this._parent.updateValueAndValidity(oe)}_updateTreeValidity(oe={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(oe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:oe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yn:gn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(oe){if(this.asyncValidator){this.status=jt,this._hasOwnPendingAsyncValidator=!0;const M=Ve(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(N=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(N,{emitEvent:oe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(oe,M={}){this.errors=oe,this._updateControlsErrors(!1!==M.emitEvent)}get(oe){let M=oe;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((N,h)=>N&&N._find(h),this)}getError(oe,M){const N=M?this.get(M):this;return N&&N.errors?N.errors[oe]:null}hasError(oe,M){return!!this.getError(oe,M)}get root(){let oe=this;for(;oe._parent;)oe=oe._parent;return oe}_updateControlsErrors(oe){this.status=this._calculateStatus(),oe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(oe)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Yn:this.errors?yn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jt)?jt:this._anyControlsHaveStatus(yn)?yn:gn}_anyControlsHaveStatus(oe){return this._anyControls(M=>M.status===oe)}_anyControlsDirty(){return this._anyControls(oe=>oe.dirty)}_anyControlsTouched(){return this._anyControls(oe=>oe.touched)}_updatePristine(oe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!oe.onlySelf&&this._parent._updatePristine(oe)}_updateTouched(oe={}){this.touched=this._anyControlsTouched(),this._parent&&!oe.onlySelf&&this._parent._updateTouched(oe)}_registerOnCollectionChange(oe){this._onCollectionChange=oe}_setUpdateStrategy(oe){At(oe)&&null!=oe.updateOn&&(this._updateOn=oe.updateOn)}_parentMarkedDirty(oe){return!oe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(oe){return null}_assignValidators(oe){this._rawValidators=Array.isArray(oe)?oe.slice():oe,this._composedValidatorFn=function ti(ye){return Array.isArray(ye)?un(ye):ye||null}(this._rawValidators)}_assignAsyncValidators(oe){this._rawAsyncValidators=Array.isArray(oe)?oe.slice():oe,this._composedAsyncValidatorFn=function er(ye){return Array.isArray(ye)?tn(ye):ye||null}(this._rawAsyncValidators)}}class hn extends Xt{constructor(oe,M,N){super(ai(M),Vi(N,M)),this.controls=oe,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(oe,M){return this.controls[oe]?this.controls[oe]:(this.controls[oe]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(oe,M,N={}){this.registerControl(oe,M),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}removeControl(oe,M={}){this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),delete this.controls[oe],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(oe,M,N={}){this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),delete this.controls[oe],M&&this.registerControl(oe,M),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}contains(oe){return this.controls.hasOwnProperty(oe)&&this.controls[oe].enabled}setValue(oe,M={}){(function dt(ye,oe,M){ye._forEachChild((N,h)=>{if(void 0===M[h])throw new o.vHH(1002,Ut?function _t(ye,oe){return`Must supply a value for form control ${dr(ye,oe)}`}(oe,h):"")})})(this,!0,oe),Object.keys(oe).forEach(N=>{(function Nt(ye,oe,M){const N=ye.controls;if(!(oe?Object.keys(N):N).length)throw new o.vHH(1e3,Ut?function Zi(ye){return`\n    There are no form controls registered with this ${ye?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(oe):"");if(!N[M])throw new o.vHH(1001,Ut?function Zt(ye,oe){return`Cannot find form control ${dr(ye,oe)}`}(oe,M):"")})(this,!0,N),this.controls[N].setValue(oe[N],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(oe,M={}){null!=oe&&(Object.keys(oe).forEach(N=>{const h=this.controls[N];h&&h.patchValue(oe[N],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(oe={},M={}){this._forEachChild((N,h)=>{N.reset(oe[h],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(oe,M,N)=>(oe[N]=M.getRawValue(),oe))}_syncPendingControls(){let oe=this._reduceChildren(!1,(M,N)=>!!N._syncPendingControls()||M);return oe&&this.updateValueAndValidity({onlySelf:!0}),oe}_forEachChild(oe){Object.keys(this.controls).forEach(M=>{const N=this.controls[M];N&&oe(N,M)})}_setUpControls(){this._forEachChild(oe=>{oe.setParent(this),oe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(oe){for(const[M,N]of Object.entries(this.controls))if(this.contains(M)&&oe(N))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,N,h)=>((N.enabled||this.disabled)&&(M[h]=N.value),M))}_reduceChildren(oe,M){let N=oe;return this._forEachChild((h,I)=>{N=M(N,h,I)}),N}_allControlsDisabled(){for(const oe of Object.keys(this.controls))if(this.controls[oe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(oe){return this.controls.hasOwnProperty(oe)?this.controls[oe]:null}}const Ki=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>zi}),zi="always";function Rr(ye,oe,M=zi){var N,h;yr(ye,oe),oe.valueAccessor.writeValue(ye.value),(ye.disabled||"always"===M)&&(null===(N=(h=oe.valueAccessor).setDisabledState)||void 0===N||N.call(h,ye.disabled)),function fr(ye,oe){oe.valueAccessor.registerOnChange(M=>{ye._pendingValue=M,ye._pendingChange=!0,ye._pendingDirty=!0,"change"===ye.updateOn&&co(ye,oe)})}(ye,oe),function to(ye,oe){const M=(N,h)=>{oe.valueAccessor.writeValue(N),h&&oe.viewToModelUpdate(N)};ye.registerOnChange(M),oe._registerOnDestroy(()=>{ye._unregisterOnChange(M)})}(ye,oe),function tr(ye,oe){oe.valueAccessor.registerOnTouched(()=>{ye._pendingTouched=!0,"blur"===ye.updateOn&&ye._pendingChange&&co(ye,oe),"submit"!==ye.updateOn&&ye.markAsTouched()})}(ye,oe),function vo(ye,oe){if(oe.valueAccessor.setDisabledState){const M=N=>{oe.valueAccessor.setDisabledState(N)};ye.registerOnDisabledChange(M),oe._registerOnDestroy(()=>{ye._unregisterOnDisabledChange(M)})}}(ye,oe)}function Eo(ye,oe){ye.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(oe)})}function yr(ye,oe){const M=function st(ye){return ye._rawValidators}(ye);null!==oe.validator?ye.setValidators(Ct(M,oe.validator)):"function"==typeof M&&ye.setValidators([M]);const N=function nn(ye){return ye._rawAsyncValidators}(ye);null!==oe.asyncValidator?ye.setAsyncValidators(Ct(N,oe.asyncValidator)):"function"==typeof N&&ye.setAsyncValidators([N]);const h=()=>ye.updateValueAndValidity();Eo(oe._rawValidators,h),Eo(oe._rawAsyncValidators,h)}function co(ye,oe){ye._pendingDirty&&ye.markAsDirty(),ye.setValue(ye._pendingValue,{emitModelToViewChange:!1}),oe.viewToModelUpdate(ye._pendingValue),ye._pendingChange=!1}const Qt={provide:yi,useExisting:(0,o.Gpc)(()=>Vt)},rt=(()=>Promise.resolve())();let Vt=(()=>{class ye extends yi{constructor(M,N,h){super(),this.callSetDisabledState=h,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new hn({},un(M),tn(N))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){rt.then(()=>{const N=this._findContainer(M.path);M.control=N.registerControl(M.name,M.control),Rr(M.control,M,this.callSetDisabledState),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){rt.then(()=>{const N=this._findContainer(M.path);N&&N.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){rt.then(()=>{const N=this._findContainer(M.path),h=new hn({});(function Yr(ye,oe){yr(ye,oe)})(h,M),N.registerControl(M.name,h),h.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){rt.then(()=>{const N=this._findContainer(M.path);N&&N.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,N){rt.then(()=>{this.form.get(M.path).setValue(N)})}setValue(M){this.control.setValue(M)}onSubmit(M){var N;return this.submitted=!0,function We(ye,oe){ye._syncPendingControls(),oe.forEach(M=>{const N=M.control;"submit"===N.updateOn&&N._pendingChange&&(M.viewToModelUpdate(N._pendingValue),N._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(M),"dialog"===(null==M||null===(N=M.target)||void 0===N?void 0:N.method)}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return ye.\u0275fac=function(M){return new(M||ye)(o.Y36(Xe,10),o.Y36(Ke,10),o.Y36(Ki,8))},ye.\u0275dir=o.lG2({type:ye,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,N){1&M&&o.NdJ("submit",function(I){return N.onSubmit(I)})("reset",function(){return N.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Qt]),o.qOj]}),ye})();function Yt(ye,oe){const M=ye.indexOf(oe);M>-1&&ye.splice(M,1)}function mn(ye){return"object"==typeof ye&&null!==ye&&2===Object.keys(ye).length&&"value"in ye&&"disabled"in ye}const sn=class extends Xt{constructor(oe=null,M,N){super(ai(M),Vi(N,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(oe),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),At(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=mn(oe)?oe.value:oe)}setValue(oe,M={}){this.value=this._pendingValue=oe,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(N=>N(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(oe,M={}){this.setValue(oe,M)}reset(oe=this.defaultValue,M={}){this._applyFormState(oe),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(oe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(oe){this._onChange.push(oe)}_unregisterOnChange(oe){Yt(this._onChange,oe)}registerOnDisabledChange(oe){this._onDisabledChange.push(oe)}_unregisterOnDisabledChange(oe){Yt(this._onDisabledChange,oe)}_forEachChild(oe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(oe){mn(oe)?(this.value=this._pendingValue=oe.value,oe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=oe}},io={provide:Pi,useExisting:(0,o.Gpc)(()=>To)},ao=(()=>Promise.resolve())();let To=(()=>{class ye extends Pi{constructor(M,N,h,I,E,H){super(),this._changeDetectorRef=E,this.callSetDisabledState=H,this.control=new sn,this._registered=!1,this.update=new o.vpe,this._parent=M,this._setValidators(N),this._setAsyncValidators(h),this.valueAccessor=function tt(ye,oe){if(!oe)return null;let M,N,h;return Array.isArray(oe),oe.forEach(I=>{I.constructor===qe?M=I:function no(ye){return Object.getPrototypeOf(ye.constructor)===le}(I)?N=I:h=I}),h||N||M||null}(0,I)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const N=M.name.previousValue;this.formDirective.removeControl({name:N,path:this._getPath(N)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),function Dr(ye,oe){if(!ye.hasOwnProperty("model"))return!1;const M=ye.model;return!!M.isFirstChange()||!Object.is(oe,M.currentValue)}(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){ao.then(()=>{var N;this.control.setValue(M,{emitViewToModelChange:!1}),null===(N=this._changeDetectorRef)||void 0===N||N.markForCheck()})}_updateDisabled(M){const N=M.isDisabled.currentValue,h=0!==N&&(0,o.D6c)(N);ao.then(()=>{var I;h&&!this.control.disabled?this.control.disable():!h&&this.control.disabled&&this.control.enable(),null===(I=this._changeDetectorRef)||void 0===I||I.markForCheck()})}_getPath(M){return this._parent?function Gi(ye,oe){return[...oe.path,ye]}(M,this._parent):[M]}}return ye.\u0275fac=function(M){return new(M||ye)(o.Y36(yi,9),o.Y36(Xe,10),o.Y36(Ke,10),o.Y36(ke,10),o.Y36(o.sBO,8),o.Y36(Ki,8))},ye.\u0275dir=o.lG2({type:ye,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([io]),o.qOj,o.TTD]}),ye})(),Zo=(()=>{class ye{}return ye.\u0275fac=function(M){return new(M||ye)},ye.\u0275dir=o.lG2({type:ye,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ye})(),wt=(()=>{class ye{}return ye.\u0275fac=function(M){return new(M||ye)},ye.\u0275mod=o.oAB({type:ye}),ye.\u0275inj=o.cJS({}),ye})(),Vr=(()=>{class ye{constructor(){this._validator=Ne}ngOnChanges(M){if(this.inputName in M){const N=this.normalizeInput(M[this.inputName].currentValue);this._enabled=this.enabled(N),this._validator=this._enabled?this.createValidator(N):Ne,this._onChange&&this._onChange()}}validate(M){return this._validator(M)}registerOnValidatorChange(M){this._onChange=M}enabled(M){return null!=M}}return ye.\u0275fac=function(M){return new(M||ye)},ye.\u0275dir=o.lG2({type:ye,features:[o.TTD]}),ye})();const wr={provide:Xe,useExisting:(0,o.Gpc)(()=>No),multi:!0};let No=(()=>{class ye extends Vr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.D6c,this.createValidator=M=>ge}enabled(M){return M}}return ye.\u0275fac=function(){let oe;return function(N){return(oe||(oe=o.n5z(ye)))(N||ye)}}(),ye.\u0275dir=o.lG2({type:ye,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(M,N){2&M&&o.uIk("required",N._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([wr]),o.qOj]}),ye})();const Xo={provide:Xe,useExisting:(0,o.Gpc)(()=>Xi),multi:!0};let Xi=(()=>{class ye extends Vr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=M=>M,this.createValidator=M=>function Te(ye){if(!ye)return Ne;let oe,M;return"string"==typeof ye?(M="","^"!==ye.charAt(0)&&(M+="^"),M+=ye,"$"!==ye.charAt(ye.length-1)&&(M+="$"),oe=new RegExp(M)):(M=ye.toString(),oe=ye),N=>{if(mt(N.value))return null;const h=N.value;return oe.test(h)?null:{pattern:{requiredPattern:M,actualValue:h}}}}(M)}}return ye.\u0275fac=function(){let oe;return function(N){return(oe||(oe=o.n5z(ye)))(N||ye)}}(),ye.\u0275dir=o.lG2({type:ye,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(M,N){2&M&&o.uIk("pattern",N._enabled?N.pattern:null)},inputs:{pattern:"pattern"},features:[o._Bn([Xo]),o.qOj]}),ye})(),et=(()=>{class ye{}return ye.\u0275fac=function(M){return new(M||ye)},ye.\u0275mod=o.oAB({type:ye}),ye.\u0275inj=o.cJS({imports:[wt]}),ye})(),ui=(()=>{class ye{static withConfig(M){var N;return{ngModule:ye,providers:[{provide:Ki,useValue:null!==(N=M.callSetDisabledState)&&void 0!==N?N:zi}]}}}return ye.\u0275fac=function(M){return new(M||ye)},ye.\u0275mod=o.oAB({type:ye}),ye.\u0275inj=o.cJS({imports:[et]}),ye})()},1481:(yt,U,R)=>{"use strict";R.d(U,{Dx:()=>Qi,b2:()=>Pi,q6:()=>Cn,se:()=>ge});var o=R(6895),y=R(8256);class K extends o.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class z extends K{static makeCurrent(){(0,o.HT)(new z)}onAndCancel(Nt,dt,Xt){return Nt.addEventListener(dt,Xt,!1),()=>{Nt.removeEventListener(dt,Xt,!1)}}dispatchEvent(Nt,dt){Nt.dispatchEvent(dt)}remove(Nt){Nt.parentNode&&Nt.parentNode.removeChild(Nt)}createElement(Nt,dt){return(dt=dt||this.getDefaultDocument()).createElement(Nt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Nt){return Nt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Nt){return Nt instanceof DocumentFragment}getGlobalEventTarget(Nt,dt){return"window"===dt?window:"document"===dt?Nt:"body"===dt?Nt.body:null}getBaseHref(Nt){const dt=function X(){return J=J||document.querySelector("base"),J?J.getAttribute("href"):null}();return null==dt?null:function Y(At){Z=Z||document.createElement("a"),Z.setAttribute("href",At);const Nt=Z.pathname;return"/"===Nt.charAt(0)?Nt:`/${Nt}`}(dt)}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}getCookie(Nt){return(0,o.Mx)(document.cookie,Nt)}}let Z,J=null;const q=new y.OlP("TRANSITION_ID"),ae=[{provide:y.ip1,useFactory:function ce(At,Nt,dt){return()=>{dt.get(y.CZH).donePromise.then(()=>{const Xt=(0,o.q)(),hn=Nt.querySelectorAll(`style[ng-transition="${At}"]`);for(let Un=0;Un<hn.length;Un++)Xt.remove(hn[Un])})}},deps:[q,o.K0,y.zs3],multi:!0}];let re=(()=>{class At{build(){return new XMLHttpRequest}}return At.\u0275fac=function(dt){return new(dt||At)},At.\u0275prov=y.Yz7({token:At,factory:At.\u0275fac}),At})();const le=new y.OlP("EventManagerPlugins");let ke=(()=>{class At{constructor(dt,Xt){this._zone=Xt,this._eventNameToPlugin=new Map,dt.forEach(hn=>{hn.manager=this}),this._plugins=dt.slice().reverse()}addEventListener(dt,Xt,hn){return this._findPluginFor(Xt).addEventListener(dt,Xt,hn)}addGlobalEventListener(dt,Xt,hn){return this._findPluginFor(Xt).addGlobalEventListener(dt,Xt,hn)}getZone(){return this._zone}_findPluginFor(dt){const Xt=this._eventNameToPlugin.get(dt);if(Xt)return Xt;const hn=this._plugins;for(let Un=0;Un<hn.length;Un++){const Hn=hn[Un];if(Hn.supports(dt))return this._eventNameToPlugin.set(dt,Hn),Hn}throw new Error(`No event manager plugin found for event ${dt}`)}}return At.\u0275fac=function(dt){return new(dt||At)(y.LFG(le),y.LFG(y.R0b))},At.\u0275prov=y.Yz7({token:At,factory:At.\u0275fac}),At})();class Ce{constructor(Nt){this._doc=Nt}addGlobalEventListener(Nt,dt,Xt){const hn=(0,o.q)().getGlobalEventTarget(this._doc,Nt);if(!hn)throw new Error(`Unsupported event target ${hn} for event ${dt}`);return this.addEventListener(hn,dt,Xt)}}let fe=(()=>{class At{constructor(){this.usageCount=new Map}addStyles(dt){for(const Xt of dt)1===this.changeUsageCount(Xt,1)&&this.onStyleAdded(Xt)}removeStyles(dt){for(const Xt of dt)0===this.changeUsageCount(Xt,-1)&&this.onStyleRemoved(Xt)}onStyleRemoved(dt){}onStyleAdded(dt){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(dt,Xt){var hn;const Un=this.usageCount;let Hn=null!==(hn=Un.get(dt))&&void 0!==hn?hn:0;return Hn+=Xt,Hn>0?Un.set(dt,Hn):Un.delete(dt),Hn}ngOnDestroy(){for(const dt of this.getAllStyles())this.onStyleRemoved(dt);this.usageCount.clear()}}return At.\u0275fac=function(dt){return new(dt||At)},At.\u0275prov=y.Yz7({token:At,factory:At.\u0275fac}),At})(),ve=(()=>{class At extends fe{constructor(dt){super(),this.doc=dt,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(dt){for(const Xt of this.hostNodes)this.addStyleToHost(Xt,dt)}onStyleRemoved(dt){const Xt=this.styleRef,hn=Xt.get(dt);null==hn||hn.forEach(Un=>Un.remove()),Xt.delete(dt)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(dt){this.hostNodes.add(dt);for(const Xt of this.getAllStyles())this.addStyleToHost(dt,Xt)}removeHost(dt){this.hostNodes.delete(dt)}addStyleToHost(dt,Xt){const hn=this.doc.createElement("style");hn.textContent=Xt,dt.appendChild(hn);const Un=this.styleRef.get(Xt);Un?Un.push(hn):this.styleRef.set(Xt,[hn])}resetHostNodes(){const dt=this.hostNodes;dt.clear(),dt.add(this.doc.head)}}return At.\u0275fac=function(dt){return new(dt||At)(y.LFG(o.K0))},At.\u0275prov=y.Yz7({token:At,factory:At.\u0275fac}),At})();const De={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g,Ke=new y.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ze(At,Nt){return Nt.flat(100).map(dt=>dt.replace(Be,At))}function Ze(At){return Nt=>{if("__ngUnwrap__"===Nt)return At;!1===At(Nt)&&(Nt.preventDefault(),Nt.returnValue=!1)}}let ge=(()=>{class At{constructor(dt,Xt,hn,Un){this.eventManager=dt,this.sharedStylesHost=Xt,this.appId=hn,this.removeStylesOnCompDestory=Un,this.rendererByCompId=new Map,this.defaultRenderer=new pe(dt)}createRenderer(dt,Xt){if(!dt||!Xt)return this.defaultRenderer;const hn=this.getOrCreateRenderer(dt,Xt);return hn instanceof we?hn.applyToHost(dt):hn instanceof Ne&&hn.applyStyles(),hn}getOrCreateRenderer(dt,Xt){const hn=this.rendererByCompId;let Un=hn.get(Xt.id);if(!Un){const Hn=this.eventManager,ii=this.sharedStylesHost,Pr=this.removeStylesOnCompDestory;switch(Xt.encapsulation){case y.ifc.Emulated:Un=new we(Hn,ii,Xt,this.appId,Pr);break;case y.ifc.ShadowDom:return new Te(Hn,ii,dt,Xt);default:Un=new Ne(Hn,ii,Xt,Pr)}Un.onDestroy=()=>hn.delete(Xt.id),hn.set(Xt.id,Un)}return Un}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return At.\u0275fac=function(dt){return new(dt||At)(y.LFG(ke),y.LFG(ve),y.LFG(y.AFp),y.LFG(Ke))},At.\u0275prov=y.Yz7({token:At,factory:At.\u0275fac}),At})();class pe{constructor(Nt){this.eventManager=Nt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Nt,dt){return dt?document.createElementNS(De[dt]||dt,Nt):document.createElement(Nt)}createComment(Nt){return document.createComment(Nt)}createText(Nt){return document.createTextNode(Nt)}appendChild(Nt,dt){(Ae(Nt)?Nt.content:Nt).appendChild(dt)}insertBefore(Nt,dt,Xt){Nt&&(Ae(Nt)?Nt.content:Nt).insertBefore(dt,Xt)}removeChild(Nt,dt){Nt&&Nt.removeChild(dt)}selectRootElement(Nt,dt){let Xt="string"==typeof Nt?document.querySelector(Nt):Nt;if(!Xt)throw new Error(`The selector "${Nt}" did not match any elements`);return dt||(Xt.textContent=""),Xt}parentNode(Nt){return Nt.parentNode}nextSibling(Nt){return Nt.nextSibling}setAttribute(Nt,dt,Xt,hn){if(hn){dt=hn+":"+dt;const Un=De[hn];Un?Nt.setAttributeNS(Un,dt,Xt):Nt.setAttribute(dt,Xt)}else Nt.setAttribute(dt,Xt)}removeAttribute(Nt,dt,Xt){if(Xt){const hn=De[Xt];hn?Nt.removeAttributeNS(hn,dt):Nt.removeAttribute(`${Xt}:${dt}`)}else Nt.removeAttribute(dt)}addClass(Nt,dt){Nt.classList.add(dt)}removeClass(Nt,dt){Nt.classList.remove(dt)}setStyle(Nt,dt,Xt,hn){hn&(y.JOm.DashCase|y.JOm.Important)?Nt.style.setProperty(dt,Xt,hn&y.JOm.Important?"important":""):Nt.style[dt]=Xt}removeStyle(Nt,dt,Xt){Xt&y.JOm.DashCase?Nt.style.removeProperty(dt):Nt.style[dt]=""}setProperty(Nt,dt,Xt){Nt[dt]=Xt}setValue(Nt,dt){Nt.nodeValue=dt}listen(Nt,dt,Xt){return"string"==typeof Nt?this.eventManager.addGlobalEventListener(Nt,dt,Ze(Xt)):this.eventManager.addEventListener(Nt,dt,Ze(Xt))}}function Ae(At){return"TEMPLATE"===At.tagName&&void 0!==At.content}class Te extends pe{constructor(Nt,dt,Xt,hn){super(Nt),this.sharedStylesHost=dt,this.hostEl=Xt,this.shadowRoot=Xt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Un=ze(hn.id,hn.styles);for(const Hn of Un){const ii=document.createElement("style");ii.textContent=Hn,this.shadowRoot.appendChild(ii)}}nodeOrShadowRoot(Nt){return Nt===this.hostEl?this.shadowRoot:Nt}appendChild(Nt,dt){return super.appendChild(this.nodeOrShadowRoot(Nt),dt)}insertBefore(Nt,dt,Xt){return super.insertBefore(this.nodeOrShadowRoot(Nt),dt,Xt)}removeChild(Nt,dt){return super.removeChild(this.nodeOrShadowRoot(Nt),dt)}parentNode(Nt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Nt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ne extends pe{constructor(Nt,dt,Xt,hn,Un=Xt.id){super(Nt),this.sharedStylesHost=dt,this.removeStylesOnCompDestory=hn,this.rendererUsageCount=0,this.styles=ze(Un,Xt.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var Nt;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(Nt=this.onDestroy)||void 0===Nt||Nt.call(this))}}class we extends Ne{constructor(Nt,dt,Xt,hn,Un){const Hn=hn+"-"+Xt.id;super(Nt,dt,Xt,Un,Hn),this.contentAttr=function Qe(At){return"_ngcontent-%COMP%".replace(Be,At)}(Hn),this.hostAttr=function ut(At){return"_nghost-%COMP%".replace(Be,At)}(Hn)}applyToHost(Nt){this.applyStyles(),this.setAttribute(Nt,this.hostAttr,"")}createElement(Nt,dt){const Xt=super.createElement(Nt,dt);return super.setAttribute(Xt,this.contentAttr,""),Xt}}let Ve=(()=>{class At extends Ce{constructor(dt){super(dt)}supports(dt){return!0}addEventListener(dt,Xt,hn){return dt.addEventListener(Xt,hn,!1),()=>this.removeEventListener(dt,Xt,hn)}removeEventListener(dt,Xt,hn){return dt.removeEventListener(Xt,hn)}}return At.\u0275fac=function(dt){return new(dt||At)(y.LFG(o.K0))},At.\u0275prov=y.Yz7({token:At,factory:At.\u0275fac}),At})();const Ie=["alt","control","meta","shift"],Le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gt={alt:At=>At.altKey,control:At=>At.ctrlKey,meta:At=>At.metaKey,shift:At=>At.shiftKey};let bt=(()=>{class At extends Ce{constructor(dt){super(dt)}supports(dt){return null!=At.parseEventName(dt)}addEventListener(dt,Xt,hn){const Un=At.parseEventName(Xt),Hn=At.eventCallback(Un.fullKey,hn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,o.q)().onAndCancel(dt,Un.domEventName,Hn))}static parseEventName(dt){const Xt=dt.toLowerCase().split("."),hn=Xt.shift();if(0===Xt.length||"keydown"!==hn&&"keyup"!==hn)return null;const Un=At._normalizeKey(Xt.pop());let Hn="",ii=Xt.indexOf("code");if(ii>-1&&(Xt.splice(ii,1),Hn="code."),Ie.forEach(Ki=>{const zi=Xt.indexOf(Ki);zi>-1&&(Xt.splice(zi,1),Hn+=Ki+".")}),Hn+=Un,0!=Xt.length||0===Un.length)return null;const Pr={};return Pr.domEventName=hn,Pr.fullKey=Hn,Pr}static matchEventFullKeyCode(dt,Xt){let hn=Le[dt.key]||dt.key,Un="";return Xt.indexOf("code.")>-1&&(hn=dt.code,Un="code."),!(null==hn||!hn)&&(hn=hn.toLowerCase()," "===hn?hn="space":"."===hn&&(hn="dot"),Ie.forEach(Hn=>{Hn!==hn&&(0,gt[Hn])(dt)&&(Un+=Hn+".")}),Un+=hn,Un===Xt)}static eventCallback(dt,Xt,hn){return Un=>{At.matchEventFullKeyCode(Un,dt)&&hn.runGuarded(()=>Xt(Un))}}static _normalizeKey(dt){return"esc"===dt?"escape":dt}}return At.\u0275fac=function(dt){return new(dt||At)(y.LFG(o.K0))},At.\u0275prov=y.Yz7({token:At,factory:At.\u0275fac}),At})();const Cn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:o.bD},{provide:y.g9A,useValue:function st(){z.makeCurrent()},multi:!0},{provide:o.K0,useFactory:function $t(){return(0,y.RDi)(document),document},deps:[]}]),bn=new y.OlP(""),vi=[{provide:y.rWj,useClass:class se{addToWindow(Nt){y.dqk.getAngularTestability=(Xt,hn=!0)=>{const Un=Nt.findTestabilityInTree(Xt,hn);if(null==Un)throw new Error("Could not find testability for element.");return Un},y.dqk.getAllAngularTestabilities=()=>Nt.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>Nt.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(Xt=>{const hn=y.dqk.getAllAngularTestabilities();let Un=hn.length,Hn=!1;const ii=function(Pr){Hn=Hn||Pr,Un--,0==Un&&Xt(Hn)};hn.forEach(function(Pr){Pr.whenStable(ii)})})}findTestabilityInTree(Nt,dt,Xt){if(null==dt)return null;const hn=Nt.getTestability(dt);return null!=hn?hn:Xt?(0,o.q)().isShadowRoot(dt)?this.findTestabilityInTree(Nt,dt.host,!0):this.findTestabilityInTree(Nt,dt.parentElement,!0):null}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],yi=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function nn(){return new y.qLn},deps:[]},{provide:le,useClass:Ve,multi:!0,deps:[o.K0,y.R0b,y.Lbi]},{provide:le,useClass:bt,multi:!0,deps:[o.K0]},{provide:ge,useClass:ge,deps:[ke,ve,y.AFp,Ke]},{provide:y.FYo,useExisting:ge},{provide:fe,useExisting:ve},{provide:ve,useClass:ve,deps:[o.K0]},{provide:ke,useClass:ke,deps:[le,y.R0b]},{provide:o.JF,useClass:re,deps:[]},[]];let Pi=(()=>{class At{constructor(dt){}static withServerTransition(dt){return{ngModule:At,providers:[{provide:y.AFp,useValue:dt.appId},{provide:q,useExisting:y.AFp},ae]}}}return At.\u0275fac=function(dt){return new(dt||At)(y.LFG(bn,12))},At.\u0275mod=y.oAB({type:At}),At.\u0275inj=y.cJS({providers:[...yi,...vi],imports:[o.ez,y.hGG]}),At})(),Qi=(()=>{class At{constructor(dt){this._doc=dt}getTitle(){return this._doc.title}setTitle(dt){this._doc.title=dt||""}}return At.\u0275fac=function(dt){return new(dt||At)(y.LFG(o.K0))},At.\u0275prov=y.Yz7({token:At,factory:function(dt){let Xt=null;return Xt=dt?new dt:function Fr(){return new Qi((0,y.LFG)(o.K0))}(),Xt},providedIn:"root"}),At})();typeof window<"u"&&window},1407:(yt,U,R)=>{"use strict";R.d(U,{gz:()=>wi,y6:()=>wr,OD:()=>gr,GZ:()=>ma,eC:()=>bn,wN:()=>ci,F0:()=>oo,rH:()=>Es,Bz:()=>ea,Hx:()=>jt});var o=R(8256),y=R(2076),K=R(9646),z=R(1135);const X=(0,R(3888).d)(p=>function(){p(this),this.name="EmptyError",this.message="no elements in sequence"});var Z=R(9751),Y=R(4742),q=R(4671),ce=R(3268),ae=R(3269),se=R(1810),re=R(5403),le=R(9672);function ke(...p){const b=(0,ae.yG)(p),m=(0,ae.jO)(p),{args:A,keys:j}=(0,Y.D)(p);if(0===A.length)return(0,y.D)([],b);const ne=new Z.y(function Ce(p,b,m=q.y){return A=>{fe(b,()=>{const{length:j}=p,ne=new Array(j);let de=j,He=j;for(let lt=0;lt<j;lt++)fe(b,()=>{const Dt=(0,y.D)(p[lt],b);let an=!1;Dt.subscribe((0,re.x)(A,Kt=>{ne[lt]=Kt,an||(an=!0,He--),He||A.next(m(ne.slice()))},()=>{--de||A.complete()}))},A)},A)}}(A,b,j?de=>(0,se.n)(j,de):q.y));return m?ne.pipe((0,ce.Z)(m)):ne}function fe(p,b,m){p?(0,le.f)(m,p,b):b()}var ve=R(8189);function Be(...p){return function De(){return(0,ve.J)(1)}()((0,y.D)(p,(0,ae.yG)(p)))}var qe=R(8421);function Oe(p){return new Z.y(b=>{(0,qe.Xf)(p()).subscribe(b)})}var mt=R(9635),Me=R(576);function Xe(p,b){const m=(0,Me.m)(p)?p:()=>p,A=j=>j.error(m());return new Z.y(b?j=>b.schedule(A,0,j):A)}var Ke=R(515),Qe=R(727),ut=R(4482);function ze(){return(0,ut.e)((p,b)=>{let m=null;p._refCount++;const A=(0,re.x)(b,void 0,void 0,void 0,()=>{if(!p||p._refCount<=0||0<--p._refCount)return void(m=null);const j=p._connection,ne=m;m=null,j&&(!ne||j===ne)&&j.unsubscribe(),b.unsubscribe()});p.subscribe(A),A.closed||(m=p.connect())})}class Ze extends Z.y{constructor(b,m){super(),this.source=b,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,ut.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,null==b||b.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new Qe.w0;const m=this.getSubject();b.add(this.source.subscribe((0,re.x)(m,void 0,()=>{this._teardown(),m.complete()},A=>{this._teardown(),m.error(A)},()=>this._teardown()))),b.closed&&(this._connection=null,b=Qe.w0.EMPTY)}return b}refCount(){return ze()(this)}}var ge=R(7579),pe=R(6895),Se=R(4004),xe=R(3900);function Ae(p){return p<=0?()=>Ke.E:(0,ut.e)((b,m)=>{let A=0;b.subscribe((0,re.x)(m,j=>{++A<=p&&(m.next(j),p<=A&&m.complete())}))})}var Ne=R(9300),we=R(5577);function Ve(p){return(0,ut.e)((b,m)=>{let A=!1;b.subscribe((0,re.x)(m,j=>{A=!0,m.next(j)},()=>{A||m.next(p),m.complete()}))})}function Ie(p=Le){return(0,ut.e)((b,m)=>{let A=!1;b.subscribe((0,re.x)(m,j=>{A=!0,m.next(j)},()=>A?m.complete():m.error(p())))})}function Le(){return new X}function gt(p,b){const m=arguments.length>=2;return A=>A.pipe(p?(0,Ne.h)((j,ne)=>p(j,ne,A)):q.y,Ae(1),m?Ve(b):Ie(()=>new X))}var bt=R(4351);function Mt(p,b,m){const A=(0,Me.m)(p)||b||m?{next:p,error:b,complete:m}:p;return A?(0,ut.e)((j,ne)=>{var de;null===(de=A.subscribe)||void 0===de||de.call(A);let He=!0;j.subscribe((0,re.x)(ne,lt=>{var Dt;null===(Dt=A.next)||void 0===Dt||Dt.call(A,lt),ne.next(lt)},()=>{var lt;He=!1,null===(lt=A.complete)||void 0===lt||lt.call(A),ne.complete()},lt=>{var Dt;He=!1,null===(Dt=A.error)||void 0===Dt||Dt.call(A,lt),ne.error(lt)},()=>{var lt,Dt;He&&(null===(lt=A.unsubscribe)||void 0===lt||lt.call(A)),null===(Dt=A.finalize)||void 0===Dt||Dt.call(A)}))}):q.y}function un(p){return(0,ut.e)((b,m)=>{let ne,A=null,j=!1;A=b.subscribe((0,re.x)(m,void 0,void 0,de=>{ne=(0,qe.Xf)(p(de,un(p)(b))),A?(A.unsubscribe(),A=null,ne.subscribe(m)):j=!0})),j&&(A.unsubscribe(),A=null,ne.subscribe(m))})}function tn(p,b){return(0,ut.e)(function En(p,b,m,A,j){return(ne,de)=>{let He=m,lt=b,Dt=0;ne.subscribe((0,re.x)(de,an=>{const Kt=Dt++;lt=He?p(lt,an,Kt):(He=!0,an),A&&de.next(lt)},j&&(()=>{He&&de.next(lt),de.complete()})))}}(p,b,arguments.length>=2,!0))}function Ct(p){return p<=0?()=>Ke.E:(0,ut.e)((b,m)=>{let A=[];b.subscribe((0,re.x)(m,j=>{A.push(j),p<A.length&&A.shift()},()=>{for(const j of A)m.next(j);m.complete()},void 0,()=>{A=null}))})}function st(p,b){const m=arguments.length>=2;return A=>A.pipe(p?(0,Ne.h)((j,ne)=>p(j,ne,A)):q.y,Ct(1),m?Ve(b):Ie(()=>new X))}function vn(p){return(0,ut.e)((b,m)=>{try{b.subscribe(m)}finally{m.add(p)}})}var Cn=R(1481);const bn="primary",vi=Symbol("RouteTitle");class yi{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const m=this.params[b];return Array.isArray(m)?m[0]:m}return null}getAll(b){if(this.has(b)){const m=this.params[b];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Pi(p){return new yi(p)}function Ji(p,b,m){const A=m.path.split("/");if(A.length>p.length||"full"===m.pathMatch&&(b.hasChildren()||A.length<p.length))return null;const j={};for(let ne=0;ne<A.length;ne++){const de=A[ne],He=p[ne];if(de.startsWith(":"))j[de.substring(1)]=He;else if(de!==He.path)return null}return{consumed:p.slice(0,A.length),posParams:j}}function ir(p,b){const m=p?Object.keys(p):void 0,A=b?Object.keys(b):void 0;if(!m||!A||m.length!=A.length)return!1;let j;for(let ne=0;ne<m.length;ne++)if(j=m[ne],!Fr(p[j],b[j]))return!1;return!0}function Fr(p,b){if(Array.isArray(p)&&Array.isArray(b)){if(p.length!==b.length)return!1;const m=[...p].sort(),A=[...b].sort();return m.every((j,ne)=>A[ne]===j)}return p===b}function Qi(p){return Array.prototype.concat.apply([],p)}function Sn(p){return p.length>0?p[p.length-1]:null}function xt(p,b){for(const m in p)p.hasOwnProperty(m)&&b(p[m],m)}function Pt(p){return(0,o.CqO)(p)?p:(0,o.QGY)(p)?(0,y.D)(Promise.resolve(p)):(0,K.of)(p)}const nt=!1,dn={exact:function qn(p,b,m){if(!gn(p.segments,b.segments)||!dr(p.segments,b.segments,m)||p.numberOfChildren!==b.numberOfChildren)return!1;for(const A in b.children)if(!p.children[A]||!qn(p.children[A],b.children[A],m))return!1;return!0},subset:Ti},en={exact:function at(p,b){return ir(p,b)},subset:function Nn(p,b){return Object.keys(b).length<=Object.keys(p).length&&Object.keys(b).every(m=>Fr(p[m],b[m]))},ignored:()=>!0};function Lt(p,b,m){return dn[m.paths](p.root,b.root,m.matrixParams)&&en[m.queryParams](p.queryParams,b.queryParams)&&!("exact"===m.fragment&&p.fragment!==b.fragment)}function Ti(p,b,m){return Qn(p,b,b.segments,m)}function Qn(p,b,m,A){if(p.segments.length>m.length){const j=p.segments.slice(0,m.length);return!(!gn(j,m)||b.hasChildren()||!dr(j,m,A))}if(p.segments.length===m.length){if(!gn(p.segments,m)||!dr(p.segments,m,A))return!1;for(const j in b.children)if(!p.children[j]||!Ti(p.children[j],b.children[j],A))return!1;return!0}{const j=m.slice(0,p.segments.length),ne=m.slice(p.segments.length);return!!(gn(p.segments,j)&&dr(p.segments,j,A)&&p.children[bn])&&Qn(p.children[bn],b,ne,A)}}function dr(p,b,m){return b.every((A,j)=>en[m](p[j].parameters,A.parameters))}class Zi{constructor(b=new Zt([],{}),m={},A=null){this.root=b,this.queryParams=m,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pi(this.queryParams)),this._queryParamMap}toString(){return ai.serialize(this)}}class Zt{constructor(b,m){this.segments=b,this.children=m,this.parent=null,xt(m,(A,j)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ti(this)}}class _t{constructor(b,m){this.path=b,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Pi(this.parameters)),this._parameterMap}toString(){return Un(this)}}function gn(p,b){return p.length===b.length&&p.every((m,A)=>m.path===b[A].path)}let jt=(()=>{class p{}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:function(){return new Yn},providedIn:"root"}),p})();class Yn{parse(b){const m=new Eo(b);return new Zi(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(b){const m=`/${Vi(b.root,!0)}`,A=function ii(p){const b=Object.keys(p).map(m=>{const A=p[m];return Array.isArray(A)?A.map(j=>`${At(m)}=${At(j)}`).join("&"):`${At(m)}=${At(A)}`}).filter(m=>!!m);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${m}${A}${"string"==typeof b.fragment?`#${function Nt(p){return encodeURI(p)}(b.fragment)}`:""}`}}const ai=new Yn;function ti(p){return p.segments.map(b=>Un(b)).join("/")}function Vi(p,b){if(!p.hasChildren())return ti(p);if(b){const m=p.children[bn]?Vi(p.children[bn],!1):"",A=[];return xt(p.children,(j,ne)=>{ne!==bn&&A.push(`${ne}:${Vi(j,!1)}`)}),A.length>0?`${m}(${A.join("//")})`:m}{const m=function yn(p,b){let m=[];return xt(p.children,(A,j)=>{j===bn&&(m=m.concat(b(A,j)))}),xt(p.children,(A,j)=>{j!==bn&&(m=m.concat(b(A,j)))}),m}(p,(A,j)=>j===bn?[Vi(p.children[bn],!1)]:[`${j}:${Vi(A,!1)}`]);return 1===Object.keys(p.children).length&&null!=p.children[bn]?`${ti(p)}/${m[0]}`:`${ti(p)}/(${m.join("//")})`}}function er(p){return encodeURIComponent(p).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function At(p){return er(p).replace(/%3B/gi,";")}function dt(p){return er(p).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xt(p){return decodeURIComponent(p)}function hn(p){return Xt(p.replace(/\+/g,"%20"))}function Un(p){return`${dt(p.path)}${function Hn(p){return Object.keys(p).map(b=>`;${dt(b)}=${dt(p[b])}`).join("")}(p.parameters)}`}const Pr=/^[^\/()?;=#]+/;function Ki(p){const b=p.match(Pr);return b?b[0]:""}const zi=/^[^=?&#]+/,Rr=/^[^&#]+/;class Eo{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(b.length>0||Object.keys(m).length>0)&&(A[bn]=new Zt(b,m)),A}parseSegment(){const b=Ki(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new o.vHH(4009,nt);return this.capture(b),new _t(Xt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const m=Ki(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const j=Ki(this.remaining);j&&(A=j,this.capture(A))}b[Xt(m)]=Xt(A)}parseQueryParam(b){const m=function Gi(p){const b=p.match(zi);return b?b[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const de=function Nr(p){const b=p.match(Rr);return b?b[0]:""}(this.remaining);de&&(A=de,this.capture(A))}const j=hn(m),ne=hn(A);if(b.hasOwnProperty(j)){let de=b[j];Array.isArray(de)||(de=[de],b[j]=de),de.push(ne)}else b[j]=ne}parseParens(b){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Ki(this.remaining),j=this.remaining[A.length];if("/"!==j&&")"!==j&&";"!==j)throw new o.vHH(4010,nt);let ne;A.indexOf(":")>-1?(ne=A.slice(0,A.indexOf(":")),this.capture(ne),this.capture(":")):b&&(ne=bn);const de=this.parseChildren();m[ne]=1===Object.keys(de).length?de[bn]:new Zt([],de),this.consumeOptional("//")}return m}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new o.vHH(4011,nt)}}function vo(p){return p.segments.length>0?new Zt([],{[bn]:p}):p}function yr(p){const b={};for(const A of Object.keys(p.children)){const ne=yr(p.children[A]);(ne.segments.length>0||ne.hasChildren())&&(b[A]=ne)}return function kr(p){if(1===p.numberOfChildren&&p.children[bn]){const b=p.children[bn];return new Zt(p.segments.concat(b.segments),b.children)}return p}(new Zt(p.segments,b))}function fr(p){return p instanceof Zi}const tr=!1;function ho(p,b,m,A,j){var ne;if(0===m.length)return Ei(b.root,b.root,b.root,A,j);const de=function Dr(p){if("string"==typeof p[0]&&1===p.length&&"/"===p[0])return new Br(!0,0,p);let b=0,m=!1;const A=p.reduce((j,ne,de)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const He={};return xt(ne.outlets,(lt,Dt)=>{He[Dt]="string"==typeof lt?lt.split("/"):lt}),[...j,{outlets:He}]}if(ne.segmentPath)return[...j,ne.segmentPath]}return"string"!=typeof ne?[...j,ne]:0===de?(ne.split("/").forEach((He,lt)=>{0==lt&&"."===He||(0==lt&&""===He?m=!0:".."===He?b++:""!=He&&j.push(He))}),j):[...j,ne]},[]);return new Br(m,b,A)}(m);return de.toRoot()?Ei(b.root,b.root,new Zt([],{}),A,j):function He(Dt){var an;const Kt=function tt(p,b,m,A){if(p.isAbsolute)return new no(b.root,!0,0);if(-1===A)return new no(m,m===b.root,0);return function ht(p,b,m){let A=p,j=b,ne=m;for(;ne>j;){if(ne-=j,A=A.parent,!A)throw new o.vHH(4005,tr&&"Invalid number of '../'");j=A.segments.length}return new no(A,!1,j-ne)}(m,A+(nr(p.commands[0])?0:1),p.numberOfDoubleDots)}(de,b,null===(an=p.snapshot)||void 0===an?void 0:an._urlSegment,Dt),In=Kt.processChildren?rt(Kt.segmentGroup,Kt.index,de.commands):Qt(Kt.segmentGroup,Kt.index,de.commands);return Ei(b.root,Kt.segmentGroup,In,A,j)}(null===(ne=p.snapshot)||void 0===ne?void 0:ne._lastPathIndex)}function nr(p){return"object"==typeof p&&null!=p&&!p.outlets&&!p.segmentPath}function Oi(p){return"object"==typeof p&&null!=p&&p.outlets}function Ei(p,b,m,A,j){let de,ne={};A&&xt(A,(lt,Dt)=>{ne[Dt]=Array.isArray(lt)?lt.map(an=>`${an}`):`${lt}`}),de=p===b?m:di(p,b,m);const He=vo(yr(de));return new Zi(He,ne,j)}function di(p,b,m){const A={};return xt(p.children,(j,ne)=>{A[ne]=j===b?m:di(j,b,m)}),new Zt(p.segments,A)}class Br{constructor(b,m,A){if(this.isAbsolute=b,this.numberOfDoubleDots=m,this.commands=A,b&&A.length>0&&nr(A[0]))throw new o.vHH(4003,tr&&"Root segment cannot have matrix parameters");const j=A.find(Oi);if(j&&j!==Sn(A))throw new o.vHH(4004,tr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class no{constructor(b,m,A){this.segmentGroup=b,this.processChildren=m,this.index=A}}function Qt(p,b,m){if(p||(p=new Zt([],{})),0===p.segments.length&&p.hasChildren())return rt(p,b,m);const A=function Vt(p,b,m){let A=0,j=b;const ne={match:!1,pathIndex:0,commandIndex:0};for(;j<p.segments.length;){if(A>=m.length)return ne;const de=p.segments[j],He=m[A];if(Oi(He))break;const lt=`${He}`,Dt=A<m.length-1?m[A+1]:null;if(j>0&&void 0===lt)break;if(lt&&Dt&&"object"==typeof Dt&&void 0===Dt.outlets){if(!jn(lt,Dt,de))return ne;A+=2}else{if(!jn(lt,{},de))return ne;A++}j++}return{match:!0,pathIndex:j,commandIndex:A}}(p,b,m),j=m.slice(A.commandIndex);if(A.match&&A.pathIndex<p.segments.length){const ne=new Zt(p.segments.slice(0,A.pathIndex),{});return ne.children[bn]=new Zt(p.segments.slice(A.pathIndex),p.children),rt(ne,0,j)}return A.match&&0===j.length?new Zt(p.segments,{}):A.match&&!p.hasChildren()?Yt(p,b,m):A.match?rt(p,0,j):Yt(p,b,m)}function rt(p,b,m){if(0===m.length)return new Zt(p.segments,{});{const A=function Rt(p){return Oi(p[0])?p[0].outlets:{[bn]:p}}(m),j={};if(!A[bn]&&p.children[bn]&&1===p.numberOfChildren&&0===p.children[bn].segments.length){const ne=rt(p.children[bn],b,m);return new Zt(p.segments,ne.children)}return xt(A,(ne,de)=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(j[de]=Qt(p.children[de],b,ne))}),xt(p.children,(ne,de)=>{void 0===A[de]&&(j[de]=ne)}),new Zt(p.segments,j)}}function Yt(p,b,m){const A=p.segments.slice(0,b);let j=0;for(;j<m.length;){const ne=m[j];if(Oi(ne)){const lt=mn(ne.outlets);return new Zt(A,lt)}if(0===j&&nr(m[0])){A.push(new _t(p.segments[b].path,sn(m[0]))),j++;continue}const de=Oi(ne)?ne.outlets[bn]:`${ne}`,He=j<m.length-1?m[j+1]:null;de&&He&&nr(He)?(A.push(new _t(de,sn(He))),j+=2):(A.push(new _t(de,{})),j++)}return new Zt(A,{})}function mn(p){const b={};return xt(p,(m,A)=>{"string"==typeof m&&(m=[m]),null!==m&&(b[A]=Yt(new Zt([],{}),0,m))}),b}function sn(p){const b={};return xt(p,(m,A)=>b[A]=`${m}`),b}function jn(p,b,m){return p==m.path&&ir(b,m.parameters)}const oi="imperative";class An{constructor(b,m){this.id=b,this.url=m}}class gr extends An{constructor(b,m,A="imperative",j=null){super(b,m),this.type=0,this.navigationTrigger=A,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lr extends An{constructor(b,m,A){super(b,m),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fo extends An{constructor(b,m,A,j){super(b,m),this.reason=A,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mi extends An{constructor(b,m,A,j){super(b,m),this.reason=A,this.code=j,this.type=16}}class Ir extends An{constructor(b,m,A,j){super(b,m),this.error=A,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mr extends An{constructor(b,m,A,j){super(b,m),this.urlAfterRedirects=A,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class io extends An{constructor(b,m,A,j){super(b,m),this.urlAfterRedirects=A,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ao extends An{constructor(b,m,A,j,ne){super(b,m),this.urlAfterRedirects=A,this.state=j,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class To extends An{constructor(b,m,A,j){super(b,m),this.urlAfterRedirects=A,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zo extends An{constructor(b,m,A,j){super(b,m),this.urlAfterRedirects=A,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $i{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ue{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wt{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(b,m,A){this.routerEvent=b,this.position=m,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Tn=(()=>{class p{createUrlTree(m,A,j,ne,de,He){return ho(m||A.root,j,ne,de,He)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac}),p})(),wn=(()=>{class p{}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:function(b){return Tn.\u0275fac(b)},providedIn:"root"}),p})();class ei{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const m=this.pathFromRoot(b);return m.length>1?m[m.length-2]:null}children(b){const m=Yi(b,this._root);return m?m.children.map(A=>A.value):[]}firstChild(b){const m=Yi(b,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(b){const m=_i(b,this._root);return m.length<2?[]:m[m.length-2].children.map(j=>j.value).filter(j=>j!==b)}pathFromRoot(b){return _i(b,this._root).map(m=>m.value)}}function Yi(p,b){if(p===b.value)return b;for(const m of b.children){const A=Yi(p,m);if(A)return A}return null}function _i(p,b){if(p===b.value)return[b];for(const m of b.children){const A=_i(p,m);if(A.length)return A.unshift(b),A}return[]}class mi{constructor(b,m){this.value=b,this.children=m}toString(){return`TreeNode(${this.value})`}}function Tr(p){const b={};return p&&p.children.forEach(m=>b[m.value.outlet]=m),b}class Ur extends ei{constructor(b,m){super(b),this.snapshot=m,Gr(this,b)}toString(){return this.snapshot.toString()}}function sr(p,b){const m=function xr(p,b){const de=new Bi([],{},{},"",{},bn,b,null,p.root,-1,{});return new Mr("",new mi(de,[]))}(p,b),A=new z.X([new _t("",{})]),j=new z.X({}),ne=new z.X({}),de=new z.X({}),He=new z.X(""),lt=new wi(A,j,de,He,ne,bn,b,m.root);return lt.snapshot=m.root,new Ur(new mi(lt,[]),m)}class wi{constructor(b,m,A,j,ne,de,He,lt){var Dt,an;this.url=b,this.params=m,this.queryParams=A,this.fragment=j,this.data=ne,this.outlet=de,this.component=He,this.title=null!==(Dt=null===(an=this.data)||void 0===an?void 0:an.pipe((0,Se.U)(Kt=>Kt[vi])))&&void 0!==Dt?Dt:(0,K.of)(void 0),this._futureSnapshot=lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(b=>Pi(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(b=>Pi(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function br(p,b="emptyOnly"){const m=p.pathFromRoot;let A=0;if("always"!==b)for(A=m.length-1;A>=1;){const j=m[A],ne=m[A-1];if(j.routeConfig&&""===j.routeConfig.path)A--;else{if(ne.component)break;A--}}return function zn(p){return p.reduce((b,m)=>{var A;return{params:{...b.params,...m.params},data:{...b.data,...m.data},resolve:{...m.data,...b.resolve,...null===(A=m.routeConfig)||void 0===A?void 0:A.data,...m._resolvedData}}},{params:{},data:{},resolve:{}})}(m.slice(A))}class Bi{get title(){var b;return null===(b=this.data)||void 0===b?void 0:b[vi]}constructor(b,m,A,j,ne,de,He,lt,Dt,an,Kt){this.url=b,this.params=m,this.queryParams=A,this.fragment=j,this.data=ne,this.outlet=de,this.component=He,this.routeConfig=lt,this._urlSegment=Dt,this._lastPathIndex=an,this._resolve=Kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mr extends ei{constructor(b,m){super(m),this.url=b,Gr(this,m)}toString(){return vr(this._root)}}function Gr(p,b){b.value._routerState=p,b.children.forEach(m=>Gr(p,m))}function vr(p){const b=p.children.length>0?` { ${p.children.map(vr).join(", ")} } `:"";return`${p.value}${b}`}function go(p){if(p.snapshot){const b=p.snapshot,m=p._futureSnapshot;p.snapshot=m,ir(b.queryParams,m.queryParams)||p.queryParams.next(m.queryParams),b.fragment!==m.fragment&&p.fragment.next(m.fragment),ir(b.params,m.params)||p.params.next(m.params),function Or(p,b){if(p.length!==b.length)return!1;for(let m=0;m<p.length;++m)if(!ir(p[m],b[m]))return!1;return!0}(b.url,m.url)||p.url.next(m.url),ir(b.data,m.data)||p.data.next(m.data)}else p.snapshot=p._futureSnapshot,p.data.next(p._futureSnapshot.data)}function lo(p,b){const m=ir(p.params,b.params)&&function Ut(p,b){return gn(p,b)&&p.every((m,A)=>ir(m.parameters,b[A].parameters))}(p.url,b.url);return m&&!(!p.parent!=!b.parent)&&(!p.parent||lo(p.parent,b.parent))}function eo(p,b,m){if(m&&p.shouldReuseRoute(b.value,m.value.snapshot)){const A=m.value;A._futureSnapshot=b.value;const j=function qr(p,b,m){return b.children.map(A=>{for(const j of m.children)if(p.shouldReuseRoute(A.value,j.value.snapshot))return eo(p,A,j);return eo(p,A)})}(p,b,m);return new mi(A,j)}{if(p.shouldAttach(b.value)){const ne=p.retrieve(b.value);if(null!==ne){const de=ne.route;return de.value._futureSnapshot=b.value,de.children=b.children.map(He=>eo(p,He)),de}}const A=function xi(p){return new wi(new z.X(p.url),new z.X(p.params),new z.X(p.queryParams),new z.X(p.fragment),new z.X(p.data),p.outlet,p.component,p)}(b.value),j=b.children.map(ne=>eo(p,ne));return new mi(A,j)}}const yo="ngNavigationCancelingError";function Vr(p,b){const{redirectTo:m,navigationBehaviorOptions:A}=fr(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,j=ro(!1,0,b);return j.url=m,j.navigationBehaviorOptions=A,j}function ro(p,b,m){const A=new Error("NavigationCancelingError: "+(p||""));return A[yo]=!0,A.cancellationCode=b,m&&(A.url=m),A}function Hr(p){return Po(p)&&fr(p.url)}function Po(p){return p&&p[yo]}class Lo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new wr,this.attachRef=null}}let wr=(()=>{class p{constructor(){this.contexts=new Map}onChildOutletCreated(m,A){const j=this.getOrCreateContext(m);j.outlet=A,this.contexts.set(m,j)}onChildOutletDestroyed(m){const A=this.getContext(m);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let A=this.getContext(m);return A||(A=new Lo,this.contexts.set(m,A)),A}getContext(m){return this.contexts.get(m)||null}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const $o=!1;let No=(()=>{class p{constructor(){this.activated=null,this._activatedRoute=null,this.name=bn,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(wr),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb)}ngOnChanges(m){if(m.name){const{firstChange:A,previousValue:j}=m.name;if(A)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){var A;return(null===(A=this.parentContexts.getContext(m))||void 0===A?void 0:A.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);null!=m&&m.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,$o);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,$o);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,$o);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,A){this.activated=m,this._activatedRoute=A,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,A){if(this.isActivated)throw new o.vHH(4013,$o);this._activatedRoute=m;const j=this.location,de=m.snapshot.component,He=this.parentContexts.getOrCreateContext(this.name).children,lt=new Go(m,He,j.injector);if(A&&function ko(p){return!!p.resolveComponentFactory}(A)){const Dt=A.resolveComponentFactory(de);this.activated=j.createComponent(Dt,j.length,lt)}else this.activated=j.createComponent(de,{index:j.length,injector:lt,environmentInjector:null!=A?A:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275dir=o.lG2({type:p,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),p})();class Go{constructor(b,m,A){this.route=b,this.childContexts=m,this.parent=A}get(b,m){return b===wi?this.route:b===wr?this.childContexts:this.parent.get(b,m)}}let Xr=(()=>{class p{}return p.\u0275fac=function(m){return new(m||p)},p.\u0275cmp=o.Xpm({type:p,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(m,A){1&m&&o._UZ(0,"router-outlet")},dependencies:[No],encapsulation:2}),p})();function Bo(p,b){var m;return p.providers&&!p._injector&&(p._injector=(0,o.MMx)(p.providers,b,`Route: ${p.path}`)),null!==(m=p._injector)&&void 0!==m?m:b}function et(p){const b=p.children&&p.children.map(et),m=b?{...p,children:b}:{...p};return!m.component&&!m.loadComponent&&(b||m.loadChildren)&&m.outlet&&m.outlet!==bn&&(m.component=Xr),m}function ct(p){return p.outlet||bn}function Et(p,b){const m=p.filter(A=>ct(A)===b);return m.push(...p.filter(A=>ct(A)!==b)),m}function Ft(p){var b;if(!p)return null;if(null!==(b=p.routeConfig)&&void 0!==b&&b._injector)return p.routeConfig._injector;for(let m=p.parent;m;m=m.parent){const A=m.routeConfig;if(null!=A&&A._loadedInjector)return A._loadedInjector;if(null!=A&&A._injector)return A._injector}return null}class rn{constructor(b,m,A,j){this.routeReuseStrategy=b,this.futureState=m,this.currState=A,this.forwardEvent=j}activate(b){const m=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,A,b),go(this.futureState.root),this.activateChildRoutes(m,A,b)}deactivateChildRoutes(b,m,A){const j=Tr(m);b.children.forEach(ne=>{const de=ne.value.outlet;this.deactivateRoutes(ne,j[de],A),delete j[de]}),xt(j,(ne,de)=>{this.deactivateRouteAndItsChildren(ne,A)})}deactivateRoutes(b,m,A){const j=b.value,ne=m?m.value:null;if(j===ne)if(j.component){const de=A.getContext(j.outlet);de&&this.deactivateChildRoutes(b,m,de.children)}else this.deactivateChildRoutes(b,m,A);else ne&&this.deactivateRouteAndItsChildren(m,A)}deactivateRouteAndItsChildren(b,m){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,m):this.deactivateRouteAndOutlet(b,m)}detachAndStoreRouteSubtree(b,m){const A=m.getContext(b.value.outlet),j=A&&b.value.component?A.children:m,ne=Tr(b);for(const de of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[de],j);if(A&&A.outlet){const de=A.outlet.detach(),He=A.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:de,route:b,contexts:He})}}deactivateRouteAndOutlet(b,m){const A=m.getContext(b.value.outlet),j=A&&b.value.component?A.children:m,ne=Tr(b);for(const de of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[de],j);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(b,m,A){const j=Tr(m);b.children.forEach(ne=>{this.activateRoutes(ne,j[ne.value.outlet],A),this.forwardEvent(new Wt(ne.value.snapshot))}),b.children.length&&this.forwardEvent(new ot(b.value.snapshot))}activateRoutes(b,m,A){const j=b.value,ne=m?m.value:null;if(go(j),j===ne)if(j.component){const He=A.getOrCreateContext(j.outlet);this.activateChildRoutes(b,m,He.children)}else this.activateChildRoutes(b,m,A);else if(j.component){const He=A.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const lt=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),He.children.onOutletReAttached(lt.contexts),He.attachRef=lt.componentRef,He.route=lt.route.value,He.outlet&&He.outlet.attach(lt.componentRef,lt.route.value),go(lt.route.value),this.activateChildRoutes(b,null,He.children)}else{var de;const lt=Ft(j.snapshot),Dt=null!==(de=null==lt?void 0:lt.get(o._Vd))&&void 0!==de?de:null;He.attachRef=null,He.route=j,He.resolver=Dt,He.injector=lt,He.outlet&&He.outlet.activateWith(j,He.injector),this.activateChildRoutes(b,null,He.children)}}else this.activateChildRoutes(b,null,A)}}class Mn{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Rn{constructor(b,m){this.component=b,this.route=m}}function Ii(p,b,m){const A=p._root;return ye(A,b?b._root:null,m,[A.value])}function Xn(p,b){const m=Symbol(),A=b.get(p,m);return A===m?"function"!=typeof p||(0,o.Z0I)(p)?b.get(p):p:A}function ye(p,b,m,A,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=Tr(b);return p.children.forEach(de=>{(function oe(p,b,m,A,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=p.value,de=b?b.value:null,He=m?m.getContext(p.value.outlet):null;if(de&&ne.routeConfig===de.routeConfig){const lt=function M(p,b,m){if("function"==typeof m)return m(p,b);switch(m){case"pathParamsChange":return!gn(p.url,b.url);case"pathParamsOrQueryParamsChange":return!gn(p.url,b.url)||!ir(p.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lo(p,b)||!ir(p.queryParams,b.queryParams);default:return!lo(p,b)}}(de,ne,ne.routeConfig.runGuardsAndResolvers);lt?j.canActivateChecks.push(new Mn(A)):(ne.data=de.data,ne._resolvedData=de._resolvedData),ye(p,b,ne.component?He?He.children:null:m,A,j),lt&&He&&He.outlet&&He.outlet.isActivated&&j.canDeactivateChecks.push(new Rn(He.outlet.component,de))}else de&&N(b,He,j),j.canActivateChecks.push(new Mn(A)),ye(p,null,ne.component?He?He.children:null:m,A,j)})(de,ne[de.value.outlet],m,A.concat([de.value]),j),delete ne[de.value.outlet]}),xt(ne,(de,He)=>N(de,m.getContext(He),j)),j}function N(p,b,m){const A=Tr(p),j=p.value;xt(A,(ne,de)=>{N(ne,j.component?b?b.children.getContext(de):null:b,m)}),m.canDeactivateChecks.push(new Rn(j.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,j))}function h(p){return"function"==typeof p}function $n(p){return p instanceof X||"EmptyError"===(null==p?void 0:p.name)}const hi=Symbol("INITIAL_VALUE");function Ci(){return(0,xe.w)(p=>ke(p.map(b=>b.pipe(Ae(1),function Te(...p){const b=(0,ae.yG)(p);return(0,ut.e)((m,A)=>{(b?Be(p,m,b):Be(p,m)).subscribe(A)})}(hi)))).pipe((0,Se.U)(b=>{for(const m of b)if(!0!==m){if(m===hi)return hi;if(!1===m||m instanceof Zi)return m}return!0}),(0,Ne.h)(b=>b!==hi),Ae(1)))}function Do(p){return(0,mt.z)(Mt(b=>{if(fr(b))throw Vr(0,b)}),(0,Se.U)(b=>!0===b))}const ts={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ss(p,b,m,A,j){const ne=Ps(p,b,m);return ne.matched?function fs(p,b,m,A){const j=b.canMatch;if(!j||0===j.length)return(0,K.of)(!0);const ne=j.map(de=>{const He=Xn(de,p);return Pt(function Ot(p){return p&&h(p.canMatch)}(He)?He.canMatch(b,m):p.runInContext(()=>He(b,m)))});return(0,K.of)(ne).pipe(Ci(),Do())}(A=Bo(b,A),b,m).pipe((0,Se.U)(de=>!0===de?ne:{...ts})):(0,K.of)(ne)}function Ps(p,b,m){var A;if(""===b.path)return"full"===b.pathMatch&&(p.hasChildren()||m.length>0)?{...ts}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const ne=(b.matcher||Ji)(m,p,b);if(!ne)return{...ts};const de={};xt(ne.posParams,(lt,Dt)=>{de[Dt]=lt.path});const He=ne.consumed.length>0?{...de,...ne.consumed[ne.consumed.length-1].parameters}:de;return{matched:!0,consumedSegments:ne.consumed,remainingSegments:m.slice(ne.consumed.length),parameters:He,positionalParamSegments:null!==(A=ne.posParams)&&void 0!==A?A:{}}}function os(p,b,m,A){if(m.length>0&&function Is(p,b,m){return m.some(A=>Ls(p,b,A)&&ct(A)!==bn)}(p,m,A)){const ne=new Zt(b,function Rs(p,b,m,A){const j={};j[bn]=A,A._sourceSegment=p,A._segmentIndexShift=b.length;for(const ne of m)if(""===ne.path&&ct(ne)!==bn){const de=new Zt([],{});de._sourceSegment=p,de._segmentIndexShift=b.length,j[ct(ne)]=de}return j}(p,b,A,new Zt(m,p.children)));return ne._sourceSegment=p,ne._segmentIndexShift=b.length,{segmentGroup:ne,slicedSegments:[]}}if(0===m.length&&function ms(p,b,m){return m.some(A=>Ls(p,b,A))}(p,m,A)){const ne=new Zt(p.segments,function Ms(p,b,m,A,j){const ne={};for(const de of A)if(Ls(p,m,de)&&!j[ct(de)]){const He=new Zt([],{});He._sourceSegment=p,He._segmentIndexShift=b.length,ne[ct(de)]=He}return{...j,...ne}}(p,b,m,A,p.children));return ne._sourceSegment=p,ne._segmentIndexShift=b.length,{segmentGroup:ne,slicedSegments:m}}const j=new Zt(p.segments,p.children);return j._sourceSegment=p,j._segmentIndexShift=b.length,{segmentGroup:j,slicedSegments:m}}function Ls(p,b,m){return(!(p.hasChildren()||b.length>0)||"full"!==m.pathMatch)&&""===m.path}function ns(p,b,m,A){return!!(ct(p)===A||A!==bn&&Ls(b,m,p))&&("**"===p.path||Ps(b,p,m).matched)}function is(p,b,m){return 0===b.length&&!p.children[m]}const Fs=!1;class ws{constructor(b){this.segmentGroup=b||null}}class Ns{constructor(b){this.urlTree=b}}function as(p){return Xe(new ws(p))}function As(p){return Xe(new Ns(p))}class Mo{constructor(b,m,A,j,ne){this.injector=b,this.configLoader=m,this.urlSerializer=A,this.urlTree=j,this.config=ne,this.allowRedirects=!0}apply(){const b=os(this.urlTree.root,[],[],this.config).segmentGroup,m=new Zt(b.segments,b.children);return this.expandSegmentGroup(this.injector,this.config,m,bn).pipe((0,Se.U)(ne=>this.createUrlTree(yr(ne),this.urlTree.queryParams,this.urlTree.fragment))).pipe(un(ne=>{if(ne instanceof Ns)return this.allowRedirects=!1,this.match(ne.urlTree);throw ne instanceof ws?this.noMatchError(ne):ne}))}match(b){return this.expandSegmentGroup(this.injector,this.config,b.root,bn).pipe((0,Se.U)(j=>this.createUrlTree(yr(j),b.queryParams,b.fragment))).pipe(un(j=>{throw j instanceof ws?this.noMatchError(j):j}))}noMatchError(b){return new o.vHH(4002,Fs)}createUrlTree(b,m,A){const j=vo(b);return new Zi(j,m,A)}expandSegmentGroup(b,m,A,j){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(b,m,A).pipe((0,Se.U)(ne=>new Zt([],ne))):this.expandSegment(b,A,m,A.segments,j,!0)}expandChildren(b,m,A){const j=[];for(const ne of Object.keys(A.children))"primary"===ne?j.unshift(ne):j.push(ne);return(0,y.D)(j).pipe((0,bt.b)(ne=>{const de=A.children[ne],He=Et(m,ne);return this.expandSegmentGroup(b,He,de,ne).pipe((0,Se.U)(lt=>({segment:lt,outlet:ne})))}),tn((ne,de)=>(ne[de.outlet]=de.segment,ne),{}),st())}expandSegment(b,m,A,j,ne,de){return(0,y.D)(A).pipe((0,bt.b)(He=>this.expandSegmentAgainstRoute(b,m,A,He,j,ne,de).pipe(un(Dt=>{if(Dt instanceof ws)return(0,K.of)(null);throw Dt}))),gt(He=>!!He),un((He,lt)=>{if($n(He))return is(m,j,ne)?(0,K.of)(new Zt([],{})):as(m);throw He}))}expandSegmentAgainstRoute(b,m,A,j,ne,de,He){return ns(j,m,ne,de)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(b,m,j,ne,de):He&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,m,A,j,ne,de):as(m):as(m)}expandSegmentAgainstRouteUsingRedirect(b,m,A,j,ne,de){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,A,j,de):this.expandRegularSegmentAgainstRouteUsingRedirect(b,m,A,j,ne,de)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,m,A,j){const ne=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?As(ne):this.lineralizeSegments(A,ne).pipe((0,we.z)(de=>{const He=new Zt(de,{});return this.expandSegment(b,He,m,de,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,m,A,j,ne,de){const{matched:He,consumedSegments:lt,remainingSegments:Dt,positionalParamSegments:an}=Ps(m,j,ne);if(!He)return as(m);const Kt=this.applyRedirectCommands(lt,j.redirectTo,an);return j.redirectTo.startsWith("/")?As(Kt):this.lineralizeSegments(j,Kt).pipe((0,we.z)(In=>this.expandSegment(b,m,A,In.concat(Dt),de,!1)))}matchSegmentAgainstRoute(b,m,A,j,ne){return"**"===A.path?(b=Bo(A,b),A.loadChildren?(A._loadedRoutes?(0,K.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(b,A)).pipe((0,Se.U)(He=>(A._loadedRoutes=He.routes,A._loadedInjector=He.injector,new Zt(j,{})))):(0,K.of)(new Zt(j,{}))):ss(m,A,j,b).pipe((0,xe.w)(({matched:de,consumedSegments:He,remainingSegments:lt})=>{var Dt;return de?(b=null!==(Dt=A._injector)&&void 0!==Dt?Dt:b,this.getChildConfig(b,A,j).pipe((0,we.z)(Kt=>{var In;const kn=null!==(In=Kt.injector)&&void 0!==In?In:b,xn=Kt.routes,{segmentGroup:Wn,slicedSegments:gi}=os(m,He,lt,xn),si=new Zt(Wn.segments,Wn.children);if(0===gi.length&&si.hasChildren())return this.expandChildren(kn,xn,si).pipe((0,Se.U)(Qr=>new Zt(He,Qr)));if(0===xn.length&&0===gi.length)return(0,K.of)(new Zt(He,{}));const Ni=ct(A)===ne;return this.expandSegment(kn,si,xn,gi,Ni?bn:ne,!0).pipe((0,Se.U)(cr=>new Zt(He.concat(cr.segments),cr.children)))}))):as(m)}))}getChildConfig(b,m,A){return m.children?(0,K.of)({routes:m.children,injector:b}):m.loadChildren?void 0!==m._loadedRoutes?(0,K.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Fo(p,b,m,A){const j=b.canLoad;if(void 0===j||0===j.length)return(0,K.of)(!0);const ne=j.map(de=>{const He=Xn(de,p);return Pt(function E(p){return p&&h(p.canLoad)}(He)?He.canLoad(b,m):p.runInContext(()=>He(b,m)))});return(0,K.of)(ne).pipe(Ci(),Do())}(b,m,A).pipe((0,we.z)(j=>j?this.configLoader.loadChildren(b,m).pipe(Mt(ne=>{m._loadedRoutes=ne.routes,m._loadedInjector=ne.injector})):function Ko(p){return Xe(ro(Fs,3))}())):(0,K.of)({routes:[],injector:b})}lineralizeSegments(b,m){let A=[],j=m.root;for(;;){if(A=A.concat(j.segments),0===j.numberOfChildren)return(0,K.of)(A);if(j.numberOfChildren>1||!j.children[bn])return b.redirectTo,Xe(new o.vHH(4e3,Fs));j=j.children[bn]}}applyRedirectCommands(b,m,A){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),b,A)}applyRedirectCreateUrlTree(b,m,A,j){const ne=this.createSegmentGroup(b,m.root,A,j);return new Zi(ne,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(b,m){const A={};return xt(b,(j,ne)=>{if("string"==typeof j&&j.startsWith(":")){const He=j.substring(1);A[ne]=m[He]}else A[ne]=j}),A}createSegmentGroup(b,m,A,j){const ne=this.createSegments(b,m.segments,A,j);let de={};return xt(m.children,(He,lt)=>{de[lt]=this.createSegmentGroup(b,He,A,j)}),new Zt(ne,de)}createSegments(b,m,A,j){return m.map(ne=>ne.path.startsWith(":")?this.findPosParam(b,ne,j):this.findOrReturn(ne,A))}findPosParam(b,m,A){const j=A[m.path.substring(1)];if(!j)throw new o.vHH(4001,Fs);return j}findOrReturn(b,m){let A=0;for(const j of m){if(j.path===b.path)return m.splice(A),j;A++}return b}}class B{}class W{constructor(b,m,A,j,ne,de,He){this.injector=b,this.rootComponentType=m,this.config=A,this.urlTree=j,this.url=ne,this.paramsInheritanceStrategy=de,this.urlSerializer=He}recognize(){const b=os(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,bn).pipe((0,Se.U)(m=>{if(null===m)return null;const A=new Bi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bn,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new mi(A,m),ne=new Mr(this.url,j);return this.inheritParamsAndData(ne._root),ne}))}inheritParamsAndData(b){const m=b.value,A=br(m,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data),b.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(b,m,A,j){return 0===A.segments.length&&A.hasChildren()?this.processChildren(b,m,A):this.processSegment(b,m,A,A.segments,j)}processChildren(b,m,A){return(0,y.D)(Object.keys(A.children)).pipe((0,bt.b)(j=>{const ne=A.children[j],de=Et(m,j);return this.processSegmentGroup(b,de,ne,j)}),tn((j,ne)=>j&&ne?(j.push(...ne),j):null),function nn(p,b=!1){return(0,ut.e)((m,A)=>{let j=0;m.subscribe((0,re.x)(A,ne=>{const de=p(ne,j++);(de||b)&&A.next(ne),!de&&A.complete()}))})}(j=>null!==j),Ve(null),st(),(0,Se.U)(j=>{if(null===j)return null;const ne=Tt(j);return function me(p){p.sort((b,m)=>b.value.outlet===bn?-1:m.value.outlet===bn?1:b.value.outlet.localeCompare(m.value.outlet))}(ne),ne}))}processSegment(b,m,A,j,ne){return(0,y.D)(m).pipe((0,bt.b)(de=>{var He;return this.processSegmentAgainstRoute(null!==(He=de._injector)&&void 0!==He?He:b,de,A,j,ne)}),gt(de=>!!de),un(de=>{if($n(de))return is(A,j,ne)?(0,K.of)([]):(0,K.of)(null);throw de}))}processSegmentAgainstRoute(b,m,A,j,ne){if(m.redirectTo||!ns(m,A,j,ne))return(0,K.of)(null);let de;if("**"===m.path){var He,lt;const Dt=j.length>0?Sn(j).parameters:{},an=Dn(A)+j.length,Kt=new Bi(j,Dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Si(m),ct(m),null!==(He=null!==(lt=m.component)&&void 0!==lt?lt:m._loadedComponent)&&void 0!==He?He:null,m,pn(A),an,Hi(m));de=(0,K.of)({snapshot:Kt,consumedSegments:[],remainingSegments:[]})}else de=ss(A,m,j,b).pipe((0,Se.U)(({matched:Dt,consumedSegments:an,remainingSegments:Kt,parameters:In})=>{var kn,xn;if(!Dt)return null;const Wn=Dn(A)+an.length;return{snapshot:new Bi(an,In,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Si(m),ct(m),null!==(kn=null!==(xn=m.component)&&void 0!==xn?xn:m._loadedComponent)&&void 0!==kn?kn:null,m,pn(A),Wn,Hi(m)),consumedSegments:an,remainingSegments:Kt}}));return de.pipe((0,xe.w)(Dt=>{var an,Kt;if(null===Dt)return(0,K.of)(null);const{snapshot:In,consumedSegments:kn,remainingSegments:xn}=Dt;b=null!==(an=m._injector)&&void 0!==an?an:b;const Wn=null!==(Kt=m._loadedInjector)&&void 0!==Kt?Kt:b,gi=function Fe(p){return p.children?p.children:p.loadChildren?p._loadedRoutes:[]}(m),{segmentGroup:si,slicedSegments:Ni}=os(A,kn,xn,gi.filter(cr=>void 0===cr.redirectTo));if(0===Ni.length&&si.hasChildren())return this.processChildren(Wn,gi,si).pipe((0,Se.U)(cr=>null===cr?null:[new mi(In,cr)]));if(0===gi.length&&0===Ni.length)return(0,K.of)([new mi(In,[])]);const zr=ct(m)===ne;return this.processSegment(Wn,gi,si,Ni,zr?bn:ne).pipe((0,Se.U)(cr=>null===cr?null:[new mi(In,cr)]))}))}}function ft(p){const b=p.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function Tt(p){const b=[],m=new Set;for(const A of p){if(!ft(A)){b.push(A);continue}const j=b.find(ne=>A.value.routeConfig===ne.value.routeConfig);void 0!==j?(j.children.push(...A.children),m.add(j)):b.push(A)}for(const A of m){const j=Tt(A.children);b.push(new mi(A.value,j))}return b.filter(A=>!m.has(A))}function pn(p){let b=p;for(;b._sourceSegment;)b=b._sourceSegment;return b}function Dn(p){var b;let m=p,A=null!==(b=m._segmentIndexShift)&&void 0!==b?b:0;for(;m._sourceSegment;){var j;m=m._sourceSegment,A+=null!==(j=m._segmentIndexShift)&&void 0!==j?j:0}return A-1}function Si(p){return p.data||{}}function Hi(p){return p.resolve||{}}function _(p){return"string"==typeof p.title||null===p.title}function F(p){return(0,xe.w)(b=>{const m=p(b);return m?(0,y.D)(m).pipe((0,Se.U)(()=>b)):(0,K.of)(b)})}const _e=new o.OlP("ROUTES");let Je=(()=>{class p{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,K.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const A=Pt(m.loadComponent()).pipe((0,Se.U)(ln),Mt(ne=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=ne}),vn(()=>{this.componentLoaders.delete(m)})),j=new Ze(A,()=>new ge.x).pipe(ze());return this.componentLoaders.set(m,j),j}loadChildren(m,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,K.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const ne=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,Se.U)(He=>{this.onLoadEndListener&&this.onLoadEndListener(A);let lt,Dt,an=!1;Array.isArray(He)?Dt=He:(lt=He.create(m).injector,Dt=Qi(lt.get(_e,[],o.XFs.Self|o.XFs.Optional)));return{routes:Dt.map(et),injector:lt}}),vn(()=>{this.childrenLoaders.delete(A)})),de=new Ze(ne,()=>new ge.x).pipe(ze());return this.childrenLoaders.set(A,de),de}loadModuleFactoryOrRoutes(m){return Pt(m()).pipe((0,Se.U)(ln),(0,we.z)(A=>A instanceof o.YKP||Array.isArray(A)?(0,K.of)(A):(0,y.D)(this.compiler.compileModuleAsync(A))))}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function ln(p){return function kt(p){return p&&"object"==typeof p&&"default"in p}(p)?p.default:p}let Ln=(()=>{class p{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ge.x,this.configLoader=(0,o.f3M)(Je),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(jt),this.rootContexts=(0,o.f3M)(wr),this.navigationId=0,this.afterPreactivation=()=>(0,K.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new $i(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new jr(j))}complete(){var m;null===(m=this.transitions)||void 0===m||m.complete()}handleNavigationRequest(m){var A;const j=++this.navigationId;null===(A=this.transitions)||void 0===A||A.next({...this.transitions.value,...m,id:j})}setupNavigations(m){return this.transitions=new z.X({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oi,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ne.h)(A=>0!==A.id),(0,Se.U)(A=>({...A,extractedUrl:m.urlHandlingStrategy.extract(A.rawUrl)})),(0,xe.w)(A=>{let j=!1,ne=!1;return(0,K.of)(A).pipe(Mt(de=>{this.currentNavigation={id:de.id,initialUrl:de.rawUrl,extractedUrl:de.extractedUrl,trigger:de.source,extras:de.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xe.w)(de=>{var He;const lt=m.browserUrlTree.toString(),Dt=!m.navigated||de.extractedUrl.toString()!==lt||lt!==m.currentUrlTree.toString(),an=null!==(He=de.extras.onSameUrlNavigation)&&void 0!==He?He:m.onSameUrlNavigation;if(!Dt&&"reload"!==an){const Kt="";return this.events.next(new Mi(de.id,m.serializeUrl(A.rawUrl),Kt,0)),m.rawUrlTree=de.rawUrl,de.resolve(null),Ke.E}if(m.urlHandlingStrategy.shouldProcessUrl(de.rawUrl))return fi(de.source)&&(m.browserUrlTree=de.extractedUrl),(0,K.of)(de).pipe((0,xe.w)(Kt=>{var In,kn;const xn=null===(In=this.transitions)||void 0===In?void 0:In.getValue();return this.events.next(new gr(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),Kt.source,Kt.restoredState)),xn!==(null===(kn=this.transitions)||void 0===kn?void 0:kn.getValue())?Ke.E:Promise.resolve(Kt)}),function js(p,b,m,A){return(0,xe.w)(j=>function ls(p,b,m,A,j){return new Mo(p,b,m,A,j).apply()}(p,b,m,j.extractedUrl,A).pipe((0,Se.U)(ne=>({...j,urlAfterRedirects:ne}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),Mt(Kt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Kt.urlAfterRedirects},A.urlAfterRedirects=Kt.urlAfterRedirects}),function Ri(p,b,m,A,j){return(0,we.z)(ne=>function P(p,b,m,A,j,ne,de="emptyOnly"){return new W(p,b,m,A,j,de,ne).recognize().pipe((0,xe.w)(He=>null===He?function v(p){return new Z.y(b=>b.error(p))}(new B):(0,K.of)(He)))}(p,b,m,ne.urlAfterRedirects,A.serialize(ne.urlAfterRedirects),A,j).pipe((0,Se.U)(de=>({...ne,targetSnapshot:de}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),Mt(Kt=>{if(A.targetSnapshot=Kt.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Kt.extras.skipLocationChange){const kn=m.urlHandlingStrategy.merge(Kt.urlAfterRedirects,Kt.rawUrl);m.setBrowserUrl(kn,Kt)}m.browserUrlTree=Kt.urlAfterRedirects}const In=new mr(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(In)}));if(Dt&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Kt,extractedUrl:In,source:kn,restoredState:xn,extras:Wn}=de,gi=new gr(Kt,this.urlSerializer.serialize(In),kn,xn);this.events.next(gi);const si=sr(In,this.rootComponentType).snapshot;return A={...de,targetSnapshot:si,urlAfterRedirects:In,extras:{...Wn,skipLocationChange:!1,replaceUrl:!1}},(0,K.of)(A)}{const Kt="";return this.events.next(new Mi(de.id,m.serializeUrl(A.extractedUrl),Kt,1)),m.rawUrlTree=de.rawUrl,de.resolve(null),Ke.E}}),Mt(de=>{const He=new io(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(He)}),(0,Se.U)(de=>A={...de,guards:Ii(de.targetSnapshot,de.currentSnapshot,this.rootContexts)}),function pi(p,b){return(0,we.z)(m=>{const{targetSnapshot:A,currentSnapshot:j,guards:{canActivateChecks:ne,canDeactivateChecks:de}}=m;return 0===de.length&&0===ne.length?(0,K.of)({...m,guardsResult:!0}):function rr(p,b,m,A){return(0,y.D)(p).pipe((0,we.z)(j=>function es(p,b,m,A,j){const ne=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,K.of)(!0);const de=ne.map(He=>{var lt;const Dt=null!==(lt=Ft(b))&&void 0!==lt?lt:j,an=Xn(He,Dt);return Pt(function Ye(p){return p&&h(p.canDeactivate)}(an)?an.canDeactivate(p,b,m,A):Dt.runInContext(()=>an(p,b,m,A))).pipe(gt())});return(0,K.of)(de).pipe(Ci())}(j.component,j.route,m,b,A)),gt(j=>!0!==j,!0))}(de,A,j,p).pipe((0,we.z)(He=>He&&function I(p){return"boolean"==typeof p}(He)?function li(p,b,m,A){return(0,y.D)(b).pipe((0,bt.b)(j=>Be(function Jr(p,b){return null!==p&&b&&b(new Ue(p)),(0,K.of)(!0)}(j.route.parent,A),function Co(p,b){return null!==p&&b&&b(new wt(p)),(0,K.of)(!0)}(j.route,A),function _o(p,b,m){const A=b[b.length-1],ne=b.slice(0,b.length-1).reverse().map(de=>function ui(p){const b=p.routeConfig?p.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:p,guards:b}:null}(de)).filter(de=>null!==de).map(de=>Oe(()=>{const He=de.guards.map(lt=>{var Dt;const an=null!==(Dt=Ft(de.node))&&void 0!==Dt?Dt:m,Kt=Xn(lt,an);return Pt(function Q(p){return p&&h(p.canActivateChild)}(Kt)?Kt.canActivateChild(A,p):an.runInContext(()=>Kt(A,p))).pipe(gt())});return(0,K.of)(He).pipe(Ci())}));return(0,K.of)(ne).pipe(Ci())}(p,j.path,m),function Er(p,b,m){const A=b.routeConfig?b.routeConfig.canActivate:null;if(!A||0===A.length)return(0,K.of)(!0);const j=A.map(ne=>Oe(()=>{var de;const He=null!==(de=Ft(b))&&void 0!==de?de:m,lt=Xn(ne,He);return Pt(function H(p){return p&&h(p.canActivate)}(lt)?lt.canActivate(b,p):He.runInContext(()=>lt(b,p))).pipe(gt())}));return(0,K.of)(j).pipe(Ci())}(p,j.route,m))),gt(j=>!0!==j,!0))}(A,ne,p,b):(0,K.of)(He)),(0,Se.U)(He=>({...m,guardsResult:He})))})}(this.environmentInjector,de=>this.events.next(de)),Mt(de=>{if(A.guardsResult=de.guardsResult,fr(de.guardsResult))throw Vr(0,de.guardsResult);const He=new ao(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot,!!de.guardsResult);this.events.next(He)}),(0,Ne.h)(de=>!!de.guardsResult||(m.restoreHistory(de),this.cancelNavigationTransition(de,"",3),!1)),F(de=>{if(de.guards.canActivateChecks.length)return(0,K.of)(de).pipe(Mt(He=>{const lt=new To(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(lt)}),(0,xe.w)(He=>{let lt=!1;return(0,K.of)(He).pipe(function Li(p,b){return(0,we.z)(m=>{const{targetSnapshot:A,guards:{canActivateChecks:j}}=m;if(!j.length)return(0,K.of)(m);let ne=0;return(0,y.D)(j).pipe((0,bt.b)(de=>function Sr(p,b,m,A){const j=p.routeConfig,ne=p._resolve;return void 0!==(null==j?void 0:j.title)&&!_(j)&&(ne[vi]=j.title),function Lr(p,b,m,A){const j=function Io(p){return[...Object.keys(p),...Object.getOwnPropertySymbols(p)]}(p);if(0===j.length)return(0,K.of)({});const ne={};return(0,y.D)(j).pipe((0,we.z)(de=>function a(p,b,m,A){var j;const ne=null!==(j=Ft(b))&&void 0!==j?j:A,de=Xn(p,ne);return Pt(de.resolve?de.resolve(b,m):ne.runInContext(()=>de(b,m)))}(p[de],b,m,A).pipe(gt(),Mt(He=>{ne[de]=He}))),Ct(1),function $t(p){return(0,Se.U)(()=>p)}(ne),un(de=>$n(de)?Ke.E:Xe(de)))}(ne,p,b,A).pipe((0,Se.U)(de=>(p._resolvedData=de,p.data=br(p,m).resolve,j&&_(j)&&(p.data[vi]=j.title),null)))}(de.route,A,p,b)),Mt(()=>ne++),Ct(1),(0,we.z)(de=>ne===j.length?(0,K.of)(m):Ke.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),Mt({next:()=>lt=!0,complete:()=>{lt||(m.restoreHistory(He),this.cancelNavigationTransition(He,"",2))}}))}),Mt(He=>{const lt=new Zo(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(lt)}))}),F(de=>{const He=lt=>{var Dt;const an=[];null!==(Dt=lt.routeConfig)&&void 0!==Dt&&Dt.loadComponent&&!lt.routeConfig._loadedComponent&&an.push(this.configLoader.loadComponent(lt.routeConfig).pipe(Mt(Kt=>{lt.component=Kt}),(0,Se.U)(()=>{})));for(const Kt of lt.children)an.push(...He(Kt));return an};return ke(He(de.targetSnapshot.root)).pipe(Ve(),Ae(1))}),F(()=>this.afterPreactivation()),(0,Se.U)(de=>{const He=function So(p,b,m){const A=eo(p,b._root,m?m._root:void 0);return new Ur(A,b)}(m.routeReuseStrategy,de.targetSnapshot,de.currentRouterState);return A={...de,targetRouterState:He}}),Mt(de=>{m.currentUrlTree=de.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(de.urlAfterRedirects,de.rawUrl),m.routerState=de.targetRouterState,"deferred"===m.urlUpdateStrategy&&(de.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,de),m.browserUrlTree=de.urlAfterRedirects)}),((p,b,m)=>(0,Se.U)(A=>(new rn(b,A.targetRouterState,A.currentRouterState,m).activate(p),A)))(this.rootContexts,m.routeReuseStrategy,de=>this.events.next(de)),Ae(1),Mt({next:de=>{var He;j=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new lr(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),null===(He=m.titleStrategy)||void 0===He||He.updateTitle(de.targetRouterState.snapshot),de.resolve(!0)},complete:()=>{j=!0}}),vn(()=>{var de;j||ne||this.cancelNavigationTransition(A,"",1),(null===(de=this.currentNavigation)||void 0===de?void 0:de.id)===A.id&&(this.currentNavigation=null)}),un(de=>{if(ne=!0,Po(de)){Hr(de)||(m.navigated=!0,m.restoreHistory(A,!0));const lt=new fo(A.id,this.urlSerializer.serialize(A.extractedUrl),de.message,de.cancellationCode);if(this.events.next(lt),Hr(de)){const Dt=m.urlHandlingStrategy.merge(de.url,m.rawUrlTree),an={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||fi(A.source)};m.scheduleNavigation(Dt,oi,null,an,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{var He;m.restoreHistory(A,!0);const lt=new Ir(A.id,this.urlSerializer.serialize(A.extractedUrl),de,null!==(He=A.targetSnapshot)&&void 0!==He?He:void 0);this.events.next(lt);try{A.resolve(m.errorHandler(de))}catch(Dt){A.reject(Dt)}}return Ke.E}))}))}cancelNavigationTransition(m,A,j){const ne=new fo(m.id,this.urlSerializer.serialize(m.extractedUrl),A,j);this.events.next(ne),m.resolve(!1)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function fi(p){return p!==oi}let ji=(()=>{class p{buildTitle(m){let A,j=m.root;for(;void 0!==j;){var ne;A=null!==(ne=this.getResolvedTitleForRoute(j))&&void 0!==ne?ne:A,j=j.children.find(de=>de.outlet===bn)}return A}getResolvedTitleForRoute(m){return m.data[vi]}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:function(){return(0,o.f3M)(ur)},providedIn:"root"}),p})(),ur=(()=>{class p extends ji{constructor(m){super(),this.title=m}updateTitle(m){const A=this.buildTitle(m);void 0!==A&&this.title.setTitle(A)}}return p.\u0275fac=function(m){return new(m||p)(o.LFG(Cn.Dx))},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),ci=(()=>{class p{}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:function(){return(0,o.f3M)(Fi)},providedIn:"root"}),p})();class bi{shouldDetach(b){return!1}store(b,m){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,m){return b.routeConfig===m.routeConfig}}let Fi=(()=>{class p extends bi{}return p.\u0275fac=function(){let b;return function(A){return(b||(b=o.n5z(p)))(A||p)}}(),p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const mo=new o.OlP("",{providedIn:"root",factory:()=>({})});let us=(()=>{class p{}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:function(){return(0,o.f3M)(qo)},providedIn:"root"}),p})(),qo=(()=>{class p{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,A){return m}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();function xo(p){throw p}function ks(p,b,m){return b.parse("/")}const zs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oo=(()=>{class p{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var m;if("computed"===this.canceledNavigationResolution)return null===(m=this.location.getState())||void 0===m?void 0:m.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var m;this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this.options=(0,o.f3M)(mo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||xo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ks,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(us),this.routeReuseStrategy=(0,o.f3M)(ci),this.urlCreationStrategy=(0,o.f3M)(wn),this.titleStrategy=(0,o.f3M)(ji),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Qi(null!==(m=(0,o.f3M)(_e,{optional:!0}))&&void 0!==m?m:[]),this.navigationTransitions=(0,o.f3M)(Ln),this.urlSerializer=(0,o.f3M)(jt),this.location=(0,o.f3M)(pe.Ye),this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sr(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(A=>{var j;this.lastSuccessfulId=A.id,this.currentPageId=null!==(j=this.browserPageId)&&void 0!==j?j:0},A=>{this.console.warn(`Unhandled Navigation Error: ${A}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),oi,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const A="popstate"===m.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,A,m.state)},0)}))}navigateToSyncWithBrowser(m,A,j){const ne={replaceUrl:!0},de=null!=j&&j.navigationId?j:null;if(j){const lt={...j};delete lt.navigationId,delete lt.\u0275routerPageId,0!==Object.keys(lt).length&&(ne.state=lt)}const He=this.parseUrl(m);this.scheduleNavigation(He,A,de,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(et),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,A={}){const{relativeTo:j,queryParams:ne,fragment:de,queryParamsHandling:He,preserveFragment:lt}=A,Dt=lt?this.currentUrlTree.fragment:de;let an=null;switch(He){case"merge":an={...this.currentUrlTree.queryParams,...ne};break;case"preserve":an=this.currentUrlTree.queryParams;break;default:an=ne||null}return null!==an&&(an=this.removeEmptyProps(an)),this.urlCreationStrategy.createUrlTree(j,this.routerState,this.currentUrlTree,m,an,null!=Dt?Dt:null)}navigateByUrl(m,A={skipLocationChange:!1}){const j=fr(m)?m:this.parseUrl(m),ne=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ne,oi,null,A)}navigate(m,A={skipLocationChange:!1}){return function Ho(p){for(let b=0;b<p.length;b++){const m=p[b];if(null==m)throw new o.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,A),A)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let A;try{A=this.urlSerializer.parse(m)}catch(j){A=this.malformedUriErrorHandler(j,this.urlSerializer,m)}return A}isActive(m,A){let j;if(j=!0===A?{...zs}:!1===A?{...Cr}:A,fr(m))return Lt(this.currentUrlTree,m,j);const ne=this.parseUrl(m);return Lt(this.currentUrlTree,ne,j)}removeEmptyProps(m){return Object.keys(m).reduce((A,j)=>{const ne=m[j];return null!=ne&&(A[j]=ne),A},{})}scheduleNavigation(m,A,j,ne,de){if(this.disposed)return Promise.resolve(!1);let He,lt,Dt,an;if(de?(He=de.resolve,lt=de.reject,Dt=de.promise):Dt=new Promise((In,kn)=>{He=In,lt=kn}),"computed"===this.canceledNavigationResolution)if(j&&j.\u0275routerPageId)an=j.\u0275routerPageId;else{var Kt;an=(null!==(Kt=this.browserPageId)&&void 0!==Kt?Kt:0)+1}else an=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:an,source:A,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:ne,resolve:He,reject:lt,promise:Dt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dt.catch(In=>Promise.reject(In))}setBrowserUrl(m,A){const j=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(j)||A.extras.replaceUrl){const de={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(j,"",de)}else{const ne={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.go(j,"",ne)}}restoreHistory(m,A=!1){if("computed"===this.canceledNavigationResolution){var j,ne;const de=null!==(j=this.browserPageId)&&void 0!==j?j:this.currentPageId,He=this.currentPageId-de;0!==He?this.location.historyGo(He):this.currentUrlTree===(null===(ne=this.getCurrentNavigation())||void 0===ne?void 0:ne.finalUrl)&&0===He&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,A){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:A}:{navigationId:m}}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Es=(()=>{class p{constructor(m,A,j,ne,de,He){var lt;this.router=m,this.route=A,this.tabIndexAttribute=j,this.renderer=ne,this.el=de,this.locationStrategy=He,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ge.x;const Dt=null===(lt=de.nativeElement.tagName)||void 0===lt?void 0:lt.toLowerCase();this.isAnchorElement="a"===Dt||"area"===Dt,this.isAnchorElement?this.subscription=m.events.subscribe(an=>{an instanceof lr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,o.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,o.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,o.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,A,j,ne,de){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||A||j||ne||de||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var m;null===(m=this.subscription)||void 0===m||m.unsubscribe()}updateHref(){var m;this.href=null!==this.urlTree&&this.locationStrategy?null===(m=this.locationStrategy)||void 0===m?void 0:m.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const A=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",A)}applyAttributeValue(m,A){const j=this.renderer,ne=this.el.nativeElement;null!==A?j.setAttribute(ne,m,A):j.removeAttribute(ne,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return p.\u0275fac=function(m){return new(m||p)(o.Y36(oo),o.Y36(wi),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(pe.S$))},p.\u0275dir=o.lG2({type:p,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,A){1&m&&o.NdJ("click",function(ne){return A.onClick(ne.button,ne.ctrlKey,ne.shiftKey,ne.altKey,ne.metaKey)}),2&m&&o.uIk("target",A.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),p})();class Ss{}let ma=(()=>{class p{preload(m,A){return(0,K.of)(null)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Ha=(()=>{class p{constructor(m,A,j,ne,de){this.router=m,this.injector=j,this.preloadingStrategy=ne,this.loader=de}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ne.h)(m=>m instanceof lr),(0,bt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,A){const j=[];for(const lt of A){var ne,de;lt.providers&&!lt._injector&&(lt._injector=(0,o.MMx)(lt.providers,m,`Route: ${lt.path}`));const Dt=null!==(ne=lt._injector)&&void 0!==ne?ne:m,an=null!==(de=lt._loadedInjector)&&void 0!==de?de:Dt;var He;(lt.loadChildren&&!lt._loadedRoutes&&void 0===lt.canLoad||lt.loadComponent&&!lt._loadedComponent)&&j.push(this.preloadConfig(Dt,lt)),(lt.children||lt._loadedRoutes)&&j.push(this.processRoutes(an,null!==(He=lt.children)&&void 0!==He?He:lt._loadedRoutes))}return(0,y.D)(j).pipe((0,ve.J)())}preloadConfig(m,A){return this.preloadingStrategy.preload(A,()=>{let j;j=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(m,A):(0,K.of)(null);const ne=j.pipe((0,we.z)(de=>{var He;return null===de?(0,K.of)(void 0):(A._loadedRoutes=de.routes,A._loadedInjector=de.injector,this.processRoutes(null!==(He=de.injector)&&void 0!==He?He:m,de.routes))}));if(A.loadComponent&&!A._loadedComponent){const de=this.loader.loadComponent(A);return(0,y.D)([ne,de]).pipe((0,ve.J)())}return ne})}}return p.\u0275fac=function(m){return new(m||p)(o.LFG(oo),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(Ss),o.LFG(Je))},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const Gs=new o.OlP("");let va=(()=>{class p{constructor(m,A,j,ne,de={}){this.urlSerializer=m,this.transitions=A,this.viewportScroller=j,this.zone=ne,this.options=de,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},de.scrollPositionRestoration=de.scrollPositionRestoration||"disabled",de.anchorScrolling=de.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof gr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof lr&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Gt&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gt(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){var m,A;null===(m=this.routerEventsSubscription)||void 0===m||m.unsubscribe(),null===(A=this.scrollEventsSubscription)||void 0===A||A.unsubscribe()}}return p.\u0275fac=function(m){o.$Z()},p.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac}),p})();var _s=(()=>((_s=_s||{})[_s.COMPLETE=0]="COMPLETE",_s[_s.FAILED=1]="FAILED",_s[_s.REDIRECTING=2]="REDIRECTING",_s))();const sa=!1;function Cs(p,b){return{\u0275kind:p,\u0275providers:b}}const ar=new o.OlP("",{providedIn:"root",factory:()=>!1});function Qs(){const p=(0,o.f3M)(o.zs3);return b=>{var m,A;const j=p.get(o.z2F);if(b!==j.components[0])return;const ne=p.get(oo),de=p.get(Ja);1===p.get(Xs)&&ne.initialNavigation(),null===(m=p.get(Bs,null,o.XFs.Optional))||void 0===m||m.setUpPreloading(),null===(A=p.get(Gs,null,o.XFs.Optional))||void 0===A||A.init(),ne.resetRootComponentType(j.componentTypes[0]),de.closed||(de.next(),de.complete(),de.unsubscribe())}}const Ja=new o.OlP(sa?"bootstrap done indicator":"",{factory:()=>new ge.x}),Xs=new o.OlP(sa?"initial navigation":"",{providedIn:"root",factory:()=>1});function pl(){let p=[];return p=sa?[{provide:o.Xts,multi:!0,useFactory:()=>{const b=(0,o.f3M)(oo);return()=>b.events.subscribe(m=>{var A,j,ne,de;null===(A=(j=console).group)||void 0===A||A.call(j,`Router Event: ${m.constructor.name}`),console.log(function cn(p){var b,m,A,j;if(!("type"in p))return`Unknown Router Event: ${p.constructor.name}`;switch(p.type){case 14:return`ActivationEnd(path: '${(null===(b=p.snapshot.routeConfig)||void 0===b?void 0:b.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(m=p.snapshot.routeConfig)||void 0===m?void 0:m.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(A=p.snapshot.routeConfig)||void 0===A?void 0:A.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(j=p.snapshot.routeConfig)||void 0===j?void 0:j.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state}, shouldActivate: ${p.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case 2:return`NavigationCancel(id: ${p.id}, url: '${p.url}')`;case 16:return`NavigationSkipped(id: ${p.id}, url: '${p.url}')`;case 1:return`NavigationEnd(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${p.id}, url: '${p.url}', error: ${p.error})`;case 0:return`NavigationStart(id: ${p.id}, url: '${p.url}')`;case 6:return`ResolveEnd(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case 5:return`ResolveStart(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case 10:return`RouteConfigLoadEnd(path: ${p.route.path})`;case 9:return`RouteConfigLoadStart(path: ${p.route.path})`;case 4:return`RoutesRecognized(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case 15:return`Scroll(anchor: '${p.anchor}', position: '${p.position?`${p.position[0]}, ${p.position[1]}`:null}')`}}(m)),console.log(m),null===(ne=(de=console).groupEnd)||void 0===ne||ne.call(de)})}}]:[],Cs(1,p)}const Bs=new o.OlP(sa?"router preloader":"");function ya(p){return Cs(0,[{provide:Bs,useExisting:Ha},{provide:Ss,useExisting:p}])}const ys=!1,aa=new o.OlP(ys?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Wo=[pe.Ye,{provide:jt,useClass:Yn},oo,wr,{provide:wi,useFactory:function Ia(p){return p.routerState.root},deps:[oo]},Je,ys?{provide:ar,useValue:!0}:[]];function la(){return new o.PXZ("Router",oo)}let ea=(()=>{class p{constructor(m){}static forRoot(m,A){return{ngModule:p,providers:[Wo,ys&&null!=A&&A.enableTracing?pl().\u0275providers:[],{provide:_e,multi:!0,useValue:m},{provide:aa,useFactory:c,deps:[[oo,new o.FiY,new o.tp0]]},{provide:mo,useValue:A||{}},null!=A&&A.useHash?{provide:pe.S$,useClass:pe.Do}:{provide:pe.S$,useClass:pe.b0},{provide:Gs,useFactory:()=>{const p=(0,o.f3M)(pe.EM),b=(0,o.f3M)(o.R0b),m=(0,o.f3M)(mo),A=(0,o.f3M)(Ln),j=(0,o.f3M)(jt);return m.scrollOffset&&p.setOffset(m.scrollOffset),new va(j,A,p,b,m)}},null!=A&&A.preloadingStrategy?ya(A.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:la},null!=A&&A.initialNavigation?g(A):[],[{provide:S,useFactory:Qs},{provide:o.tb,multi:!0,useExisting:S}]]}}static forChild(m){return{ngModule:p,providers:[{provide:_e,multi:!0,useValue:m}]}}}return p.\u0275fac=function(m){return new(m||p)(o.LFG(aa,8))},p.\u0275mod=o.oAB({type:p}),p.\u0275inj=o.cJS({imports:[Xr]}),p})();function c(p){if(ys&&p)throw new o.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function g(p){return["disabled"===p.initialNavigation?Cs(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const b=(0,o.f3M)(oo);return()=>{b.setUpLocationChangeListener()}}},{provide:Xs,useValue:2}]).\u0275providers:[],"enabledBlocking"===p.initialNavigation?Cs(2,[{provide:Xs,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:b=>{const m=b.get(pe.V_,Promise.resolve());return()=>m.then(()=>new Promise(A=>{const j=b.get(oo),ne=b.get(Ja);(function Ma(p,b){p.events.pipe((0,Ne.h)(m=>m instanceof lr||m instanceof fo||m instanceof Ir||m instanceof Mi),(0,Se.U)(m=>m instanceof lr||m instanceof Mi?_s.COMPLETE:m instanceof fo&&(0===m.code||1===m.code)?_s.REDIRECTING:_s.FAILED),(0,Ne.h)(m=>m!==_s.REDIRECTING),Ae(1)).subscribe(()=>{b()})})(j,()=>{A(!0)}),b.get(Ln).afterPreactivation=()=>(A(!0),ne.closed?(0,K.of)(void 0):ne),j.initialNavigation()}))}}]).\u0275providers:[]]}const S=new o.OlP(ys?"Router Initializer":"")},5860:(yt,U,R)=>{"use strict";R.d(U,{qZ:()=>be,DR:()=>oe,mM:()=>Qo,WG:()=>Xi});var o={};R.r(o),R.d(o,{hasBrowserEnv:()=>hn,hasStandardBrowserEnv:()=>Hn,hasStandardBrowserWebWorkerEnv:()=>ii,navigator:()=>Un,origin:()=>Pr});var y=R(5861),K=R(8256),z=R(6895);function J(M,N){return function(){return M.apply(N,arguments)}}const{toString:X}=Object.prototype,{getPrototypeOf:Z}=Object,Y=(M=Object.create(null),N=>{const h=X.call(N);return M[h]||(M[h]=h.slice(8,-1).toLowerCase())}),q=M=>(M=M.toLowerCase(),N=>Y(N)===M),ce=M=>N=>typeof N===M,{isArray:ae}=Array,se=ce("undefined");var M;const le=q("ArrayBuffer"),Ce=ce("string"),fe=ce("function"),ve=ce("number"),De=M=>null!==M&&"object"==typeof M,qe=M=>{if("object"!==Y(M))return!1;const N=Z(M);return!(null!==N&&N!==Object.prototype&&null!==Object.getPrototypeOf(N)||Symbol.toStringTag in M||Symbol.iterator in M)},Oe=q("Date"),mt=q("File"),Me=q("Blob"),Xe=q("FileList"),ut=q("URLSearchParams"),[ze,Ze,ge,pe]=["ReadableStream","Request","Response","Headers"].map(q);function xe(M,N,{allOwnKeys:h=!1}={}){if(null===M||typeof M>"u")return;let I,E;if("object"!=typeof M&&(M=[M]),ae(M))for(I=0,E=M.length;I<E;I++)N.call(null,M[I],I,M);else{const H=h?Object.getOwnPropertyNames(M):Object.keys(M),Q=H.length;let Ye;for(I=0;I<Q;I++)Ye=H[I],N.call(null,M[Ye],Ye,M)}}function Ae(M,N){N=N.toLowerCase();const h=Object.keys(M);let E,I=h.length;for(;I-- >0;)if(E=h[I],N===E.toLowerCase())return E;return null}const Te=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ne=M=>!se(M)&&M!==Te,un=(M=>N=>M&&N instanceof M)(typeof Uint8Array<"u"&&Z(Uint8Array)),Ct=q("HTMLFormElement"),nn=(({hasOwnProperty:M})=>(N,h)=>M.call(N,h))(Object.prototype),$t=q("RegExp"),vn=(M,N)=>{const h=Object.getOwnPropertyDescriptors(M),I={};xe(h,(E,H)=>{let Q;!1!==(Q=N(E,H,M))&&(I[H]=Q||E)}),Object.defineProperties(M,I)},Pi="abcdefghijklmnopqrstuvwxyz",Ji="0123456789",Or={DIGIT:Ji,ALPHA:Pi,ALPHA_DIGIT:Pi+Pi.toUpperCase()+Ji},Sn=q("AsyncFunction"),xt=((M,N)=>{return M?setImmediate:N?(h=`axios@${Math.random()}`,I=[],Te.addEventListener("message",({source:E,data:H})=>{E===Te&&H===h&&I.length&&I.shift()()},!1),E=>{I.push(E),Te.postMessage(h,"*")}):h=>setTimeout(h);var h,I})("function"==typeof setImmediate,fe(Te.postMessage)),Pt=typeof queueMicrotask<"u"?queueMicrotask.bind(Te):typeof process<"u"&&process.nextTick||xt,nt={isArray:ae,isArrayBuffer:le,isBuffer:function re(M){return null!==M&&!se(M)&&null!==M.constructor&&!se(M.constructor)&&fe(M.constructor.isBuffer)&&M.constructor.isBuffer(M)},isFormData:M=>{let N;return M&&("function"==typeof FormData&&M instanceof FormData||fe(M.append)&&("formdata"===(N=Y(M))||"object"===N&&fe(M.toString)&&"[object FormData]"===M.toString()))},isArrayBufferView:function ke(M){let N;return N=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(M):M&&M.buffer&&le(M.buffer),N},isString:Ce,isNumber:ve,isBoolean:M=>!0===M||!1===M,isObject:De,isPlainObject:qe,isReadableStream:ze,isRequest:Ze,isResponse:ge,isHeaders:pe,isUndefined:se,isDate:Oe,isFile:mt,isBlob:Me,isRegExp:$t,isFunction:fe,isStream:M=>De(M)&&fe(M.pipe),isURLSearchParams:ut,isTypedArray:un,isFileList:Xe,forEach:xe,merge:function we(){const{caseless:M}=Ne(this)&&this||{},N={},h=(I,E)=>{const H=M&&Ae(N,E)||E;N[H]=qe(N[H])&&qe(I)?we(N[H],I):qe(I)?we({},I):ae(I)?I.slice():I};for(let I=0,E=arguments.length;I<E;I++)arguments[I]&&xe(arguments[I],h);return N},extend:(M,N,h,{allOwnKeys:I}={})=>(xe(N,(E,H)=>{M[H]=h&&fe(E)?J(E,h):E},{allOwnKeys:I}),M),trim:M=>M.trim?M.trim():M.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:M=>(65279===M.charCodeAt(0)&&(M=M.slice(1)),M),inherits:(M,N,h,I)=>{M.prototype=Object.create(N.prototype,I),M.prototype.constructor=M,Object.defineProperty(M,"super",{value:N.prototype}),h&&Object.assign(M.prototype,h)},toFlatObject:(M,N,h,I)=>{let E,H,Q;const Ye={};if(N=N||{},null==M)return N;do{for(E=Object.getOwnPropertyNames(M),H=E.length;H-- >0;)Q=E[H],(!I||I(Q,M,N))&&!Ye[Q]&&(N[Q]=M[Q],Ye[Q]=!0);M=!1!==h&&Z(M)}while(M&&(!h||h(M,N))&&M!==Object.prototype);return N},kindOf:Y,kindOfTest:q,endsWith:(M,N,h)=>{M=String(M),(void 0===h||h>M.length)&&(h=M.length);const I=M.indexOf(N,h-=N.length);return-1!==I&&I===h},toArray:M=>{if(!M)return null;if(ae(M))return M;let N=M.length;if(!ve(N))return null;const h=new Array(N);for(;N-- >0;)h[N]=M[N];return h},forEachEntry:(M,N)=>{const I=(M&&M[Symbol.iterator]).call(M);let E;for(;(E=I.next())&&!E.done;){const H=E.value;N.call(M,H[0],H[1])}},matchAll:(M,N)=>{let h;const I=[];for(;null!==(h=M.exec(N));)I.push(h);return I},isHTMLForm:Ct,hasOwnProperty:nn,hasOwnProp:nn,reduceDescriptors:vn,freezeMethods:M=>{vn(M,(N,h)=>{if(fe(M)&&-1!==["arguments","caller","callee"].indexOf(h))return!1;if(fe(M[h])){if(N.enumerable=!1,"writable"in N)return void(N.writable=!1);N.set||(N.set=()=>{throw Error("Can not rewrite read-only method '"+h+"'")})}})},toObjectSet:(M,N)=>{const h={},I=E=>{E.forEach(H=>{h[H]=!0})};return ae(M)?I(M):I(String(M).split(N)),h},toCamelCase:M=>M.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(h,I,E){return I.toUpperCase()+E}),noop:()=>{},toFiniteNumber:(M,N)=>null!=M&&Number.isFinite(M=+M)?M:N,findKey:Ae,global:Te,isContextDefined:Ne,ALPHABET:Or,generateString:(M=16,N=Or.ALPHA_DIGIT)=>{let h="";const{length:I}=N;for(;M--;)h+=N[Math.random()*I|0];return h},isSpecCompliantForm:function Fr(M){return!!(M&&fe(M.append)&&"FormData"===M[Symbol.toStringTag]&&M[Symbol.iterator])},toJSONObject:M=>{const N=new Array(10),h=(I,E)=>{if(De(I)){if(N.indexOf(I)>=0)return;if(!("toJSON"in I)){N[E]=I;const H=ae(I)?[]:{};return xe(I,(Q,Ye)=>{const Ot=h(Q,E+1);!se(Ot)&&(H[Ye]=Ot)}),N[E]=void 0,H}}return I};return h(M,0)},isAsyncFn:Sn,isThenable:M=>M&&(De(M)||fe(M))&&fe(M.then)&&fe(M.catch),setImmediate:xt,asap:Pt};function dn(M,N,h,I,E){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=M,this.name="AxiosError",N&&(this.code=N),h&&(this.config=h),I&&(this.request=I),E&&(this.response=E,this.status=E.status?E.status:null)}nt.inherits(dn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nt.toJSONObject(this.config),code:this.code,status:this.status}}});const en=dn.prototype,Lt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(M=>{Lt[M]={value:M}}),Object.defineProperties(dn,Lt),Object.defineProperty(en,"isAxiosError",{value:!0}),dn.from=(M,N,h,I,E,H)=>{const Q=Object.create(en);return nt.toFlatObject(M,Q,function(Ot){return Ot!==Error.prototype},Ye=>"isAxiosError"!==Ye),dn.call(Q,M.message,N,h,I,E),Q.cause=M,Q.name=M.name,H&&Object.assign(Q,H),Q};const at=dn;function Nn(M){return nt.isPlainObject(M)||nt.isArray(M)}function Ti(M){return nt.endsWith(M,"[]")?M.slice(0,-2):M}function Qn(M,N,h){return M?M.concat(N).map(function(E,H){return E=Ti(E),!h&&H?"["+E+"]":E}).join(h?".":""):N}const Zi=nt.toFlatObject(nt,{},null,function(N){return/^is[A-Z]/.test(N)}),_t=function Zt(M,N,h){if(!nt.isObject(M))throw new TypeError("target must be an object");N=N||new FormData;const I=(h=nt.toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,function(rr,li){return!nt.isUndefined(li[rr])})).metaTokens,E=h.visitor||qt,H=h.dots,Q=h.indexes,Ot=(h.Blob||typeof Blob<"u"&&Blob)&&nt.isSpecCompliantForm(N);if(!nt.isFunction(E))throw new TypeError("visitor must be a function");function Bt(pi){if(null===pi)return"";if(nt.isDate(pi))return pi.toISOString();if(!Ot&&nt.isBlob(pi))throw new at("Blob is not supported. Use a Buffer instead.");return nt.isArrayBuffer(pi)||nt.isTypedArray(pi)?Ot&&"function"==typeof Blob?new Blob([pi]):Buffer.from(pi):pi}function qt(pi,rr,li){let Co=pi;if(pi&&!li&&"object"==typeof pi)if(nt.endsWith(rr,"{}"))rr=I?rr:rr.slice(0,-2),pi=JSON.stringify(pi);else if(nt.isArray(pi)&&function dr(M){return nt.isArray(M)&&!M.some(Nn)}(pi)||(nt.isFileList(pi)||nt.endsWith(rr,"[]"))&&(Co=nt.toArray(pi)))return rr=Ti(rr),Co.forEach(function(Er,_o){!nt.isUndefined(Er)&&null!==Er&&N.append(!0===Q?Qn([rr],_o,H):null===Q?rr:rr+"[]",Bt(Er))}),!1;return!!Nn(pi)||(N.append(Qn(li,rr,H),Bt(pi)),!1)}const $n=[],hi=Object.assign(Zi,{defaultVisitor:qt,convertValue:Bt,isVisitable:Nn});if(!nt.isObject(M))throw new TypeError("data must be an object");return function Ci(pi,rr){if(!nt.isUndefined(pi)){if(-1!==$n.indexOf(pi))throw Error("Circular reference detected in "+rr.join("."));$n.push(pi),nt.forEach(pi,function(Co,Jr){!0===(!(nt.isUndefined(Co)||null===Co)&&E.call(N,Co,nt.isString(Jr)?Jr.trim():Jr,rr,hi))&&Ci(Co,rr?rr.concat(Jr):[Jr])}),$n.pop()}}(M),N};function Ut(M){const N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(M).replace(/[!'()~]|%20|%00/g,function(I){return N[I]})}function gn(M,N){this._pairs=[],M&&_t(M,this,N)}const yn=gn.prototype;yn.append=function(N,h){this._pairs.push([N,h])},yn.toString=function(N){const h=N?function(I){return N.call(this,I,Ut)}:Ut;return this._pairs.map(function(E){return h(E[0])+"="+h(E[1])},"").join("&")};const jt=gn;function Yn(M){return encodeURIComponent(M).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ai(M,N,h){if(!N)return M;const I=h&&h.encode||Yn,E=h&&h.serialize;let H;if(H=E?E(N,h):nt.isURLSearchParams(N)?N.toString():new jt(N,h).toString(I),H){const Q=M.indexOf("#");-1!==Q&&(M=M.slice(0,Q)),M+=(-1===M.indexOf("?")?"?":"&")+H}return M}const Vi=class ti{constructor(){this.handlers=[]}use(N,h,I){return this.handlers.push({fulfilled:N,rejected:h,synchronous:!!I&&I.synchronous,runWhen:I?I.runWhen:null}),this.handlers.length-1}eject(N){this.handlers[N]&&(this.handlers[N]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(N){nt.forEach(this.handlers,function(I){null!==I&&N(I)})}},er={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xt={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:jt,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},hn=typeof window<"u"&&typeof document<"u",Un="object"==typeof navigator&&navigator||void 0,Hn=hn&&(!Un||["ReactNative","NativeScript","NS"].indexOf(Un.product)<0),ii=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Pr=hn&&window.location.href||"http://localhost",Ki={...o,...Xt},Eo=function Nr(M){function N(h,I,E,H){let Q=h[H++];if("__proto__"===Q)return!0;const Ye=Number.isFinite(+Q),Ot=H>=h.length;return Q=!Q&&nt.isArray(E)?E.length:Q,Ot?(E[Q]=nt.hasOwnProp(E,Q)?[E[Q],I]:I,!Ye):((!E[Q]||!nt.isObject(E[Q]))&&(E[Q]=[]),N(h,I,E[Q],H)&&nt.isArray(E[Q])&&(E[Q]=function Rr(M){const N={},h=Object.keys(M);let I;const E=h.length;let H;for(I=0;I<E;I++)H=h[I],N[H]=M[H];return N}(E[Q])),!Ye)}if(nt.isFormData(M)&&nt.isFunction(M.entries)){const h={};return nt.forEachEntry(M,(I,E)=>{N(function Gi(M){return nt.matchAll(/\w+|\[(\w*)]/g,M).map(N=>"[]"===N[0]?"":N[1]||N[0])}(I),E,h,0)}),h}return null},yr={transitional:er,adapter:["xhr","http","fetch"],transformRequest:[function(N,h){const I=h.getContentType()||"",E=I.indexOf("application/json")>-1,H=nt.isObject(N);if(H&&nt.isHTMLForm(N)&&(N=new FormData(N)),nt.isFormData(N))return E?JSON.stringify(Eo(N)):N;if(nt.isArrayBuffer(N)||nt.isBuffer(N)||nt.isStream(N)||nt.isFile(N)||nt.isBlob(N)||nt.isReadableStream(N))return N;if(nt.isArrayBufferView(N))return N.buffer;if(nt.isURLSearchParams(N))return h.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),N.toString();let Ye;if(H){if(I.indexOf("application/x-www-form-urlencoded")>-1)return function zi(M,N){return _t(M,new Ki.classes.URLSearchParams,Object.assign({visitor:function(h,I,E,H){return Ki.isNode&&nt.isBuffer(h)?(this.append(I,h.toString("base64")),!1):H.defaultVisitor.apply(this,arguments)}},N))}(N,this.formSerializer).toString();if((Ye=nt.isFileList(N))||I.indexOf("multipart/form-data")>-1){const Ot=this.env&&this.env.FormData;return _t(Ye?{"files[]":N}:N,Ot&&new Ot,this.formSerializer)}}return H||E?(h.setContentType("application/json",!1),function vo(M,N,h){if(nt.isString(M))try{return(N||JSON.parse)(M),nt.trim(M)}catch(I){if("SyntaxError"!==I.name)throw I}return(h||JSON.stringify)(M)}(N)):N}],transformResponse:[function(N){const h=this.transitional||yr.transitional,I=h&&h.forcedJSONParsing,E="json"===this.responseType;if(nt.isResponse(N)||nt.isReadableStream(N))return N;if(N&&nt.isString(N)&&(I&&!this.responseType||E)){const Q=!(h&&h.silentJSONParsing)&&E;try{return JSON.parse(N)}catch(Ye){if(Q)throw"SyntaxError"===Ye.name?at.from(Ye,at.ERR_BAD_RESPONSE,this,null,this.response):Ye}}return N}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ki.classes.FormData,Blob:Ki.classes.Blob},validateStatus:function(N){return N>=200&&N<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nt.forEach(["delete","get","head","post","put","patch"],M=>{yr.headers[M]={}});const kr=yr,fr=nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),co=Symbol("internals");function to(M){return M&&String(M).trim().toLowerCase()}function Yr(M){return!1===M||null==M?M:nt.isArray(M)?M.map(Yr):String(M)}function Oi(M,N,h,I,E){if(nt.isFunction(I))return I.call(this,N,h);if(E&&(N=h),nt.isString(N)){if(nt.isString(I))return-1!==N.indexOf(I);if(nt.isRegExp(I))return I.test(N)}}class Br{constructor(N){N&&this.set(N)}set(N,h,I){const E=this;function H(Ye,Ot,Bt){const qt=to(Ot);if(!qt)throw new Error("header name must be a non-empty string");const $n=nt.findKey(E,qt);(!$n||void 0===E[$n]||!0===Bt||void 0===Bt&&!1!==E[$n])&&(E[$n||Ot]=Yr(Ye))}const Q=(Ye,Ot)=>nt.forEach(Ye,(Bt,qt)=>H(Bt,qt,Ot));if(nt.isPlainObject(N)||N instanceof this.constructor)Q(N,h);else if(nt.isString(N)&&(N=N.trim())&&!(M=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(M.trim()))(N))Q((M=>{const N={};let h,I,E;return M&&M.split("\n").forEach(function(Q){E=Q.indexOf(":"),h=Q.substring(0,E).trim().toLowerCase(),I=Q.substring(E+1).trim(),!(!h||N[h]&&fr[h])&&("set-cookie"===h?N[h]?N[h].push(I):N[h]=[I]:N[h]=N[h]?N[h]+", "+I:I)}),N})(N),h);else if(nt.isHeaders(N))for(const[Ye,Ot]of N.entries())H(Ot,Ye,I);else null!=N&&H(h,N,I);return this}get(N,h){if(N=to(N)){const I=nt.findKey(this,N);if(I){const E=this[I];if(!h)return E;if(!0===h)return function ho(M){const N=Object.create(null),h=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let I;for(;I=h.exec(M);)N[I[1]]=I[2];return N}(E);if(nt.isFunction(h))return h.call(this,E,I);if(nt.isRegExp(h))return h.exec(E);throw new TypeError("parser must be boolean|regexp|function")}}}has(N,h){if(N=to(N)){const I=nt.findKey(this,N);return!(!I||void 0===this[I]||h&&!Oi(0,this[I],I,h))}return!1}delete(N,h){const I=this;let E=!1;function H(Q){if(Q=to(Q)){const Ye=nt.findKey(I,Q);Ye&&(!h||Oi(0,I[Ye],Ye,h))&&(delete I[Ye],E=!0)}}return nt.isArray(N)?N.forEach(H):H(N),E}clear(N){const h=Object.keys(this);let I=h.length,E=!1;for(;I--;){const H=h[I];(!N||Oi(0,this[H],H,N,!0))&&(delete this[H],E=!0)}return E}normalize(N){const h=this,I={};return nt.forEach(this,(E,H)=>{const Q=nt.findKey(I,H);if(Q)return h[Q]=Yr(E),void delete h[H];const Ye=N?function Ei(M){return M.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(N,h,I)=>h.toUpperCase()+I)}(H):String(H).trim();Ye!==H&&delete h[H],h[Ye]=Yr(E),I[Ye]=!0}),this}concat(...N){return this.constructor.concat(this,...N)}toJSON(N){const h=Object.create(null);return nt.forEach(this,(I,E)=>{null!=I&&!1!==I&&(h[E]=N&&nt.isArray(I)?I.join(", "):I)}),h}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([N,h])=>N+": "+h).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(N){return N instanceof this?N:new this(N)}static concat(N,...h){const I=new this(N);return h.forEach(E=>I.set(E)),I}static accessor(N){const I=(this[co]=this[co]={accessors:{}}).accessors,E=this.prototype;function H(Q){const Ye=to(Q);I[Ye]||(function di(M,N){const h=nt.toCamelCase(" "+N);["get","set","has"].forEach(I=>{Object.defineProperty(M,I+h,{value:function(E,H,Q){return this[I].call(this,N,E,H,Q)},configurable:!0})})}(E,Q),I[Ye]=!0)}return nt.isArray(N)?N.forEach(H):H(N),this}}Br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),nt.reduceDescriptors(Br.prototype,({value:M},N)=>{let h=N[0].toUpperCase()+N.slice(1);return{get:()=>M,set(I){this[h]=I}}}),nt.freezeMethods(Br);const Dr=Br;function no(M,N){const h=this||kr,I=N||h,E=Dr.from(I.headers);let H=I.data;return nt.forEach(M,function(Ye){H=Ye.call(h,H,E.normalize(),N?N.status:void 0)}),E.normalize(),H}function We(M){return!(!M||!M.__CANCEL__)}function tt(M,N,h){at.call(this,null==M?"canceled":M,at.ERR_CANCELED,N,h),this.name="CanceledError"}nt.inherits(tt,at,{__CANCEL__:!0});const ht=tt;function Rt(M,N,h){const I=h.config.validateStatus;h.status&&I&&!I(h.status)?N(new at("Request failed with status code "+h.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h)):M(h)}const sn=(M,N,h=3)=>{let I=0;const E=function rt(M,N){M=M||10;const h=new Array(M),I=new Array(M);let Q,E=0,H=0;return N=void 0!==N?N:1e3,function(Ot){const Bt=Date.now(),qt=I[H];Q||(Q=Bt),h[E]=Ot,I[E]=Bt;let $n=H,hi=0;for(;$n!==E;)hi+=h[$n++],$n%=M;if(E=(E+1)%M,E===H&&(H=(H+1)%M),Bt-Q<N)return;const Ci=qt&&Bt-qt;return Ci?Math.round(1e3*hi/Ci):void 0}}(50,250);return function Yt(M,N){let E,H,h=0,I=1e3/N;const Q=(Bt,qt=Date.now())=>{h=qt,E=null,H&&(clearTimeout(H),H=null),M.apply(null,Bt)};return[(...Bt)=>{const qt=Date.now(),$n=qt-h;$n>=I?Q(Bt,qt):(E=Bt,H||(H=setTimeout(()=>{H=null,Q(E)},I-$n)))},()=>E&&Q(E)]}(H=>{const Q=H.loaded,Ye=H.lengthComputable?H.total:void 0,Ot=Q-I,Bt=E(Ot);I=Q,M({loaded:Q,total:Ye,progress:Ye?Q/Ye:void 0,bytes:Ot,rate:Bt||void 0,estimated:Bt&&Ye&&Q<=Ye?(Ye-Q)/Bt:void 0,event:H,lengthComputable:null!=Ye,[N?"download":"upload"]:!0})},h)},jn=(M,N)=>{const h=null!=M;return[I=>N[0]({lengthComputable:h,total:M,loaded:I}),N[1]]},oi=M=>(...N)=>nt.asap(()=>M(...N)),An=Ki.hasStandardBrowserEnv?function(){const N=Ki.navigator&&/(msie|trident)/i.test(Ki.navigator.userAgent),h=document.createElement("a");let I;function E(H){let Q=H;return N&&(h.setAttribute("href",Q),Q=h.href),h.setAttribute("href",Q),{href:h.href,protocol:h.protocol?h.protocol.replace(/:$/,""):"",host:h.host,search:h.search?h.search.replace(/^\?/,""):"",hash:h.hash?h.hash.replace(/^#/,""):"",hostname:h.hostname,port:h.port,pathname:"/"===h.pathname.charAt(0)?h.pathname:"/"+h.pathname}}return I=E(window.location.href),function(Q){const Ye=nt.isString(Q)?E(Q):Q;return Ye.protocol===I.protocol&&Ye.host===I.host}}():function(){return!0},gr=Ki.hasStandardBrowserEnv?{write(M,N,h,I,E,H){const Q=[M+"="+encodeURIComponent(N)];nt.isNumber(h)&&Q.push("expires="+new Date(h).toGMTString()),nt.isString(I)&&Q.push("path="+I),nt.isString(E)&&Q.push("domain="+E),!0===H&&Q.push("secure"),document.cookie=Q.join("; ")},read(M){const N=document.cookie.match(new RegExp("(^|;\\s*)("+M+")=([^;]*)"));return N?decodeURIComponent(N[3]):null},remove(M){this.write(M,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Mi(M,N){return M&&!function lr(M){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(M)}(N)?function fo(M,N){return N?M.replace(/\/?\/$/,"")+"/"+N.replace(/^\/+/,""):M}(M,N):N}const Ir=M=>M instanceof Dr?{...M}:M;function mr(M,N){N=N||{};const h={};function I(Bt,qt,$n){return nt.isPlainObject(Bt)&&nt.isPlainObject(qt)?nt.merge.call({caseless:$n},Bt,qt):nt.isPlainObject(qt)?nt.merge({},qt):nt.isArray(qt)?qt.slice():qt}function E(Bt,qt,$n){return nt.isUndefined(qt)?nt.isUndefined(Bt)?void 0:I(void 0,Bt,$n):I(Bt,qt,$n)}function H(Bt,qt){if(!nt.isUndefined(qt))return I(void 0,qt)}function Q(Bt,qt){return nt.isUndefined(qt)?nt.isUndefined(Bt)?void 0:I(void 0,Bt):I(void 0,qt)}function Ye(Bt,qt,$n){return $n in N?I(Bt,qt):$n in M?I(void 0,Bt):void 0}const Ot={url:H,method:H,data:H,baseURL:Q,transformRequest:Q,transformResponse:Q,paramsSerializer:Q,timeout:Q,timeoutMessage:Q,withCredentials:Q,withXSRFToken:Q,adapter:Q,responseType:Q,xsrfCookieName:Q,xsrfHeaderName:Q,onUploadProgress:Q,onDownloadProgress:Q,decompress:Q,maxContentLength:Q,maxBodyLength:Q,beforeRedirect:Q,transport:Q,httpAgent:Q,httpsAgent:Q,cancelToken:Q,socketPath:Q,responseEncoding:Q,validateStatus:Ye,headers:(Bt,qt)=>E(Ir(Bt),Ir(qt),!0)};return nt.forEach(Object.keys(Object.assign({},M,N)),function(qt){const $n=Ot[qt]||E,hi=$n(M[qt],N[qt],qt);nt.isUndefined(hi)&&$n!==Ye||(h[qt]=hi)}),h}const io=M=>{const N=mr({},M);let Ot,{data:h,withXSRFToken:I,xsrfHeaderName:E,xsrfCookieName:H,headers:Q,auth:Ye}=N;if(N.headers=Q=Dr.from(Q),N.url=ai(Mi(N.baseURL,N.url),M.params,M.paramsSerializer),Ye&&Q.set("Authorization","Basic "+btoa((Ye.username||"")+":"+(Ye.password?unescape(encodeURIComponent(Ye.password)):""))),nt.isFormData(h))if(Ki.hasStandardBrowserEnv||Ki.hasStandardBrowserWebWorkerEnv)Q.setContentType(void 0);else if(!1!==(Ot=Q.getContentType())){const[Bt,...qt]=Ot?Ot.split(";").map($n=>$n.trim()).filter(Boolean):[];Q.setContentType([Bt||"multipart/form-data",...qt].join("; "))}if(Ki.hasStandardBrowserEnv&&(I&&nt.isFunction(I)&&(I=I(N)),I||!1!==I&&An(N.url))){const Bt=E&&H&&gr.read(H);Bt&&Q.set(E,Bt)}return N},To=typeof XMLHttpRequest<"u"&&function(M){return new Promise(function(h,I){const E=io(M);let H=E.data;const Q=Dr.from(E.headers).normalize();let qt,$n,hi,Ci,pi,{responseType:Ye,onUploadProgress:Ot,onDownloadProgress:Bt}=E;function rr(){Ci&&Ci(),pi&&pi(),E.cancelToken&&E.cancelToken.unsubscribe(qt),E.signal&&E.signal.removeEventListener("abort",qt)}let li=new XMLHttpRequest;function Co(){if(!li)return;const Er=Dr.from("getAllResponseHeaders"in li&&li.getAllResponseHeaders());Rt(function(Do){h(Do),rr()},function(Do){I(Do),rr()},{data:Ye&&"text"!==Ye&&"json"!==Ye?li.response:li.responseText,status:li.status,statusText:li.statusText,headers:Er,config:M,request:li}),li=null}li.open(E.method.toUpperCase(),E.url,!0),li.timeout=E.timeout,"onloadend"in li?li.onloadend=Co:li.onreadystatechange=function(){!li||4!==li.readyState||0===li.status&&(!li.responseURL||0!==li.responseURL.indexOf("file:"))||setTimeout(Co)},li.onabort=function(){li&&(I(new at("Request aborted",at.ECONNABORTED,M,li)),li=null)},li.onerror=function(){I(new at("Network Error",at.ERR_NETWORK,M,li)),li=null},li.ontimeout=function(){let _o=E.timeout?"timeout of "+E.timeout+"ms exceeded":"timeout exceeded";E.timeoutErrorMessage&&(_o=E.timeoutErrorMessage),I(new at(_o,(E.transitional||er).clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,M,li)),li=null},void 0===H&&Q.setContentType(null),"setRequestHeader"in li&&nt.forEach(Q.toJSON(),function(_o,es){li.setRequestHeader(es,_o)}),nt.isUndefined(E.withCredentials)||(li.withCredentials=!!E.withCredentials),Ye&&"json"!==Ye&&(li.responseType=E.responseType),Bt&&([hi,pi]=sn(Bt,!0),li.addEventListener("progress",hi)),Ot&&li.upload&&([$n,Ci]=sn(Ot),li.upload.addEventListener("progress",$n),li.upload.addEventListener("loadend",Ci)),(E.cancelToken||E.signal)&&(qt=Er=>{li&&(I(!Er||Er.type?new ht(null,M,li):Er),li.abort(),li=null)},E.cancelToken&&E.cancelToken.subscribe(qt),E.signal&&(E.signal.aborted?qt():E.signal.addEventListener("abort",qt)));const Jr=function Qt(M){const N=/^([-+\w]{1,25})(:?\/\/|:)/.exec(M);return N&&N[1]||""}(E.url);Jr&&-1===Ki.protocols.indexOf(Jr)?I(new at("Unsupported protocol "+Jr+":",at.ERR_BAD_REQUEST,M)):li.send(H||null)})},jr=(M,N)=>{const{length:h}=M=M?M.filter(Boolean):[];if(N||h){let E,I=new AbortController;const H=function(Bt){if(!E){E=!0,Ye();const qt=Bt instanceof Error?Bt:this.reason;I.abort(qt instanceof at?qt:new ht(qt instanceof Error?qt.message:qt))}};let Q=N&&setTimeout(()=>{Q=null,H(new at(`timeout ${N} of ms exceeded`,at.ETIMEDOUT))},N);const Ye=()=>{M&&(Q&&clearTimeout(Q),Q=null,M.forEach(Bt=>{Bt.unsubscribe?Bt.unsubscribe(H):Bt.removeEventListener("abort",H)}),M=null)};M.forEach(Bt=>Bt.addEventListener("abort",H));const{signal:Ot}=I;return Ot.unsubscribe=()=>nt.asap(Ye),Ot}};function $i(M,N){this.v=M,this.k=N}function Ue(M){var N,h;function I(H,Q){try{var Ye=M[H](Q),Ot=Ye.value,Bt=Ot instanceof $i;Promise.resolve(Bt?Ot.v:Ot).then(function(qt){if(Bt){var $n="return"===H?"return":"next";if(!Ot.k||qt.done)return I($n,qt);qt=M[$n](qt).value}E(Ye.done?"return":"normal",qt)},function(qt){I("throw",qt)})}catch(qt){E("throw",qt)}}function E(H,Q){switch(H){case"return":N.resolve({value:Q,done:!0});break;case"throw":N.reject(Q);break;default:N.resolve({value:Q,done:!1})}(N=N.next)?I(N.key,N.arg):h=null}this._invoke=function(H,Q){return new Promise(function(Ye,Ot){var Bt={key:H,arg:Q,resolve:Ye,reject:Ot,next:null};h?h=h.next=Bt:(N=h=Bt,I(H,Q))})},"function"!=typeof M.return&&(this.return=void 0)}function ot(M){return function(){return new Ue(M.apply(this,arguments))}}function wt(M){return new $i(M,0)}function Wt(M){var N={},h=!1;function I(E,H){return h=!0,{done:!1,value:new $i(H=new Promise(function(Q){Q(M[E](H))}),1)}}return N[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},N.next=function(E){return h?(h=!1,E):I("next",E)},"function"==typeof M.throw&&(N.throw=function(E){if(h)throw h=!1,E;return I("throw",E)}),"function"==typeof M.return&&(N.return=function(E){return h?(h=!1,E):I("return",E)}),N}function Gt(M){var N,h,I,E=2;for(typeof Symbol<"u"&&(h=Symbol.asyncIterator,I=Symbol.iterator);E--;){if(h&&null!=(N=M[h]))return N.call(M);if(I&&null!=(N=M[I]))return new cn(N.call(M));h="@@asyncIterator",I="@@iterator"}throw new TypeError("Object is not async iterable")}function cn(M){function N(h){if(Object(h)!==h)return Promise.reject(new TypeError(h+" is not an object."));var I=h.done;return Promise.resolve(h.value).then(function(E){return{value:E,done:I}})}return(cn=function(I){this.s=I,this.n=I.next}).prototype={s:null,n:null,next:function(){return N(this.n.apply(this.s,arguments))},return:function(I){var E=this.s.return;return void 0===E?Promise.resolve({value:I,done:!0}):N(E.apply(this.s,arguments))},throw:function(I){var E=this.s.return;return void 0===E?Promise.reject(I):N(E.apply(this.s,arguments))}},new cn(M)}Ue.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ue.prototype.next=function(M){return this._invoke("next",M)},Ue.prototype.throw=function(M){return this._invoke("throw",M)},Ue.prototype.return=function(M){return this._invoke("return",M)};const Fn=function*(M,N){let h=M.byteLength;if(!N||h<N)return void(yield M);let E,I=0;for(;I<h;)E=I+N,yield M.slice(I,E),I=E},Tn=function(){var M=ot(function*(N,h){var H,I=!1,E=!1;try{for(var Ye,Q=Gt(Vn(N));I=!(Ye=yield wt(Q.next())).done;I=!1){const Ot=Ye.value;yield*Wt(Gt(Fn(Ot,h)))}}catch(Ot){E=!0,H=Ot}finally{try{I&&null!=Q.return&&(yield wt(Q.return()))}finally{if(E)throw H}}});return function(h,I){return M.apply(this,arguments)}}(),Vn=function(){var M=ot(function*(N){if(N[Symbol.asyncIterator])return void(yield*Wt(Gt(N)));const h=N.getReader();try{for(;;){const{done:I,value:E}=yield wt(h.read());if(I)break;yield E}}finally{yield wt(h.cancel())}});return function(h){return M.apply(this,arguments)}}(),wn=(M,N,h,I)=>{const E=Tn(M,N);let Q,H=0,Ye=Ot=>{Q||(Q=!0,I&&I(Ot))};return new ReadableStream({pull:Ot=>(0,y.Z)(function*(){try{const{done:Bt,value:qt}=yield E.next();if(Bt)return Ye(),void Ot.close();if(h){let hi=H+=qt.byteLength;h(hi)}Ot.enqueue(new Uint8Array(qt))}catch(Bt){throw Ye(Bt),Bt}})(),cancel:Ot=>(Ye(Ot),E.return())},{highWaterMark:2})},ei="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Yi=ei&&"function"==typeof ReadableStream,_i=ei&&("function"==typeof TextEncoder?(M=>N=>M.encode(N))(new TextEncoder):function(){var M=(0,y.Z)(function*(N){return new Uint8Array(yield new Response(N).arrayBuffer())});return function(N){return M.apply(this,arguments)}}()),mi=(M,...N)=>{try{return!!M(...N)}catch(h){return!1}},Tr=Yi&&mi(()=>{let M=!1;const N=new Request(Ki.origin,{body:new ReadableStream,method:"POST",get duplex(){return M=!0,"half"}}).headers.has("Content-Type");return M&&!N}),sr=Yi&&mi(()=>nt.isReadableStream(new Response("").body)),xr={stream:sr&&(M=>M.body)};ei&&(M=>{["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!xr[N]&&(xr[N]=nt.isFunction(M[N])?h=>h[N]():(h,I)=>{throw new at(`Response type '${N}' is not supported`,at.ERR_NOT_SUPPORT,I)})})})(new Response);const wi=function(){var M=(0,y.Z)(function*(N){return null==N?0:nt.isBlob(N)?N.size:nt.isSpecCompliantForm(N)?(yield new Request(Ki.origin,{method:"POST",body:N}).arrayBuffer()).byteLength:nt.isArrayBufferView(N)||nt.isArrayBuffer(N)?N.byteLength:(nt.isURLSearchParams(N)&&(N+=""),nt.isString(N)?(yield _i(N)).byteLength:void 0)});return function(h){return M.apply(this,arguments)}}(),br=function(){var M=(0,y.Z)(function*(N,h){const I=nt.toFiniteNumber(N.getContentLength());return null==I?wi(h):I});return function(h,I){return M.apply(this,arguments)}}(),Bi={http:null,xhr:To,fetch:ei&&function(){var M=(0,y.Z)(function*(N){let{url:h,method:I,data:E,signal:H,cancelToken:Q,timeout:Ye,onDownloadProgress:Ot,onUploadProgress:Bt,responseType:qt,headers:$n,withCredentials:hi="same-origin",fetchOptions:Ci}=io(N);qt=qt?(qt+"").toLowerCase():"text";let rr,pi=jr([H,Q&&Q.toAbortSignal()],Ye);const li=pi&&pi.unsubscribe&&(()=>{pi.unsubscribe()});let Co;try{if(Bt&&Tr&&"get"!==I&&"head"!==I&&0!==(Co=yield br($n,E))){let Do,Fo=new Request(h,{method:"POST",body:E,duplex:"half"});if(nt.isFormData(E)&&(Do=Fo.headers.get("content-type"))&&$n.setContentType(Do),Fo.body){const[fs,ts]=jn(Co,sn(oi(Bt)));E=wn(Fo.body,65536,fs,ts)}}nt.isString(hi)||(hi=hi?"include":"omit");const Jr="credentials"in Request.prototype;rr=new Request(h,{...Ci,signal:pi,method:I.toUpperCase(),headers:$n.normalize().toJSON(),body:E,duplex:"half",credentials:Jr?hi:void 0});let Er=yield fetch(rr);const _o=sr&&("stream"===qt||"response"===qt);if(sr&&(Ot||_o&&li)){const Fo={};["status","statusText","headers"].forEach(ss=>{Fo[ss]=Er[ss]});const Do=nt.toFiniteNumber(Er.headers.get("content-length")),[fs,ts]=Ot&&jn(Do,sn(oi(Ot),!0))||[];Er=new Response(wn(Er.body,65536,fs,()=>{ts&&ts(),li&&li()}),Fo)}qt=qt||"text";let es=yield xr[nt.findKey(xr,qt)||"text"](Er,N);return!_o&&li&&li(),yield new Promise((Fo,Do)=>{Rt(Fo,Do,{data:es,headers:Dr.from(Er.headers),status:Er.status,statusText:Er.statusText,config:N,request:rr})})}catch(Jr){throw li&&li(),Jr&&"TypeError"===Jr.name&&/fetch/i.test(Jr.message)?Object.assign(new at("Network Error",at.ERR_NETWORK,N,rr),{cause:Jr.cause||Jr}):at.from(Jr,Jr&&Jr.code,N,rr)}});return function(N){return M.apply(this,arguments)}}()};nt.forEach(Bi,(M,N)=>{if(M){try{Object.defineProperty(M,"name",{value:N})}catch(h){}Object.defineProperty(M,"adapterName",{value:N})}});const Mr=M=>`- ${M}`,Gr=M=>nt.isFunction(M)||null===M||!1===M,vr={getAdapter:M=>{M=nt.isArray(M)?M:[M];const{length:N}=M;let h,I;const E={};for(let H=0;H<N;H++){let Q;if(h=M[H],I=h,!Gr(h)&&(I=Bi[(Q=String(h)).toLowerCase()],void 0===I))throw new at(`Unknown adapter '${Q}'`);if(I)break;E[Q||"#"+H]=I}if(!I){const H=Object.entries(E).map(([Ye,Ot])=>`adapter ${Ye} `+(!1===Ot?"is not supported by the environment":"is not available in the build"));let Q=N?H.length>1?"since :\n"+H.map(Mr).join("\n"):" "+Mr(H[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+Q,"ERR_NOT_SUPPORT")}return I},adapters:Bi};function go(M){if(M.cancelToken&&M.cancelToken.throwIfRequested(),M.signal&&M.signal.aborted)throw new ht(null,M)}function lo(M){return go(M),M.headers=Dr.from(M.headers),M.data=no.call(M,M.transformRequest),-1!==["post","put","patch"].indexOf(M.method)&&M.headers.setContentType("application/x-www-form-urlencoded",!1),vr.getAdapter(M.adapter||kr.adapter)(M).then(function(I){return go(M),I.data=no.call(M,M.transformResponse,I),I.headers=Dr.from(I.headers),I},function(I){return We(I)||(go(M),I&&I.response&&(I.response.data=no.call(M,M.transformResponse,I.response),I.response.headers=Dr.from(I.response.headers))),Promise.reject(I)})}const So="1.7.7",eo={};["object","boolean","number","function","string","symbol"].forEach((M,N)=>{eo[M]=function(I){return typeof I===M||"a"+(N<1?"n ":" ")+M}});const qr={};eo.transitional=function(N,h,I){function E(H,Q){return"[Axios v"+So+"] Transitional option '"+H+"'"+Q+(I?". "+I:"")}return(H,Q,Ye)=>{if(!1===N)throw new at(E(Q," has been removed"+(h?" in "+h:"")),at.ERR_DEPRECATED);return h&&!qr[Q]&&(qr[Q]=!0,console.warn(E(Q," has been deprecated since v"+h+" and will be removed in the near future"))),!N||N(H,Q,Ye)}};const yo={assertOptions:function xi(M,N,h){if("object"!=typeof M)throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const I=Object.keys(M);let E=I.length;for(;E-- >0;){const H=I[E],Q=N[H];if(Q){const Ye=M[H],Ot=void 0===Ye||Q(Ye,H,M);if(!0!==Ot)throw new at("option "+H+" must be "+Ot,at.ERR_BAD_OPTION_VALUE)}else if(!0!==h)throw new at("Unknown option "+H,at.ERR_BAD_OPTION)}},validators:eo},Vr=yo.validators;class ro{constructor(N){this.defaults=N,this.interceptors={request:new Vi,response:new Vi}}request(N,h){var I=this;return(0,y.Z)(function*(){try{return yield I._request(N,h)}catch(E){if(E instanceof Error){let H;Error.captureStackTrace?Error.captureStackTrace(H={}):H=new Error;const Q=H.stack?H.stack.replace(/^.+\n/,""):"";try{E.stack?Q&&!String(E.stack).endsWith(Q.replace(/^.+\n.+\n/,""))&&(E.stack+="\n"+Q):E.stack=Q}catch(Ye){}}throw E}})()}_request(N,h){"string"==typeof N?(h=h||{}).url=N:h=N||{},h=mr(this.defaults,h);const{transitional:I,paramsSerializer:E,headers:H}=h;void 0!==I&&yo.assertOptions(I,{silentJSONParsing:Vr.transitional(Vr.boolean),forcedJSONParsing:Vr.transitional(Vr.boolean),clarifyTimeoutError:Vr.transitional(Vr.boolean)},!1),null!=E&&(nt.isFunction(E)?h.paramsSerializer={serialize:E}:yo.assertOptions(E,{encode:Vr.function,serialize:Vr.function},!0)),h.method=(h.method||this.defaults.method||"get").toLowerCase();let Q=H&&nt.merge(H.common,H[h.method]);H&&nt.forEach(["delete","get","head","post","put","patch","common"],pi=>{delete H[pi]}),h.headers=Dr.concat(Q,H);const Ye=[];let Ot=!0;this.interceptors.request.forEach(function(rr){"function"==typeof rr.runWhen&&!1===rr.runWhen(h)||(Ot=Ot&&rr.synchronous,Ye.unshift(rr.fulfilled,rr.rejected))});const Bt=[];this.interceptors.response.forEach(function(rr){Bt.push(rr.fulfilled,rr.rejected)});let qt,hi,$n=0;if(!Ot){const pi=[lo.bind(this),void 0];for(pi.unshift.apply(pi,Ye),pi.push.apply(pi,Bt),hi=pi.length,qt=Promise.resolve(h);$n<hi;)qt=qt.then(pi[$n++],pi[$n++]);return qt}hi=Ye.length;let Ci=h;for($n=0;$n<hi;){const pi=Ye[$n++],rr=Ye[$n++];try{Ci=pi(Ci)}catch(li){rr.call(this,li);break}}try{qt=lo.call(this,Ci)}catch(pi){return Promise.reject(pi)}for($n=0,hi=Bt.length;$n<hi;)qt=qt.then(Bt[$n++],Bt[$n++]);return qt}getUri(N){return ai(Mi((N=mr(this.defaults,N)).baseURL,N.url),N.params,N.paramsSerializer)}}nt.forEach(["delete","get","head","options"],function(N){ro.prototype[N]=function(h,I){return this.request(mr(I||{},{method:N,url:h,data:(I||{}).data}))}}),nt.forEach(["post","put","patch"],function(N){function h(I){return function(H,Q,Ye){return this.request(mr(Ye||{},{method:N,headers:I?{"Content-Type":"multipart/form-data"}:{},url:H,data:Q}))}}ro.prototype[N]=h(),ro.prototype[N+"Form"]=h(!0)});const Hr=ro;class Po{constructor(N){if("function"!=typeof N)throw new TypeError("executor must be a function.");let h;this.promise=new Promise(function(H){h=H});const I=this;this.promise.then(E=>{if(!I._listeners)return;let H=I._listeners.length;for(;H-- >0;)I._listeners[H](E);I._listeners=null}),this.promise.then=E=>{let H;const Q=new Promise(Ye=>{I.subscribe(Ye),H=Ye}).then(E);return Q.cancel=function(){I.unsubscribe(H)},Q},N(function(H,Q,Ye){I.reason||(I.reason=new ht(H,Q,Ye),h(I.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(N){this.reason?N(this.reason):this._listeners?this._listeners.push(N):this._listeners=[N]}unsubscribe(N){if(!this._listeners)return;const h=this._listeners.indexOf(N);-1!==h&&this._listeners.splice(h,1)}toAbortSignal(){const N=new AbortController,h=I=>{N.abort(I)};return this.subscribe(h),N.signal.unsubscribe=()=>this.unsubscribe(h),N.signal}static source(){let N;return{token:new Po(function(E){N=E}),cancel:N}}}const Lo=Po,No={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(No).forEach(([M,N])=>{No[N]=M});const Go=No,Xr=function ko(M){const N=new Hr(M),h=J(Hr.prototype.request,N);return nt.extend(h,Hr.prototype,N,{allOwnKeys:!0}),nt.extend(h,N,null,{allOwnKeys:!0}),h.create=function(E){return ko(mr(M,E))},h}(kr);Xr.Axios=Hr,Xr.CanceledError=ht,Xr.CancelToken=Lo,Xr.isCancel=We,Xr.VERSION=So,Xr.toFormData=_t,Xr.AxiosError=at,Xr.Cancel=Xr.CanceledError,Xr.all=function(N){return Promise.all(N)},Xr.spread=function wr(M){return function(h){return M.apply(null,h)}},Xr.isAxiosError=function $o(M){return nt.isObject(M)&&!0===M.isAxiosError},Xr.mergeConfig=mr,Xr.AxiosHeaders=Dr,Xr.formToJSON=M=>Eo(nt.isHTMLForm(M)?new FormData(M):M),Xr.getAdapter=vr.getAdapter,Xr.HttpStatusCode=Go,Xr.default=Xr;const Bo=Xr;var zo=R(3692);class Zr{constructor(){}static encode(N){return N?(0,window.btoa)(encodeURIComponent(N).replace(/%([0-9A-F]{2})/g,function(E,H){return String.fromCharCode(parseInt("0x"+H,16))})):null}static decode(N){if(!N)return null;const h=window.atob;return decodeURIComponent(h(N).split("").map(I=>"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)).join(""))}}class Qo{constructor(N,h){if(this.storageKey=h,this.version="0.1",this.storage=N||window.localStorage,!this.storage)throw new Error("fidj.LocalStorageFactory needs a storageService!")}set(N,h){this.checkKey(N=this.storageKey+N);const I=typeof h;if("undefined"===I)h="null";else if(null===h)h="null";else if("string"===I)h=JSON.stringify({string:h});else if("number"===I)h=JSON.stringify({number:h});else if("boolean"===I)h=JSON.stringify({bool:h});else{if("object"!==I)throw new TypeError("Value type "+I+" is invalid. It must be null, undefined, xml, string, number, boolean or object");h=JSON.stringify({json:h})}return this.storage.setItem(N,h),h}get(N,h){this.checkKey(N=this.storageKey+N);const I=this.storage.getItem(N);if(null!==I){if("null"===I)return null;const E=JSON.parse(I);return"string"in E?E.string:"number"in E?E.number.valueOf():"bool"in E?E.bool.valueOf():E.json}return h||null}remove(N){this.checkKey(N=this.storageKey+N);const h=null!==this.storage.getItem(N);return this.storage.removeItem(N),h}clear(){const N=this.storage.length>0;return this.storage.clear(),N}size(){return this.storage.length}foreach(N,h){const I=this.storage.length;for(let E=0;E<I;E++){const H=this.storage.key(E),Q=this.get(H);h?N.call(h,Q):N(Q)}return I}checkKey(N){if(!N||"string"!=typeof N)throw new TypeError("Key type must be string");return!0}}let Xo=(()=>{class M{constructor(){}static encrypt(h,I){let E="";h=M.header+h;for(let H=0;H<h.length;H++)E+=String.fromCharCode(h[H].charCodeAt(0).toString(10)^M.keyCharAt(I,H));return E=Zr.encode(E),E}static decrypt(h,I,E){let H="";h=Zr.decode(h);for(let Q=0;Q<h.length;Q++)H+=String.fromCharCode(h[Q].charCodeAt(0).toString(10)^M.keyCharAt(I,Q));return E||M.header===H.substring(0,M.header.length)?(E||(H=H.substring(M.header.length)),H):null}static keyCharAt(h,I){return h[Math.floor(I%h.length)].charCodeAt(0).toString(10)}}return M.header="artemis-lotsum",M})();var Xi=(()=>(function(M){M[M.INFO=1]="INFO",M[M.WARN=2]="WARN",M[M.ERROR=3]="ERROR",M[M.NONE=4]="NONE"}(Xi||(Xi={})),Xi))();let G=class{constructor(N,h){this.code=N,this.reason=h}equals(N){return this.code===N.code&&this.reason===N.reason}toString(){const N="string"==typeof this.reason?this.reason:JSON.stringify(this.reason);return this.code+" - "+N}},be=(()=>{class M{constructor(){}}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=K.oAB({type:M}),M.\u0275inj=K.cJS({imports:[z.ez]}),M})();class et{constructor(N,h,I){this.id=N,this.type=h,this.data=I}}class ct{constructor(N,h,I,E){this.username=N,this.accessToken=h,this.idToken=I,this.refreshToken=E}}class Et{constructor(N,h,I,E){this.id=N,this.username=h,this.roles=I}}var Ft=(()=>(function(M){M[M.UNKNOWN=0]="UNKNOWN",M[M.TIMEOUT=1]="TIMEOUT",M[M.STATUS=2]="STATUS"}(Ft||(Ft={})),Ft))();class Ht{constructor(){this.xhr=Bo}static formatResponseData(N){let h=N;for(;h&&h.data;)h=h.data;try{h=JSON.parse(h+"")}catch(I){}return h}static formatError(N){const h={reason:Ft.UNKNOWN,status:-1,code:-1,message:""};return N.status&&(h.reason=Ft.STATUS,h.status=parseInt(N.status,10),h.code=parseInt(N.status,10)),N.response?(h.message=N.response,N.response.status?(h.reason=Ft.STATUS,h.status=parseInt(N.response.status,10),h.code=parseInt(N.response.status,10)):null===N.response.status&&(h.reason=Ft.TIMEOUT,h.status=408,h.code=408)):N.request?h.message=N.request:N.message&&(h.message=N.message),h}post(N){const h={method:"POST",url:N.url,data:JSON.stringify(N.data)};N.headers&&(h.headers=N.headers);const I={headers:h.headers};return N.timeout&&(I.timeout=N.timeout),this.xhr.post(h.url,h.data,I).then(E=>E.status&&(parseInt(E.status,10)<200||parseInt(E.status,10)>=300)?Promise.reject(Ht.formatError(E)):Promise.resolve(Ht.formatResponseData(E))).catch(E=>Promise.reject(Ht.formatError(E)))}put(N){const h={method:"PUT",url:N.url,data:JSON.stringify(N.data)};N.headers&&(h.headers=N.headers);const I={headers:h.headers};return N.timeout&&(I.timeout=N.timeout),this.xhr.put(h.url,h.data,I).then(E=>E.status&&(parseInt(E.status,10)<200||parseInt(E.status,10)>=300)?Promise.reject(Ht.formatError(E)):Promise.resolve(Ht.formatResponseData(E))).catch(E=>Promise.reject(Ht.formatError(E)))}delete(N){const h={method:"DELETE",url:N.url,data:JSON.stringify(N.data)};N.headers&&(h.headers=N.headers);const I={headers:h.headers};return N.timeout&&(I.timeout=N.timeout),this.xhr.delete(h.url,I).then(E=>E.status&&(parseInt(E.status,10)<200||parseInt(E.status,10)>=300)?Promise.reject(Ht.formatError(E)):Promise.resolve(Ht.formatResponseData(E))).catch(E=>Promise.reject(Ht.formatError(E)))}get(N){const h={method:"GET",url:N.url};N.data&&(h.data=N.data),N.headers&&(h.headers=N.headers);const I={headers:h.headers};return N.timeout&&(I.timeout=N.timeout),this.xhr.get(h.url,I).then(E=>E.status&&(parseInt(E.status,10)<200||parseInt(E.status,10)>=300)?Promise.reject(Ht.formatError(E)):Promise.resolve(Ht.formatResponseData(E))).catch(E=>Promise.reject(Ht.formatError(E)))}}class rn{constructor(N,h,I,E){this.appId=N,this.URI=h,this.storage=I,this.sdk=E;let H=this.storage.get(rn._clientUuid)||"uuid-"+Math.random(),Q="_clientInfo";typeof window<"u"&&window.navigator&&(Q=window.navigator.appName+"@"+window.navigator.appVersion+"-"+window.navigator.userAgent),typeof window<"u"&&window.device&&window.device.uuid&&(H=window.device.uuid),this.setClientUuid(H),this.setClientInfo(Q),this.clientId=this.storage.get(rn._clientId),rn.refreshCount=this.storage.get(rn._refreshCount)||rn.refreshCountInitial}setClientId(N){this.clientId=""+N,this.storage.set(rn._clientId,this.clientId)}setClientUuid(N){this.clientUuid=""+N,this.storage.set(rn._clientUuid,this.clientUuid)}setClientInfo(N){this.clientInfo=""+N}login(N,h,I){var E=this;return(0,y.Z)(function*(){if(!E.URI)return console.error("no api uri"),Promise.reject({code:408,reason:"no-api-uri"});const H=E.URI+"/users",Q={name:N,username:N,email:N,password:h};yield(new Ht).post({url:H,data:Q,headers:{"Content-Type":"application/json",Accept:"application/json"}}),E.setClientId(N);const Ot=E.URI+"/apps/"+E.appId+"/tokens",Bt={grant_type:"access_token",client_udid:E.clientUuid,client_info:E.clientInfo,scope:JSON.stringify(E.sdk)},qt=(yield(new Ht).post({url:Ot,data:Bt,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Basic "+Zr.encode(N+":"+h)}})).token;Bt.grant_type="id_token";const $n=(yield(new Ht).post({url:Ot,data:Bt,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+qt.data}})).token;Bt.grant_type="refresh_token";const hi=(yield(new Ht).post({url:Ot,data:Bt,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+qt.data}})).token;return new ct(N,qt,$n,hi)})()}reAuthenticate(N){var h=this;return(0,y.Z)(function*(){if(!h.URI)return console.error("no api uri"),Promise.reject({code:408,reason:"no-api-uri"});const I=h.URI+"/apps/"+h.appId+"/tokens",E={grant_type:"refresh_token",client_udid:h.clientUuid,client_info:h.clientInfo,scope:JSON.stringify(h.sdk),refresh_token:N,refreshCount:rn.refreshCount},H=yield(new Ht).post({url:I,data:E,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+N}});return rn.refreshCount++,h.storage.set(rn._refreshCount,rn.refreshCount),H})()}logout(N){if(!this.URI)return console.error("no api uri"),Promise.reject({code:408,reason:"no-api-uri"});if(this.storage.remove(rn._clientId),this.storage.remove(rn._refreshCount),rn.refreshCount=rn.refreshCountInitial,!N||!this.clientId)return Promise.resolve();const h=this.URI+"/apps/"+this.appId+"/tokens";return(new Ht).delete({url:h,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+N}})}isReady(){return!!this.URI}}rn.refreshCountInitial=1,rn.refreshCount=rn.refreshCountInitial,rn._clientUuid="v2.clientUuid",rn._clientId="v2.clientId",rn._refreshCount="v2.refreshCount";let Mn=(()=>{class M{constructor(h,I,E){this._sdk=h,this._storage=I,this._logger=E,this.client=null,this.user=null,this.cryptoSalt=this._storage.get(M._cryptoSalt)||null,this.cryptoSaltNext=this._storage.get(M._cryptoSaltNext)||null,this.accessToken=this._storage.get(M._accessToken)||null,this.accessTokenPrevious=this._storage.get("v2.accessTokenPrevious")||null,this.idToken=this._storage.get(M._idToken)||null,this.refreshToken=this._storage.get(M._refreshToken)||null,this.states=this._storage.get(M._states)||{},this.apis=[]}isReady(){return!!this.client&&this.client.isReady()}destroy(h){var I=this;return(0,y.Z)(function*(){I._storage.remove(M._accessToken),I._storage.remove(M._idToken),I._storage.remove(M._refreshToken),I._storage.remove(M._states),I.accessToken&&(I.accessTokenPrevious=I.accessToken,I._storage.set(M._accessTokenPrevious,I.accessTokenPrevious)),h&&(I._storage.remove(M._cryptoSalt),I._storage.remove(M._cryptoSaltNext),I._storage.remove(M._accessTokenPrevious)),I.user=null,I.client&&(yield I.client.logout()),I.accessToken=null,I.idToken=null,I.refreshToken=null,I.states={}})()}setClient(h){this.client=h}setUser(h){this.user=h,this.client&&this.user.id&&this.client.setClientId(this.user.id)}getUser(){return this.user}getClient(){return this.client}setCryptoSalt(h){this.cryptoSalt!==h&&this.cryptoSaltNext!==h&&(this.cryptoSaltNext=h,this._storage.set(M._cryptoSaltNext,this.cryptoSaltNext)),this.cryptoSalt||this.setCryptoSaltAsVerified()}setCryptoSaltAsVerified(){this.cryptoSaltNext&&(this.cryptoSalt=this.cryptoSaltNext,this._storage.set(M._cryptoSalt,this.cryptoSalt)),this.cryptoSaltNext=null,this._storage.remove(M._cryptoSaltNext)}encrypt(h){return h="string"!=typeof h?JSON.stringify(h):JSON.stringify({string:h}),this.fidjCrypto&&this.cryptoSalt?Xo.encrypt(h,this.cryptoSalt):h}decrypt(h){let I=null;try{this.fidjCrypto&&this.cryptoSaltNext&&(I=Xo.decrypt(h,this.cryptoSaltNext),I=JSON.parse(I))}catch(E){I=null}try{!I&&this.fidjCrypto&&this.cryptoSalt&&(I=Xo.decrypt(h,this.cryptoSalt),I=JSON.parse(I))}catch(E){I=null}try{!I&&this.fidjCrypto&&this.cryptoSalt&&(I=Xo.decrypt(h,this.cryptoSalt,!0),I=JSON.parse(I))}catch(E){I=null}try{I||(I=JSON.parse(h)),I&&I.string&&(I=I.string)}catch(E){I=null}return I}isLogin(){let h=!0;try{const I=this.refreshToken.split(".")[1],E=JSON.parse(Zr.decode(I));h=(new Date).getTime()/1e3>=E.exp}catch(I){}return!h}logout(){var h=this;return(0,y.Z)(function*(){return h.getClient().logout(h.refreshToken)})()}getClientId(){return this.client?this.client.clientId:null}getIdToken(){var h=this;return(0,y.Z)(function*(){return h.idToken})()}getIdPayload(h){var I=this;return(0,y.Z)(function*(){const E=yield I.getIdToken();try{let H;if(E&&(H=E.split(".")[1]),H)return Zr.decode(H)}catch(H){I._logger.log("fidj.connection.getIdPayload pb: ",h,H)}return h?("string"!=typeof h&&(h=JSON.stringify(h)),h):null})()}getAccessPayload(h){var I=this;return(0,y.Z)(function*(){h&&"string"!=typeof h&&(h=JSON.stringify(h));try{const E=I.accessToken.split(".")[1];if(E)return Zr.decode(E)}catch(E){}return h||null})()}getPreviousAccessPayload(h){h&&"string"!=typeof h&&(h=JSON.stringify(h));try{const I=this.accessTokenPrevious.split(".")[1];if(I)return Zr.decode(I)}catch(I){}return h||null}refreshConnection(){var h=this;return(0,y.Z)(function*(){if(h._storage.set(M._states,h.states),h.accessToken){const Ot=h.accessToken.split(".")[1],Bt=Zr.decode(Ot),qt=(new Date).getTime()/1e3<JSON.parse(Bt).exp;if(h._logger.log("fidj.connection.connection.refreshConnection : token not expired ? ",qt),qt)return Promise.resolve(h.getUser())}if(h.refreshToken){const Ot=h.refreshToken.split(".")[1],Bt=Zr.decode(Ot),qt=(new Date).getTime()/1e3>=JSON.parse(Bt).exp;h._logger.log("fidj.connection.connection.refreshConnection : refreshToken not expired ? ",qt),qt&&h._storage.remove(M._refreshToken)}if(h.accessTokenPrevious=h.accessToken,h._storage.set("v2.accessTokenPrevious",h.accessTokenPrevious),h._storage.remove(M._accessToken),h._storage.remove(M._idToken),h.accessToken=null,h.idToken=null,h._logger.log("fidj.connection.connection.refreshConnection : refresh authentication."),!h.getClient())throw new G(400,"Need an initialized client.");const E=yield h.getClient().reAuthenticate(h.refreshToken),H=new et(h.getClientId(),"idToken",h.idToken),Q=new et(h.getClientId(),"accessToken",h.accessToken),Ye=new ct(h.getClientId(),H,Q,E);return yield h.setConnection(Ye),h.getUser()})()}setConnection(h){var I=this;return(0,y.Z)(function*(){if(h.accessToken){I.accessToken=h.accessToken.data,I._storage.set(M._accessToken,I.accessToken);const H=JSON.parse(yield I.getAccessPayload({salt:""})).salt;H&&I.setCryptoSalt(H)}h.idToken&&(I.idToken=h.idToken.data,I._storage.set(M._idToken,I.idToken)),h.refreshToken&&(I.refreshToken=h.refreshToken.data,I._storage.set(M._refreshToken,I.refreshToken)),I._storage.set(M._states,I.states);const E=new Et(h.username,h.username,JSON.parse(yield I.getIdPayload({roles:[]})).roles,JSON.parse(yield I.getIdPayload({message:""})).message);I.setUser(E)})()}setConnectionOffline(h){var I=this;return(0,y.Z)(function*(){h.accessToken&&(I.accessToken=h.accessToken,I._storage.set(M._accessToken,I.accessToken)),h.idToken&&(I.idToken=h.idToken,I._storage.set(M._idToken,I.idToken)),h.refreshToken&&(I.refreshToken=h.refreshToken,I._storage.set(M._refreshToken,I.refreshToken)),I.setUser(new Et("demo","demo",JSON.parse(yield I.getIdPayload({roles:[]})).roles,JSON.parse(yield I.getIdPayload({message:""})).message))})()}getApiEndpoints(h){var I=this;return(0,y.Z)(function*(){let E=[{key:"fidj.default",url:"https://api.fidj.ovh/v3",blocked:!1}],H=[];if(I._sdk.prod||(E=[{key:"fidj.default",url:"http://localhost:3201/v3",blocked:!1},{key:"fidj.default",url:"https://sandbox.api.fidj.ovh/v3",blocked:!1}]),I.accessToken){const Ye=yield I.getAccessPayload({apis:[]}),Ot=JSON.parse(Ye).apis;Ot&&Ot.length&&(E=[],Ot.forEach(Bt=>{Bt.url&&E.push(Bt)}))}if(I.accessTokenPrevious){const Ye=JSON.parse(I.getPreviousAccessPayload({apis:[]})).apis;Ye&&Ye.length&&Ye.forEach(Ot=>{Ot.url&&0===E.filter(Bt=>Bt.url===Ot.url).length&&E.push(Ot)})}I._logger.log("fidj.sdk.connection.getApiEndpoints : ",E);let Q=!0;if(I.states&&Object.keys(I.states).length)for(let Ye=0;Ye<E.length&&Q;Ye++)I.states[E[Ye].url]||(Q=!1);else Q=!1;if(h&&h.filter)if(Q&&"theBestOne"===h.filter)for(let Ye=0;Ye<E.length&&0===H.length;Ye++){const Ot=E[Ye];I.states[Ot.url]&&I.states[Ot.url].state&&H.push(Ot)}else if(Q&&"theBestOldOne"===h.filter){let Ye;for(let Ot=0;Ot<E.length;Ot++){const Bt=E[Ot];I.states[Bt.url]&&I.states[Bt.url].lastTimeWasOk&&(!Ye||I.states[Bt.url].lastTimeWasOk>I.states[Ye.url].lastTimeWasOk)&&(Ye=Bt)}Ye&&H.push(Ye)}else E.length&&H.push(E[0]);else H=E;return H})()}getDBs(h){var I=this;return(0,y.Z)(function*(){if(!I.accessToken)return[];const E=Math.random()%2;let H=JSON.parse(yield I.getAccessPayload({dbs:[]})).dbs||[];0===E?H=H.sort():1===E&&(H=H.reverse());let Q=[],Ye=!0;if(I.states&&Object.keys(I.states).length)for(let Ot=0;Ot<H.length&&Ye;Ot++)I.states[H[Ot].url]||(Ye=!1);else Ye=!1;if(Ye&&h&&"theBestOne"===h.filter)for(let Ot=0;Ot<H.length&&0===Q.length;Ot++){const Bt=H[Ot];I.states[Bt.url]&&I.states[Bt.url].state&&Q.push(Bt)}else if(Ye&&h&&"theBestOnes"===h.filter)for(let Ot=0;Ot<H.length;Ot++){const Bt=H[Ot];I.states[Bt.url]&&I.states[Bt.url].state&&Q.push(Bt)}else h&&"theBestOne"===h.filter&&H.length?Q.push(H[0]):Q=H;return Q})()}verifyApiState(h,I){var E=this;return(0,y.Z)(function*(){try{E._logger.log("fidj.sdk.connection.verifyApiState : ",h,I);const H=yield(new Ht).get({url:I+"/status?isOk="+E._sdk.version,headers:{"Content-Type":"application/json",Accept:"application/json"}});let Q=!1;H&&H.isOk&&(Q=!0),E.states[I]={state:Q,time:h,lastTimeWasOk:h},E._logger.log("fidj.sdk.connection.verifyApiState > states : ",E.states)}catch(H){let Q=0;E.states[I]&&(Q=E.states[I].lastTimeWasOk),E.states[I]={state:!1,time:h,lastTimeWasOk:Q},E._logger.log("fidj.sdk.connection.verifyApiState > catch pb  - states : ",H,E.states)}})()}verifyDbState(h,I){var E=this;return(0,y.Z)(function*(){try{yield(new Ht).get({url:I,headers:{"Content-Type":"application/json",Accept:"application/json"}}),E.states[I]={state:!0,time:h,lastTimeWasOk:h}}catch(H){let Q=0;E.states[I]&&(Q=E.states[I].lastTimeWasOk),E.states[I]={state:!1,time:h,lastTimeWasOk:Q}}})()}verifyConnectionStates(){var h=this;return(0,y.Z)(function*(){const I=(new Date).getTime(),E=[];return h.apis=yield h.getApiEndpoints(),h.apis.forEach(Q=>{let Ye=Q.url;Ye||(Ye=Q.toString()),E.push(h.verifyApiState(I,Ye))}),(yield h.getDBs()).forEach(Q=>{let Ye=Q.url;Ye||(Ye=Q.toString()),E.push(h.verifyDbState(I,Ye))}),Promise.all(E)})()}}return M._accessToken="v2.accessToken",M._accessTokenPrevious="v2.accessTokenPrevious",M._idToken="v2.idToken",M._refreshToken="v2.refreshToken",M._states="v2.states",M._cryptoSalt="v2.cryptoSalt",M._cryptoSaltNext="v2.cryptoSalt.next",M})();class Ii{constructor(){this.db=null,this.dbRecordCount=0,this.dbLastSync=null,this.remoteDb=null,this.dbs=[]}isReady(){return!!this.db}create(N,h){return!h&&this.db||(this.dbRecordCount=0,this.dbLastSync=null,this.db=null,N=N||"default"),Promise.resolve(this.db)}destroy(){var N=this;return(0,y.Z)(function*(){return N.db?N.db&&!N.db.destroy?Promise.reject(new G(408,"Need a valid db")):new Promise((h,I)=>{N.db.destroy((E,H)=>{E?I(new G(500,E)):(N.dbRecordCount=0,N.dbLastSync=null,N.db=null,h())})}):(N.dbRecordCount=0,void(N.dbLastSync=null))})()}setRemote(N){this.dbs=N}sync(N){return this.db?this.dbs&&this.dbs.length?new Promise((h,I)=>{try{return}catch(E){I(new G(500,E))}}):Promise.reject(new G(408,"need a remote db")):Promise.reject(new G(408,"need db"))}put(N,h,I,E,H,Q){if(!this.db)return Promise.reject(new G(408,"need db"));if(!(N&&h&&I&&E&&H))return Promise.reject(new G(400,"need formated data"));const Ye=JSON.parse(JSON.stringify(N)),Ot={_id:h,fidjUserId:I,fidjOrgId:E,fidjAppVersion:H};Ye._rev&&(Ot._rev=""+Ye._rev),delete Ye._id,delete Ye._rev,delete Ye.fidjUserId,delete Ye.fidjOrgId,delete Ye.fidjAppVersion,delete Ye.fidjData;let Bt=Ii.write(Ii.value(Ye));return Q?(Bt=Q.obj[Q.method](Bt),Ot.fidjDacr=Bt):Ot.fidjData=Bt,new Promise((qt,$n)=>{this.db.put(Ot,(hi,Ci)=>{Ci&&Ci.ok&&Ci.id&&Ci.rev?(this.dbRecordCount++,"object"==typeof N?(N._rev=Ci.rev,N._id=Ci.id,qt(N)):qt(Ci.id)):$n(new G(500,hi))})})}remove(N){return this.db?new Promise((h,I)=>{this.db.get(N).then(E=>(E._deleted=!0,this.db.put(E))).then(E=>{h()}).catch(E=>{I(E)})}):Promise.reject(new G(408,"need db"))}get(N,h){return this.db?new Promise((I,E)=>{this.db.get(N).then(H=>{if(H&&(H.fidjDacr||H.fidjData)){let Q=H.fidjDacr;h&&Q?Q=h.obj[h.method](Q):H.fidjData&&(Q=JSON.parse(H.fidjData));const Ye=Ii.extractJson(Q);Ye?(Ye._id=H._id,Ye._rev=H._rev,I(JSON.parse(JSON.stringify(Ye)))):(this.remove(H._id),E(new G(400,"Bad encoding")))}else E(new G(400,"No data found"))}).catch(H=>E(new G(500,H)))}):Promise.reject(new G(408,"Need db"))}getAll(N){return this.db&&this.db.allDocs?new Promise((h,I)=>{this.db.allDocs({include_docs:!0,descending:!0}).then(E=>{const H=[];E.rows.forEach(Q=>{if(Q&&Q.doc._id&&(Q.doc.fidjDacr||Q.doc.fidjData)){let Ye=Q.doc.fidjDacr;N&&Ye?Ye=N.obj[N.method](Ye):Q.doc.fidjData&&(Ye=JSON.parse(Q.doc.fidjData));const Ot=Ii.extractJson(Ye);Ot?(Ot._id=Q.doc._id,Ot._rev=Q.doc._rev,H.push(JSON.parse(JSON.stringify(Ot)))):(console.error("Bad encoding : delete row"),this.remove(Q.doc._id))}else console.error("Bad encoding")}),h(H)}).catch(E=>I(new G(400,E)))}):Promise.reject(new G(408,"Need a valid db"))}isEmpty(){return this.db&&this.db.allDocs?new Promise((N,h)=>{this.db.allDocs({}).then(I=>{I?(this.dbRecordCount=I.total_rows,N(!(I.total_rows&&I.total_rows>0))):h(new G(400,"No response"))}).catch(I=>h(new G(400,I)))}):Promise.reject(new G(408,"No db"))}info(){return this.db?this.db.info():Promise.reject(new G(408,"No db"))}static write(N){let h="null";const I=typeof N;return"undefined"===I||null===h?h="null":"string"===I?h=JSON.stringify({string:N}):"number"===I?h=JSON.stringify({number:N}):"boolean"===I?h=JSON.stringify({bool:N}):"object"===I&&(h=JSON.stringify({json:N})),h}static value(N){let h=N;return"object"!=typeof N||("string"in N?h=N.string:"number"in N?h=N.number.valueOf():"bool"in N?h=N.bool.valueOf():"json"in N&&(h=N.json,"object"!=typeof h&&(h=JSON.parse(h)))),h}static extractJson(N){let h=N;return N?("object"==typeof N&&"json"in N&&(h=N.json),"string"==typeof h&&(h=JSON.parse(h)),"object"==typeof h&&"json"in h&&(h=h.json),"object"!=typeof h&&(h=null),h):null}}class Xn{constructor(N){this.level=N,N||(this.level=Xi.ERROR),typeof console>"u"&&(this.level=Xi.NONE)}log(N,h){this.level===Xi.INFO&&console.log(N,h)}warn(N,h){(this.level===Xi.INFO||this.level===Xi.WARN)&&console.warn(N,h)}error(N,h){(this.level===Xi.INFO||this.level===Xi.WARN||this.level===Xi.ERROR)&&console.error(N,h)}setLevel(N){this.level=N}}let ye=(()=>{class M{constructor(h,I,E){let H;this.sdk={org:"fidj",version:"3.3.7",prod:!1,useDB:!0},I&&(this.promise=I),this.logger=h||new Xn,E&&E.logLevel&&this.logger.setLevel(E.logLevel),this.logger.log("fidj.sdk.service : constructor"),typeof window<"u"?H=window.localStorage:typeof global<"u"&&(R.e(4160).then(R.t.bind(R,4160,19)),H=global.localStorage),this.storage=new Qo(H,"fidj."),this.session=new Ii,this.connection=new Mn(this.sdk,this.storage,this.logger)}fidjInit(h,I){var E=this;return(0,y.Z)(function*(){if(E.logger.setLevel(I&&I.logLevel?I.logLevel:Xi.NONE),E.logger.log("fidj.sdk.service.fidjInit : ",I),!h)return E.logger.error("fidj.sdk.service.fidjInit : bad init"),E.promise.reject(new G(400,"Need a fidjId"));let H,Q;E.sdk.prod=!I||I.prod,E.sdk.useDB=!!I&&I.useDB,E.connection.fidjId=h,E.connection.fidjVersion=E.sdk.version,E.connection.fidjCrypto=!(!I||!I.hasOwnProperty("crypto"))&&I.crypto;try{yield E.connection.verifyConnectionStates(),H=yield E.connection.getApiEndpoints({filter:"theBestOne"}),Q=yield E.connection.getApiEndpoints({filter:"theBestOldOne"})}catch(qt){throw E.logger.error("fidj.sdk.service.fidjInit: ",qt),new G(500,qt.toString())}if(!H||!Q||0===H.length&&0===Q.length)throw new G(404,"Need one connection - or too old SDK version (check update)");let Ye=H[0],Ot=Q[0];const Bt=E.fidjIsLogin();E.logger.log("fidj.sdk.service.fidjInit > verifyConnectionStates : ",Ye,Ot,Bt),E.connection.setClient(new rn(E.connection.fidjId,Ye?Ye.url:Ot.url,E.storage,E.sdk))})()}fidjLogin(h,I){var E=this;return(0,y.Z)(function*(){if(E.logger.log("fidj.sdk.service.fidjLogin"),!E.connection.isReady())throw new G(404,"Need an initialized FidjService");try{yield E._removeAll(),yield E.connection.verifyConnectionStates(),yield E._createSession(E.connection.fidjId);const H=yield E._loginInternal(h,I);yield E.connection.setConnection(H)}catch(H){throw new G(500,H.toString())}if(!E.sdk.useDB)return E.connection.getUser();try{yield E.session.sync(E.connection.getClientId())}catch(H){E.logger.warn("fidj.sdk.service.fidjLogin: sync -not blocking- issue  ",H.toString())}return E.connection.getUser()})()}fidjLoginInDemoMode(h){var I=this;return(0,y.Z)(function*(){const E=I;if(!h||!h.accessToken){const H=new Date;H.setDate(H.getDate()+1);const Q=H.getTime(),Ye=Zr.encode(JSON.stringify({roles:[],message:"demo",apis:[],endpoints:[],dbs:[],exp:Q})),Ot=Zr.encode(JSON.stringify({})),Bt=Ot+"."+Ye+"."+Ot;h={accessToken:Bt,idToken:Bt,refreshToken:Bt}}return new E.promise((H,Q)=>{E._removeAll().then(()=>E._createSession(E.connection.fidjId)).then((0,y.Z)(function*(){yield E.connection.setConnectionOffline(h),H(E.connection.getUser())})).catch(Ye=>{E.logger.error("fidj.sdk.service.fidjLoginInDemoMode error: ",Ye),Q(Ye)})})})()}fidjIsLogin(){return this.connection.isLogin()}fidjGetEndpoints(h){var I=this;return(0,y.Z)(function*(){h||(h={showBlocked:!1});const E=yield I.connection.getAccessPayload({endpoints:[]});let H=JSON.parse(E).endpoints;return H&&Array.isArray(H)?(H=H.filter(Q=>{let Ye=!0;return Ye&&h.key&&(Ye=Q.key===h.key),Ye&&!h.showBlocked&&(Ye=!Q.blocked),Ye}),H):[]})()}fidjRoles(){var h=this;return(0,y.Z)(function*(){return JSON.parse(yield h.connection.getIdPayload({roles:[]})).roles})()}fidjMessage(){var h=this;return(0,y.Z)(function*(){return JSON.parse(yield h.connection.getIdPayload({message:""})).message})()}fidjLogout(h){var I=this;return(0,y.Z)(function*(){const E=I;return E.connection.getClient()||h?E.connection.logout().then(()=>E._removeAll()).catch(()=>E._removeAll()).then(()=>I.session.create(E.connection.fidjId,!0)):E._removeAll().then(()=>I.session.create(E.connection.fidjId,!0))})()}fidjSync(h,I){var E=this;return(0,y.Z)(function*(){const H=E;if(H.logger.log("fidj.sdk.service.fidjSync"),!H.sdk.useDB)return H.logger.log("fidj.sdk.service.fidjSync: you ar not using DB - no sync available."),Promise.resolve();const Q=null===H.session.dbLastSync;return new H.promise((Ye,Ot)=>{H._createSession(H.connection.fidjId).then(()=>H.session.sync(H.connection.getClientId())).then(()=>(H.logger.log("fidj.sdk.service.fidjSync resolved"),H.session.isEmpty())).catch(Bt=>(H.logger.warn("fidj.sdk.service.fidjSync warn: ",Bt),H.session.isEmpty())).then(Bt=>(H.logger.log("fidj.sdk.service.fidjSync isEmpty : ",Bt,Q),new H.promise((qt,$n)=>{if(Bt&&Q&&h){const hi=h(I);hi&&hi.catch instanceof Function&&hi.then(qt).catch(Ot),"string"==typeof hi&&H.logger.log(hi)}qt(null)}))).then(Bt=>(H.logger.log("fidj.sdk.service.fidjSync fnInitFirstData resolved: ",Bt),H.session.dbLastSync=(new Date).getTime(),H.session.info())).then(Bt=>(H.session.dbRecordCount=0,Bt&&Bt.doc_count&&(H.session.dbRecordCount=Bt.doc_count),H.logger.log("fidj.sdk.service.fidjSync _dbRecordCount : "+H.session.dbRecordCount),H.connection.refreshConnection())).then(Bt=>{H.logger.log("fidj.sdk.service.fidjSync refreshConnection done : ",Bt),Ye()}).catch(Bt=>{if(H.logger.warn("fidj.sdk.service.fidjSync refreshConnection failed : ",Bt),!Bt||403!==Bt.code&&410!==Bt.code)if(Bt&&Bt.code)Ye();else{const qt="Error during synchronisation: "+Bt.toString();H.logger.error(qt),Ot({code:500,reason:qt})}else E.fidjLogout().then(()=>{Ot({code:403,reason:"Synchronization unauthorized : need to login again."})}).catch(()=>{Ot({code:403,reason:"Synchronization unauthorized : need to login again.."})})})})})()}fidjPutInDb(h){var I=this;return(0,y.Z)(function*(){const E=I;if(E.logger.log("fidj.sdk.service.fidjPutInDb: ",h),!E.sdk.useDB)return E.logger.log("fidj.sdk.service.fidjPutInDb: you are not using DB - no put available."),Promise.resolve("NA");if(!E.connection.getClientId())return E.promise.reject(new G(401,"DB put impossible. Need a user logged in."));if(!E.session.isReady())return E.promise.reject(new G(400,"Need to be synchronised."));let H,Q;return h&&"object"==typeof h&&Object.keys(h).indexOf("_id")&&(H=h._id),H||(H=E._generateObjectUniqueId(E.connection.fidjId)),E.connection.fidjCrypto&&(Q={obj:E.connection,method:"encrypt"}),E.session.put(h,H,E.connection.getClientId(),E.sdk.org,E.connection.fidjVersion,Q)})()}fidjRemoveInDb(h){var I=this;return(0,y.Z)(function*(){const E=I;return E.logger.log("fidj.sdk.service.fidjRemoveInDb ",h),E.sdk.useDB?E.session.isReady()?h&&"string"==typeof h?E.session.remove(h):E.promise.reject(new G(400,"DB remove impossible. Need the data._id.")):E.promise.reject(new G(400,"Need to be synchronised.")):(E.logger.log("fidj.sdk.service.fidjRemoveInDb: you are not using DB - no remove available."),Promise.resolve())})()}fidjFindInDb(h){var I=this;return(0,y.Z)(function*(){const E=I;if(!E.sdk.useDB)return E.logger.log("fidj.sdk.service.fidjFindInDb: you are not using DB - no find available."),Promise.resolve();if(!E.connection.getClientId())return E.promise.reject(new G(401,"Find pb : need a user logged in."));if(!E.session.isReady())return E.promise.reject(new G(400," Need to be synchronised."));let H;return E.connection.fidjCrypto&&(H={obj:E.connection,method:"decrypt"}),E.session.get(h,H)})()}fidjFindAllInDb(){var h=this;return(0,y.Z)(function*(){const I=h;if(!I.sdk.useDB)return I.logger.log("fidj.sdk.service.fidjFindAllInDb: you are not using DB - no find available."),Promise.resolve([]);if(!I.connection.getClientId())return I.promise.reject(new G(401,"Need a user logged in."));if(!I.session.isReady())return I.promise.reject(new G(400,"Need to be synchronised."));let E;return I.connection.fidjCrypto&&(E={obj:I.connection,method:"decrypt"}),I.session.getAll(E).then(H=>(I.connection.setCryptoSaltAsVerified(),I.promise.resolve(H)))})()}fidjSendOnEndpoint(h){var I=this;return(0,y.Z)(function*(){const E=h.key?{key:h.key}:null,H=yield I.fidjGetEndpoints(E);if(!(h.defaultKeyUrl||H&&1===H.length))throw new G(400,"fidj.sdk.service.fidjSendOnEndpoint : endpoint does not exist.");let Q=H&&1===H.length?H[0].url:h.defaultKeyUrl;h.relativePath&&(Q=zo(Q,h.relativePath));const Ye=yield I.connection.getIdToken();let Ot;const Bt=new Ht;switch(h.verb){case"POST":Ot=Bt.post({url:Q,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+Ye},data:h.data?h.data:{},timeout:h.timeout});break;case"PUT":Ot=Bt.put({url:Q,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+Ye},data:h.data?h.data:{},timeout:h.timeout});break;case"DELETE":Ot=Bt.delete({url:Q,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+Ye},timeout:h.timeout});break;default:Ot=Bt.get({url:Q,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+Ye},timeout:h.timeout})}return Ot})()}fidjForgotPasswordRequest(h){var I=this;return(0,y.Z)(function*(){const E=yield I.connection.getApiEndpoints({filter:"theBestOne"});if(!E||1!==E.length)throw new G(400,"fidj.sdk.service.fidjForgotPasswordRequest : api endpoint does not exist.");yield(new Ht).post({url:E[0].url+"/me/forgot",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{email:h}})})()}fidjGetIdToken(){var h=this;return(0,y.Z)(function*(){return h.connection.getIdToken()})()}_loginInternal(h,I,E){var H=this;return(0,y.Z)(function*(){if(H.logger.log("fidj.sdk.service._loginInternal"),!H.connection.isReady())throw new G(403,"Need an initialized FidjService");let Q;yield H.connection.logout();try{Q=H.connection.getClient().login(h,I,E)}catch(Ye){Q=yield H.connection.getClient().login(h,I,E)}return Q})()}_removeAll(){var h=this;return(0,y.Z)(function*(){yield h.connection.destroy(),yield h.session.destroy()})()}_createSession(h){var I=this;return(0,y.Z)(function*(){const E=yield I.connection.getDBs({filter:"theBestOnes"});return(!E||0===E.length)&&I.logger.warn("Seems that you are in Demo mode or using Node (no remote DB)."),I.session.setRemote(E),I.session.create(h)})()}_testPromise(h){var I=this;return(0,y.Z)(function*(){return h?I.promise.resolve("test promise ok "+h):new I.promise((E,H)=>{E("test promise ok")})})()}_generateObjectUniqueId(h,I,E){const H=new Date,Q=""+H.getFullYear()+H.getMonth()+H.getDate()+H.getHours()+H.getMinutes(),Ye=++M._srvDataUniqId;let Ot="";return h&&h.charAt(0)&&(Ot+=h.charAt(0)+""),I&&I.length>3&&(Ot+=I.substring(0,4)),E&&E.length>3&&(Ot+=E.substring(0,4)),Ot+=Q+""+Ye,Ot}}return M._srvDataUniqId=0,M})(),oe=(()=>{class M{constructor(){this.logger=new Xn(Xi.ERROR),this.promise=Promise,this.fidjService=null}init(h,I){var E=this;return(0,y.Z)(function*(){return E.fidjService||(E.fidjService=new ye(E.logger,E.promise)),E.fidjService.fidjInit(h,I)})()}login(h,I){var E=this;return(0,y.Z)(function*(){return E.fidjService?E.fidjService.fidjLogin(h,I):E.promise.reject(new G(303,"fidj.sdk.angular.login : not initialized."))})()}loginAsDemo(h){var I=this;return(0,y.Z)(function*(){return I.fidjService?I.fidjService.fidjLoginInDemoMode(h):I.promise.reject(new G(303,"fidj.sdk.angular.loginAsDemo : not initialized."))})()}isLoggedIn(){return!!this.fidjService&&this.fidjService.fidjIsLogin()}getRoles(){var h=this;return(0,y.Z)(function*(){return h.fidjService?yield h.fidjService.fidjRoles():[]})()}getEndpoints(){var h=this;return(0,y.Z)(function*(){return h.fidjService?h.fidjService.fidjGetEndpoints():[]})()}sendOnEndpoint(h){var I=this;return(0,y.Z)(function*(){return I.fidjService?I.fidjService.fidjSendOnEndpoint(h):I.promise.reject(new G(303,"fidj.sdk.angular.loginAsDemo : not initialized."))})()}forgotPasswordRequest(h){var I=this;return(0,y.Z)(function*(){return I.fidjService?I.fidjService.fidjForgotPasswordRequest(h):I.promise.reject(new G(303,"fidj.sdk.angular.loginAsDemo : not initialized."))})()}getIdToken(){var h=this;return(0,y.Z)(function*(){if(h.fidjService)return h.fidjService.fidjGetIdToken()})()}getMessage(){var h=this;return(0,y.Z)(function*(){return h.fidjService?h.fidjService.fidjMessage():""})()}logout(h){var I=this;return(0,y.Z)(function*(){return h||!I.fidjService?I.promise.reject(new G(303,"fidj.sdk.angular.logout : not initialized.")):I.fidjService.fidjLogout(h)})()}sync(h){var I=this;return(0,y.Z)(function*(){return I.fidjService?I.fidjService.fidjSync(h,I):I.promise.reject(new G(401,"fidj.sdk.angular.sync : not initialized."))})()}put(h){var I=this;return(0,y.Z)(function*(){return I.fidjService?I.fidjService.fidjPutInDb(h):I.promise.reject(new G(401,"fidj.sdk.angular.put : not initialized."))})()}remove(h){var I=this;return(0,y.Z)(function*(){return I.fidjService?I.fidjService.fidjRemoveInDb(h):I.promise.reject(new G(401,"fidj.sdk.angular.remove : not initialized."))})()}find(h){var I=this;return(0,y.Z)(function*(){return I.fidjService?I.fidjService.fidjFindInDb(h):I.promise.reject(new G(401,"fidj.sdk.angular.find : not initialized."))})()}findAll(){var h=this;return(0,y.Z)(function*(){return h.fidjService?h.fidjService.fidjFindAllInDb():h.promise.reject(new G(401,"fidj.sdk.angular.findAll : not initialized."))})()}}return M.\u0275fac=function(h){return new(h||M)},M.\u0275prov=K.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},5861:(yt,U,R)=>{"use strict";function o(K,z,J,X,Z,Y,q){try{var ce=K[Y](q),ae=ce.value}catch(se){return void J(se)}ce.done?z(ae):Promise.resolve(ae).then(X,Z)}function y(K){return function(){var z=this,J=arguments;return new Promise(function(X,Z){var Y=K.apply(z,J);function q(ae){o(Y,X,Z,q,ce,"next",ae)}function ce(ae){o(Y,X,Z,q,ce,"throw",ae)}q(void 0)})}}R.d(U,{Z:()=>y})},7582:(yt,U,R)=>{"use strict";function J(we,Ve,Ie,Le){var Mt,gt=arguments.length,bt=gt<3?Ve:null===Le?Le=Object.getOwnPropertyDescriptor(Ve,Ie):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)bt=Reflect.decorate(we,Ve,Ie,Le);else for(var un=we.length-1;un>=0;un--)(Mt=we[un])&&(bt=(gt<3?Mt(bt):gt>3?Mt(Ve,Ie,bt):Mt(Ve,Ie))||bt);return gt>3&&bt&&Object.defineProperty(Ve,Ie,bt),bt}function se(we,Ve,Ie,Le){return new(Ie||(Ie=Promise))(function(bt,Mt){function un(Ct){try{tn(Le.next(Ct))}catch(st){Mt(st)}}function En(Ct){try{tn(Le.throw(Ct))}catch(st){Mt(st)}}function tn(Ct){Ct.done?bt(Ct.value):function gt(bt){return bt instanceof Ie?bt:new Ie(function(Mt){Mt(bt)})}(Ct.value).then(un,En)}tn((Le=Le.apply(we,Ve||[])).next())})}function qe(we){return this instanceof qe?(this.v=we,this):new qe(we)}function Oe(we,Ve,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,Le=Ie.apply(we,Ve||[]),bt=[];return gt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),un("next"),un("throw"),un("return",function Mt($t){return function(vn){return Promise.resolve(vn).then($t,st)}}),gt[Symbol.asyncIterator]=function(){return this},gt;function un($t,vn){Le[$t]&&(gt[$t]=function(Cn){return new Promise(function(bn,vi){bt.push([$t,Cn,bn,vi])>1||En($t,Cn)})},vn&&(gt[$t]=vn(gt[$t])))}function En($t,vn){try{!function tn($t){$t.value instanceof qe?Promise.resolve($t.value.v).then(Ct,st):nn(bt[0][2],$t)}(Le[$t](vn))}catch(Cn){nn(bt[0][3],Cn)}}function Ct($t){En("next",$t)}function st($t){En("throw",$t)}function nn($t,vn){$t(vn),bt.shift(),bt.length&&En(bt[0][0],bt[0][1])}}function Me(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Ve=we[Symbol.asyncIterator];return Ve?Ve.call(we):(we=function Ce(we){var Ve="function"==typeof Symbol&&Symbol.iterator,Ie=Ve&&we[Ve],Le=0;if(Ie)return Ie.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&Le>=we.length&&(we=void 0),{value:we&&we[Le++],done:!we}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),Ie={},Le("next"),Le("throw"),Le("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Le(bt){Ie[bt]=we[bt]&&function(Mt){return new Promise(function(un,En){!function gt(bt,Mt,un,En){Promise.resolve(En).then(function(tn){bt({value:tn,done:un})},Mt)}(un,En,(Mt=we[bt](Mt)).done,Mt.value)})}}}R.d(U,{FC:()=>Oe,KL:()=>Me,gn:()=>J,mG:()=>se,qq:()=>qe}),"function"==typeof SuppressedError&&SuppressedError}},yt=>{yt(yt.s=24)}]);
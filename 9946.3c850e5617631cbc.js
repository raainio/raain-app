"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9946],{9946:(P,u,c)=>{c.r(u),c.d(u,{EventsPageModule:()=>B});var l=c(6895),v=c(433),r=c(4556),p=c(1407),f=c(5861),e=c(8256),g=c(6568);let _=(()=>{var n;class a{transform(t){return t.filter(s=>s.red)}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"haveBeenRed",type:n,pure:!1}),a})(),h=(()=>{var n;class a{transform(t){return t.filter(s=>!s.red)}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"haveNotBeenRed",type:n,pure:!1}),a})();function Z(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"ion-card",5)(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"You are in a demo mode."),e.qZA()(),e.TgZ(4,"ion-card-content"),e._uU(5," Please contact our "),e.TgZ(6,"a",6),e._uU(7,"sales team @radartorain"),e.qZA(),e._uU(8," to go further. "),e.qZA(),e.TgZ(9,"ion-button",7),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.closeInfo("welcome-card"))}),e._uU(10,"Got it"),e.qZA()()}}function m(n,a){if(1&n){const i=e.EpF();e.TgZ(0,"ion-card",10),e.NdJ("click",function(){const s=e.CHM(i).$implicit,d=e.oxw(2);return e.KtG(d.clickOnEvent(s))}),e.TgZ(1,"ion-item"),e._UZ(2,"ion-icon",11),e.qZA(),e.TgZ(3,"ion-card-header")(4,"ion-card-title"),e._uU(5),e.qZA(),e.TgZ(6,"ion-card-subtitle"),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"ion-card-content"),e._uU(10),e.qZA()()}if(2&n){const i=a.$implicit;e.xp6(5),e.Oqu(i.title),e.xp6(2),e.Oqu(e.lcZ(8,3,i.created)),e.xp6(3),e.Oqu(i.description)}}function A(n,a){if(1&n&&(e.TgZ(0,"ion-card",12)(1,"ion-item"),e._UZ(2,"ion-icon",13),e.qZA(),e.TgZ(3,"ion-card-header")(4,"ion-card-title"),e._uU(5),e.qZA(),e.TgZ(6,"ion-card-subtitle"),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"ion-card-content"),e._uU(10),e.qZA(),e.TgZ(11,"ion-item",14)(12,"ion-button",15),e._uU(13,"Submit your feedback."),e.qZA()()()),2&n){const i=a.$implicit;e.xp6(5),e.Oqu(i.title),e.xp6(2),e.Oqu(e.lcZ(8,3,i.created)),e.xp6(3),e.Oqu(i.description)}}function R(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,m,11,5,"ion-card",8),e.ALo(2,"haveNotBeenRed"),e.YNc(3,A,14,5,"ion-card",9),e.ALo(4,"haveBeenRed"),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,i.notifications)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,4,i.notifications))}}let y=(()=>{var n;class a{constructor(t){this.profile=t,this.eventInfoAlreadyViewed={}}ngOnInit(){var t=this;return(0,f.Z)(function*(){yield t.refresh()})()}clickOnEvent(t){var o=this;return(0,f.Z)(function*(){t.red=!0,yield o.profile.storeAll()})()}closeInfo(t){var o=this;return(0,f.Z)(function*(){o.eventInfoAlreadyViewed[t]=!0,o.sessionData&&o.sessionData.infos&&(o.sessionData.infos.eventInfoAlreadyViewed=o.eventInfoAlreadyViewed,yield o.profile.storeAll())})()}refresh(t){var o=this;return(0,f.Z)(function*(){try{o.sessionData=yield o.profile.refreshProfile(),o.sessionData.infos.eventInfoAlreadyViewed&&(o.eventInfoAlreadyViewed=o.sessionData.infos.eventInfoAlreadyViewed);const s=yield o.profile.getRains(o.profile.asTeamId);o.notifications=[];for(const d of s){const T=yield o.profile.getNotifications(d.getId());o.notifications=o.notifications.concat(T)}}catch(s){console.error("refresh pb:",s)}t&&t.target.complete()})()}}return(n=a).\u0275fac=function(t){return new(t||n)(e.Y36(g.H))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-events"]],decls:12,vars:2,consts:[["slot","start"],["src","assets/icon/favicon.ico",2,"height","30px","padding-left","20px"],["slot","fixed",3,"ionRefresh"],["class","welcome-card",4,"ngIf"],[4,"ngIf"],[1,"welcome-card"],["href","mailto:sales@r2r"],["fill","outline",3,"click"],[3,"click",4,"ngFor","ngForOf"],["color","gray",4,"ngFor","ngForOf"],[3,"click"],["name","radio-button-off","slot","end"],["color","gray"],["color","success","name","checkmark-circle-outline","slot","end"],["disabled","true"],["disabled","true","slot","end"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-menu-button")(4,"ion-img",1),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6," Events "),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-refresher",2),e.NdJ("ionRefresh",function(d){return o.refresh(d)}),e._UZ(9,"ion-refresher-content"),e.qZA(),e.YNc(10,Z,11,0,"ion-card",3),e.YNc(11,R,5,6,"div",4),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngIf",!o.eventInfoAlreadyViewed.hasOwnProperty("welcome-card")),e.xp6(1),e.Q6J("ngIf",o.notifications))},dependencies:[l.sg,l.O5,r.YG,r.Sm,r.PM,r.FN,r.Zi,r.tO,r.Dq,r.W2,r.Gu,r.gu,r.Xz,r.Ie,r.fG,r.nJ,r.Wo,r.wd,r.sr,l.uU,_,h],styles:[".truncate[_ngcontent-%COMP%]{width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),a})(),B=(()=>{var n;class a{}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,v.u5,r.Pc,p.Bz.forChild([{path:"",component:y}])]}),a})()}}]);
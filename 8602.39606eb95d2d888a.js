"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8602],{8602:(b,f,c)=>{c.r(f),c.d(f,{HomePageModule:()=>Y});var m=c(6895),h=c(433),t=c(4556),g=c(1407),d=c(5861),i=c(8256);let u=(()=>{var o;class a{constructor(r,n){this.modalController=r,this.navParams=n}dismiss(){this.modalController.dismiss()}add(r,n,s){this.modalController.dismiss()}}return(o=a).\u0275fac=function(r){return new(r||o)(i.Y36(t.IN),i.Y36(t.X1))},o.\u0275cmp=i.Xpm({type:o,selectors:[["modal-page"]],inputs:{value:"value"},decls:6,vars:0,consts:[["padding",""]],template:function(r,n){1&r&&(i.TgZ(0,"ion-content",0)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),i._uU(4,"Connect your RadarToRain instance"),i.qZA()(),i._UZ(5,"ion-card-content"),i.qZA()())},dependencies:[t.PM,t.FN,t.Zi,t.Dq,t.W2],encapsulation:2}),a})();var Z=c(4948),p=c(8525),l=c(7227);function A(o,a){if(1&o&&(i.TgZ(0,"ion-badge",11),i._uU(1),i.ALo(2,"haveNotBeenRed"),i.qZA()),2&o){const e=i.oxw();i.xp6(1),i.hij("",i.lcZ(2,1,e.data.events).length," ")}}function x(o,a){if(1&o){const e=i.EpF();i.TgZ(0,"ion-card",12)(1,"ion-card-header")(2,"ion-card-title"),i._uU(3,"Welcome !"),i.qZA(),i.TgZ(4,"ion-card-subtitle"),i._uU(5,"You are in a demo mode. Please contact our "),i.TgZ(6,"a",13),i._uU(7,"sales team @radartorain"),i.qZA(),i._uU(8," to go further. "),i.qZA()(),i.TgZ(9,"ion-card-content")(10,"p"),i._uU(11,"Manage here your radar information status, AI dashboard, rain comparison status."),i.qZA()(),i.TgZ(12,"ion-button",14),i.NdJ("click",function(){i.CHM(e);const n=i.oxw();return i.KtG(n.closeInfo("welcome-card"))}),i._uU(13,"Got it"),i.qZA()()}}function P(o,a){1&o&&i._UZ(0,"ion-icon",21)}function T(o,a){1&o&&i._UZ(0,"ion-icon",22)}function I(o,a){if(1&o){const e=i.EpF();i.TgZ(0,"ion-item-sliding")(1,"ion-item",3),i.NdJ("click",function(){const s=i.CHM(e).$implicit,_=i.oxw(2);return i.KtG(_.clickOnRain(s))}),i.YNc(2,P,1,0,"ion-icon",16),i.ALo(3,"hasGoodQuality"),i.YNc(4,T,1,0,"ion-icon",17),i.ALo(5,"hasGoodQuality"),i._uU(6),i._UZ(7,"ion-progress-bar",18),i.ALo(8,"progressBuffer"),i.ALo(9,"progressValue"),i._UZ(10,"ion-icon",19)(11,"ion-icon",20),i.qZA()()}if(2&o){const e=a.$implicit;i.xp6(2),i.Q6J("ngIf",i.lcZ(3,5,e)),i.xp6(2),i.Q6J("ngIf",!i.lcZ(5,7,e)),i.xp6(2),i.hij(" ",e.name," "),i.xp6(1),i.s9C("buffer",i.lcZ(8,9,e)),i.s9C("value",i.lcZ(9,11,e))}}function y(o,a){if(1&o&&(i.TgZ(0,"ion-list"),i.YNc(1,I,12,13,"ion-item-sliding",15),i.ALo(2,"areReady"),i.qZA()),2&o){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,e.rains))}}function v(o,a){1&o&&i._UZ(0,"ion-icon",21)}function U(o,a){1&o&&i._UZ(0,"ion-icon",22)}function H(o,a){if(1&o){const e=i.EpF();i.TgZ(0,"ion-item-sliding")(1,"ion-item",3),i.NdJ("click",function(){const s=i.CHM(e).$implicit,_=i.oxw(2);return i.KtG(_.clickOnRain(s))}),i.YNc(2,v,1,0,"ion-icon",16),i.ALo(3,"hasGoodQuality"),i.YNc(4,U,1,0,"ion-icon",17),i.ALo(5,"hasGoodQuality"),i._uU(6),i._UZ(7,"ion-progress-bar",18),i.ALo(8,"progressBuffer"),i.ALo(9,"progressValue"),i._UZ(10,"ion-icon",23),i.qZA()()}if(2&o){const e=a.$implicit;i.xp6(2),i.Q6J("ngIf",i.lcZ(3,5,e)),i.xp6(2),i.Q6J("ngIf",!i.lcZ(5,7,e)),i.xp6(2),i.hij(" ",e.name," "),i.xp6(1),i.s9C("buffer",i.lcZ(8,9,e)),i.s9C("value",i.lcZ(9,11,e))}}function N(o,a){1&o&&i._UZ(0,"ion-icon",21)}function w(o,a){1&o&&i._UZ(0,"ion-icon",22)}function C(o,a){if(1&o){const e=i.EpF();i.TgZ(0,"ion-item-sliding")(1,"ion-item",3),i.NdJ("click",function(){const s=i.CHM(e).$implicit,_=i.oxw(2);return i.KtG(_.clickOnRain(s))}),i.YNc(2,N,1,0,"ion-icon",16),i.ALo(3,"hasGoodQuality"),i.YNc(4,w,1,0,"ion-icon",17),i.ALo(5,"hasGoodQuality"),i._uU(6),i._UZ(7,"ion-icon",24),i.qZA()()}if(2&o){const e=a.$implicit;i.xp6(2),i.Q6J("ngIf",i.lcZ(3,3,e)),i.xp6(2),i.Q6J("ngIf",!i.lcZ(5,5,e)),i.xp6(2),i.hij(" ",e.name," ")}}function J(o,a){if(1&o&&(i.TgZ(0,"ion-list"),i.YNc(1,H,11,13,"ion-item-sliding",15),i.ALo(2,"areInProgress"),i.YNc(3,C,8,7,"ion-item-sliding",15),i.ALo(4,"areStopped"),i.qZA()),2&o){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,2,e.rains)),i.xp6(2),i.Q6J("ngForOf",i.lcZ(4,4,e.rains))}}function q(o,a){if(1&o&&(i.TgZ(0,"ion-item-sliding")(1,"ion-item"),i._uU(2),i.qZA()()),2&o){const e=a.$implicit;i.xp6(2),i.AsE(" ",e.id," - ",e.name," ")}}function Q(o,a){if(1&o&&(i.TgZ(0,"ion-list"),i.YNc(1,q,3,2,"ion-item-sliding",15),i.qZA()),2&o){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.radars)}}let R=(()=>{var o;class a{constructor(r,n,s){this.router=r,this.modalController=n,this.profile=s,this.refreshInProgress=!1,this.homeInfoAlreadyViewed={},this.rains=[],this.radars=[],this.appVersion=Z.i,this.refresh()}ngAfterViewInit(){}closeInfo(r){var n=this;return(0,d.Z)(function*(){n.homeInfoAlreadyViewed[r]=!0,n.sessionData&&n.sessionData.infos&&(n.sessionData.infos.homeInfoAlreadyViewed=n.homeInfoAlreadyViewed,yield n.profile.storeAll())})()}clickOnNotifications(){var r=this;return(0,d.Z)(function*(){return r.router.navigate(["/events"])})()}clickOnRain(r){var n=this;return(0,d.Z)(function*(){return n.router.navigate(["/rains",r.id])})()}presentModal(){var r=this;return(0,d.Z)(function*(){const n=yield r.modalController.create({component:u,componentProps:{value:123}});yield n.present(),yield n.onDidDismiss()})()}refresh(r){var n=this;return(0,d.Z)(function*(){n.refreshInProgress=!0;try{n.sessionData=yield n.profile.refreshProfile(),n.sessionData.infos.homeInfoAlreadyViewed&&(n.homeInfoAlreadyViewed=n.sessionData.infos.homeInfoAlreadyViewed),n.rains=yield n.profile.getRains(n.profile.asTeamId),n.radars=yield n.profile.getLonelyRadars(n.rains)}catch(s){console.error("refresh pb:",s)}if(r&&r.target.complete(),n.refreshInProgress=!1,!n.profile.isLoggedIn())return n.router.navigate(["/login"])})()}}return(o=a).\u0275fac=function(r){return new(r||o)(i.Y36(g.F0),i.Y36(t.IN),i.Y36(p.H3))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-home"]],decls:36,vars:9,consts:[["slot","start"],["src","assets/icon/favicon.ico",2,"height","30px","padding-left","20px"],["slot","primary"],[3,"click"],["name","notifications-outline","slot","icon-only"],["color","danger",4,"ngIf"],[3,"hidden"],["type","indeterminate"],["slot","fixed",3,"ionRefresh"],["class","welcome-card",4,"ngIf"],[4,"ngIf"],["color","danger"],[1,"welcome-card"],["href","mailto:sales@r2r"],["fill","outline",3,"click"],[4,"ngFor","ngForOf"],["color","success","name","radio-button-off","slot","start",4,"ngIf"],["color","warning","name","radio-button-off","slot","start",4,"ngIf"],["color","primary",3,"buffer","value"],["color","primary","name","cloud-done","slot","end"],["color","primary","name","arrow-right","slot","end"],["color","success","name","radio-button-off","slot","start"],["color","warning","name","radio-button-off","slot","start"],["name","cloud-upload","slot","end"],["name","cloud-outline","slot","end"]],template:function(r,n){1&r&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),i._UZ(3,"ion-menu-button")(4,"ion-img",1),i.qZA(),i.TgZ(5,"ion-title"),i._uU(6," Dashboard "),i.qZA(),i.TgZ(7,"ion-buttons",2)(8,"ion-button",3),i.NdJ("click",function(){return n.clickOnNotifications()}),i._UZ(9,"ion-icon",4),i.qZA(),i.YNc(10,A,3,3,"ion-badge",5),i.ALo(11,"haveNotBeenRed"),i.qZA()(),i.TgZ(12,"div",6),i._UZ(13,"ion-progress-bar",7),i.qZA()(),i.TgZ(14,"ion-content")(15,"ion-refresher",8),i.NdJ("ionRefresh",function(_){return n.refresh(_)}),i._UZ(16,"ion-refresher-content"),i.qZA(),i.YNc(17,x,14,0,"ion-card",9),i.TgZ(18,"ion-card")(19,"ion-card-header")(20,"ion-card-title"),i._uU(21,"Ready"),i.qZA()(),i.YNc(22,y,3,3,"ion-list",10),i.qZA(),i.TgZ(23,"ion-card")(24,"ion-card-header")(25,"ion-card-title"),i._uU(26,"In progress"),i.qZA()(),i.YNc(27,J,5,6,"ion-list",10),i.qZA(),i.TgZ(28,"ion-card")(29,"ion-card-header")(30,"ion-card-title"),i._uU(31,"Radars available for rains computations"),i.qZA()(),i.YNc(32,Q,2,1,"ion-list",10),i.qZA(),i.TgZ(33,"ion-card")(34,"h5"),i._uU(35),i.qZA()()()),2&r&&(i.xp6(10),i.Q6J("ngIf",n.data&&i.lcZ(11,7,n.data.events).length),i.xp6(2),i.Q6J("hidden",!n.refreshInProgress),i.xp6(5),i.Q6J("ngIf",!n.homeInfoAlreadyViewed.hasOwnProperty("welcome-card")),i.xp6(5),i.Q6J("ngIf",n.rains),i.xp6(5),i.Q6J("ngIf",n.rains),i.xp6(5),i.Q6J("ngIf",n.radars),i.xp6(3),i.Oqu(n.appVersion))},dependencies:[m.sg,m.O5,t.yp,t.YG,t.Sm,t.PM,t.FN,t.Zi,t.tO,t.Dq,t.W2,t.Gu,t.gu,t.Xz,t.Ie,t.td,t.q_,t.fG,t.X7,t.nJ,t.Wo,t.wd,t.sr,l.UD,l.lB,l.vc,l.UA,l.$j,l.XW,l.pt],styles:[".welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.card-perf-bar[_ngcontent-%COMP%]{height:220px;min-width:180px}.card-perf-lines[_ngcontent-%COMP%]{min-width:250px}"]}),a})(),Y=(()=>{var o;class a{}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[m.ez,h.u5,t.Pc,p.m8,g.Bz.forChild([{path:"",component:R},{path:"new-instance",component:u}])]}),a})()}}]);